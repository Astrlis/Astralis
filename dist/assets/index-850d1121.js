var lhe=Object.defineProperty;var che=(e,t,r)=>t in e?lhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var nn=(e,t,r)=>(che(e,typeof t!="symbol"?t+"":t,r),r);function tZ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Mc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var rZ={exports:{}},K8={},nZ={exports:{}},In={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x4=Symbol.for("react.element"),uhe=Symbol.for("react.portal"),dhe=Symbol.for("react.fragment"),phe=Symbol.for("react.strict_mode"),hhe=Symbol.for("react.profiler"),fhe=Symbol.for("react.provider"),mhe=Symbol.for("react.context"),ghe=Symbol.for("react.forward_ref"),yhe=Symbol.for("react.suspense"),vhe=Symbol.for("react.memo"),_he=Symbol.for("react.lazy"),_V=Symbol.iterator;function bhe(e){return e===null||typeof e!="object"?null:(e=_V&&e[_V]||e["@@iterator"],typeof e=="function"?e:null)}var iZ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aZ=Object.assign,oZ={};function e2(e,t,r){this.props=e,this.context=t,this.refs=oZ,this.updater=r||iZ}e2.prototype.isReactComponent={};e2.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};e2.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sZ(){}sZ.prototype=e2.prototype;function TI(e,t,r){this.props=e,this.context=t,this.refs=oZ,this.updater=r||iZ}var MI=TI.prototype=new sZ;MI.constructor=TI;aZ(MI,e2.prototype);MI.isPureReactComponent=!0;var bV=Array.isArray,lZ=Object.prototype.hasOwnProperty,PI={current:null},cZ={key:!0,ref:!0,__self:!0,__source:!0};function uZ(e,t,r){var n,i={},s=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)lZ.call(t,n)&&!cZ.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var p=Array(a),f=0;f<a;f++)p[f]=arguments[f+2];i.children=p}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:x4,type:e,key:s,ref:l,props:i,_owner:PI.current}}function xhe(e,t){return{$$typeof:x4,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kI(e){return typeof e=="object"&&e!==null&&e.$$typeof===x4}function whe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xV=/\/+/g;function IE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?whe(""+e.key):t.toString(36)}function W3(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case x4:case uhe:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+IE(l,0):n,bV(i)?(r="",e!=null&&(r=e.replace(xV,"$&/")+"/"),W3(i,t,r,"",function(f){return f})):i!=null&&(kI(i)&&(i=xhe(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(xV,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",bV(e))for(var a=0;a<e.length;a++){s=e[a];var p=n+IE(s,a);l+=W3(s,t,r,p,i)}else if(p=bhe(e),typeof p=="function")for(e=p.call(e),a=0;!(s=e.next()).done;)s=s.value,p=n+IE(s,a++),l+=W3(s,t,r,p,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Mw(e,t,r){if(e==null)return e;var n=[],i=0;return W3(e,n,"","",function(s){return t.call(r,s,i++)}),n}function She(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var us={current:null},$3={transition:null},Ehe={ReactCurrentDispatcher:us,ReactCurrentBatchConfig:$3,ReactCurrentOwner:PI};In.Children={map:Mw,forEach:function(e,t,r){Mw(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Mw(e,function(){t++}),t},toArray:function(e){return Mw(e,function(t){return t})||[]},only:function(e){if(!kI(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};In.Component=e2;In.Fragment=dhe;In.Profiler=hhe;In.PureComponent=TI;In.StrictMode=phe;In.Suspense=yhe;In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ehe;In.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=aZ({},e.props),i=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=PI.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(p in t)lZ.call(t,p)&&!cZ.hasOwnProperty(p)&&(n[p]=t[p]===void 0&&a!==void 0?a[p]:t[p])}var p=arguments.length-2;if(p===1)n.children=r;else if(1<p){a=Array(p);for(var f=0;f<p;f++)a[f]=arguments[f+2];n.children=a}return{$$typeof:x4,type:e.type,key:i,ref:s,props:n,_owner:l}};In.createContext=function(e){return e={$$typeof:mhe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fhe,_context:e},e.Consumer=e};In.createElement=uZ;In.createFactory=function(e){var t=uZ.bind(null,e);return t.type=e,t};In.createRef=function(){return{current:null}};In.forwardRef=function(e){return{$$typeof:ghe,render:e}};In.isValidElement=kI;In.lazy=function(e){return{$$typeof:_he,_payload:{_status:-1,_result:e},_init:She}};In.memo=function(e,t){return{$$typeof:vhe,type:e,compare:t===void 0?null:t}};In.startTransition=function(e){var t=$3.transition;$3.transition={};try{e()}finally{$3.transition=t}};In.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};In.useCallback=function(e,t){return us.current.useCallback(e,t)};In.useContext=function(e){return us.current.useContext(e)};In.useDebugValue=function(){};In.useDeferredValue=function(e){return us.current.useDeferredValue(e)};In.useEffect=function(e,t){return us.current.useEffect(e,t)};In.useId=function(){return us.current.useId()};In.useImperativeHandle=function(e,t,r){return us.current.useImperativeHandle(e,t,r)};In.useInsertionEffect=function(e,t){return us.current.useInsertionEffect(e,t)};In.useLayoutEffect=function(e,t){return us.current.useLayoutEffect(e,t)};In.useMemo=function(e,t){return us.current.useMemo(e,t)};In.useReducer=function(e,t,r){return us.current.useReducer(e,t,r)};In.useRef=function(e){return us.current.useRef(e)};In.useState=function(e){return us.current.useState(e)};In.useSyncExternalStore=function(e,t,r){return us.current.useSyncExternalStore(e,t,r)};In.useTransition=function(){return us.current.useTransition()};In.version="18.2.0";nZ.exports=In;var R=nZ.exports;const dt=Mc(R),q8=tZ({__proto__:null,default:dt},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ahe=R,The=Symbol.for("react.element"),Mhe=Symbol.for("react.fragment"),Phe=Object.prototype.hasOwnProperty,khe=Ahe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ihe={key:!0,ref:!0,__self:!0,__source:!0};function dZ(e,t,r){var n,i={},s=null,l=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Phe.call(t,n)&&!Ihe.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:The,type:e,key:s,ref:l,props:i,_owner:khe.current}}K8.Fragment=Mhe;K8.jsx=dZ;K8.jsxs=dZ;rZ.exports=K8;var B=rZ.exports,CM={},pZ={exports:{}},tl={},hZ={exports:{}},fZ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Q,ce){var Ee=Q.length;Q.push(ce);e:for(;0<Ee;){var fe=Ee-1>>>1,K=Q[fe];if(0<i(K,ce))Q[fe]=ce,Q[Ee]=K,Ee=fe;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ce=Q[0],Ee=Q.pop();if(Ee!==ce){Q[0]=Ee;e:for(var fe=0,K=Q.length,pe=K>>>1;fe<pe;){var Et=2*(fe+1)-1,zt=Q[Et],Ve=Et+1,Be=Q[Ve];if(0>i(zt,Ee))Ve<K&&0>i(Be,zt)?(Q[fe]=Be,Q[Ve]=Ee,fe=Ve):(Q[fe]=zt,Q[Et]=Ee,fe=Et);else if(Ve<K&&0>i(Be,Ee))Q[fe]=Be,Q[Ve]=Ee,fe=Ve;else break e}}return ce}function i(Q,ce){var Ee=Q.sortIndex-ce.sortIndex;return Ee!==0?Ee:Q.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,a=l.now();e.unstable_now=function(){return l.now()-a}}var p=[],f=[],g=1,v=null,_=3,T=!1,z=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Q){for(var ce=r(f);ce!==null;){if(ce.callback===null)n(f);else if(ce.startTime<=Q)n(f),ce.sortIndex=ce.expirationTime,t(p,ce);else break;ce=r(f)}}function $(Q){if(I=!1,N(Q),!z)if(r(p)!==null)z=!0,oe(ee);else{var ce=r(f);ce!==null&&le($,ce.startTime-Q)}}function ee(Q,ce){z=!1,I&&(I=!1,C(ie),ie=-1),T=!0;var Ee=_;try{for(N(ce),v=r(p);v!==null&&(!(v.expirationTime>ce)||Q&&!et());){var fe=v.callback;if(typeof fe=="function"){v.callback=null,_=v.priorityLevel;var K=fe(v.expirationTime<=ce);ce=e.unstable_now(),typeof K=="function"?v.callback=K:v===r(p)&&n(p),N(ce)}else n(p);v=r(p)}if(v!==null)var pe=!0;else{var Et=r(f);Et!==null&&le($,Et.startTime-ce),pe=!1}return pe}finally{v=null,_=Ee,T=!1}}var re=!1,ne=null,ie=-1,me=5,Ze=-1;function et(){return!(e.unstable_now()-Ze<me)}function Ke(){if(ne!==null){var Q=e.unstable_now();Ze=Q;var ce=!0;try{ce=ne(!0,Q)}finally{ce?ye():(re=!1,ne=null)}}else re=!1}var ye;if(typeof L=="function")ye=function(){L(Ke)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Z=j.port2;j.port1.onmessage=Ke,ye=function(){Z.postMessage(null)}}else ye=function(){k(Ke,0)};function oe(Q){ne=Q,re||(re=!0,ye())}function le(Q,ce){ie=k(function(){Q(e.unstable_now())},ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){z||T||(z=!0,oe(ee))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var ce=3;break;default:ce=_}var Ee=_;_=ce;try{return Q()}finally{_=Ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,ce){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var Ee=_;_=Q;try{return ce()}finally{_=Ee}},e.unstable_scheduleCallback=function(Q,ce,Ee){var fe=e.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?fe+Ee:fe):Ee=fe,Q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Ee+K,Q={id:g++,callback:ce,priorityLevel:Q,startTime:Ee,expirationTime:K,sortIndex:-1},Ee>fe?(Q.sortIndex=Ee,t(f,Q),r(p)===null&&Q===r(f)&&(I?(C(ie),ie=-1):I=!0,le($,Ee-fe))):(Q.sortIndex=K,t(p,Q),z||T||(z=!0,oe(ee))),Q},e.unstable_shouldYield=et,e.unstable_wrapCallback=function(Q){var ce=_;return function(){var Ee=_;_=ce;try{return Q.apply(this,arguments)}finally{_=Ee}}}})(fZ);hZ.exports=fZ;var Che=hZ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mZ=R,Js=Che;function Qt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gZ=new Set,kx={};function Wm(e,t){dy(e,t),dy(e+"Capture",t)}function dy(e,t){for(kx[e]=t,e=0;e<t.length;e++)gZ.add(t[e])}var Md=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),DM=Object.prototype.hasOwnProperty,Dhe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wV={},SV={};function zhe(e){return DM.call(SV,e)?!0:DM.call(wV,e)?!1:Dhe.test(e)?SV[e]=!0:(wV[e]=!0,!1)}function Rhe(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Nhe(e,t,r,n){if(t===null||typeof t>"u"||Rhe(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ds(e,t,r,n,i,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var uo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){uo[e]=new ds(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];uo[t]=new ds(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){uo[e]=new ds(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){uo[e]=new ds(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){uo[e]=new ds(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){uo[e]=new ds(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){uo[e]=new ds(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){uo[e]=new ds(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){uo[e]=new ds(e,5,!1,e.toLowerCase(),null,!1,!1)});var II=/[\-:]([a-z])/g;function CI(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(II,CI);uo[t]=new ds(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(II,CI);uo[t]=new ds(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(II,CI);uo[t]=new ds(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){uo[e]=new ds(e,1,!1,e.toLowerCase(),null,!1,!1)});uo.xlinkHref=new ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){uo[e]=new ds(e,1,!1,e.toLowerCase(),null,!0,!0)});function DI(e,t,r,n){var i=uo.hasOwnProperty(t)?uo[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Nhe(t,r,i,n)&&(r=null),n||i===null?zhe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Od=mZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pw=Symbol.for("react.element"),Mg=Symbol.for("react.portal"),Pg=Symbol.for("react.fragment"),zI=Symbol.for("react.strict_mode"),zM=Symbol.for("react.profiler"),yZ=Symbol.for("react.provider"),vZ=Symbol.for("react.context"),RI=Symbol.for("react.forward_ref"),RM=Symbol.for("react.suspense"),NM=Symbol.for("react.suspense_list"),NI=Symbol.for("react.memo"),Dp=Symbol.for("react.lazy"),_Z=Symbol.for("react.offscreen"),EV=Symbol.iterator;function db(e){return e===null||typeof e!="object"?null:(e=EV&&e[EV]||e["@@iterator"],typeof e=="function"?e:null)}var Xi=Object.assign,CE;function Ub(e){if(CE===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);CE=t&&t[1]||""}return`
`+CE+e}var DE=!1;function zE(e,t){if(!e||DE)return"";DE=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var n=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){n=f}e.call(t.prototype)}else{try{throw Error()}catch(f){n=f}e()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=n.stack.split(`
`),l=i.length-1,a=s.length-1;1<=l&&0<=a&&i[l]!==s[a];)a--;for(;1<=l&&0<=a;l--,a--)if(i[l]!==s[a]){if(l!==1||a!==1)do if(l--,a--,0>a||i[l]!==s[a]){var p=`
`+i[l].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=l&&0<=a);break}}}finally{DE=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ub(e):""}function Lhe(e){switch(e.tag){case 5:return Ub(e.type);case 16:return Ub("Lazy");case 13:return Ub("Suspense");case 19:return Ub("SuspenseList");case 0:case 2:case 15:return e=zE(e.type,!1),e;case 11:return e=zE(e.type.render,!1),e;case 1:return e=zE(e.type,!0),e;default:return""}}function LM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pg:return"Fragment";case Mg:return"Portal";case zM:return"Profiler";case zI:return"StrictMode";case RM:return"Suspense";case NM:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vZ:return(e.displayName||"Context")+".Consumer";case yZ:return(e._context.displayName||"Context")+".Provider";case RI:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case NI:return t=e.displayName||null,t!==null?t:LM(e.type)||"Memo";case Dp:t=e._payload,e=e._init;try{return LM(e(t))}catch{}}return null}function Ohe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return LM(t);case 8:return t===zI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bZ(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bhe(e){var t=bZ(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kw(e){e._valueTracker||(e._valueTracker=Bhe(e))}function xZ(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=bZ(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function P5(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function OM(e,t){var r=t.checked;return Xi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function AV(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=vh(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wZ(e,t){t=t.checked,t!=null&&DI(e,"checked",t,!1)}function BM(e,t){wZ(e,t);var r=vh(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?FM(e,t.type,r):t.hasOwnProperty("defaultValue")&&FM(e,t.type,vh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function TV(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function FM(e,t,r){(t!=="number"||P5(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Wb=Array.isArray;function Zg(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+vh(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function jM(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Qt(91));return Xi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function MV(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Qt(92));if(Wb(r)){if(1<r.length)throw Error(Qt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:vh(r)}}function SZ(e,t){var r=vh(t.value),n=vh(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function PV(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function EZ(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function VM(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?EZ(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Iw,AZ=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Iw=Iw||document.createElement("div"),Iw.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Iw.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ix(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var nx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fhe=["Webkit","ms","Moz","O"];Object.keys(nx).forEach(function(e){Fhe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nx[t]=nx[e]})});function TZ(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||nx.hasOwnProperty(e)&&nx[e]?(""+t).trim():t+"px"}function MZ(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=TZ(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var jhe=Xi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function UM(e,t){if(t){if(jhe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Qt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Qt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Qt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Qt(62))}}function WM(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $M=null;function LI(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var KM=null,Yg=null,Xg=null;function kV(e){if(e=E4(e)){if(typeof KM!="function")throw Error(Qt(280));var t=e.stateNode;t&&(t=X8(t),KM(e.stateNode,e.type,t))}}function PZ(e){Yg?Xg?Xg.push(e):Xg=[e]:Yg=e}function kZ(){if(Yg){var e=Yg,t=Xg;if(Xg=Yg=null,kV(e),t)for(e=0;e<t.length;e++)kV(t[e])}}function IZ(e,t){return e(t)}function CZ(){}var RE=!1;function DZ(e,t,r){if(RE)return e(t,r);RE=!0;try{return IZ(e,t,r)}finally{RE=!1,(Yg!==null||Xg!==null)&&(CZ(),kZ())}}function Cx(e,t){var r=e.stateNode;if(r===null)return null;var n=X8(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Qt(231,t,typeof r));return r}var qM=!1;if(Md)try{var pb={};Object.defineProperty(pb,"passive",{get:function(){qM=!0}}),window.addEventListener("test",pb,pb),window.removeEventListener("test",pb,pb)}catch{qM=!1}function Vhe(e,t,r,n,i,s,l,a,p){var f=Array.prototype.slice.call(arguments,3);try{t.apply(r,f)}catch(g){this.onError(g)}}var ix=!1,k5=null,I5=!1,GM=null,Uhe={onError:function(e){ix=!0,k5=e}};function Whe(e,t,r,n,i,s,l,a,p){ix=!1,k5=null,Vhe.apply(Uhe,arguments)}function $he(e,t,r,n,i,s,l,a,p){if(Whe.apply(this,arguments),ix){if(ix){var f=k5;ix=!1,k5=null}else throw Error(Qt(198));I5||(I5=!0,GM=f)}}function $m(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function zZ(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function IV(e){if($m(e)!==e)throw Error(Qt(188))}function Khe(e){var t=e.alternate;if(!t){if(t=$m(e),t===null)throw Error(Qt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return IV(i),e;if(s===n)return IV(i),t;s=s.sibling}throw Error(Qt(188))}if(r.return!==n.return)r=i,n=s;else{for(var l=!1,a=i.child;a;){if(a===r){l=!0,r=i,n=s;break}if(a===n){l=!0,n=i,r=s;break}a=a.sibling}if(!l){for(a=s.child;a;){if(a===r){l=!0,r=s,n=i;break}if(a===n){l=!0,n=s,r=i;break}a=a.sibling}if(!l)throw Error(Qt(189))}}if(r.alternate!==n)throw Error(Qt(190))}if(r.tag!==3)throw Error(Qt(188));return r.stateNode.current===r?e:t}function RZ(e){return e=Khe(e),e!==null?NZ(e):null}function NZ(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=NZ(e);if(t!==null)return t;e=e.sibling}return null}var LZ=Js.unstable_scheduleCallback,CV=Js.unstable_cancelCallback,qhe=Js.unstable_shouldYield,Ghe=Js.unstable_requestPaint,ga=Js.unstable_now,Hhe=Js.unstable_getCurrentPriorityLevel,OI=Js.unstable_ImmediatePriority,OZ=Js.unstable_UserBlockingPriority,C5=Js.unstable_NormalPriority,Zhe=Js.unstable_LowPriority,BZ=Js.unstable_IdlePriority,G8=null,nu=null;function Yhe(e){if(nu&&typeof nu.onCommitFiberRoot=="function")try{nu.onCommitFiberRoot(G8,e,void 0,(e.current.flags&128)===128)}catch{}}var gc=Math.clz32?Math.clz32:Jhe,Xhe=Math.log,Qhe=Math.LN2;function Jhe(e){return e>>>=0,e===0?32:31-(Xhe(e)/Qhe|0)|0}var Cw=64,Dw=4194304;function $b(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function D5(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,l=r&268435455;if(l!==0){var a=l&~i;a!==0?n=$b(a):(s&=l,s!==0&&(n=$b(s)))}else l=r&~i,l!==0?n=$b(l):s!==0&&(n=$b(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gc(t),i=1<<r,n|=e[r],t&=~i;return n}function efe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tfe(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-gc(s),a=1<<l,p=i[l];p===-1?(!(a&r)||a&n)&&(i[l]=efe(a,t)):p<=t&&(e.expiredLanes|=a),s&=~a}}function HM(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function FZ(){var e=Cw;return Cw<<=1,!(Cw&4194240)&&(Cw=64),e}function NE(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function w4(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gc(t),e[t]=r}function rfe(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-gc(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function BI(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-gc(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ti=0;function jZ(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var VZ,FI,UZ,WZ,$Z,ZM=!1,zw=[],Yp=null,Xp=null,Qp=null,Dx=new Map,zx=new Map,Bp=[],nfe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DV(e,t){switch(e){case"focusin":case"focusout":Yp=null;break;case"dragenter":case"dragleave":Xp=null;break;case"mouseover":case"mouseout":Qp=null;break;case"pointerover":case"pointerout":Dx.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zx.delete(t.pointerId)}}function hb(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=E4(t),t!==null&&FI(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ife(e,t,r,n,i){switch(t){case"focusin":return Yp=hb(Yp,e,t,r,n,i),!0;case"dragenter":return Xp=hb(Xp,e,t,r,n,i),!0;case"mouseover":return Qp=hb(Qp,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Dx.set(s,hb(Dx.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,zx.set(s,hb(zx.get(s)||null,e,t,r,n,i)),!0}return!1}function KZ(e){var t=sm(e.target);if(t!==null){var r=$m(t);if(r!==null){if(t=r.tag,t===13){if(t=zZ(r),t!==null){e.blockedOn=t,$Z(e.priority,function(){UZ(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function K3(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=YM(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);$M=n,r.target.dispatchEvent(n),$M=null}else return t=E4(r),t!==null&&FI(t),e.blockedOn=r,!1;t.shift()}return!0}function zV(e,t,r){K3(e)&&r.delete(t)}function afe(){ZM=!1,Yp!==null&&K3(Yp)&&(Yp=null),Xp!==null&&K3(Xp)&&(Xp=null),Qp!==null&&K3(Qp)&&(Qp=null),Dx.forEach(zV),zx.forEach(zV)}function fb(e,t){e.blockedOn===t&&(e.blockedOn=null,ZM||(ZM=!0,Js.unstable_scheduleCallback(Js.unstable_NormalPriority,afe)))}function Rx(e){function t(i){return fb(i,e)}if(0<zw.length){fb(zw[0],e);for(var r=1;r<zw.length;r++){var n=zw[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yp!==null&&fb(Yp,e),Xp!==null&&fb(Xp,e),Qp!==null&&fb(Qp,e),Dx.forEach(t),zx.forEach(t),r=0;r<Bp.length;r++)n=Bp[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Bp.length&&(r=Bp[0],r.blockedOn===null);)KZ(r),r.blockedOn===null&&Bp.shift()}var Qg=Od.ReactCurrentBatchConfig,z5=!0;function ofe(e,t,r,n){var i=ti,s=Qg.transition;Qg.transition=null;try{ti=1,jI(e,t,r,n)}finally{ti=i,Qg.transition=s}}function sfe(e,t,r,n){var i=ti,s=Qg.transition;Qg.transition=null;try{ti=4,jI(e,t,r,n)}finally{ti=i,Qg.transition=s}}function jI(e,t,r,n){if(z5){var i=YM(e,t,r,n);if(i===null)KE(e,t,n,R5,r),DV(e,n);else if(ife(i,e,t,r,n))n.stopPropagation();else if(DV(e,n),t&4&&-1<nfe.indexOf(e)){for(;i!==null;){var s=E4(i);if(s!==null&&VZ(s),s=YM(e,t,r,n),s===null&&KE(e,t,n,R5,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else KE(e,t,n,null,r)}}var R5=null;function YM(e,t,r,n){if(R5=null,e=LI(n),e=sm(e),e!==null)if(t=$m(e),t===null)e=null;else if(r=t.tag,r===13){if(e=zZ(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return R5=e,null}function qZ(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hhe()){case OI:return 1;case OZ:return 4;case C5:case Zhe:return 16;case BZ:return 536870912;default:return 16}default:return 16}}var Up=null,VI=null,q3=null;function GZ(){if(q3)return q3;var e,t=VI,r=t.length,n,i="value"in Up?Up.value:Up.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[s-n];n++);return q3=i.slice(e,1<n?1-n:void 0)}function G3(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rw(){return!0}function RV(){return!1}function rl(e){function t(r,n,i,s,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rw:RV,this.isPropagationStopped=RV,this}return Xi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rw)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rw)},persist:function(){},isPersistent:Rw}),t}var t2={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},UI=rl(t2),S4=Xi({},t2,{view:0,detail:0}),lfe=rl(S4),LE,OE,mb,H8=Xi({},S4,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WI,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mb&&(mb&&e.type==="mousemove"?(LE=e.screenX-mb.screenX,OE=e.screenY-mb.screenY):OE=LE=0,mb=e),LE)},movementY:function(e){return"movementY"in e?e.movementY:OE}}),NV=rl(H8),cfe=Xi({},H8,{dataTransfer:0}),ufe=rl(cfe),dfe=Xi({},S4,{relatedTarget:0}),BE=rl(dfe),pfe=Xi({},t2,{animationName:0,elapsedTime:0,pseudoElement:0}),hfe=rl(pfe),ffe=Xi({},t2,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mfe=rl(ffe),gfe=Xi({},t2,{data:0}),LV=rl(gfe),yfe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vfe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_fe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bfe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_fe[e])?!!t[e]:!1}function WI(){return bfe}var xfe=Xi({},S4,{key:function(e){if(e.key){var t=yfe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=G3(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vfe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WI,charCode:function(e){return e.type==="keypress"?G3(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?G3(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wfe=rl(xfe),Sfe=Xi({},H8,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OV=rl(Sfe),Efe=Xi({},S4,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WI}),Afe=rl(Efe),Tfe=Xi({},t2,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mfe=rl(Tfe),Pfe=Xi({},H8,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kfe=rl(Pfe),Ife=[9,13,27,32],$I=Md&&"CompositionEvent"in window,ax=null;Md&&"documentMode"in document&&(ax=document.documentMode);var Cfe=Md&&"TextEvent"in window&&!ax,HZ=Md&&(!$I||ax&&8<ax&&11>=ax),BV=String.fromCharCode(32),FV=!1;function ZZ(e,t){switch(e){case"keyup":return Ife.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YZ(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kg=!1;function Dfe(e,t){switch(e){case"compositionend":return YZ(t);case"keypress":return t.which!==32?null:(FV=!0,BV);case"textInput":return e=t.data,e===BV&&FV?null:e;default:return null}}function zfe(e,t){if(kg)return e==="compositionend"||!$I&&ZZ(e,t)?(e=GZ(),q3=VI=Up=null,kg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return HZ&&t.locale!=="ko"?null:t.data;default:return null}}var Rfe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jV(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rfe[e.type]:t==="textarea"}function XZ(e,t,r,n){PZ(n),t=N5(t,"onChange"),0<t.length&&(r=new UI("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ox=null,Nx=null;function Nfe(e){lY(e,0)}function Z8(e){var t=Dg(e);if(xZ(t))return e}function Lfe(e,t){if(e==="change")return t}var QZ=!1;if(Md){var FE;if(Md){var jE="oninput"in document;if(!jE){var VV=document.createElement("div");VV.setAttribute("oninput","return;"),jE=typeof VV.oninput=="function"}FE=jE}else FE=!1;QZ=FE&&(!document.documentMode||9<document.documentMode)}function UV(){ox&&(ox.detachEvent("onpropertychange",JZ),Nx=ox=null)}function JZ(e){if(e.propertyName==="value"&&Z8(Nx)){var t=[];XZ(t,Nx,e,LI(e)),DZ(Nfe,t)}}function Ofe(e,t,r){e==="focusin"?(UV(),ox=t,Nx=r,ox.attachEvent("onpropertychange",JZ)):e==="focusout"&&UV()}function Bfe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Z8(Nx)}function Ffe(e,t){if(e==="click")return Z8(t)}function jfe(e,t){if(e==="input"||e==="change")return Z8(t)}function Vfe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _c=typeof Object.is=="function"?Object.is:Vfe;function Lx(e,t){if(_c(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!DM.call(t,i)||!_c(e[i],t[i]))return!1}return!0}function WV(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $V(e,t){var r=WV(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=WV(r)}}function eY(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eY(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tY(){for(var e=window,t=P5();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=P5(e.document)}return t}function KI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ufe(e){var t=tY(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&eY(r.ownerDocument.documentElement,r)){if(n!==null&&KI(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=$V(r,s);var l=$V(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wfe=Md&&"documentMode"in document&&11>=document.documentMode,Ig=null,XM=null,sx=null,QM=!1;function KV(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;QM||Ig==null||Ig!==P5(n)||(n=Ig,"selectionStart"in n&&KI(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sx&&Lx(sx,n)||(sx=n,n=N5(XM,"onSelect"),0<n.length&&(t=new UI("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ig)))}function Nw(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Cg={animationend:Nw("Animation","AnimationEnd"),animationiteration:Nw("Animation","AnimationIteration"),animationstart:Nw("Animation","AnimationStart"),transitionend:Nw("Transition","TransitionEnd")},VE={},rY={};Md&&(rY=document.createElement("div").style,"AnimationEvent"in window||(delete Cg.animationend.animation,delete Cg.animationiteration.animation,delete Cg.animationstart.animation),"TransitionEvent"in window||delete Cg.transitionend.transition);function Y8(e){if(VE[e])return VE[e];if(!Cg[e])return e;var t=Cg[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in rY)return VE[e]=t[r];return e}var nY=Y8("animationend"),iY=Y8("animationiteration"),aY=Y8("animationstart"),oY=Y8("transitionend"),sY=new Map,qV="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fh(e,t){sY.set(e,t),Wm(t,[e])}for(var UE=0;UE<qV.length;UE++){var WE=qV[UE],$fe=WE.toLowerCase(),Kfe=WE[0].toUpperCase()+WE.slice(1);Fh($fe,"on"+Kfe)}Fh(nY,"onAnimationEnd");Fh(iY,"onAnimationIteration");Fh(aY,"onAnimationStart");Fh("dblclick","onDoubleClick");Fh("focusin","onFocus");Fh("focusout","onBlur");Fh(oY,"onTransitionEnd");dy("onMouseEnter",["mouseout","mouseover"]);dy("onMouseLeave",["mouseout","mouseover"]);dy("onPointerEnter",["pointerout","pointerover"]);dy("onPointerLeave",["pointerout","pointerover"]);Wm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qfe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kb));function GV(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,$he(n,t,void 0,e),e.currentTarget=null}function lY(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var l=n.length-1;0<=l;l--){var a=n[l],p=a.instance,f=a.currentTarget;if(a=a.listener,p!==s&&i.isPropagationStopped())break e;GV(i,a,f),s=p}else for(l=0;l<n.length;l++){if(a=n[l],p=a.instance,f=a.currentTarget,a=a.listener,p!==s&&i.isPropagationStopped())break e;GV(i,a,f),s=p}}}if(I5)throw e=GM,I5=!1,GM=null,e}function bi(e,t){var r=t[nP];r===void 0&&(r=t[nP]=new Set);var n=e+"__bubble";r.has(n)||(cY(t,e,2,!1),r.add(n))}function $E(e,t,r){var n=0;t&&(n|=4),cY(r,e,n,t)}var Lw="_reactListening"+Math.random().toString(36).slice(2);function Ox(e){if(!e[Lw]){e[Lw]=!0,gZ.forEach(function(r){r!=="selectionchange"&&(qfe.has(r)||$E(r,!1,e),$E(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lw]||(t[Lw]=!0,$E("selectionchange",!1,t))}}function cY(e,t,r,n){switch(qZ(t)){case 1:var i=ofe;break;case 4:i=sfe;break;default:i=jI}r=i.bind(null,t,r,e),i=void 0,!qM||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function KE(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var p=l.tag;if((p===3||p===4)&&(p=l.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;l=l.return}for(;a!==null;){if(l=sm(a),l===null)return;if(p=l.tag,p===5||p===6){n=s=l;continue e}a=a.parentNode}}n=n.return}DZ(function(){var f=s,g=LI(r),v=[];e:{var _=sY.get(e);if(_!==void 0){var T=UI,z=e;switch(e){case"keypress":if(G3(r)===0)break e;case"keydown":case"keyup":T=wfe;break;case"focusin":z="focus",T=BE;break;case"focusout":z="blur",T=BE;break;case"beforeblur":case"afterblur":T=BE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=NV;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=ufe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=Afe;break;case nY:case iY:case aY:T=hfe;break;case oY:T=Mfe;break;case"scroll":T=lfe;break;case"wheel":T=kfe;break;case"copy":case"cut":case"paste":T=mfe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=OV}var I=(t&4)!==0,k=!I&&e==="scroll",C=I?_!==null?_+"Capture":null:_;I=[];for(var L=f,N;L!==null;){N=L;var $=N.stateNode;if(N.tag===5&&$!==null&&(N=$,C!==null&&($=Cx(L,C),$!=null&&I.push(Bx(L,$,N)))),k)break;L=L.return}0<I.length&&(_=new T(_,z,null,r,g),v.push({event:_,listeners:I}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",T=e==="mouseout"||e==="pointerout",_&&r!==$M&&(z=r.relatedTarget||r.fromElement)&&(sm(z)||z[Pd]))break e;if((T||_)&&(_=g.window===g?g:(_=g.ownerDocument)?_.defaultView||_.parentWindow:window,T?(z=r.relatedTarget||r.toElement,T=f,z=z?sm(z):null,z!==null&&(k=$m(z),z!==k||z.tag!==5&&z.tag!==6)&&(z=null)):(T=null,z=f),T!==z)){if(I=NV,$="onMouseLeave",C="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(I=OV,$="onPointerLeave",C="onPointerEnter",L="pointer"),k=T==null?_:Dg(T),N=z==null?_:Dg(z),_=new I($,L+"leave",T,r,g),_.target=k,_.relatedTarget=N,$=null,sm(g)===f&&(I=new I(C,L+"enter",z,r,g),I.target=N,I.relatedTarget=k,$=I),k=$,T&&z)t:{for(I=T,C=z,L=0,N=I;N;N=eg(N))L++;for(N=0,$=C;$;$=eg($))N++;for(;0<L-N;)I=eg(I),L--;for(;0<N-L;)C=eg(C),N--;for(;L--;){if(I===C||C!==null&&I===C.alternate)break t;I=eg(I),C=eg(C)}I=null}else I=null;T!==null&&HV(v,_,T,I,!1),z!==null&&k!==null&&HV(v,k,z,I,!0)}}e:{if(_=f?Dg(f):window,T=_.nodeName&&_.nodeName.toLowerCase(),T==="select"||T==="input"&&_.type==="file")var ee=Lfe;else if(jV(_))if(QZ)ee=jfe;else{ee=Bfe;var re=Ofe}else(T=_.nodeName)&&T.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(ee=Ffe);if(ee&&(ee=ee(e,f))){XZ(v,ee,r,g);break e}re&&re(e,_,f),e==="focusout"&&(re=_._wrapperState)&&re.controlled&&_.type==="number"&&FM(_,"number",_.value)}switch(re=f?Dg(f):window,e){case"focusin":(jV(re)||re.contentEditable==="true")&&(Ig=re,XM=f,sx=null);break;case"focusout":sx=XM=Ig=null;break;case"mousedown":QM=!0;break;case"contextmenu":case"mouseup":case"dragend":QM=!1,KV(v,r,g);break;case"selectionchange":if(Wfe)break;case"keydown":case"keyup":KV(v,r,g)}var ne;if($I)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else kg?ZZ(e,r)&&(ie="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ie="onCompositionStart");ie&&(HZ&&r.locale!=="ko"&&(kg||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&kg&&(ne=GZ()):(Up=g,VI="value"in Up?Up.value:Up.textContent,kg=!0)),re=N5(f,ie),0<re.length&&(ie=new LV(ie,e,null,r,g),v.push({event:ie,listeners:re}),ne?ie.data=ne:(ne=YZ(r),ne!==null&&(ie.data=ne)))),(ne=Cfe?Dfe(e,r):zfe(e,r))&&(f=N5(f,"onBeforeInput"),0<f.length&&(g=new LV("onBeforeInput","beforeinput",null,r,g),v.push({event:g,listeners:f}),g.data=ne))}lY(v,t)})}function Bx(e,t,r){return{instance:e,listener:t,currentTarget:r}}function N5(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Cx(e,r),s!=null&&n.unshift(Bx(e,s,i)),s=Cx(e,t),s!=null&&n.push(Bx(e,s,i))),e=e.return}return n}function eg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function HV(e,t,r,n,i){for(var s=t._reactName,l=[];r!==null&&r!==n;){var a=r,p=a.alternate,f=a.stateNode;if(p!==null&&p===n)break;a.tag===5&&f!==null&&(a=f,i?(p=Cx(r,s),p!=null&&l.unshift(Bx(r,p,a))):i||(p=Cx(r,s),p!=null&&l.push(Bx(r,p,a)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var Gfe=/\r\n?/g,Hfe=/\u0000|\uFFFD/g;function ZV(e){return(typeof e=="string"?e:""+e).replace(Gfe,`
`).replace(Hfe,"")}function Ow(e,t,r){if(t=ZV(t),ZV(e)!==t&&r)throw Error(Qt(425))}function L5(){}var JM=null,eP=null;function tP(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rP=typeof setTimeout=="function"?setTimeout:void 0,Zfe=typeof clearTimeout=="function"?clearTimeout:void 0,YV=typeof Promise=="function"?Promise:void 0,Yfe=typeof queueMicrotask=="function"?queueMicrotask:typeof YV<"u"?function(e){return YV.resolve(null).then(e).catch(Xfe)}:rP;function Xfe(e){setTimeout(function(){throw e})}function qE(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Rx(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Rx(t)}function Jp(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function XV(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var r2=Math.random().toString(36).slice(2),Xc="__reactFiber$"+r2,Fx="__reactProps$"+r2,Pd="__reactContainer$"+r2,nP="__reactEvents$"+r2,Qfe="__reactListeners$"+r2,Jfe="__reactHandles$"+r2;function sm(e){var t=e[Xc];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pd]||r[Xc]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=XV(e);e!==null;){if(r=e[Xc])return r;e=XV(e)}return t}e=r,r=e.parentNode}return null}function E4(e){return e=e[Xc]||e[Pd],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Qt(33))}function X8(e){return e[Fx]||null}var iP=[],zg=-1;function jh(e){return{current:e}}function wi(e){0>zg||(e.current=iP[zg],iP[zg]=null,zg--)}function fi(e,t){zg++,iP[zg]=e.current,e.current=t}var _h={},Vo=jh(_h),ks=jh(!1),Im=_h;function py(e,t){var r=e.type.contextTypes;if(!r)return _h;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Is(e){return e=e.childContextTypes,e!=null}function O5(){wi(ks),wi(Vo)}function QV(e,t,r){if(Vo.current!==_h)throw Error(Qt(168));fi(Vo,t),fi(ks,r)}function uY(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Qt(108,Ohe(e)||"Unknown",i));return Xi({},r,n)}function B5(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_h,Im=Vo.current,fi(Vo,e),fi(ks,ks.current),!0}function JV(e,t,r){var n=e.stateNode;if(!n)throw Error(Qt(169));r?(e=uY(e,t,Im),n.__reactInternalMemoizedMergedChildContext=e,wi(ks),wi(Vo),fi(Vo,e)):wi(ks),fi(ks,r)}var ad=null,Q8=!1,GE=!1;function dY(e){ad===null?ad=[e]:ad.push(e)}function e1e(e){Q8=!0,dY(e)}function Vh(){if(!GE&&ad!==null){GE=!0;var e=0,t=ti;try{var r=ad;for(ti=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ad=null,Q8=!1}catch(i){throw ad!==null&&(ad=ad.slice(e+1)),LZ(OI,Vh),i}finally{ti=t,GE=!1}}return null}var Rg=[],Ng=0,F5=null,j5=0,bl=[],xl=0,Cm=null,vd=1,_d="";function J1(e,t){Rg[Ng++]=j5,Rg[Ng++]=F5,F5=e,j5=t}function pY(e,t,r){bl[xl++]=vd,bl[xl++]=_d,bl[xl++]=Cm,Cm=e;var n=vd;e=_d;var i=32-gc(n)-1;n&=~(1<<i),r+=1;var s=32-gc(t)+i;if(30<s){var l=i-i%5;s=(n&(1<<l)-1).toString(32),n>>=l,i-=l,vd=1<<32-gc(t)+i|r<<i|n,_d=s+e}else vd=1<<s|r<<i|n,_d=e}function qI(e){e.return!==null&&(J1(e,1),pY(e,1,0))}function GI(e){for(;e===F5;)F5=Rg[--Ng],Rg[Ng]=null,j5=Rg[--Ng],Rg[Ng]=null;for(;e===Cm;)Cm=bl[--xl],bl[xl]=null,_d=bl[--xl],bl[xl]=null,vd=bl[--xl],bl[xl]=null}var Xs=null,Ys=null,Ni=!1,lc=null;function hY(e,t){var r=El(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function eU(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xs=e,Ys=Jp(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xs=e,Ys=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cm!==null?{id:vd,overflow:_d}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=El(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xs=e,Ys=null,!0):!1;default:return!1}}function aP(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oP(e){if(Ni){var t=Ys;if(t){var r=t;if(!eU(e,t)){if(aP(e))throw Error(Qt(418));t=Jp(r.nextSibling);var n=Xs;t&&eU(e,t)?hY(n,r):(e.flags=e.flags&-4097|2,Ni=!1,Xs=e)}}else{if(aP(e))throw Error(Qt(418));e.flags=e.flags&-4097|2,Ni=!1,Xs=e}}}function tU(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xs=e}function Bw(e){if(e!==Xs)return!1;if(!Ni)return tU(e),Ni=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tP(e.type,e.memoizedProps)),t&&(t=Ys)){if(aP(e))throw fY(),Error(Qt(418));for(;t;)hY(e,t),t=Jp(t.nextSibling)}if(tU(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Qt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ys=Jp(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ys=null}}else Ys=Xs?Jp(e.stateNode.nextSibling):null;return!0}function fY(){for(var e=Ys;e;)e=Jp(e.nextSibling)}function hy(){Ys=Xs=null,Ni=!1}function HI(e){lc===null?lc=[e]:lc.push(e)}var t1e=Od.ReactCurrentBatchConfig;function ic(e,t){if(e&&e.defaultProps){t=Xi({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var V5=jh(null),U5=null,Lg=null,ZI=null;function YI(){ZI=Lg=U5=null}function XI(e){var t=V5.current;wi(V5),e._currentValue=t}function sP(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Jg(e,t){U5=e,ZI=Lg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ts=!0),e.firstContext=null)}function kl(e){var t=e._currentValue;if(ZI!==e)if(e={context:e,memoizedValue:t,next:null},Lg===null){if(U5===null)throw Error(Qt(308));Lg=e,U5.dependencies={lanes:0,firstContext:e}}else Lg=Lg.next=e;return t}var lm=null;function QI(e){lm===null?lm=[e]:lm.push(e)}function mY(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,QI(t)):(r.next=i.next,i.next=r),t.interleaved=r,kd(e,n)}function kd(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zp=!1;function JI(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gY(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sd(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function eh(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,zn&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,kd(e,r)}return i=n.interleaved,i===null?(t.next=t,QI(n)):(t.next=i.next,i.next=t),n.interleaved=t,kd(e,r)}function H3(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,BI(e,r)}}function rU(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=l:s=s.next=l,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function W5(e,t,r,n){var i=e.updateQueue;zp=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var p=a,f=p.next;p.next=null,l===null?s=f:l.next=f,l=p;var g=e.alternate;g!==null&&(g=g.updateQueue,a=g.lastBaseUpdate,a!==l&&(a===null?g.firstBaseUpdate=f:a.next=f,g.lastBaseUpdate=p))}if(s!==null){var v=i.baseState;l=0,g=f=p=null,a=s;do{var _=a.lane,T=a.eventTime;if((n&_)===_){g!==null&&(g=g.next={eventTime:T,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var z=e,I=a;switch(_=t,T=r,I.tag){case 1:if(z=I.payload,typeof z=="function"){v=z.call(T,v,_);break e}v=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=I.payload,_=typeof z=="function"?z.call(T,v,_):z,_==null)break e;v=Xi({},v,_);break e;case 2:zp=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[a]:_.push(a))}else T={eventTime:T,lane:_,tag:a.tag,payload:a.payload,callback:a.callback,next:null},g===null?(f=g=T,p=v):g=g.next=T,l|=_;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;_=a,a=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(1);if(g===null&&(p=v),i.baseState=p,i.firstBaseUpdate=f,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);zm|=l,e.lanes=l,e.memoizedState=v}}function nU(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Qt(191,i));i.call(n)}}}var yY=new mZ.Component().refs;function lP(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Xi({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var J8={isMounted:function(e){return(e=e._reactInternals)?$m(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ls(),i=rh(e),s=Sd(n,i);s.payload=t,r!=null&&(s.callback=r),t=eh(e,s,i),t!==null&&(yc(t,e,i,n),H3(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ls(),i=rh(e),s=Sd(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=eh(e,s,i),t!==null&&(yc(t,e,i,n),H3(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ls(),n=rh(e),i=Sd(r,n);i.tag=2,t!=null&&(i.callback=t),t=eh(e,i,n),t!==null&&(yc(t,e,n,r),H3(t,e,n))}};function iU(e,t,r,n,i,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,l):t.prototype&&t.prototype.isPureReactComponent?!Lx(r,n)||!Lx(i,s):!0}function vY(e,t,r){var n=!1,i=_h,s=t.contextType;return typeof s=="object"&&s!==null?s=kl(s):(i=Is(t)?Im:Vo.current,n=t.contextTypes,s=(n=n!=null)?py(e,i):_h),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=J8,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aU(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&J8.enqueueReplaceState(t,t.state,null)}function cP(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=yY,JI(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=kl(s):(s=Is(t)?Im:Vo.current,i.context=py(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(lP(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&J8.enqueueReplaceState(i,i.state,null),W5(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function gb(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Qt(309));var n=r.stateNode}if(!n)throw Error(Qt(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var a=i.refs;a===yY&&(a=i.refs={}),l===null?delete a[s]:a[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(Qt(284));if(!r._owner)throw Error(Qt(290,e))}return e}function Fw(e,t){throw e=Object.prototype.toString.call(t),Error(Qt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function oU(e){var t=e._init;return t(e._payload)}function _Y(e){function t(C,L){if(e){var N=C.deletions;N===null?(C.deletions=[L],C.flags|=16):N.push(L)}}function r(C,L){if(!e)return null;for(;L!==null;)t(C,L),L=L.sibling;return null}function n(C,L){for(C=new Map;L!==null;)L.key!==null?C.set(L.key,L):C.set(L.index,L),L=L.sibling;return C}function i(C,L){return C=nh(C,L),C.index=0,C.sibling=null,C}function s(C,L,N){return C.index=N,e?(N=C.alternate,N!==null?(N=N.index,N<L?(C.flags|=2,L):N):(C.flags|=2,L)):(C.flags|=1048576,L)}function l(C){return e&&C.alternate===null&&(C.flags|=2),C}function a(C,L,N,$){return L===null||L.tag!==6?(L=eA(N,C.mode,$),L.return=C,L):(L=i(L,N),L.return=C,L)}function p(C,L,N,$){var ee=N.type;return ee===Pg?g(C,L,N.props.children,$,N.key):L!==null&&(L.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Dp&&oU(ee)===L.type)?($=i(L,N.props),$.ref=gb(C,L,N),$.return=C,$):($=e5(N.type,N.key,N.props,null,C.mode,$),$.ref=gb(C,L,N),$.return=C,$)}function f(C,L,N,$){return L===null||L.tag!==4||L.stateNode.containerInfo!==N.containerInfo||L.stateNode.implementation!==N.implementation?(L=tA(N,C.mode,$),L.return=C,L):(L=i(L,N.children||[]),L.return=C,L)}function g(C,L,N,$,ee){return L===null||L.tag!==7?(L=wm(N,C.mode,$,ee),L.return=C,L):(L=i(L,N),L.return=C,L)}function v(C,L,N){if(typeof L=="string"&&L!==""||typeof L=="number")return L=eA(""+L,C.mode,N),L.return=C,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Pw:return N=e5(L.type,L.key,L.props,null,C.mode,N),N.ref=gb(C,null,L),N.return=C,N;case Mg:return L=tA(L,C.mode,N),L.return=C,L;case Dp:var $=L._init;return v(C,$(L._payload),N)}if(Wb(L)||db(L))return L=wm(L,C.mode,N,null),L.return=C,L;Fw(C,L)}return null}function _(C,L,N,$){var ee=L!==null?L.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return ee!==null?null:a(C,L,""+N,$);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Pw:return N.key===ee?p(C,L,N,$):null;case Mg:return N.key===ee?f(C,L,N,$):null;case Dp:return ee=N._init,_(C,L,ee(N._payload),$)}if(Wb(N)||db(N))return ee!==null?null:g(C,L,N,$,null);Fw(C,N)}return null}function T(C,L,N,$,ee){if(typeof $=="string"&&$!==""||typeof $=="number")return C=C.get(N)||null,a(L,C,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Pw:return C=C.get($.key===null?N:$.key)||null,p(L,C,$,ee);case Mg:return C=C.get($.key===null?N:$.key)||null,f(L,C,$,ee);case Dp:var re=$._init;return T(C,L,N,re($._payload),ee)}if(Wb($)||db($))return C=C.get(N)||null,g(L,C,$,ee,null);Fw(L,$)}return null}function z(C,L,N,$){for(var ee=null,re=null,ne=L,ie=L=0,me=null;ne!==null&&ie<N.length;ie++){ne.index>ie?(me=ne,ne=null):me=ne.sibling;var Ze=_(C,ne,N[ie],$);if(Ze===null){ne===null&&(ne=me);break}e&&ne&&Ze.alternate===null&&t(C,ne),L=s(Ze,L,ie),re===null?ee=Ze:re.sibling=Ze,re=Ze,ne=me}if(ie===N.length)return r(C,ne),Ni&&J1(C,ie),ee;if(ne===null){for(;ie<N.length;ie++)ne=v(C,N[ie],$),ne!==null&&(L=s(ne,L,ie),re===null?ee=ne:re.sibling=ne,re=ne);return Ni&&J1(C,ie),ee}for(ne=n(C,ne);ie<N.length;ie++)me=T(ne,C,ie,N[ie],$),me!==null&&(e&&me.alternate!==null&&ne.delete(me.key===null?ie:me.key),L=s(me,L,ie),re===null?ee=me:re.sibling=me,re=me);return e&&ne.forEach(function(et){return t(C,et)}),Ni&&J1(C,ie),ee}function I(C,L,N,$){var ee=db(N);if(typeof ee!="function")throw Error(Qt(150));if(N=ee.call(N),N==null)throw Error(Qt(151));for(var re=ee=null,ne=L,ie=L=0,me=null,Ze=N.next();ne!==null&&!Ze.done;ie++,Ze=N.next()){ne.index>ie?(me=ne,ne=null):me=ne.sibling;var et=_(C,ne,Ze.value,$);if(et===null){ne===null&&(ne=me);break}e&&ne&&et.alternate===null&&t(C,ne),L=s(et,L,ie),re===null?ee=et:re.sibling=et,re=et,ne=me}if(Ze.done)return r(C,ne),Ni&&J1(C,ie),ee;if(ne===null){for(;!Ze.done;ie++,Ze=N.next())Ze=v(C,Ze.value,$),Ze!==null&&(L=s(Ze,L,ie),re===null?ee=Ze:re.sibling=Ze,re=Ze);return Ni&&J1(C,ie),ee}for(ne=n(C,ne);!Ze.done;ie++,Ze=N.next())Ze=T(ne,C,ie,Ze.value,$),Ze!==null&&(e&&Ze.alternate!==null&&ne.delete(Ze.key===null?ie:Ze.key),L=s(Ze,L,ie),re===null?ee=Ze:re.sibling=Ze,re=Ze);return e&&ne.forEach(function(Ke){return t(C,Ke)}),Ni&&J1(C,ie),ee}function k(C,L,N,$){if(typeof N=="object"&&N!==null&&N.type===Pg&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Pw:e:{for(var ee=N.key,re=L;re!==null;){if(re.key===ee){if(ee=N.type,ee===Pg){if(re.tag===7){r(C,re.sibling),L=i(re,N.props.children),L.return=C,C=L;break e}}else if(re.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Dp&&oU(ee)===re.type){r(C,re.sibling),L=i(re,N.props),L.ref=gb(C,re,N),L.return=C,C=L;break e}r(C,re);break}else t(C,re);re=re.sibling}N.type===Pg?(L=wm(N.props.children,C.mode,$,N.key),L.return=C,C=L):($=e5(N.type,N.key,N.props,null,C.mode,$),$.ref=gb(C,L,N),$.return=C,C=$)}return l(C);case Mg:e:{for(re=N.key;L!==null;){if(L.key===re)if(L.tag===4&&L.stateNode.containerInfo===N.containerInfo&&L.stateNode.implementation===N.implementation){r(C,L.sibling),L=i(L,N.children||[]),L.return=C,C=L;break e}else{r(C,L);break}else t(C,L);L=L.sibling}L=tA(N,C.mode,$),L.return=C,C=L}return l(C);case Dp:return re=N._init,k(C,L,re(N._payload),$)}if(Wb(N))return z(C,L,N,$);if(db(N))return I(C,L,N,$);Fw(C,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,L!==null&&L.tag===6?(r(C,L.sibling),L=i(L,N),L.return=C,C=L):(r(C,L),L=eA(N,C.mode,$),L.return=C,C=L),l(C)):r(C,L)}return k}var fy=_Y(!0),bY=_Y(!1),A4={},iu=jh(A4),jx=jh(A4),Vx=jh(A4);function cm(e){if(e===A4)throw Error(Qt(174));return e}function eC(e,t){switch(fi(Vx,t),fi(jx,e),fi(iu,A4),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:VM(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=VM(t,e)}wi(iu),fi(iu,t)}function my(){wi(iu),wi(jx),wi(Vx)}function xY(e){cm(Vx.current);var t=cm(iu.current),r=VM(t,e.type);t!==r&&(fi(jx,e),fi(iu,r))}function tC(e){jx.current===e&&(wi(iu),wi(jx))}var qi=jh(0);function $5(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var HE=[];function rC(){for(var e=0;e<HE.length;e++)HE[e]._workInProgressVersionPrimary=null;HE.length=0}var Z3=Od.ReactCurrentDispatcher,ZE=Od.ReactCurrentBatchConfig,Dm=0,Zi=null,Oa=null,Ka=null,K5=!1,lx=!1,Ux=0,r1e=0;function wo(){throw Error(Qt(321))}function nC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_c(e[r],t[r]))return!1;return!0}function iC(e,t,r,n,i,s){if(Dm=s,Zi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Z3.current=e===null||e.memoizedState===null?o1e:s1e,e=r(n,i),lx){s=0;do{if(lx=!1,Ux=0,25<=s)throw Error(Qt(301));s+=1,Ka=Oa=null,t.updateQueue=null,Z3.current=l1e,e=r(n,i)}while(lx)}if(Z3.current=q5,t=Oa!==null&&Oa.next!==null,Dm=0,Ka=Oa=Zi=null,K5=!1,t)throw Error(Qt(300));return e}function aC(){var e=Ux!==0;return Ux=0,e}function Zc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ka===null?Zi.memoizedState=Ka=e:Ka=Ka.next=e,Ka}function Il(){if(Oa===null){var e=Zi.alternate;e=e!==null?e.memoizedState:null}else e=Oa.next;var t=Ka===null?Zi.memoizedState:Ka.next;if(t!==null)Ka=t,Oa=e;else{if(e===null)throw Error(Qt(310));Oa=e,e={memoizedState:Oa.memoizedState,baseState:Oa.baseState,baseQueue:Oa.baseQueue,queue:Oa.queue,next:null},Ka===null?Zi.memoizedState=Ka=e:Ka=Ka.next=e}return Ka}function Wx(e,t){return typeof t=="function"?t(e):t}function YE(e){var t=Il(),r=t.queue;if(r===null)throw Error(Qt(311));r.lastRenderedReducer=e;var n=Oa,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=l=null,p=null,f=s;do{var g=f.lane;if((Dm&g)===g)p!==null&&(p=p.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),n=f.hasEagerState?f.eagerState:e(n,f.action);else{var v={lane:g,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};p===null?(a=p=v,l=n):p=p.next=v,Zi.lanes|=g,zm|=g}f=f.next}while(f!==null&&f!==s);p===null?l=n:p.next=a,_c(n,t.memoizedState)||(Ts=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=p,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Zi.lanes|=s,zm|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function XE(e){var t=Il(),r=t.queue;if(r===null)throw Error(Qt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do s=e(s,l.action),l=l.next;while(l!==i);_c(s,t.memoizedState)||(Ts=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function wY(){}function SY(e,t){var r=Zi,n=Il(),i=t(),s=!_c(n.memoizedState,i);if(s&&(n.memoizedState=i,Ts=!0),n=n.queue,oC(TY.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ka!==null&&Ka.memoizedState.tag&1){if(r.flags|=2048,$x(9,AY.bind(null,r,n,i,t),void 0,null),Ja===null)throw Error(Qt(349));Dm&30||EY(r,t,i)}return i}function EY(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Zi.updateQueue,t===null?(t={lastEffect:null,stores:null},Zi.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function AY(e,t,r,n){t.value=r,t.getSnapshot=n,MY(t)&&PY(e)}function TY(e,t,r){return r(function(){MY(t)&&PY(e)})}function MY(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_c(e,r)}catch{return!0}}function PY(e){var t=kd(e,1);t!==null&&yc(t,e,1,-1)}function sU(e){var t=Zc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wx,lastRenderedState:e},t.queue=e,e=e.dispatch=a1e.bind(null,Zi,e),[t.memoizedState,e]}function $x(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Zi.updateQueue,t===null?(t={lastEffect:null,stores:null},Zi.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function kY(){return Il().memoizedState}function Y3(e,t,r,n){var i=Zc();Zi.flags|=e,i.memoizedState=$x(1|t,r,void 0,n===void 0?null:n)}function e9(e,t,r,n){var i=Il();n=n===void 0?null:n;var s=void 0;if(Oa!==null){var l=Oa.memoizedState;if(s=l.destroy,n!==null&&nC(n,l.deps)){i.memoizedState=$x(t,r,s,n);return}}Zi.flags|=e,i.memoizedState=$x(1|t,r,s,n)}function lU(e,t){return Y3(8390656,8,e,t)}function oC(e,t){return e9(2048,8,e,t)}function IY(e,t){return e9(4,2,e,t)}function CY(e,t){return e9(4,4,e,t)}function DY(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zY(e,t,r){return r=r!=null?r.concat([e]):null,e9(4,4,DY.bind(null,t,e),r)}function sC(){}function RY(e,t){var r=Il();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function NY(e,t){var r=Il();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function LY(e,t,r){return Dm&21?(_c(r,t)||(r=FZ(),Zi.lanes|=r,zm|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ts=!0),e.memoizedState=r)}function n1e(e,t){var r=ti;ti=r!==0&&4>r?r:4,e(!0);var n=ZE.transition;ZE.transition={};try{e(!1),t()}finally{ti=r,ZE.transition=n}}function OY(){return Il().memoizedState}function i1e(e,t,r){var n=rh(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},BY(e))FY(t,r);else if(r=mY(e,t,r,n),r!==null){var i=ls();yc(r,e,n,i),jY(r,t,n)}}function a1e(e,t,r){var n=rh(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(BY(e))FY(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,a=s(l,r);if(i.hasEagerState=!0,i.eagerState=a,_c(a,l)){var p=t.interleaved;p===null?(i.next=i,QI(t)):(i.next=p.next,p.next=i),t.interleaved=i;return}}catch{}finally{}r=mY(e,t,i,n),r!==null&&(i=ls(),yc(r,e,n,i),jY(r,t,n))}}function BY(e){var t=e.alternate;return e===Zi||t!==null&&t===Zi}function FY(e,t){lx=K5=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jY(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,BI(e,r)}}var q5={readContext:kl,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},o1e={readContext:kl,useCallback:function(e,t){return Zc().memoizedState=[e,t===void 0?null:t],e},useContext:kl,useEffect:lU,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Y3(4194308,4,DY.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Y3(4194308,4,e,t)},useInsertionEffect:function(e,t){return Y3(4,2,e,t)},useMemo:function(e,t){var r=Zc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zc();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=i1e.bind(null,Zi,e),[n.memoizedState,e]},useRef:function(e){var t=Zc();return e={current:e},t.memoizedState=e},useState:sU,useDebugValue:sC,useDeferredValue:function(e){return Zc().memoizedState=e},useTransition:function(){var e=sU(!1),t=e[0];return e=n1e.bind(null,e[1]),Zc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Zi,i=Zc();if(Ni){if(r===void 0)throw Error(Qt(407));r=r()}else{if(r=t(),Ja===null)throw Error(Qt(349));Dm&30||EY(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,lU(TY.bind(null,n,s,e),[e]),n.flags|=2048,$x(9,AY.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Zc(),t=Ja.identifierPrefix;if(Ni){var r=_d,n=vd;r=(n&~(1<<32-gc(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ux++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=r1e++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},s1e={readContext:kl,useCallback:RY,useContext:kl,useEffect:oC,useImperativeHandle:zY,useInsertionEffect:IY,useLayoutEffect:CY,useMemo:NY,useReducer:YE,useRef:kY,useState:function(){return YE(Wx)},useDebugValue:sC,useDeferredValue:function(e){var t=Il();return LY(t,Oa.memoizedState,e)},useTransition:function(){var e=YE(Wx)[0],t=Il().memoizedState;return[e,t]},useMutableSource:wY,useSyncExternalStore:SY,useId:OY,unstable_isNewReconciler:!1},l1e={readContext:kl,useCallback:RY,useContext:kl,useEffect:oC,useImperativeHandle:zY,useInsertionEffect:IY,useLayoutEffect:CY,useMemo:NY,useReducer:XE,useRef:kY,useState:function(){return XE(Wx)},useDebugValue:sC,useDeferredValue:function(e){var t=Il();return Oa===null?t.memoizedState=e:LY(t,Oa.memoizedState,e)},useTransition:function(){var e=XE(Wx)[0],t=Il().memoizedState;return[e,t]},useMutableSource:wY,useSyncExternalStore:SY,useId:OY,unstable_isNewReconciler:!1};function gy(e,t){try{var r="",n=t;do r+=Lhe(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function QE(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function uP(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var c1e=typeof WeakMap=="function"?WeakMap:Map;function VY(e,t,r){r=Sd(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){H5||(H5=!0,bP=n),uP(e,t)},r}function UY(e,t,r){r=Sd(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){uP(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){uP(e,t),typeof n!="function"&&(th===null?th=new Set([this]):th.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function cU(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new c1e;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=S1e.bind(null,e,t,r),t.then(e,e))}function uU(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dU(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Sd(-1,1),t.tag=2,eh(r,t,1))),r.lanes|=1),e)}var u1e=Od.ReactCurrentOwner,Ts=!1;function es(e,t,r,n){t.child=e===null?bY(t,null,r,n):fy(t,e.child,r,n)}function pU(e,t,r,n,i){r=r.render;var s=t.ref;return Jg(t,i),n=iC(e,t,r,n,s,i),r=aC(),e!==null&&!Ts?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Id(e,t,i)):(Ni&&r&&qI(t),t.flags|=1,es(e,t,n,i),t.child)}function hU(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!mC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,WY(e,t,s,n,i)):(e=e5(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var l=s.memoizedProps;if(r=r.compare,r=r!==null?r:Lx,r(l,n)&&e.ref===t.ref)return Id(e,t,i)}return t.flags|=1,e=nh(s,n),e.ref=t.ref,e.return=t,t.child=e}function WY(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Lx(s,n)&&e.ref===t.ref)if(Ts=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Ts=!0);else return t.lanes=e.lanes,Id(e,t,i)}return dP(e,t,r,n,i)}function $Y(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fi(Bg,Vs),Vs|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fi(Bg,Vs),Vs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,fi(Bg,Vs),Vs|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,fi(Bg,Vs),Vs|=n;return es(e,t,i,r),t.child}function KY(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function dP(e,t,r,n,i){var s=Is(r)?Im:Vo.current;return s=py(t,s),Jg(t,i),r=iC(e,t,r,n,s,i),n=aC(),e!==null&&!Ts?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Id(e,t,i)):(Ni&&n&&qI(t),t.flags|=1,es(e,t,r,i),t.child)}function fU(e,t,r,n,i){if(Is(r)){var s=!0;B5(t)}else s=!1;if(Jg(t,i),t.stateNode===null)X3(e,t),vY(t,r,n),cP(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,a=t.memoizedProps;l.props=a;var p=l.context,f=r.contextType;typeof f=="object"&&f!==null?f=kl(f):(f=Is(r)?Im:Vo.current,f=py(t,f));var g=r.getDerivedStateFromProps,v=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function";v||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==n||p!==f)&&aU(t,l,n,f),zp=!1;var _=t.memoizedState;l.state=_,W5(t,n,l,i),p=t.memoizedState,a!==n||_!==p||ks.current||zp?(typeof g=="function"&&(lP(t,r,g,n),p=t.memoizedState),(a=zp||iU(t,r,a,n,_,p,f))?(v||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=p),l.props=n,l.state=p,l.context=f,n=a):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,gY(e,t),a=t.memoizedProps,f=t.type===t.elementType?a:ic(t.type,a),l.props=f,v=t.pendingProps,_=l.context,p=r.contextType,typeof p=="object"&&p!==null?p=kl(p):(p=Is(r)?Im:Vo.current,p=py(t,p));var T=r.getDerivedStateFromProps;(g=typeof T=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==v||_!==p)&&aU(t,l,n,p),zp=!1,_=t.memoizedState,l.state=_,W5(t,n,l,i);var z=t.memoizedState;a!==v||_!==z||ks.current||zp?(typeof T=="function"&&(lP(t,r,T,n),z=t.memoizedState),(f=zp||iU(t,r,f,n,_,z,p)||!1)?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,z,p),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,z,p)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=z),l.props=n,l.state=z,l.context=p,n=f):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),n=!1)}return pP(e,t,r,n,s,i)}function pP(e,t,r,n,i,s){KY(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&JV(t,r,!1),Id(e,t,s);n=t.stateNode,u1e.current=t;var a=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=fy(t,e.child,null,s),t.child=fy(t,null,a,s)):es(e,t,a,s),t.memoizedState=n.state,i&&JV(t,r,!0),t.child}function qY(e){var t=e.stateNode;t.pendingContext?QV(e,t.pendingContext,t.pendingContext!==t.context):t.context&&QV(e,t.context,!1),eC(e,t.containerInfo)}function mU(e,t,r,n,i){return hy(),HI(i),t.flags|=256,es(e,t,r,n),t.child}var hP={dehydrated:null,treeContext:null,retryLane:0};function fP(e){return{baseLanes:e,cachePool:null,transitions:null}}function GY(e,t,r){var n=t.pendingProps,i=qi.current,s=!1,l=(t.flags&128)!==0,a;if((a=l)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),fi(qi,i&1),e===null)return oP(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,s?(n=t.mode,s=t.child,l={mode:"hidden",children:l},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=n9(l,n,0,null),e=wm(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=fP(r),t.memoizedState=hP,e):lC(t,l));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return d1e(e,t,l,n,a,i,r);if(s){s=n.fallback,l=t.mode,i=e.child,a=i.sibling;var p={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=p,t.deletions=null):(n=nh(i,p),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=nh(a,s):(s=wm(s,l,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,l=e.child.memoizedState,l=l===null?fP(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=hP,n}return s=e.child,e=s.sibling,n=nh(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function lC(e,t){return t=n9({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jw(e,t,r,n){return n!==null&&HI(n),fy(t,e.child,null,r),e=lC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function d1e(e,t,r,n,i,s,l){if(r)return t.flags&256?(t.flags&=-257,n=QE(Error(Qt(422))),jw(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=n9({mode:"visible",children:n.children},i,0,null),s=wm(s,i,l,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&fy(t,e.child,null,l),t.child.memoizedState=fP(l),t.memoizedState=hP,s);if(!(t.mode&1))return jw(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(Qt(419)),n=QE(s,n,void 0),jw(e,t,l,n)}if(a=(l&e.childLanes)!==0,Ts||a){if(n=Ja,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,kd(e,i),yc(n,e,i,-1))}return fC(),n=QE(Error(Qt(421))),jw(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=E1e.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ys=Jp(i.nextSibling),Xs=t,Ni=!0,lc=null,e!==null&&(bl[xl++]=vd,bl[xl++]=_d,bl[xl++]=Cm,vd=e.id,_d=e.overflow,Cm=t),t=lC(t,n.children),t.flags|=4096,t)}function gU(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sP(e.return,t,r)}function JE(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function HY(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(es(e,t,n.children,r),n=qi.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gU(e,r,t);else if(e.tag===19)gU(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fi(qi,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&$5(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),JE(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$5(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}JE(t,!0,r,null,s);break;case"together":JE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function X3(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Id(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zm|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Qt(153));if(t.child!==null){for(e=t.child,r=nh(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=nh(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function p1e(e,t,r){switch(t.tag){case 3:qY(t),hy();break;case 5:xY(t);break;case 1:Is(t.type)&&B5(t);break;case 4:eC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;fi(V5,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(fi(qi,qi.current&1),t.flags|=128,null):r&t.child.childLanes?GY(e,t,r):(fi(qi,qi.current&1),e=Id(e,t,r),e!==null?e.sibling:null);fi(qi,qi.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return HY(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(qi,qi.current),n)break;return null;case 22:case 23:return t.lanes=0,$Y(e,t,r)}return Id(e,t,r)}var ZY,mP,YY,XY;ZY=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};mP=function(){};YY=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,cm(iu.current);var s=null;switch(r){case"input":i=OM(e,i),n=OM(e,n),s=[];break;case"select":i=Xi({},i,{value:void 0}),n=Xi({},n,{value:void 0}),s=[];break;case"textarea":i=jM(e,i),n=jM(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=L5)}UM(r,n);var l;r=null;for(f in i)if(!n.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var a=i[f];for(l in a)a.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(kx.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in n){var p=n[f];if(a=i!=null?i[f]:void 0,n.hasOwnProperty(f)&&p!==a&&(p!=null||a!=null))if(f==="style")if(a){for(l in a)!a.hasOwnProperty(l)||p&&p.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in p)p.hasOwnProperty(l)&&a[l]!==p[l]&&(r||(r={}),r[l]=p[l])}else r||(s||(s=[]),s.push(f,r)),r=p;else f==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,a=a?a.__html:void 0,p!=null&&a!==p&&(s=s||[]).push(f,p)):f==="children"?typeof p!="string"&&typeof p!="number"||(s=s||[]).push(f,""+p):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(kx.hasOwnProperty(f)?(p!=null&&f==="onScroll"&&bi("scroll",e),s||a===p||(s=[])):(s=s||[]).push(f,p))}r&&(s=s||[]).push("style",r);var f=s;(t.updateQueue=f)&&(t.flags|=4)}};XY=function(e,t,r,n){r!==n&&(t.flags|=4)};function yb(e,t){if(!Ni)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function So(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function h1e(e,t,r){var n=t.pendingProps;switch(GI(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return So(t),null;case 1:return Is(t.type)&&O5(),So(t),null;case 3:return n=t.stateNode,my(),wi(ks),wi(Vo),rC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bw(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lc!==null&&(SP(lc),lc=null))),mP(e,t),So(t),null;case 5:tC(t);var i=cm(Vx.current);if(r=t.type,e!==null&&t.stateNode!=null)YY(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Qt(166));return So(t),null}if(e=cm(iu.current),Bw(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Xc]=t,n[Fx]=s,e=(t.mode&1)!==0,r){case"dialog":bi("cancel",n),bi("close",n);break;case"iframe":case"object":case"embed":bi("load",n);break;case"video":case"audio":for(i=0;i<Kb.length;i++)bi(Kb[i],n);break;case"source":bi("error",n);break;case"img":case"image":case"link":bi("error",n),bi("load",n);break;case"details":bi("toggle",n);break;case"input":AV(n,s),bi("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},bi("invalid",n);break;case"textarea":MV(n,s),bi("invalid",n)}UM(r,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var a=s[l];l==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ow(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ow(n.textContent,a,e),i=["children",""+a]):kx.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&bi("scroll",n)}switch(r){case"input":kw(n),TV(n,s,!0);break;case"textarea":kw(n),PV(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=L5)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=EZ(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Xc]=t,e[Fx]=n,ZY(e,t,!1,!1),t.stateNode=e;e:{switch(l=WM(r,n),r){case"dialog":bi("cancel",e),bi("close",e),i=n;break;case"iframe":case"object":case"embed":bi("load",e),i=n;break;case"video":case"audio":for(i=0;i<Kb.length;i++)bi(Kb[i],e);i=n;break;case"source":bi("error",e),i=n;break;case"img":case"image":case"link":bi("error",e),bi("load",e),i=n;break;case"details":bi("toggle",e),i=n;break;case"input":AV(e,n),i=OM(e,n),bi("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Xi({},n,{value:void 0}),bi("invalid",e);break;case"textarea":MV(e,n),i=jM(e,n),bi("invalid",e);break;default:i=n}UM(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var p=a[s];s==="style"?MZ(e,p):s==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&AZ(e,p)):s==="children"?typeof p=="string"?(r!=="textarea"||p!=="")&&Ix(e,p):typeof p=="number"&&Ix(e,""+p):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(kx.hasOwnProperty(s)?p!=null&&s==="onScroll"&&bi("scroll",e):p!=null&&DI(e,s,p,l))}switch(r){case"input":kw(e),TV(e,n,!1);break;case"textarea":kw(e),PV(e);break;case"option":n.value!=null&&e.setAttribute("value",""+vh(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Zg(e,!!n.multiple,s,!1):n.defaultValue!=null&&Zg(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=L5)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return So(t),null;case 6:if(e&&t.stateNode!=null)XY(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Qt(166));if(r=cm(Vx.current),cm(iu.current),Bw(t)){if(n=t.stateNode,r=t.memoizedProps,n[Xc]=t,(s=n.nodeValue!==r)&&(e=Xs,e!==null))switch(e.tag){case 3:Ow(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ow(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xc]=t,t.stateNode=n}return So(t),null;case 13:if(wi(qi),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ni&&Ys!==null&&t.mode&1&&!(t.flags&128))fY(),hy(),t.flags|=98560,s=!1;else if(s=Bw(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Qt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Qt(317));s[Xc]=t}else hy(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;So(t),s=!1}else lc!==null&&(SP(lc),lc=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qi.current&1?Ba===0&&(Ba=3):fC())),t.updateQueue!==null&&(t.flags|=4),So(t),null);case 4:return my(),mP(e,t),e===null&&Ox(t.stateNode.containerInfo),So(t),null;case 10:return XI(t.type._context),So(t),null;case 17:return Is(t.type)&&O5(),So(t),null;case 19:if(wi(qi),s=t.memoizedState,s===null)return So(t),null;if(n=(t.flags&128)!==0,l=s.rendering,l===null)if(n)yb(s,!1);else{if(Ba!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=$5(e),l!==null){for(t.flags|=128,yb(s,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fi(qi,qi.current&1|2),t.child}e=e.sibling}s.tail!==null&&ga()>yy&&(t.flags|=128,n=!0,yb(s,!1),t.lanes=4194304)}else{if(!n)if(e=$5(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yb(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!Ni)return So(t),null}else 2*ga()-s.renderingStartTime>yy&&r!==1073741824&&(t.flags|=128,n=!0,yb(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(r=s.last,r!==null?r.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ga(),t.sibling=null,r=qi.current,fi(qi,n?r&1|2:r&1),t):(So(t),null);case 22:case 23:return hC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Vs&1073741824&&(So(t),t.subtreeFlags&6&&(t.flags|=8192)):So(t),null;case 24:return null;case 25:return null}throw Error(Qt(156,t.tag))}function f1e(e,t){switch(GI(t),t.tag){case 1:return Is(t.type)&&O5(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return my(),wi(ks),wi(Vo),rC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tC(t),null;case 13:if(wi(qi),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Qt(340));hy()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wi(qi),null;case 4:return my(),null;case 10:return XI(t.type._context),null;case 22:case 23:return hC(),null;case 24:return null;default:return null}}var Vw=!1,No=!1,m1e=typeof WeakSet=="function"?WeakSet:Set,xr=null;function Og(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){da(e,t,n)}else r.current=null}function gP(e,t,r){try{r()}catch(n){da(e,t,n)}}var yU=!1;function g1e(e,t){if(JM=z5,e=tY(),KI(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var l=0,a=-1,p=-1,f=0,g=0,v=e,_=null;t:for(;;){for(var T;v!==r||i!==0&&v.nodeType!==3||(a=l+i),v!==s||n!==0&&v.nodeType!==3||(p=l+n),v.nodeType===3&&(l+=v.nodeValue.length),(T=v.firstChild)!==null;)_=v,v=T;for(;;){if(v===e)break t;if(_===r&&++f===i&&(a=l),_===s&&++g===n&&(p=l),(T=v.nextSibling)!==null)break;v=_,_=v.parentNode}v=T}r=a===-1||p===-1?null:{start:a,end:p}}else r=null}r=r||{start:0,end:0}}else r=null;for(eP={focusedElem:e,selectionRange:r},z5=!1,xr=t;xr!==null;)if(t=xr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xr=e;else for(;xr!==null;){t=xr;try{var z=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var I=z.memoizedProps,k=z.memoizedState,C=t.stateNode,L=C.getSnapshotBeforeUpdate(t.elementType===t.type?I:ic(t.type,I),k);C.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qt(163))}}catch($){da(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,xr=e;break}xr=t.return}return z=yU,yU=!1,z}function cx(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&gP(t,r,s)}i=i.next}while(i!==n)}}function t9(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function yP(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function QY(e){var t=e.alternate;t!==null&&(e.alternate=null,QY(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xc],delete t[Fx],delete t[nP],delete t[Qfe],delete t[Jfe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function JY(e){return e.tag===5||e.tag===3||e.tag===4}function vU(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||JY(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vP(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=L5));else if(n!==4&&(e=e.child,e!==null))for(vP(e,t,r),e=e.sibling;e!==null;)vP(e,t,r),e=e.sibling}function _P(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(_P(e,t,r),e=e.sibling;e!==null;)_P(e,t,r),e=e.sibling}var io=null,sc=!1;function _p(e,t,r){for(r=r.child;r!==null;)eX(e,t,r),r=r.sibling}function eX(e,t,r){if(nu&&typeof nu.onCommitFiberUnmount=="function")try{nu.onCommitFiberUnmount(G8,r)}catch{}switch(r.tag){case 5:No||Og(r,t);case 6:var n=io,i=sc;io=null,_p(e,t,r),io=n,sc=i,io!==null&&(sc?(e=io,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):io.removeChild(r.stateNode));break;case 18:io!==null&&(sc?(e=io,r=r.stateNode,e.nodeType===8?qE(e.parentNode,r):e.nodeType===1&&qE(e,r),Rx(e)):qE(io,r.stateNode));break;case 4:n=io,i=sc,io=r.stateNode.containerInfo,sc=!0,_p(e,t,r),io=n,sc=i;break;case 0:case 11:case 14:case 15:if(!No&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&gP(r,t,l),i=i.next}while(i!==n)}_p(e,t,r);break;case 1:if(!No&&(Og(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){da(r,t,a)}_p(e,t,r);break;case 21:_p(e,t,r);break;case 22:r.mode&1?(No=(n=No)||r.memoizedState!==null,_p(e,t,r),No=n):_p(e,t,r);break;default:_p(e,t,r)}}function _U(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new m1e),t.forEach(function(n){var i=A1e.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ec(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,l=t,a=l;e:for(;a!==null;){switch(a.tag){case 5:io=a.stateNode,sc=!1;break e;case 3:io=a.stateNode.containerInfo,sc=!0;break e;case 4:io=a.stateNode.containerInfo,sc=!0;break e}a=a.return}if(io===null)throw Error(Qt(160));eX(s,l,i),io=null,sc=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(f){da(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tX(t,e),t=t.sibling}function tX(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ec(t,e),Wc(e),n&4){try{cx(3,e,e.return),t9(3,e)}catch(I){da(e,e.return,I)}try{cx(5,e,e.return)}catch(I){da(e,e.return,I)}}break;case 1:ec(t,e),Wc(e),n&512&&r!==null&&Og(r,r.return);break;case 5:if(ec(t,e),Wc(e),n&512&&r!==null&&Og(r,r.return),e.flags&32){var i=e.stateNode;try{Ix(i,"")}catch(I){da(e,e.return,I)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,l=r!==null?r.memoizedProps:s,a=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&wZ(i,s),WM(a,l);var f=WM(a,s);for(l=0;l<p.length;l+=2){var g=p[l],v=p[l+1];g==="style"?MZ(i,v):g==="dangerouslySetInnerHTML"?AZ(i,v):g==="children"?Ix(i,v):DI(i,g,v,f)}switch(a){case"input":BM(i,s);break;case"textarea":SZ(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var T=s.value;T!=null?Zg(i,!!s.multiple,T,!1):_!==!!s.multiple&&(s.defaultValue!=null?Zg(i,!!s.multiple,s.defaultValue,!0):Zg(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fx]=s}catch(I){da(e,e.return,I)}}break;case 6:if(ec(t,e),Wc(e),n&4){if(e.stateNode===null)throw Error(Qt(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(I){da(e,e.return,I)}}break;case 3:if(ec(t,e),Wc(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rx(t.containerInfo)}catch(I){da(e,e.return,I)}break;case 4:ec(t,e),Wc(e);break;case 13:ec(t,e),Wc(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dC=ga())),n&4&&_U(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(No=(f=No)||g,ec(t,e),No=f):ec(t,e),Wc(e),n&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!g&&e.mode&1)for(xr=e,g=e.child;g!==null;){for(v=xr=g;xr!==null;){switch(_=xr,T=_.child,_.tag){case 0:case 11:case 14:case 15:cx(4,_,_.return);break;case 1:Og(_,_.return);var z=_.stateNode;if(typeof z.componentWillUnmount=="function"){n=_,r=_.return;try{t=n,z.props=t.memoizedProps,z.state=t.memoizedState,z.componentWillUnmount()}catch(I){da(n,r,I)}}break;case 5:Og(_,_.return);break;case 22:if(_.memoizedState!==null){xU(v);continue}}T!==null?(T.return=_,xr=T):xU(v)}g=g.sibling}e:for(g=null,v=e;;){if(v.tag===5){if(g===null){g=v;try{i=v.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=v.stateNode,p=v.memoizedProps.style,l=p!=null&&p.hasOwnProperty("display")?p.display:null,a.style.display=TZ("display",l))}catch(I){da(e,e.return,I)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=f?"":v.memoizedProps}catch(I){da(e,e.return,I)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:ec(t,e),Wc(e),n&4&&_U(e);break;case 21:break;default:ec(t,e),Wc(e)}}function Wc(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(JY(r)){var n=r;break e}r=r.return}throw Error(Qt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ix(i,""),n.flags&=-33);var s=vU(e);_P(e,s,i);break;case 3:case 4:var l=n.stateNode.containerInfo,a=vU(e);vP(e,a,l);break;default:throw Error(Qt(161))}}catch(p){da(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function y1e(e,t,r){xr=e,rX(e)}function rX(e,t,r){for(var n=(e.mode&1)!==0;xr!==null;){var i=xr,s=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||Vw;if(!l){var a=i.alternate,p=a!==null&&a.memoizedState!==null||No;a=Vw;var f=No;if(Vw=l,(No=p)&&!f)for(xr=i;xr!==null;)l=xr,p=l.child,l.tag===22&&l.memoizedState!==null?wU(i):p!==null?(p.return=l,xr=p):wU(i);for(;s!==null;)xr=s,rX(s),s=s.sibling;xr=i,Vw=a,No=f}bU(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xr=s):bU(e)}}function bU(e){for(;xr!==null;){var t=xr;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:No||t9(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!No)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ic(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&nU(t,s,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}nU(t,l,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&r.focus();break;case"img":p.src&&(r.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var g=f.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&Rx(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qt(163))}No||t.flags&512&&yP(t)}catch(_){da(t,t.return,_)}}if(t===e){xr=null;break}if(r=t.sibling,r!==null){r.return=t.return,xr=r;break}xr=t.return}}function xU(e){for(;xr!==null;){var t=xr;if(t===e){xr=null;break}var r=t.sibling;if(r!==null){r.return=t.return,xr=r;break}xr=t.return}}function wU(e){for(;xr!==null;){var t=xr;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{t9(4,t)}catch(p){da(t,r,p)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(p){da(t,i,p)}}var s=t.return;try{yP(t)}catch(p){da(t,s,p)}break;case 5:var l=t.return;try{yP(t)}catch(p){da(t,l,p)}}}catch(p){da(t,t.return,p)}if(t===e){xr=null;break}var a=t.sibling;if(a!==null){a.return=t.return,xr=a;break}xr=t.return}}var v1e=Math.ceil,G5=Od.ReactCurrentDispatcher,cC=Od.ReactCurrentOwner,Al=Od.ReactCurrentBatchConfig,zn=0,Ja=null,ka=null,co=0,Vs=0,Bg=jh(0),Ba=0,Kx=null,zm=0,r9=0,uC=0,ux=null,Es=null,dC=0,yy=1/0,nd=null,H5=!1,bP=null,th=null,Uw=!1,Wp=null,Z5=0,dx=0,xP=null,Q3=-1,J3=0;function ls(){return zn&6?ga():Q3!==-1?Q3:Q3=ga()}function rh(e){return e.mode&1?zn&2&&co!==0?co&-co:t1e.transition!==null?(J3===0&&(J3=FZ()),J3):(e=ti,e!==0||(e=window.event,e=e===void 0?16:qZ(e.type)),e):1}function yc(e,t,r,n){if(50<dx)throw dx=0,xP=null,Error(Qt(185));w4(e,r,n),(!(zn&2)||e!==Ja)&&(e===Ja&&(!(zn&2)&&(r9|=r),Ba===4&&Fp(e,co)),Cs(e,n),r===1&&zn===0&&!(t.mode&1)&&(yy=ga()+500,Q8&&Vh()))}function Cs(e,t){var r=e.callbackNode;tfe(e,t);var n=D5(e,e===Ja?co:0);if(n===0)r!==null&&CV(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&CV(r),t===1)e.tag===0?e1e(SU.bind(null,e)):dY(SU.bind(null,e)),Yfe(function(){!(zn&6)&&Vh()}),r=null;else{switch(jZ(n)){case 1:r=OI;break;case 4:r=OZ;break;case 16:r=C5;break;case 536870912:r=BZ;break;default:r=C5}r=uX(r,nX.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nX(e,t){if(Q3=-1,J3=0,zn&6)throw Error(Qt(327));var r=e.callbackNode;if(ey()&&e.callbackNode!==r)return null;var n=D5(e,e===Ja?co:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Y5(e,n);else{t=n;var i=zn;zn|=2;var s=aX();(Ja!==e||co!==t)&&(nd=null,yy=ga()+500,xm(e,t));do try{x1e();break}catch(a){iX(e,a)}while(1);YI(),G5.current=s,zn=i,ka!==null?t=0:(Ja=null,co=0,t=Ba)}if(t!==0){if(t===2&&(i=HM(e),i!==0&&(n=i,t=wP(e,i))),t===1)throw r=Kx,xm(e,0),Fp(e,n),Cs(e,ga()),r;if(t===6)Fp(e,n);else{if(i=e.current.alternate,!(n&30)&&!_1e(i)&&(t=Y5(e,n),t===2&&(s=HM(e),s!==0&&(n=s,t=wP(e,s))),t===1))throw r=Kx,xm(e,0),Fp(e,n),Cs(e,ga()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Qt(345));case 2:em(e,Es,nd);break;case 3:if(Fp(e,n),(n&130023424)===n&&(t=dC+500-ga(),10<t)){if(D5(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ls(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rP(em.bind(null,e,Es,nd),t);break}em(e,Es,nd);break;case 4:if(Fp(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-gc(n);s=1<<l,l=t[l],l>i&&(i=l),n&=~s}if(n=i,n=ga()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*v1e(n/1960))-n,10<n){e.timeoutHandle=rP(em.bind(null,e,Es,nd),n);break}em(e,Es,nd);break;case 5:em(e,Es,nd);break;default:throw Error(Qt(329))}}}return Cs(e,ga()),e.callbackNode===r?nX.bind(null,e):null}function wP(e,t){var r=ux;return e.current.memoizedState.isDehydrated&&(xm(e,t).flags|=256),e=Y5(e,t),e!==2&&(t=Es,Es=r,t!==null&&SP(t)),e}function SP(e){Es===null?Es=e:Es.push.apply(Es,e)}function _1e(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!_c(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fp(e,t){for(t&=~uC,t&=~r9,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gc(t),n=1<<r;e[r]=-1,t&=~n}}function SU(e){if(zn&6)throw Error(Qt(327));ey();var t=D5(e,0);if(!(t&1))return Cs(e,ga()),null;var r=Y5(e,t);if(e.tag!==0&&r===2){var n=HM(e);n!==0&&(t=n,r=wP(e,n))}if(r===1)throw r=Kx,xm(e,0),Fp(e,t),Cs(e,ga()),r;if(r===6)throw Error(Qt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,em(e,Es,nd),Cs(e,ga()),null}function pC(e,t){var r=zn;zn|=1;try{return e(t)}finally{zn=r,zn===0&&(yy=ga()+500,Q8&&Vh())}}function Rm(e){Wp!==null&&Wp.tag===0&&!(zn&6)&&ey();var t=zn;zn|=1;var r=Al.transition,n=ti;try{if(Al.transition=null,ti=1,e)return e()}finally{ti=n,Al.transition=r,zn=t,!(zn&6)&&Vh()}}function hC(){Vs=Bg.current,wi(Bg)}function xm(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Zfe(r)),ka!==null)for(r=ka.return;r!==null;){var n=r;switch(GI(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&O5();break;case 3:my(),wi(ks),wi(Vo),rC();break;case 5:tC(n);break;case 4:my();break;case 13:wi(qi);break;case 19:wi(qi);break;case 10:XI(n.type._context);break;case 22:case 23:hC()}r=r.return}if(Ja=e,ka=e=nh(e.current,null),co=Vs=t,Ba=0,Kx=null,uC=r9=zm=0,Es=ux=null,lm!==null){for(t=0;t<lm.length;t++)if(r=lm[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var l=s.next;s.next=i,n.next=l}r.pending=n}lm=null}return e}function iX(e,t){do{var r=ka;try{if(YI(),Z3.current=q5,K5){for(var n=Zi.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}K5=!1}if(Dm=0,Ka=Oa=Zi=null,lx=!1,Ux=0,cC.current=null,r===null||r.return===null){Ba=1,Kx=t,ka=null;break}e:{var s=e,l=r.return,a=r,p=t;if(t=co,a.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var f=p,g=a,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var _=g.alternate;_?(g.updateQueue=_.updateQueue,g.memoizedState=_.memoizedState,g.lanes=_.lanes):(g.updateQueue=null,g.memoizedState=null)}var T=uU(l);if(T!==null){T.flags&=-257,dU(T,l,a,s,t),T.mode&1&&cU(s,f,t),t=T,p=f;var z=t.updateQueue;if(z===null){var I=new Set;I.add(p),t.updateQueue=I}else z.add(p);break e}else{if(!(t&1)){cU(s,f,t),fC();break e}p=Error(Qt(426))}}else if(Ni&&a.mode&1){var k=uU(l);if(k!==null){!(k.flags&65536)&&(k.flags|=256),dU(k,l,a,s,t),HI(gy(p,a));break e}}s=p=gy(p,a),Ba!==4&&(Ba=2),ux===null?ux=[s]:ux.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var C=VY(s,p,t);rU(s,C);break e;case 1:a=p;var L=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof L.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(th===null||!th.has(N)))){s.flags|=65536,t&=-t,s.lanes|=t;var $=UY(s,a,t);rU(s,$);break e}}s=s.return}while(s!==null)}sX(r)}catch(ee){t=ee,ka===r&&r!==null&&(ka=r=r.return);continue}break}while(1)}function aX(){var e=G5.current;return G5.current=q5,e===null?q5:e}function fC(){(Ba===0||Ba===3||Ba===2)&&(Ba=4),Ja===null||!(zm&268435455)&&!(r9&268435455)||Fp(Ja,co)}function Y5(e,t){var r=zn;zn|=2;var n=aX();(Ja!==e||co!==t)&&(nd=null,xm(e,t));do try{b1e();break}catch(i){iX(e,i)}while(1);if(YI(),zn=r,G5.current=n,ka!==null)throw Error(Qt(261));return Ja=null,co=0,Ba}function b1e(){for(;ka!==null;)oX(ka)}function x1e(){for(;ka!==null&&!qhe();)oX(ka)}function oX(e){var t=cX(e.alternate,e,Vs);e.memoizedProps=e.pendingProps,t===null?sX(e):ka=t,cC.current=null}function sX(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=f1e(r,t),r!==null){r.flags&=32767,ka=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ba=6,ka=null;return}}else if(r=h1e(r,t,Vs),r!==null){ka=r;return}if(t=t.sibling,t!==null){ka=t;return}ka=t=e}while(t!==null);Ba===0&&(Ba=5)}function em(e,t,r){var n=ti,i=Al.transition;try{Al.transition=null,ti=1,w1e(e,t,r,n)}finally{Al.transition=i,ti=n}return null}function w1e(e,t,r,n){do ey();while(Wp!==null);if(zn&6)throw Error(Qt(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Qt(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(rfe(e,s),e===Ja&&(ka=Ja=null,co=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Uw||(Uw=!0,uX(C5,function(){return ey(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Al.transition,Al.transition=null;var l=ti;ti=1;var a=zn;zn|=4,cC.current=null,g1e(e,r),tX(r,e),Ufe(eP),z5=!!JM,eP=JM=null,e.current=r,y1e(r),Ghe(),zn=a,ti=l,Al.transition=s}else e.current=r;if(Uw&&(Uw=!1,Wp=e,Z5=i),s=e.pendingLanes,s===0&&(th=null),Yhe(r.stateNode),Cs(e,ga()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(H5)throw H5=!1,e=bP,bP=null,e;return Z5&1&&e.tag!==0&&ey(),s=e.pendingLanes,s&1?e===xP?dx++:(dx=0,xP=e):dx=0,Vh(),null}function ey(){if(Wp!==null){var e=jZ(Z5),t=Al.transition,r=ti;try{if(Al.transition=null,ti=16>e?16:e,Wp===null)var n=!1;else{if(e=Wp,Wp=null,Z5=0,zn&6)throw Error(Qt(331));var i=zn;for(zn|=4,xr=e.current;xr!==null;){var s=xr,l=s.child;if(xr.flags&16){var a=s.deletions;if(a!==null){for(var p=0;p<a.length;p++){var f=a[p];for(xr=f;xr!==null;){var g=xr;switch(g.tag){case 0:case 11:case 15:cx(8,g,s)}var v=g.child;if(v!==null)v.return=g,xr=v;else for(;xr!==null;){g=xr;var _=g.sibling,T=g.return;if(QY(g),g===f){xr=null;break}if(_!==null){_.return=T,xr=_;break}xr=T}}}var z=s.alternate;if(z!==null){var I=z.child;if(I!==null){z.child=null;do{var k=I.sibling;I.sibling=null,I=k}while(I!==null)}}xr=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,xr=l;else e:for(;xr!==null;){if(s=xr,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cx(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,xr=C;break e}xr=s.return}}var L=e.current;for(xr=L;xr!==null;){l=xr;var N=l.child;if(l.subtreeFlags&2064&&N!==null)N.return=l,xr=N;else e:for(l=L;xr!==null;){if(a=xr,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:t9(9,a)}}catch(ee){da(a,a.return,ee)}if(a===l){xr=null;break e}var $=a.sibling;if($!==null){$.return=a.return,xr=$;break e}xr=a.return}}if(zn=i,Vh(),nu&&typeof nu.onPostCommitFiberRoot=="function")try{nu.onPostCommitFiberRoot(G8,e)}catch{}n=!0}return n}finally{ti=r,Al.transition=t}}return!1}function EU(e,t,r){t=gy(r,t),t=VY(e,t,1),e=eh(e,t,1),t=ls(),e!==null&&(w4(e,1,t),Cs(e,t))}function da(e,t,r){if(e.tag===3)EU(e,e,r);else for(;t!==null;){if(t.tag===3){EU(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(th===null||!th.has(n))){e=gy(r,e),e=UY(t,e,1),t=eh(t,e,1),e=ls(),t!==null&&(w4(t,1,e),Cs(t,e));break}}t=t.return}}function S1e(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ls(),e.pingedLanes|=e.suspendedLanes&r,Ja===e&&(co&r)===r&&(Ba===4||Ba===3&&(co&130023424)===co&&500>ga()-dC?xm(e,0):uC|=r),Cs(e,t)}function lX(e,t){t===0&&(e.mode&1?(t=Dw,Dw<<=1,!(Dw&130023424)&&(Dw=4194304)):t=1);var r=ls();e=kd(e,t),e!==null&&(w4(e,t,r),Cs(e,r))}function E1e(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),lX(e,r)}function A1e(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Qt(314))}n!==null&&n.delete(t),lX(e,r)}var cX;cX=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ks.current)Ts=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ts=!1,p1e(e,t,r);Ts=!!(e.flags&131072)}else Ts=!1,Ni&&t.flags&1048576&&pY(t,j5,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;X3(e,t),e=t.pendingProps;var i=py(t,Vo.current);Jg(t,r),i=iC(null,t,n,e,i,r);var s=aC();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Is(n)?(s=!0,B5(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,JI(t),i.updater=J8,t.stateNode=i,i._reactInternals=t,cP(t,n,e,r),t=pP(null,t,n,!0,s,r)):(t.tag=0,Ni&&s&&qI(t),es(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(X3(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=M1e(n),e=ic(n,e),i){case 0:t=dP(null,t,n,e,r);break e;case 1:t=fU(null,t,n,e,r);break e;case 11:t=pU(null,t,n,e,r);break e;case 14:t=hU(null,t,n,ic(n.type,e),r);break e}throw Error(Qt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ic(n,i),dP(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ic(n,i),fU(e,t,n,i,r);case 3:e:{if(qY(t),e===null)throw Error(Qt(387));n=t.pendingProps,s=t.memoizedState,i=s.element,gY(e,t),W5(t,n,null,r);var l=t.memoizedState;if(n=l.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=gy(Error(Qt(423)),t),t=mU(e,t,n,r,i);break e}else if(n!==i){i=gy(Error(Qt(424)),t),t=mU(e,t,n,r,i);break e}else for(Ys=Jp(t.stateNode.containerInfo.firstChild),Xs=t,Ni=!0,lc=null,r=bY(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hy(),n===i){t=Id(e,t,r);break e}es(e,t,n,r)}t=t.child}return t;case 5:return xY(t),e===null&&oP(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,l=i.children,tP(n,i)?l=null:s!==null&&tP(n,s)&&(t.flags|=32),KY(e,t),es(e,t,l,r),t.child;case 6:return e===null&&oP(t),null;case 13:return GY(e,t,r);case 4:return eC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=fy(t,null,n,r):es(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ic(n,i),pU(e,t,n,i,r);case 7:return es(e,t,t.pendingProps,r),t.child;case 8:return es(e,t,t.pendingProps.children,r),t.child;case 12:return es(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,l=i.value,fi(V5,n._currentValue),n._currentValue=l,s!==null)if(_c(s.value,l)){if(s.children===i.children&&!ks.current){t=Id(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){l=s.child;for(var p=a.firstContext;p!==null;){if(p.context===n){if(s.tag===1){p=Sd(-1,r&-r),p.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var g=f.pending;g===null?p.next=p:(p.next=g.next,g.next=p),f.pending=p}}s.lanes|=r,p=s.alternate,p!==null&&(p.lanes|=r),sP(s.return,r,t),a.lanes|=r;break}p=p.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(Qt(341));l.lanes|=r,a=l.alternate,a!==null&&(a.lanes|=r),sP(l,r,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}es(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Jg(t,r),i=kl(i),n=n(i),t.flags|=1,es(e,t,n,r),t.child;case 14:return n=t.type,i=ic(n,t.pendingProps),i=ic(n.type,i),hU(e,t,n,i,r);case 15:return WY(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ic(n,i),X3(e,t),t.tag=1,Is(n)?(e=!0,B5(t)):e=!1,Jg(t,r),vY(t,n,i),cP(t,n,i,r),pP(null,t,n,!0,e,r);case 19:return HY(e,t,r);case 22:return $Y(e,t,r)}throw Error(Qt(156,t.tag))};function uX(e,t){return LZ(e,t)}function T1e(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function El(e,t,r,n){return new T1e(e,t,r,n)}function mC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function M1e(e){if(typeof e=="function")return mC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===RI)return 11;if(e===NI)return 14}return 2}function nh(e,t){var r=e.alternate;return r===null?(r=El(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function e5(e,t,r,n,i,s){var l=2;if(n=e,typeof e=="function")mC(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Pg:return wm(r.children,i,s,t);case zI:l=8,i|=8;break;case zM:return e=El(12,r,t,i|2),e.elementType=zM,e.lanes=s,e;case RM:return e=El(13,r,t,i),e.elementType=RM,e.lanes=s,e;case NM:return e=El(19,r,t,i),e.elementType=NM,e.lanes=s,e;case _Z:return n9(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yZ:l=10;break e;case vZ:l=9;break e;case RI:l=11;break e;case NI:l=14;break e;case Dp:l=16,n=null;break e}throw Error(Qt(130,e==null?e:typeof e,""))}return t=El(l,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function wm(e,t,r,n){return e=El(7,e,n,t),e.lanes=r,e}function n9(e,t,r,n){return e=El(22,e,n,t),e.elementType=_Z,e.lanes=r,e.stateNode={isHidden:!1},e}function eA(e,t,r){return e=El(6,e,null,t),e.lanes=r,e}function tA(e,t,r){return t=El(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function P1e(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=NE(0),this.expirationTimes=NE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=NE(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gC(e,t,r,n,i,s,l,a,p){return e=new P1e(e,t,r,a,p),t===1?(t=1,s===!0&&(t|=8)):t=0,s=El(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},JI(s),e}function k1e(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mg,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function dX(e){if(!e)return _h;e=e._reactInternals;e:{if($m(e)!==e||e.tag!==1)throw Error(Qt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Is(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Qt(171))}if(e.tag===1){var r=e.type;if(Is(r))return uY(e,r,t)}return t}function pX(e,t,r,n,i,s,l,a,p){return e=gC(r,n,!0,e,i,s,l,a,p),e.context=dX(null),r=e.current,n=ls(),i=rh(r),s=Sd(n,i),s.callback=t??null,eh(r,s,i),e.current.lanes=i,w4(e,i,n),Cs(e,n),e}function i9(e,t,r,n){var i=t.current,s=ls(),l=rh(i);return r=dX(r),t.context===null?t.context=r:t.pendingContext=r,t=Sd(s,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=eh(i,t,l),e!==null&&(yc(e,i,l,s),H3(e,i,l)),l}function X5(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function AU(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function yC(e,t){AU(e,t),(e=e.alternate)&&AU(e,t)}function I1e(){return null}var hX=typeof reportError=="function"?reportError:function(e){console.error(e)};function vC(e){this._internalRoot=e}a9.prototype.render=vC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Qt(409));i9(e,t,null,null)};a9.prototype.unmount=vC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rm(function(){i9(null,e,null,null)}),t[Pd]=null}};function a9(e){this._internalRoot=e}a9.prototype.unstable_scheduleHydration=function(e){if(e){var t=WZ();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bp.length&&t!==0&&t<Bp[r].priority;r++);Bp.splice(r,0,e),r===0&&KZ(e)}};function _C(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o9(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function TU(){}function C1e(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var f=X5(l);s.call(f)}}var l=pX(t,n,e,0,null,!1,!1,"",TU);return e._reactRootContainer=l,e[Pd]=l.current,Ox(e.nodeType===8?e.parentNode:e),Rm(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var f=X5(p);a.call(f)}}var p=gC(e,0,!1,null,null,!1,!1,"",TU);return e._reactRootContainer=p,e[Pd]=p.current,Ox(e.nodeType===8?e.parentNode:e),Rm(function(){i9(t,p,r,n)}),p}function s9(e,t,r,n,i){var s=r._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var a=i;i=function(){var p=X5(l);a.call(p)}}i9(t,l,e,i)}else l=C1e(r,t,e,i,n);return X5(l)}VZ=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=$b(t.pendingLanes);r!==0&&(BI(t,r|1),Cs(t,ga()),!(zn&6)&&(yy=ga()+500,Vh()))}break;case 13:Rm(function(){var n=kd(e,1);if(n!==null){var i=ls();yc(n,e,1,i)}}),yC(e,1)}};FI=function(e){if(e.tag===13){var t=kd(e,134217728);if(t!==null){var r=ls();yc(t,e,134217728,r)}yC(e,134217728)}};UZ=function(e){if(e.tag===13){var t=rh(e),r=kd(e,t);if(r!==null){var n=ls();yc(r,e,t,n)}yC(e,t)}};WZ=function(){return ti};$Z=function(e,t){var r=ti;try{return ti=e,t()}finally{ti=r}};KM=function(e,t,r){switch(t){case"input":if(BM(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=X8(n);if(!i)throw Error(Qt(90));xZ(n),BM(n,i)}}}break;case"textarea":SZ(e,r);break;case"select":t=r.value,t!=null&&Zg(e,!!r.multiple,t,!1)}};IZ=pC;CZ=Rm;var D1e={usingClientEntryPoint:!1,Events:[E4,Dg,X8,PZ,kZ,pC]},vb={findFiberByHostInstance:sm,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},z1e={bundleType:vb.bundleType,version:vb.version,rendererPackageName:vb.rendererPackageName,rendererConfig:vb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Od.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=RZ(e),e===null?null:e.stateNode},findFiberByHostInstance:vb.findFiberByHostInstance||I1e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ww=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ww.isDisabled&&Ww.supportsFiber)try{G8=Ww.inject(z1e),nu=Ww}catch{}}tl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D1e;tl.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_C(t))throw Error(Qt(200));return k1e(e,t,null,r)};tl.createRoot=function(e,t){if(!_C(e))throw Error(Qt(299));var r=!1,n="",i=hX;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=gC(e,1,!1,null,null,r,!1,n,i),e[Pd]=t.current,Ox(e.nodeType===8?e.parentNode:e),new vC(t)};tl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Qt(188)):(e=Object.keys(e).join(","),Error(Qt(268,e)));return e=RZ(t),e=e===null?null:e.stateNode,e};tl.flushSync=function(e){return Rm(e)};tl.hydrate=function(e,t,r){if(!o9(t))throw Error(Qt(200));return s9(null,e,t,!0,r)};tl.hydrateRoot=function(e,t,r){if(!_C(e))throw Error(Qt(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",l=hX;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=pX(t,null,e,1,r??null,i,!1,s,l),e[Pd]=t.current,Ox(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new a9(t)};tl.render=function(e,t,r){if(!o9(t))throw Error(Qt(200));return s9(null,e,t,!1,r)};tl.unmountComponentAtNode=function(e){if(!o9(e))throw Error(Qt(40));return e._reactRootContainer?(Rm(function(){s9(null,null,e,!1,function(){e._reactRootContainer=null,e[Pd]=null})}),!0):!1};tl.unstable_batchedUpdates=pC;tl.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!o9(r))throw Error(Qt(200));if(e==null||e._reactInternals===void 0)throw Error(Qt(38));return s9(e,t,r,!1,n)};tl.version="18.2.0-next-9e3b772b8-20220608";function fX(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fX)}catch(e){console.error(e)}}fX(),pZ.exports=tl;var Pc=pZ.exports;const bC=Mc(Pc);var MU=Pc;CM.createRoot=MU.createRoot,CM.hydrateRoot=MU.hydrateRoot;const R1e=1,N1e=1e6;let rA=0;function L1e(){return rA=(rA+1)%Number.MAX_SAFE_INTEGER,rA.toString()}const nA=new Map,PU=e=>{if(nA.has(e))return;const t=setTimeout(()=>{nA.delete(e),px({type:"REMOVE_TOAST",toastId:e})},N1e);nA.set(e,t)},O1e=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,R1e)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?PU(r):e.toasts.forEach(n=>{PU(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},t5=[];let r5={toasts:[]};function px(e){r5=O1e(r5,e),t5.forEach(t=>{t(r5)})}function B1e({...e}){const t=L1e(),r=i=>px({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>px({type:"DISMISS_TOAST",toastId:t});return px({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function T4(){const[e,t]=R.useState(r5);return R.useEffect(()=>(t5.push(t),()=>{const r=t5.indexOf(t);r>-1&&t5.splice(r,1)}),[e]),{...e,toast:B1e,dismiss:r=>px({type:"DISMISS_TOAST",toastId:r})}}function Er(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function kU(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xC(...e){return t=>{let r=!1;const n=e.map(i=>{const s=kU(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():kU(e[i],null)}}}}function ri(...e){return R.useCallback(xC(...e),e)}function F1e(e,t){const r=R.createContext(t),n=s=>{const{children:l,...a}=s,p=R.useMemo(()=>a,Object.values(a));return B.jsx(r.Provider,{value:p,children:l})};n.displayName=e+"Provider";function i(s){const l=R.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,i]}function nl(e,t=[]){let r=[];function n(s,l){const a=R.createContext(l),p=r.length;r=[...r,l];const f=v=>{var C;const{scope:_,children:T,...z}=v,I=((C=_==null?void 0:_[e])==null?void 0:C[p])||a,k=R.useMemo(()=>z,Object.values(z));return B.jsx(I.Provider,{value:k,children:T})};f.displayName=s+"Provider";function g(v,_){var I;const T=((I=_==null?void 0:_[e])==null?void 0:I[p])||a,z=R.useContext(T);if(z)return z;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${s}\``)}return[f,g]}const i=()=>{const s=r.map(l=>R.createContext(l));return function(a){const p=(a==null?void 0:a[e])||s;return R.useMemo(()=>({[`__scope${e}`]:{...a,[e]:p}}),[a,p])}};return i.scopeName=e,[n,j1e(i,...t)]}function j1e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const l=n.reduce((a,{useScope:p,scopeName:f})=>{const v=p(s)[`__scope${f}`];return{...a,...v}},{});return R.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function vy(e){const t=V1e(e),r=R.forwardRef((n,i)=>{const{children:s,...l}=n,a=R.Children.toArray(s),p=a.find(W1e);if(p){const f=p.props.children,g=a.map(v=>v===p?R.Children.count(f)>1?R.Children.only(null):R.isValidElement(f)?f.props.children:null:v);return B.jsx(t,{...l,ref:i,children:R.isValidElement(f)?R.cloneElement(f,void 0,g):null})}return B.jsx(t,{...l,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}var n2=vy("Slot");function V1e(e){const t=R.forwardRef((r,n)=>{const{children:i,...s}=r,l=R.isValidElement(i)?K1e(i):void 0,a=ri(l,n);if(R.isValidElement(i)){const p=$1e(s,i.props);return i.type!==R.Fragment&&(p.ref=a),R.cloneElement(i,p)}return R.Children.count(i)>1?R.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mX=Symbol("radix.slottable");function U1e(e){const t=({children:r})=>B.jsx(B.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=mX,t}function W1e(e){return R.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mX}function $1e(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{const p=s(...a);return i(...a),p}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function K1e(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function l9(e){const t=e+"CollectionProvider",[r,n]=nl(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=I=>{const{scope:k,children:C}=I,L=dt.useRef(null),N=dt.useRef(new Map).current;return B.jsx(i,{scope:k,itemMap:N,collectionRef:L,children:C})};l.displayName=t;const a=e+"CollectionSlot",p=vy(a),f=dt.forwardRef((I,k)=>{const{scope:C,children:L}=I,N=s(a,C),$=ri(k,N.collectionRef);return B.jsx(p,{ref:$,children:L})});f.displayName=a;const g=e+"CollectionItemSlot",v="data-radix-collection-item",_=vy(g),T=dt.forwardRef((I,k)=>{const{scope:C,children:L,...N}=I,$=dt.useRef(null),ee=ri(k,$),re=s(g,C);return dt.useEffect(()=>(re.itemMap.set($,{ref:$,...N}),()=>void re.itemMap.delete($))),B.jsx(_,{[v]:"",ref:ee,children:L})});T.displayName=g;function z(I){const k=s(e+"CollectionConsumer",I);return dt.useCallback(()=>{const L=k.collectionRef.current;if(!L)return[];const N=Array.from(L.querySelectorAll(`[${v}]`));return Array.from(k.itemMap.values()).sort((re,ne)=>N.indexOf(re.ref.current)-N.indexOf(ne.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:l,Slot:f,ItemSlot:T},z,n]}var q1e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],on=q1e.reduce((e,t)=>{const r=vy(`Primitive.${t}`),n=R.forwardRef((i,s)=>{const{asChild:l,...a}=i,p=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),B.jsx(p,{...a,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function wC(e,t){e&&Pc.flushSync(()=>e.dispatchEvent(t))}function Ds(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e}),R.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function G1e(e,t=globalThis==null?void 0:globalThis.document){const r=Ds(e);R.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var H1e="DismissableLayer",EP="dismissableLayer.update",Z1e="dismissableLayer.pointerDownOutside",Y1e="dismissableLayer.focusOutside",IU,gX=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),M4=R.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:a,...p}=e,f=R.useContext(gX),[g,v]=R.useState(null),_=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=R.useState({}),z=ri(t,ne=>v(ne)),I=Array.from(f.layers),[k]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=I.indexOf(k),L=g?I.indexOf(g):-1,N=f.layersWithOutsidePointerEventsDisabled.size>0,$=L>=C,ee=Q1e(ne=>{const ie=ne.target,me=[...f.branches].some(Ze=>Ze.contains(ie));!$||me||(i==null||i(ne),l==null||l(ne),ne.defaultPrevented||a==null||a())},_),re=J1e(ne=>{const ie=ne.target;[...f.branches].some(Ze=>Ze.contains(ie))||(s==null||s(ne),l==null||l(ne),ne.defaultPrevented||a==null||a())},_);return G1e(ne=>{L===f.layers.size-1&&(n==null||n(ne),!ne.defaultPrevented&&a&&(ne.preventDefault(),a()))},_),R.useEffect(()=>{if(g)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(IU=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),CU(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=IU)}},[g,_,r,f]),R.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),CU())},[g,f]),R.useEffect(()=>{const ne=()=>T({});return document.addEventListener(EP,ne),()=>document.removeEventListener(EP,ne)},[]),B.jsx(on.div,{...p,ref:z,style:{pointerEvents:N?$?"auto":"none":void 0,...e.style},onFocusCapture:Er(e.onFocusCapture,re.onFocusCapture),onBlurCapture:Er(e.onBlurCapture,re.onBlurCapture),onPointerDownCapture:Er(e.onPointerDownCapture,ee.onPointerDownCapture)})});M4.displayName=H1e;var X1e="DismissableLayerBranch",yX=R.forwardRef((e,t)=>{const r=R.useContext(gX),n=R.useRef(null),i=ri(t,n);return R.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),B.jsx(on.div,{...e,ref:i})});yX.displayName=X1e;function Q1e(e,t=globalThis==null?void 0:globalThis.document){const r=Ds(e),n=R.useRef(!1),i=R.useRef(()=>{});return R.useEffect(()=>{const s=a=>{if(a.target&&!n.current){let p=function(){vX(Z1e,r,f,{discrete:!0})};const f={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=p,t.addEventListener("click",i.current,{once:!0})):p()}else t.removeEventListener("click",i.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function J1e(e,t=globalThis==null?void 0:globalThis.document){const r=Ds(e),n=R.useRef(!1);return R.useEffect(()=>{const i=s=>{s.target&&!n.current&&vX(Y1e,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function CU(){const e=new CustomEvent(EP);document.dispatchEvent(e)}function vX(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?wC(i,s):i.dispatchEvent(s)}var eme=M4,tme=yX,el=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},rme="Portal",c9=R.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[i,s]=R.useState(!1);el(()=>s(!0),[]);const l=r||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return l?bC.createPortal(B.jsx(on.div,{...n,ref:t}),l):null});c9.displayName=rme;function nme(e,t){return R.useReducer((r,n)=>t[r][n]??r,e)}var zl=e=>{const{present:t,children:r}=e,n=ime(t),i=typeof r=="function"?r({present:n.isPresent}):R.Children.only(r),s=ri(n.ref,ame(i));return typeof r=="function"||n.isPresent?R.cloneElement(i,{ref:s}):null};zl.displayName="Presence";function ime(e){const[t,r]=R.useState(),n=R.useRef(null),i=R.useRef(e),s=R.useRef("none"),l=e?"mounted":"unmounted",[a,p]=nme(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const f=$w(n.current);s.current=a==="mounted"?f:"none"},[a]),el(()=>{const f=n.current,g=i.current;if(g!==e){const _=s.current,T=$w(f);e?p("MOUNT"):T==="none"||(f==null?void 0:f.display)==="none"?p("UNMOUNT"):p(g&&_!==T?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,p]),el(()=>{if(t){let f;const g=t.ownerDocument.defaultView??window,v=T=>{const I=$w(n.current).includes(T.animationName);if(T.target===t&&I&&(p("ANIMATION_END"),!i.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",f=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},_=T=>{T.target===t&&(s.current=$w(n.current))};return t.addEventListener("animationstart",_),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{g.clearTimeout(f),t.removeEventListener("animationstart",_),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:R.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function $w(e){return(e==null?void 0:e.animationName)||"none"}function ame(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ome=q8[" useInsertionEffect ".trim().toString()]||el;function Uh({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,l]=sme({defaultProp:t,onChange:r}),a=e!==void 0,p=a?e:i;{const g=R.useRef(e!==void 0);R.useEffect(()=>{const v=g.current;v!==a&&console.warn(`${n} is changing from ${v?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=a},[a,n])}const f=R.useCallback(g=>{var v;if(a){const _=lme(g)?g(e):g;_!==e&&((v=l.current)==null||v.call(l,_))}else s(g)},[a,e,s,l]);return[p,f]}function sme({defaultProp:e,onChange:t}){const[r,n]=R.useState(e),i=R.useRef(r),s=R.useRef(t);return ome(()=>{s.current=t},[t]),R.useEffect(()=>{var l;i.current!==r&&((l=s.current)==null||l.call(s,r),i.current=r)},[r,i]),[r,n,s]}function lme(e){return typeof e=="function"}var cme=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ume="VisuallyHidden",u9=R.forwardRef((e,t)=>B.jsx(on.span,{...e,ref:t,style:{...cme,...e.style}}));u9.displayName=ume;var dme=u9,SC="ToastProvider",[EC,pme,hme]=l9("Toast"),[_X,hUe]=nl("Toast",[hme]),[fme,d9]=_X(SC),bX=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:l}=e,[a,p]=R.useState(null),[f,g]=R.useState(0),v=R.useRef(!1),_=R.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${SC}\`. Expected non-empty \`string\`.`),B.jsx(EC.Provider,{scope:t,children:B.jsx(fme,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:f,viewport:a,onViewportChange:p,onToastAdd:R.useCallback(()=>g(T=>T+1),[]),onToastRemove:R.useCallback(()=>g(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:_,children:l})})};bX.displayName=SC;var xX="ToastViewport",mme=["F8"],AP="toast.viewportPause",TP="toast.viewportResume",wX=R.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=mme,label:i="Notifications ({hotkey})",...s}=e,l=d9(xX,r),a=pme(r),p=R.useRef(null),f=R.useRef(null),g=R.useRef(null),v=R.useRef(null),_=ri(t,v,l.onViewportChange),T=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=l.toastCount>0;R.useEffect(()=>{const k=C=>{var N;n.length!==0&&n.every($=>C[$]||C.code===$)&&((N=v.current)==null||N.focus())};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[n]),R.useEffect(()=>{const k=p.current,C=v.current;if(z&&k&&C){const L=()=>{if(!l.isClosePausedRef.current){const re=new CustomEvent(AP);C.dispatchEvent(re),l.isClosePausedRef.current=!0}},N=()=>{if(l.isClosePausedRef.current){const re=new CustomEvent(TP);C.dispatchEvent(re),l.isClosePausedRef.current=!1}},$=re=>{!k.contains(re.relatedTarget)&&N()},ee=()=>{k.contains(document.activeElement)||N()};return k.addEventListener("focusin",L),k.addEventListener("focusout",$),k.addEventListener("pointermove",L),k.addEventListener("pointerleave",ee),window.addEventListener("blur",L),window.addEventListener("focus",N),()=>{k.removeEventListener("focusin",L),k.removeEventListener("focusout",$),k.removeEventListener("pointermove",L),k.removeEventListener("pointerleave",ee),window.removeEventListener("blur",L),window.removeEventListener("focus",N)}}},[z,l.isClosePausedRef]);const I=R.useCallback(({tabbingDirection:k})=>{const L=a().map(N=>{const $=N.ref.current,ee=[$,...Pme($)];return k==="forwards"?ee:ee.reverse()});return(k==="forwards"?L.reverse():L).flat()},[a]);return R.useEffect(()=>{const k=v.current;if(k){const C=L=>{var ee,re,ne;const N=L.altKey||L.ctrlKey||L.metaKey;if(L.key==="Tab"&&!N){const ie=document.activeElement,me=L.shiftKey;if(L.target===k&&me){(ee=f.current)==null||ee.focus();return}const Ke=I({tabbingDirection:me?"backwards":"forwards"}),ye=Ke.findIndex(j=>j===ie);iA(Ke.slice(ye+1))?L.preventDefault():me?(re=f.current)==null||re.focus():(ne=g.current)==null||ne.focus()}};return k.addEventListener("keydown",C),()=>k.removeEventListener("keydown",C)}},[a,I]),B.jsxs(tme,{ref:p,role:"region","aria-label":i.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:z?void 0:"none"},children:[z&&B.jsx(MP,{ref:f,onFocusFromOutsideViewport:()=>{const k=I({tabbingDirection:"forwards"});iA(k)}}),B.jsx(EC.Slot,{scope:r,children:B.jsx(on.ol,{tabIndex:-1,...s,ref:_})}),z&&B.jsx(MP,{ref:g,onFocusFromOutsideViewport:()=>{const k=I({tabbingDirection:"backwards"});iA(k)}})]})});wX.displayName=xX;var SX="ToastFocusProxy",MP=R.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,s=d9(SX,r);return B.jsx(u9,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{var f;const a=l.relatedTarget;!((f=s.viewport)!=null&&f.contains(a))&&n()}})});MP.displayName=SX;var P4="Toast",gme="toast.swipeStart",yme="toast.swipeMove",vme="toast.swipeCancel",_me="toast.swipeEnd",EX=R.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...l}=e,[a,p]=Uh({prop:n,defaultProp:i??!0,onChange:s,caller:P4});return B.jsx(zl,{present:r||a,children:B.jsx(wme,{open:a,...l,ref:t,onClose:()=>p(!1),onPause:Ds(e.onPause),onResume:Ds(e.onResume),onSwipeStart:Er(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Er(e.onSwipeMove,f=>{const{x:g,y:v}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Er(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Er(e.onSwipeEnd,f=>{const{x:g,y:v}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),p(!1)})})})});EX.displayName=P4;var[bme,xme]=_X(P4,{onClose(){}}),wme=R.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:l,onEscapeKeyDown:a,onPause:p,onResume:f,onSwipeStart:g,onSwipeMove:v,onSwipeCancel:_,onSwipeEnd:T,...z}=e,I=d9(P4,r),[k,C]=R.useState(null),L=ri(t,j=>C(j)),N=R.useRef(null),$=R.useRef(null),ee=i||I.duration,re=R.useRef(0),ne=R.useRef(ee),ie=R.useRef(0),{onToastAdd:me,onToastRemove:Ze}=I,et=Ds(()=>{var Z;(k==null?void 0:k.contains(document.activeElement))&&((Z=I.viewport)==null||Z.focus()),l()}),Ke=R.useCallback(j=>{!j||j===1/0||(window.clearTimeout(ie.current),re.current=new Date().getTime(),ie.current=window.setTimeout(et,j))},[et]);R.useEffect(()=>{const j=I.viewport;if(j){const Z=()=>{Ke(ne.current),f==null||f()},oe=()=>{const le=new Date().getTime()-re.current;ne.current=ne.current-le,window.clearTimeout(ie.current),p==null||p()};return j.addEventListener(AP,oe),j.addEventListener(TP,Z),()=>{j.removeEventListener(AP,oe),j.removeEventListener(TP,Z)}}},[I.viewport,ee,p,f,Ke]),R.useEffect(()=>{s&&!I.isClosePausedRef.current&&Ke(ee)},[s,ee,I.isClosePausedRef,Ke]),R.useEffect(()=>(me(),()=>Ze()),[me,Ze]);const ye=R.useMemo(()=>k?CX(k):null,[k]);return I.viewport?B.jsxs(B.Fragment,{children:[ye&&B.jsx(Sme,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:ye}),B.jsx(bme,{scope:r,onClose:et,children:Pc.createPortal(B.jsx(EC.ItemSlot,{scope:r,children:B.jsx(eme,{asChild:!0,onEscapeKeyDown:Er(a,()=>{I.isFocusedToastEscapeKeyDownRef.current||et(),I.isFocusedToastEscapeKeyDownRef.current=!1}),children:B.jsx(on.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":I.swipeDirection,...z,ref:L,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Er(e.onKeyDown,j=>{j.key==="Escape"&&(a==null||a(j.nativeEvent),j.nativeEvent.defaultPrevented||(I.isFocusedToastEscapeKeyDownRef.current=!0,et()))}),onPointerDown:Er(e.onPointerDown,j=>{j.button===0&&(N.current={x:j.clientX,y:j.clientY})}),onPointerMove:Er(e.onPointerMove,j=>{if(!N.current)return;const Z=j.clientX-N.current.x,oe=j.clientY-N.current.y,le=!!$.current,Q=["left","right"].includes(I.swipeDirection),ce=["left","up"].includes(I.swipeDirection)?Math.min:Math.max,Ee=Q?ce(0,Z):0,fe=Q?0:ce(0,oe),K=j.pointerType==="touch"?10:2,pe={x:Ee,y:fe},Et={originalEvent:j,delta:pe};le?($.current=pe,Kw(yme,v,Et,{discrete:!1})):DU(pe,I.swipeDirection,K)?($.current=pe,Kw(gme,g,Et,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(Z)>K||Math.abs(oe)>K)&&(N.current=null)}),onPointerUp:Er(e.onPointerUp,j=>{const Z=$.current,oe=j.target;if(oe.hasPointerCapture(j.pointerId)&&oe.releasePointerCapture(j.pointerId),$.current=null,N.current=null,Z){const le=j.currentTarget,Q={originalEvent:j,delta:Z};DU(Z,I.swipeDirection,I.swipeThreshold)?Kw(_me,T,Q,{discrete:!0}):Kw(vme,_,Q,{discrete:!0}),le.addEventListener("click",ce=>ce.preventDefault(),{once:!0})}})})})}),I.viewport)})]}):null}),Sme=e=>{const{__scopeToast:t,children:r,...n}=e,i=d9(P4,t),[s,l]=R.useState(!1),[a,p]=R.useState(!1);return Tme(()=>l(!0)),R.useEffect(()=>{const f=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(f)},[]),a?null:B.jsx(c9,{asChild:!0,children:B.jsx(u9,{...n,children:s&&B.jsxs(B.Fragment,{children:[i.label," ",r]})})})},Eme="ToastTitle",AX=R.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return B.jsx(on.div,{...n,ref:t})});AX.displayName=Eme;var Ame="ToastDescription",TX=R.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return B.jsx(on.div,{...n,ref:t})});TX.displayName=Ame;var MX="ToastAction",PX=R.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?B.jsx(IX,{altText:r,asChild:!0,children:B.jsx(AC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${MX}\`. Expected non-empty \`string\`.`),null)});PX.displayName=MX;var kX="ToastClose",AC=R.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=xme(kX,r);return B.jsx(IX,{asChild:!0,children:B.jsx(on.button,{type:"button",...n,ref:t,onClick:Er(e.onClick,i.onClose)})})});AC.displayName=kX;var IX=R.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return B.jsx(on.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function CX(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Mme(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const l=n.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...CX(n))}}),t}function Kw(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?wC(i,s):i.dispatchEvent(s)}var DU=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),s=n>i;return t==="left"||t==="right"?s&&n>r:!s&&i>r};function Tme(e=()=>{}){const t=Ds(e);el(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Mme(e){return e.nodeType===e.ELEMENT_NODE}function Pme(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function iA(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var kme=bX,DX=wX,zX=EX,RX=AX,NX=TX,LX=PX,OX=AC;function BX(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=BX(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function FX(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=BX(e))&&(n&&(n+=" "),n+=t);return n}const zU=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,RU=FX,k4=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return RU(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=t,l=Object.keys(i).map(f=>{const g=r==null?void 0:r[f],v=s==null?void 0:s[f];if(g===null)return null;const _=zU(g)||zU(v);return i[f][_]}),a=r&&Object.entries(r).reduce((f,g)=>{let[v,_]=g;return _===void 0||(f[v]=_),f},{}),p=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,g)=>{let{class:v,className:_,...T}=g;return Object.entries(T).every(z=>{let[I,k]=z;return Array.isArray(k)?k.includes({...s,...a}[I]):{...s,...a}[I]===k})?[...f,v,_]:f},[]);return RU(e,l,p,r==null?void 0:r.class,r==null?void 0:r.className)};var Ime={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Cme=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cn=(e,t)=>{const r=R.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:l,children:a,...p},f)=>R.createElement("svg",{ref:f,...Ime,width:i,height:i,stroke:n,strokeWidth:l?Number(s)*24/Number(i):s,className:`lucide lucide-${Cme(e)}`,...p},[...t.map(([g,v])=>R.createElement(g,v)),...(Array.isArray(a)?a:[a])||[]]));return r.displayName=`${e}`,r},Dme=Cn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),jX=Cn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),pd=Cn("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Sm=Cn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),p9=Cn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),zme=Cn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Rme=Cn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Nme=Cn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Q5=Cn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Nm=Cn("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]),Lme=Cn("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Ome=Cn("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Bme=Cn("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Fme=Cn("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),NU=Cn("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),jme=Cn("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),VX=Cn("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Vme=Cn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ed=Cn("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Ume=Cn("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),hx=Cn("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),Wme=Cn("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),$me=Cn("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),UX=Cn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Kme=Cn("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),qme=Cn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),n5=Cn("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),LU=Cn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Gme=Cn("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),Hme=Cn("SwitchCamera",[["path",{d:"M11 19H4a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h5",key:"mtk2lu"}],["path",{d:"M13 5h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-5",key:"120jsl"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m18 22-3-3 3-3",key:"kgdoj7"}],["path",{d:"m6 2 3 3-3 3",key:"1fnbkv"}]]),Zme=Cn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),WX=Cn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Yme=Cn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),OU=Cn("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),TC=Cn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xme=Cn("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Qme(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=$X(t))&&(n&&(n+=" "),n+=r);return n}function $X(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=$X(e[n]))&&(r&&(r+=" "),r+=t);return r}var MC="-";function Jme(e){var t=t0e(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,i=n===void 0?{}:n;function s(a){var p=a.split(MC);return p[0]===""&&p.length!==1&&p.shift(),KX(p,t)||e0e(a)}function l(a,p){var f=r[a]||[];return p&&i[a]?[].concat(f,i[a]):f}return{getClassGroupId:s,getConflictingClassGroupIds:l}}function KX(e,t){var l;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),i=n?KX(e.slice(1),n):void 0;if(i)return i;if(t.validators.length!==0){var s=e.join(MC);return(l=t.validators.find(function(a){var p=a.validator;return p(s)}))==null?void 0:l.classGroupId}}var BU=/^\[(.+)\]$/;function e0e(e){if(BU.test(e)){var t=BU.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function t0e(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},i=n0e(Object.entries(e.classGroups),r);return i.forEach(function(s){var l=s[0],a=s[1];PP(a,n,l,t)}),n}function PP(e,t,r,n){e.forEach(function(i){if(typeof i=="string"){var s=i===""?t:FU(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(r0e(i)){PP(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(function(l){var a=l[0],p=l[1];PP(p,FU(t,a),r,n)})})}function FU(e,t){var r=e;return t.split(MC).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function r0e(e){return e.isThemeGetter}function n0e(e,t){return t?e.map(function(r){var n=r[0],i=r[1],s=i.map(function(l){return typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(function(a){var p=a[0],f=a[1];return[t+p,f]})):l});return[n,s]}):e}function i0e(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function i(s,l){r.set(s,l),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(l){var a=r.get(l);if(a!==void 0)return a;if((a=n.get(l))!==void 0)return i(l,a),a},set:function(l,a){r.has(l)?r.set(l,a):i(l,a)}}}var qX="!";function a0e(e){var t=e.separator||":",r=t.length===1,n=t[0],i=t.length;return function(l){for(var a=[],p=0,f=0,g,v=0;v<l.length;v++){var _=l[v];if(p===0){if(_===n&&(r||l.slice(v,v+i)===t)){a.push(l.slice(f,v)),f=v+i;continue}if(_==="/"){g=v;continue}}_==="["?p++:_==="]"&&p--}var T=a.length===0?l:l.substring(f),z=T.startsWith(qX),I=z?T.substring(1):T,k=g&&g>f?g-f:void 0;return{modifiers:a,hasImportantModifier:z,baseClassName:I,maybePostfixModifierPosition:k}}}function o0e(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var i=n[0]==="[";i?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function s0e(e){return{cache:i0e(e.cacheSize),splitModifiers:a0e(e),...Jme(e)}}var l0e=/\s+/;function c0e(e,t){var r=t.splitModifiers,n=t.getClassGroupId,i=t.getConflictingClassGroupIds,s=new Set;return e.trim().split(l0e).map(function(l){var a=r(l),p=a.modifiers,f=a.hasImportantModifier,g=a.baseClassName,v=a.maybePostfixModifierPosition,_=n(v?g.substring(0,v):g),T=!!v;if(!_){if(!v)return{isTailwindClass:!1,originalClassName:l};if(_=n(g),!_)return{isTailwindClass:!1,originalClassName:l};T=!1}var z=o0e(p).join(":"),I=f?z+qX:z;return{isTailwindClass:!0,modifierId:I,classGroupId:_,originalClassName:l,hasPostfixModifier:T}}).reverse().filter(function(l){if(!l.isTailwindClass)return!0;var a=l.modifierId,p=l.classGroupId,f=l.hasPostfixModifier,g=a+p;return s.has(g)?!1:(s.add(g),i(p,f).forEach(function(v){return s.add(a+v)}),!0)}).reverse().map(function(l){return l.originalClassName}).join(" ")}function u0e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i,s,l=a;function a(f){var g=t[0],v=t.slice(1),_=v.reduce(function(T,z){return z(T)},g());return n=s0e(_),i=n.cache.get,s=n.cache.set,l=p,p(f)}function p(f){var g=i(f);if(g)return g;var v=c0e(f,n);return s(f,v),v}return function(){return l(Qme.apply(null,arguments))}}function yi(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var GX=/^\[(?:([a-z-]+):)?(.+)\]$/i,d0e=/^\d+\/\d+$/,p0e=new Set(["px","full","screen"]),h0e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,f0e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,m0e=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function tc(e){return um(e)||p0e.has(e)||d0e.test(e)||kP(e)}function kP(e){return Km(e,"length",x0e)}function g0e(e){return Km(e,"size",HX)}function y0e(e){return Km(e,"position",HX)}function v0e(e){return Km(e,"url",w0e)}function qw(e){return Km(e,"number",um)}function um(e){return!Number.isNaN(Number(e))}function _0e(e){return e.endsWith("%")&&um(e.slice(0,-1))}function _b(e){return jU(e)||Km(e,"number",jU)}function kn(e){return GX.test(e)}function bb(){return!0}function bp(e){return h0e.test(e)}function b0e(e){return Km(e,"",S0e)}function Km(e,t,r){var n=GX.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function x0e(e){return f0e.test(e)}function HX(){return!1}function w0e(e){return e.startsWith("url(")}function jU(e){return Number.isInteger(Number(e))}function S0e(e){return m0e.test(e)}function E0e(){var e=yi("colors"),t=yi("spacing"),r=yi("blur"),n=yi("brightness"),i=yi("borderColor"),s=yi("borderRadius"),l=yi("borderSpacing"),a=yi("borderWidth"),p=yi("contrast"),f=yi("grayscale"),g=yi("hueRotate"),v=yi("invert"),_=yi("gap"),T=yi("gradientColorStops"),z=yi("gradientColorStopPositions"),I=yi("inset"),k=yi("margin"),C=yi("opacity"),L=yi("padding"),N=yi("saturate"),$=yi("scale"),ee=yi("sepia"),re=yi("skew"),ne=yi("space"),ie=yi("translate"),me=function(){return["auto","contain","none"]},Ze=function(){return["auto","hidden","clip","visible","scroll"]},et=function(){return["auto",kn,t]},Ke=function(){return[kn,t]},ye=function(){return["",tc]},j=function(){return["auto",um,kn]},Z=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},oe=function(){return["solid","dashed","dotted","double","none"]},le=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},Q=function(){return["start","end","center","between","around","evenly","stretch"]},ce=function(){return["","0",kn]},Ee=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},fe=function(){return[um,qw]},K=function(){return[um,kn]};return{cacheSize:500,theme:{colors:[bb],spacing:[tc],blur:["none","",bp,kn],brightness:fe(),borderColor:[e],borderRadius:["none","","full",bp,kn],borderSpacing:Ke(),borderWidth:ye(),contrast:fe(),grayscale:ce(),hueRotate:K(),invert:ce(),gap:Ke(),gradientColorStops:[e],gradientColorStopPositions:[_0e,kP],inset:et(),margin:et(),opacity:fe(),padding:Ke(),saturate:fe(),scale:fe(),sepia:ce(),skew:K(),space:Ke(),translate:Ke()},classGroups:{aspect:[{aspect:["auto","square","video",kn]}],container:["container"],columns:[{columns:[bp]}],"break-after":[{"break-after":Ee()}],"break-before":[{"break-before":Ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(Z(),[kn])}],overflow:[{overflow:Ze()}],"overflow-x":[{"overflow-x":Ze()}],"overflow-y":[{"overflow-y":Ze()}],overscroll:[{overscroll:me()}],"overscroll-x":[{"overscroll-x":me()}],"overscroll-y":[{"overscroll-y":me()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[I]}],"inset-x":[{"inset-x":[I]}],"inset-y":[{"inset-y":[I]}],start:[{start:[I]}],end:[{end:[I]}],top:[{top:[I]}],right:[{right:[I]}],bottom:[{bottom:[I]}],left:[{left:[I]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_b]}],basis:[{basis:et()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",kn]}],grow:[{grow:ce()}],shrink:[{shrink:ce()}],order:[{order:["first","last","none",_b]}],"grid-cols":[{"grid-cols":[bb]}],"col-start-end":[{col:["auto",{span:["full",_b]},kn]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[bb]}],"row-start-end":[{row:["auto",{span:[_b]},kn]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",kn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",kn]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal"].concat(Q())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(Q(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(Q(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[L]}],px:[{px:[L]}],py:[{py:[L]}],ps:[{ps:[L]}],pe:[{pe:[L]}],pt:[{pt:[L]}],pr:[{pr:[L]}],pb:[{pb:[L]}],pl:[{pl:[L]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[ne]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ne]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",kn,t]}],"min-w":[{"min-w":["min","max","fit",kn,tc]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[bp]},bp,kn]}],h:[{h:[kn,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",kn,tc]}],"max-h":[{"max-h":[kn,t,"min","max","fit"]}],"font-size":[{text:["base",bp,kP]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qw]}],"font-family":[{font:[bb]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",kn]}],"line-clamp":[{"line-clamp":["none",um,qw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",kn,tc]}],"list-image":[{"list-image":["none",kn]}],"list-style-type":[{list:["none","disc","decimal",kn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(oe(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",tc]}],"underline-offset":[{"underline-offset":["auto",kn,tc]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:Ke()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(Z(),[y0e])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",g0e]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},v0e]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[z]}],"gradient-via-pos":[{via:[z]}],"gradient-to-pos":[{to:[z]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[].concat(oe(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:oe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(oe())}],"outline-offset":[{"outline-offset":[kn,tc]}],"outline-w":[{outline:[tc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[tc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",bp,b0e]}],"shadow-color":[{shadow:[bb]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":le()}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",bp,kn]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[v]}],saturate:[{saturate:[N]}],sepia:[{sepia:[ee]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",kn]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",kn]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",kn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$]}],"scale-x":[{"scale-x":[$]}],"scale-y":[{"scale-y":[$]}],rotate:[{rotate:[_b,kn]}],"translate-x":[{"translate-x":[ie]}],"translate-y":[{"translate-y":[ie]}],"skew-x":[{"skew-x":[re]}],"skew-y":[{"skew-y":[re]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",kn]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Ke()}],"scroll-mx":[{"scroll-mx":Ke()}],"scroll-my":[{"scroll-my":Ke()}],"scroll-ms":[{"scroll-ms":Ke()}],"scroll-me":[{"scroll-me":Ke()}],"scroll-mt":[{"scroll-mt":Ke()}],"scroll-mr":[{"scroll-mr":Ke()}],"scroll-mb":[{"scroll-mb":Ke()}],"scroll-ml":[{"scroll-ml":Ke()}],"scroll-p":[{"scroll-p":Ke()}],"scroll-px":[{"scroll-px":Ke()}],"scroll-py":[{"scroll-py":Ke()}],"scroll-ps":[{"scroll-ps":Ke()}],"scroll-pe":[{"scroll-pe":Ke()}],"scroll-pt":[{"scroll-pt":Ke()}],"scroll-pr":[{"scroll-pr":Ke()}],"scroll-pb":[{"scroll-pb":Ke()}],"scroll-pl":[{"scroll-pl":Ke()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[tc,qw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var A0e=u0e(E0e);function yr(...e){return A0e(FX(e))}const T0e=kme,ZX=R.forwardRef(({className:e,...t},r)=>B.jsx(DX,{ref:r,className:yr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ZX.displayName=DX.displayName;const M0e=k4("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),YX=R.forwardRef(({className:e,variant:t,...r},n)=>B.jsx(zX,{ref:n,className:yr(M0e({variant:t}),e),...r}));YX.displayName=zX.displayName;const P0e=R.forwardRef(({className:e,...t},r)=>B.jsx(LX,{ref:r,className:yr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));P0e.displayName=LX.displayName;const XX=R.forwardRef(({className:e,...t},r)=>B.jsx(OX,{ref:r,className:yr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:B.jsx(TC,{className:"h-4 w-4"})}));XX.displayName=OX.displayName;const QX=R.forwardRef(({className:e,...t},r)=>B.jsx(RX,{ref:r,className:yr("text-sm font-semibold",e),...t}));QX.displayName=RX.displayName;const JX=R.forwardRef(({className:e,...t},r)=>B.jsx(NX,{ref:r,className:yr("text-sm opacity-90",e),...t}));JX.displayName=NX.displayName;function k0e(){const{toasts:e}=T4();return B.jsxs(T0e,{children:[e.map(function({id:t,title:r,description:n,action:i,...s}){return B.jsxs(YX,{...s,children:[B.jsxs("div",{className:"grid gap-1",children:[r&&B.jsx(QX,{children:r}),n&&B.jsx(JX,{children:n})]}),i,B.jsx(XX,{})]},t)}),B.jsx(ZX,{})]})}const I0e=R.createContext(void 0),C0e={setTheme:e=>{},themes:[]},D0e=()=>{var e;return(e=R.useContext(I0e))!==null&&e!==void 0?e:C0e};var z0e=e=>{switch(e){case"success":return L0e;case"info":return B0e;case"warning":return O0e;case"error":return F0e;default:return null}},R0e=Array(12).fill(0),N0e=({visible:e,className:t})=>dt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},dt.createElement("div",{className:"sonner-spinner"},R0e.map((r,n)=>dt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),L0e=dt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},dt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),O0e=dt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},dt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),B0e=dt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},dt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),F0e=dt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},dt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),j0e=dt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},dt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),dt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),V0e=()=>{let[e,t]=dt.useState(document.hidden);return dt.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},IP=1,U0e=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:IP++,s=this.toasts.find(a=>a.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...e,id:i,title:r}),{...a,...e,id:i,dismissible:l,title:r}):a):this.addToast({title:r,...n,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0,s,l=n.then(async p=>{if(s=["resolve",p],dt.isValidElement(p))i=!1,this.create({id:r,type:"default",message:p});else if($0e(p)&&!p.ok){i=!1;let f=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,g=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description;this.create({id:r,type:"error",message:f,description:g})}else if(t.success!==void 0){i=!1;let f=typeof t.success=="function"?await t.success(p):t.success,g=typeof t.description=="function"?await t.description(p):t.description;this.create({id:r,type:"success",message:f,description:g})}}).catch(async p=>{if(s=["reject",p],t.error!==void 0){i=!1;let f=typeof t.error=="function"?await t.error(p):t.error,g=typeof t.description=="function"?await t.description(p):t.description;this.create({id:r,type:"error",message:f,description:g})}}).finally(()=>{var p;i&&(this.dismiss(r),r=void 0),(p=t.finally)==null||p.call(t)}),a=()=>new Promise((p,f)=>l.then(()=>s[0]==="reject"?f(s[1]):p(s[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||IP++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ws=new U0e,W0e=(e,t)=>{let r=(t==null?void 0:t.id)||IP++;return ws.addToast({title:e,...t,id:r}),r},$0e=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",K0e=W0e,q0e=()=>ws.toasts,G0e=()=>ws.getActiveToasts();Object.assign(K0e,{success:ws.success,info:ws.info,warning:ws.warning,error:ws.error,custom:ws.custom,message:ws.message,promise:ws.promise,dismiss:ws.dismiss,loading:ws.loading},{getHistory:q0e,getToasts:G0e});function H0e(e,{insertAt:t}={}){if(!e||typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}H0e(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Gw(e){return e.label!==void 0}var Z0e=3,Y0e="32px",X0e="16px",VU=4e3,Q0e=356,J0e=14,ege=20,tge=200;function rc(...e){return e.filter(Boolean).join(" ")}function rge(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var nge=e=>{var t,r,n,i,s,l,a,p,f,g,v;let{invert:_,toast:T,unstyled:z,interacting:I,setHeights:k,visibleToasts:C,heights:L,index:N,toasts:$,expanded:ee,removeToast:re,defaultRichColors:ne,closeButton:ie,style:me,cancelButtonStyle:Ze,actionButtonStyle:et,className:Ke="",descriptionClassName:ye="",duration:j,position:Z,gap:oe,loadingIcon:le,expandByDefault:Q,classNames:ce,icons:Ee,closeButtonAriaLabel:fe="Close toast",pauseWhenPageIsHidden:K}=e,[pe,Et]=dt.useState(null),[zt,Ve]=dt.useState(null),[Be,ut]=dt.useState(!1),[bt,Ht]=dt.useState(!1),[_e,Me]=dt.useState(!1),[we,be]=dt.useState(!1),[rt,pt]=dt.useState(!1),[Ct,Jt]=dt.useState(0),[Rr,Br]=dt.useState(0),Fr=dt.useRef(T.duration||j||VU),Zn=dt.useRef(null),en=dt.useRef(null),Sn=N===0,Ei=N+1<=C,Xr=T.type,ve=T.dismissible!==!1,Y=T.className||"",J=T.descriptionClassName||"",ze=dt.useMemo(()=>L.findIndex(Ge=>Ge.toastId===T.id)||0,[L,T.id]),st=dt.useMemo(()=>{var Ge;return(Ge=T.closeButton)!=null?Ge:ie},[T.closeButton,ie]),mt=dt.useMemo(()=>T.duration||j||VU,[T.duration,j]),At=dt.useRef(0),Dr=dt.useRef(0),Lr=dt.useRef(0),Mr=dt.useRef(null),[Mn,Nr]=Z.split("-"),Le=dt.useMemo(()=>L.reduce((Ge,tt,We)=>We>=ze?Ge:Ge+tt.height,0),[L,ze]),de=V0e(),ge=T.invert||_,Re=Xr==="loading";Dr.current=dt.useMemo(()=>ze*oe+Le,[ze,Le]),dt.useEffect(()=>{Fr.current=mt},[mt]),dt.useEffect(()=>{ut(!0)},[]),dt.useEffect(()=>{let Ge=en.current;if(Ge){let tt=Ge.getBoundingClientRect().height;return Br(tt),k(We=>[{toastId:T.id,height:tt,position:T.position},...We]),()=>k(We=>We.filter(lt=>lt.toastId!==T.id))}},[k,T.id]),dt.useLayoutEffect(()=>{if(!Be)return;let Ge=en.current,tt=Ge.style.height;Ge.style.height="auto";let We=Ge.getBoundingClientRect().height;Ge.style.height=tt,Br(We),k(lt=>lt.find(Ft=>Ft.toastId===T.id)?lt.map(Ft=>Ft.toastId===T.id?{...Ft,height:We}:Ft):[{toastId:T.id,height:We,position:T.position},...lt])},[Be,T.title,T.description,k,T.id]);let $e=dt.useCallback(()=>{Ht(!0),Jt(Dr.current),k(Ge=>Ge.filter(tt=>tt.toastId!==T.id)),setTimeout(()=>{re(T)},tge)},[T,re,k,Dr]);dt.useEffect(()=>{if(T.promise&&Xr==="loading"||T.duration===1/0||T.type==="loading")return;let Ge;return ee||I||K&&de?(()=>{if(Lr.current<At.current){let tt=new Date().getTime()-At.current;Fr.current=Fr.current-tt}Lr.current=new Date().getTime()})():Fr.current!==1/0&&(At.current=new Date().getTime(),Ge=setTimeout(()=>{var tt;(tt=T.onAutoClose)==null||tt.call(T,T),$e()},Fr.current)),()=>clearTimeout(Ge)},[ee,I,T,Xr,K,de,$e]),dt.useEffect(()=>{T.delete&&$e()},[$e,T.delete]);function Ye(){var Ge,tt,We;return Ee!=null&&Ee.loading?dt.createElement("div",{className:rc(ce==null?void 0:ce.loader,(Ge=T==null?void 0:T.classNames)==null?void 0:Ge.loader,"sonner-loader"),"data-visible":Xr==="loading"},Ee.loading):le?dt.createElement("div",{className:rc(ce==null?void 0:ce.loader,(tt=T==null?void 0:T.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":Xr==="loading"},le):dt.createElement(N0e,{className:rc(ce==null?void 0:ce.loader,(We=T==null?void 0:T.classNames)==null?void 0:We.loader),visible:Xr==="loading"})}return dt.createElement("li",{tabIndex:0,ref:en,className:rc(Ke,Y,ce==null?void 0:ce.toast,(t=T==null?void 0:T.classNames)==null?void 0:t.toast,ce==null?void 0:ce.default,ce==null?void 0:ce[Xr],(r=T==null?void 0:T.classNames)==null?void 0:r[Xr]),"data-sonner-toast":"","data-rich-colors":(n=T.richColors)!=null?n:ne,"data-styled":!(T.jsx||T.unstyled||z),"data-mounted":Be,"data-promise":!!T.promise,"data-swiped":rt,"data-removed":bt,"data-visible":Ei,"data-y-position":Mn,"data-x-position":Nr,"data-index":N,"data-front":Sn,"data-swiping":_e,"data-dismissible":ve,"data-type":Xr,"data-invert":ge,"data-swipe-out":we,"data-swipe-direction":zt,"data-expanded":!!(ee||Q&&Be),style:{"--index":N,"--toasts-before":N,"--z-index":$.length-N,"--offset":`${bt?Ct:Dr.current}px`,"--initial-height":Q?"auto":`${Rr}px`,...me,...T.style},onDragEnd:()=>{Me(!1),Et(null),Mr.current=null},onPointerDown:Ge=>{Re||!ve||(Zn.current=new Date,Jt(Dr.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(Me(!0),Mr.current={x:Ge.clientX,y:Ge.clientY}))},onPointerUp:()=>{var Ge,tt,We,lt;if(we||!ve)return;Mr.current=null;let Ft=Number(((Ge=en.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ot=Number(((tt=en.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),It=new Date().getTime()-((We=Zn.current)==null?void 0:We.getTime()),wr=pe==="x"?Ft:Ot,dr=Math.abs(wr)/It;if(Math.abs(wr)>=ege||dr>.11){Jt(Dr.current),(lt=T.onDismiss)==null||lt.call(T,T),Ve(pe==="x"?Ft>0?"right":"left":Ot>0?"down":"up"),$e(),be(!0),pt(!1);return}Me(!1),Et(null)},onPointerMove:Ge=>{var tt,We,lt,Ft;if(!Mr.current||!ve||((tt=window.getSelection())==null?void 0:tt.toString().length)>0)return;let Ot=Ge.clientY-Mr.current.y,It=Ge.clientX-Mr.current.x,wr=(We=e.swipeDirections)!=null?We:rge(Z);!pe&&(Math.abs(It)>1||Math.abs(Ot)>1)&&Et(Math.abs(It)>Math.abs(Ot)?"x":"y");let dr={x:0,y:0};pe==="y"?(wr.includes("top")||wr.includes("bottom"))&&(wr.includes("top")&&Ot<0||wr.includes("bottom")&&Ot>0)&&(dr.y=Ot):pe==="x"&&(wr.includes("left")||wr.includes("right"))&&(wr.includes("left")&&It<0||wr.includes("right")&&It>0)&&(dr.x=It),(Math.abs(dr.x)>0||Math.abs(dr.y)>0)&&pt(!0),(lt=en.current)==null||lt.style.setProperty("--swipe-amount-x",`${dr.x}px`),(Ft=en.current)==null||Ft.style.setProperty("--swipe-amount-y",`${dr.y}px`)}},st&&!T.jsx?dt.createElement("button",{"aria-label":fe,"data-disabled":Re,"data-close-button":!0,onClick:Re||!ve?()=>{}:()=>{var Ge;$e(),(Ge=T.onDismiss)==null||Ge.call(T,T)},className:rc(ce==null?void 0:ce.closeButton,(i=T==null?void 0:T.classNames)==null?void 0:i.closeButton)},(s=Ee==null?void 0:Ee.close)!=null?s:j0e):null,T.jsx||R.isValidElement(T.title)?T.jsx?T.jsx:typeof T.title=="function"?T.title():T.title:dt.createElement(dt.Fragment,null,Xr||T.icon||T.promise?dt.createElement("div",{"data-icon":"",className:rc(ce==null?void 0:ce.icon,(l=T==null?void 0:T.classNames)==null?void 0:l.icon)},T.promise||T.type==="loading"&&!T.icon?T.icon||Ye():null,T.type!=="loading"?T.icon||(Ee==null?void 0:Ee[Xr])||z0e(Xr):null):null,dt.createElement("div",{"data-content":"",className:rc(ce==null?void 0:ce.content,(a=T==null?void 0:T.classNames)==null?void 0:a.content)},dt.createElement("div",{"data-title":"",className:rc(ce==null?void 0:ce.title,(p=T==null?void 0:T.classNames)==null?void 0:p.title)},typeof T.title=="function"?T.title():T.title),T.description?dt.createElement("div",{"data-description":"",className:rc(ye,J,ce==null?void 0:ce.description,(f=T==null?void 0:T.classNames)==null?void 0:f.description)},typeof T.description=="function"?T.description():T.description):null),R.isValidElement(T.cancel)?T.cancel:T.cancel&&Gw(T.cancel)?dt.createElement("button",{"data-button":!0,"data-cancel":!0,style:T.cancelButtonStyle||Ze,onClick:Ge=>{var tt,We;Gw(T.cancel)&&ve&&((We=(tt=T.cancel).onClick)==null||We.call(tt,Ge),$e())},className:rc(ce==null?void 0:ce.cancelButton,(g=T==null?void 0:T.classNames)==null?void 0:g.cancelButton)},T.cancel.label):null,R.isValidElement(T.action)?T.action:T.action&&Gw(T.action)?dt.createElement("button",{"data-button":!0,"data-action":!0,style:T.actionButtonStyle||et,onClick:Ge=>{var tt,We;Gw(T.action)&&((We=(tt=T.action).onClick)==null||We.call(tt,Ge),!Ge.defaultPrevented&&$e())},className:rc(ce==null?void 0:ce.actionButton,(v=T==null?void 0:T.classNames)==null?void 0:v.actionButton)},T.action.label):null))};function UU(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function ige(e,t){let r={};return[e,t].forEach((n,i)=>{let s=i===1,l=s?"--mobile-offset":"--offset",a=s?X0e:Y0e;function p(f){["top","right","bottom","left"].forEach(g=>{r[`${l}-${g}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?p(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${l}-${f}`]=a:r[`${l}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):p(a)}),r}var age=R.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:l,className:a,offset:p,mobileOffset:f,theme:g="light",richColors:v,duration:_,style:T,visibleToasts:z=Z0e,toastOptions:I,dir:k=UU(),gap:C=J0e,loadingIcon:L,icons:N,containerAriaLabel:$="Notifications",pauseWhenPageIsHidden:ee}=e,[re,ne]=dt.useState([]),ie=dt.useMemo(()=>Array.from(new Set([n].concat(re.filter(K=>K.position).map(K=>K.position)))),[re,n]),[me,Ze]=dt.useState([]),[et,Ke]=dt.useState(!1),[ye,j]=dt.useState(!1),[Z,oe]=dt.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),le=dt.useRef(null),Q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),ce=dt.useRef(null),Ee=dt.useRef(!1),fe=dt.useCallback(K=>{ne(pe=>{var Et;return(Et=pe.find(zt=>zt.id===K.id))!=null&&Et.delete||ws.dismiss(K.id),pe.filter(({id:zt})=>zt!==K.id)})},[]);return dt.useEffect(()=>ws.subscribe(K=>{if(K.dismiss){ne(pe=>pe.map(Et=>Et.id===K.id?{...Et,delete:!0}:Et));return}setTimeout(()=>{bC.flushSync(()=>{ne(pe=>{let Et=pe.findIndex(zt=>zt.id===K.id);return Et!==-1?[...pe.slice(0,Et),{...pe[Et],...K},...pe.slice(Et+1)]:[K,...pe]})})})}),[]),dt.useEffect(()=>{if(g!=="system"){oe(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?oe("dark"):oe("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:pe})=>{oe(pe?"dark":"light")})}catch{K.addListener(({matches:Et})=>{try{oe(Et?"dark":"light")}catch(zt){console.error(zt)}})}},[g]),dt.useEffect(()=>{re.length<=1&&Ke(!1)},[re]),dt.useEffect(()=>{let K=pe=>{var Et,zt;i.every(Ve=>pe[Ve]||pe.code===Ve)&&(Ke(!0),(Et=le.current)==null||Et.focus()),pe.code==="Escape"&&(document.activeElement===le.current||(zt=le.current)!=null&&zt.contains(document.activeElement))&&Ke(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[i]),dt.useEffect(()=>{if(le.current)return()=>{ce.current&&(ce.current.focus({preventScroll:!0}),ce.current=null,Ee.current=!1)}},[le.current]),dt.createElement("section",{ref:t,"aria-label":`${$} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ie.map((K,pe)=>{var Et;let[zt,Ve]=K.split("-");return re.length?dt.createElement("ol",{key:K,dir:k==="auto"?UU():k,tabIndex:-1,ref:le,className:a,"data-sonner-toaster":!0,"data-theme":Z,"data-y-position":zt,"data-lifted":et&&re.length>1&&!s,"data-x-position":Ve,style:{"--front-toast-height":`${((Et=me[0])==null?void 0:Et.height)||0}px`,"--width":`${Q0e}px`,"--gap":`${C}px`,...T,...ige(p,f)},onBlur:Be=>{Ee.current&&!Be.currentTarget.contains(Be.relatedTarget)&&(Ee.current=!1,ce.current&&(ce.current.focus({preventScroll:!0}),ce.current=null))},onFocus:Be=>{Be.target instanceof HTMLElement&&Be.target.dataset.dismissible==="false"||Ee.current||(Ee.current=!0,ce.current=Be.relatedTarget)},onMouseEnter:()=>Ke(!0),onMouseMove:()=>Ke(!0),onMouseLeave:()=>{ye||Ke(!1)},onDragEnd:()=>Ke(!1),onPointerDown:Be=>{Be.target instanceof HTMLElement&&Be.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},re.filter(Be=>!Be.position&&pe===0||Be.position===K).map((Be,ut)=>{var bt,Ht;return dt.createElement(nge,{key:Be.id,icons:N,index:ut,toast:Be,defaultRichColors:v,duration:(bt=I==null?void 0:I.duration)!=null?bt:_,className:I==null?void 0:I.className,descriptionClassName:I==null?void 0:I.descriptionClassName,invert:r,visibleToasts:z,closeButton:(Ht=I==null?void 0:I.closeButton)!=null?Ht:l,interacting:ye,position:K,style:I==null?void 0:I.style,unstyled:I==null?void 0:I.unstyled,classNames:I==null?void 0:I.classNames,cancelButtonStyle:I==null?void 0:I.cancelButtonStyle,actionButtonStyle:I==null?void 0:I.actionButtonStyle,removeToast:fe,toasts:re.filter(_e=>_e.position==Be.position),heights:me.filter(_e=>_e.position==Be.position),setHeights:Ze,expandByDefault:s,gap:C,loadingIcon:L,expanded:et,pauseWhenPageIsHidden:ee,swipeDirections:e.swipeDirections})})):null}))});const oge=({...e})=>{const{theme:t="system"}=D0e();return B.jsx(age,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var sge=q8[" useId ".trim().toString()]||(()=>{}),lge=0;function Ad(e){const[t,r]=R.useState(sge());return el(()=>{e||r(n=>n??String(lge++))},[e]),e||(t?`radix-${t}`:"")}const cge=["top","right","bottom","left"],bh=Math.min,Gs=Math.max,J5=Math.round,Hw=Math.floor,au=e=>({x:e,y:e}),uge={left:"right",right:"left",bottom:"top",top:"bottom"},dge={start:"end",end:"start"};function CP(e,t,r){return Gs(e,bh(t,r))}function Cd(e,t){return typeof e=="function"?e(t):e}function Dd(e){return e.split("-")[0]}function i2(e){return e.split("-")[1]}function PC(e){return e==="x"?"y":"x"}function kC(e){return e==="y"?"height":"width"}function Td(e){return["top","bottom"].includes(Dd(e))?"y":"x"}function IC(e){return PC(Td(e))}function pge(e,t,r){r===void 0&&(r=!1);const n=i2(e),i=IC(e),s=kC(i);let l=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=e8(l)),[l,e8(l)]}function hge(e){const t=e8(e);return[DP(e),t,DP(t)]}function DP(e){return e.replace(/start|end/g,t=>dge[t])}function fge(e,t,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?s:l;default:return[]}}function mge(e,t,r,n){const i=i2(e);let s=fge(Dd(e),r==="start",n);return i&&(s=s.map(l=>l+"-"+i),t&&(s=s.concat(s.map(DP)))),s}function e8(e){return e.replace(/left|right|bottom|top/g,t=>uge[t])}function gge(e){return{top:0,right:0,bottom:0,left:0,...e}}function eQ(e){return typeof e!="number"?gge(e):{top:e,right:e,bottom:e,left:e}}function t8(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function WU(e,t,r){let{reference:n,floating:i}=e;const s=Td(t),l=IC(t),a=kC(l),p=Dd(t),f=s==="y",g=n.x+n.width/2-i.width/2,v=n.y+n.height/2-i.height/2,_=n[a]/2-i[a]/2;let T;switch(p){case"top":T={x:g,y:n.y-i.height};break;case"bottom":T={x:g,y:n.y+n.height};break;case"right":T={x:n.x+n.width,y:v};break;case"left":T={x:n.x-i.width,y:v};break;default:T={x:n.x,y:n.y}}switch(i2(t)){case"start":T[l]-=_*(r&&f?-1:1);break;case"end":T[l]+=_*(r&&f?-1:1);break}return T}const yge=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:l}=r,a=s.filter(Boolean),p=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:g,y:v}=WU(f,n,p),_=n,T={},z=0;for(let I=0;I<a.length;I++){const{name:k,fn:C}=a[I],{x:L,y:N,data:$,reset:ee}=await C({x:g,y:v,initialPlacement:n,placement:_,strategy:i,middlewareData:T,rects:f,platform:l,elements:{reference:e,floating:t}});g=L??g,v=N??v,T={...T,[k]:{...T[k],...$}},ee&&z<=50&&(z++,typeof ee=="object"&&(ee.placement&&(_=ee.placement),ee.rects&&(f=ee.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):ee.rects),{x:g,y:v}=WU(f,_,p)),I=-1)}return{x:g,y:v,placement:_,strategy:i,middlewareData:T}};async function qx(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:l,elements:a,strategy:p}=e,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:_=!1,padding:T=0}=Cd(t,e),z=eQ(T),k=a[_?v==="floating"?"reference":"floating":v],C=t8(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(k)))==null||r?k:k.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:f,rootBoundary:g,strategy:p})),L=v==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),$=await(s.isElement==null?void 0:s.isElement(N))?await(s.getScale==null?void 0:s.getScale(N))||{x:1,y:1}:{x:1,y:1},ee=t8(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:L,offsetParent:N,strategy:p}):L);return{top:(C.top-ee.top+z.top)/$.y,bottom:(ee.bottom-C.bottom+z.bottom)/$.y,left:(C.left-ee.left+z.left)/$.x,right:(ee.right-C.right+z.right)/$.x}}const vge=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:l,elements:a,middlewareData:p}=t,{element:f,padding:g=0}=Cd(e,t)||{};if(f==null)return{};const v=eQ(g),_={x:r,y:n},T=IC(i),z=kC(T),I=await l.getDimensions(f),k=T==="y",C=k?"top":"left",L=k?"bottom":"right",N=k?"clientHeight":"clientWidth",$=s.reference[z]+s.reference[T]-_[T]-s.floating[z],ee=_[T]-s.reference[T],re=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let ne=re?re[N]:0;(!ne||!await(l.isElement==null?void 0:l.isElement(re)))&&(ne=a.floating[N]||s.floating[z]);const ie=$/2-ee/2,me=ne/2-I[z]/2-1,Ze=bh(v[C],me),et=bh(v[L],me),Ke=Ze,ye=ne-I[z]-et,j=ne/2-I[z]/2+ie,Z=CP(Ke,j,ye),oe=!p.arrow&&i2(i)!=null&&j!==Z&&s.reference[z]/2-(j<Ke?Ze:et)-I[z]/2<0,le=oe?j<Ke?j-Ke:j-ye:0;return{[T]:_[T]+le,data:{[T]:Z,centerOffset:j-Z-le,...oe&&{alignmentOffset:le}},reset:oe}}}),_ge=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:l,initialPlacement:a,platform:p,elements:f}=t,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:_,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:z="none",flipAlignment:I=!0,...k}=Cd(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const C=Dd(i),L=Td(a),N=Dd(a)===a,$=await(p.isRTL==null?void 0:p.isRTL(f.floating)),ee=_||(N||!I?[e8(a)]:hge(a)),re=z!=="none";!_&&re&&ee.push(...mge(a,I,z,$));const ne=[a,...ee],ie=await qx(t,k),me=[];let Ze=((n=s.flip)==null?void 0:n.overflows)||[];if(g&&me.push(ie[C]),v){const Z=pge(i,l,$);me.push(ie[Z[0]],ie[Z[1]])}if(Ze=[...Ze,{placement:i,overflows:me}],!me.every(Z=>Z<=0)){var et,Ke;const Z=(((et=s.flip)==null?void 0:et.index)||0)+1,oe=ne[Z];if(oe){var ye;const Q=v==="alignment"?L!==Td(oe):!1,ce=((ye=Ze[0])==null?void 0:ye.overflows[0])>0;if(!Q||ce)return{data:{index:Z,overflows:Ze},reset:{placement:oe}}}let le=(Ke=Ze.filter(Q=>Q.overflows[0]<=0).sort((Q,ce)=>Q.overflows[1]-ce.overflows[1])[0])==null?void 0:Ke.placement;if(!le)switch(T){case"bestFit":{var j;const Q=(j=Ze.filter(ce=>{if(re){const Ee=Td(ce.placement);return Ee===L||Ee==="y"}return!0}).map(ce=>[ce.placement,ce.overflows.filter(Ee=>Ee>0).reduce((Ee,fe)=>Ee+fe,0)]).sort((ce,Ee)=>ce[1]-Ee[1])[0])==null?void 0:j[0];Q&&(le=Q);break}case"initialPlacement":le=a;break}if(i!==le)return{reset:{placement:le}}}return{}}}};function $U(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function KU(e){return cge.some(t=>e[t]>=0)}const bge=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Cd(e,t);switch(n){case"referenceHidden":{const s=await qx(t,{...i,elementContext:"reference"}),l=$U(s,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:KU(l)}}}case"escaped":{const s=await qx(t,{...i,altBoundary:!0}),l=$U(s,r.floating);return{data:{escapedOffsets:l,escaped:KU(l)}}}default:return{}}}}};async function xge(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=Dd(r),a=i2(r),p=Td(r)==="y",f=["left","top"].includes(l)?-1:1,g=s&&p?-1:1,v=Cd(t,e);let{mainAxis:_,crossAxis:T,alignmentAxis:z}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return a&&typeof z=="number"&&(T=a==="end"?z*-1:z),p?{x:T*g,y:_*f}:{x:_*f,y:T*g}}const wge=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:l,middlewareData:a}=t,p=await xge(t,e);return l===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+p.x,y:s+p.y,data:{...p,placement:l}}}}},Sge=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:a={fn:k=>{let{x:C,y:L}=k;return{x:C,y:L}}},...p}=Cd(e,t),f={x:r,y:n},g=await qx(t,p),v=Td(Dd(i)),_=PC(v);let T=f[_],z=f[v];if(s){const k=_==="y"?"top":"left",C=_==="y"?"bottom":"right",L=T+g[k],N=T-g[C];T=CP(L,T,N)}if(l){const k=v==="y"?"top":"left",C=v==="y"?"bottom":"right",L=z+g[k],N=z-g[C];z=CP(L,z,N)}const I=a.fn({...t,[_]:T,[v]:z});return{...I,data:{x:I.x-r,y:I.y-n,enabled:{[_]:s,[v]:l}}}}}},Ege=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:s,middlewareData:l}=t,{offset:a=0,mainAxis:p=!0,crossAxis:f=!0}=Cd(e,t),g={x:r,y:n},v=Td(i),_=PC(v);let T=g[_],z=g[v];const I=Cd(a,t),k=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(p){const N=_==="y"?"height":"width",$=s.reference[_]-s.floating[N]+k.mainAxis,ee=s.reference[_]+s.reference[N]-k.mainAxis;T<$?T=$:T>ee&&(T=ee)}if(f){var C,L;const N=_==="y"?"width":"height",$=["top","left"].includes(Dd(i)),ee=s.reference[v]-s.floating[N]+($&&((C=l.offset)==null?void 0:C[v])||0)+($?0:k.crossAxis),re=s.reference[v]+s.reference[N]+($?0:((L=l.offset)==null?void 0:L[v])||0)-($?k.crossAxis:0);z<ee?z=ee:z>re&&(z=re)}return{[_]:T,[v]:z}}}},Age=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:l,elements:a}=t,{apply:p=()=>{},...f}=Cd(e,t),g=await qx(t,f),v=Dd(i),_=i2(i),T=Td(i)==="y",{width:z,height:I}=s.floating;let k,C;v==="top"||v==="bottom"?(k=v,C=_===(await(l.isRTL==null?void 0:l.isRTL(a.floating))?"start":"end")?"left":"right"):(C=v,k=_==="end"?"top":"bottom");const L=I-g.top-g.bottom,N=z-g.left-g.right,$=bh(I-g[k],L),ee=bh(z-g[C],N),re=!t.middlewareData.shift;let ne=$,ie=ee;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(ie=N),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(ne=L),re&&!_){const Ze=Gs(g.left,0),et=Gs(g.right,0),Ke=Gs(g.top,0),ye=Gs(g.bottom,0);T?ie=z-2*(Ze!==0||et!==0?Ze+et:Gs(g.left,g.right)):ne=I-2*(Ke!==0||ye!==0?Ke+ye:Gs(g.top,g.bottom))}await p({...t,availableWidth:ie,availableHeight:ne});const me=await l.getDimensions(a.floating);return z!==me.width||I!==me.height?{reset:{rects:!0}}:{}}}};function h9(){return typeof window<"u"}function a2(e){return tQ(e)?(e.nodeName||"").toLowerCase():"#document"}function Qs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hu(e){var t;return(t=(tQ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function tQ(e){return h9()?e instanceof Node||e instanceof Qs(e).Node:!1}function bc(e){return h9()?e instanceof Element||e instanceof Qs(e).Element:!1}function cu(e){return h9()?e instanceof HTMLElement||e instanceof Qs(e).HTMLElement:!1}function qU(e){return!h9()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qs(e).ShadowRoot}function I4(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=xc(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function Tge(e){return["table","td","th"].includes(a2(e))}function f9(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function CC(e){const t=DC(),r=bc(e)?xc(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Mge(e){let t=xh(e);for(;cu(t)&&!_y(t);){if(CC(t))return t;if(f9(t))return null;t=xh(t)}return null}function DC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _y(e){return["html","body","#document"].includes(a2(e))}function xc(e){return Qs(e).getComputedStyle(e)}function m9(e){return bc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xh(e){if(a2(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qU(e)&&e.host||hu(e);return qU(t)?t.host:t}function rQ(e){const t=xh(e);return _y(t)?e.ownerDocument?e.ownerDocument.body:e.body:cu(t)&&I4(t)?t:rQ(t)}function Gx(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=rQ(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),l=Qs(i);if(s){const a=zP(l);return t.concat(l,l.visualViewport||[],I4(i)?i:[],a&&r?Gx(a):[])}return t.concat(i,Gx(i,[],r))}function zP(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function nQ(e){const t=xc(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=cu(e),s=i?e.offsetWidth:r,l=i?e.offsetHeight:n,a=J5(r)!==s||J5(n)!==l;return a&&(r=s,n=l),{width:r,height:n,$:a}}function zC(e){return bc(e)?e:e.contextElement}function ty(e){const t=zC(e);if(!cu(t))return au(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=nQ(t);let l=(s?J5(r.width):r.width)/n,a=(s?J5(r.height):r.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const Pge=au(0);function iQ(e){const t=Qs(e);return!DC()||!t.visualViewport?Pge:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kge(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qs(e)?!1:t}function Lm(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=zC(e);let l=au(1);t&&(n?bc(n)&&(l=ty(n)):l=ty(e));const a=kge(s,r,n)?iQ(s):au(0);let p=(i.left+a.x)/l.x,f=(i.top+a.y)/l.y,g=i.width/l.x,v=i.height/l.y;if(s){const _=Qs(s),T=n&&bc(n)?Qs(n):n;let z=_,I=zP(z);for(;I&&n&&T!==z;){const k=ty(I),C=I.getBoundingClientRect(),L=xc(I),N=C.left+(I.clientLeft+parseFloat(L.paddingLeft))*k.x,$=C.top+(I.clientTop+parseFloat(L.paddingTop))*k.y;p*=k.x,f*=k.y,g*=k.x,v*=k.y,p+=N,f+=$,z=Qs(I),I=zP(z)}}return t8({width:g,height:v,x:p,y:f})}function RC(e,t){const r=m9(e).scrollLeft;return t?t.left+r:Lm(hu(e)).left+r}function aQ(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:RC(e,n)),s=n.top+t.scrollTop;return{x:i,y:s}}function Ige(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",l=hu(n),a=t?f9(t.floating):!1;if(n===l||a&&s)return r;let p={scrollLeft:0,scrollTop:0},f=au(1);const g=au(0),v=cu(n);if((v||!v&&!s)&&((a2(n)!=="body"||I4(l))&&(p=m9(n)),cu(n))){const T=Lm(n);f=ty(n),g.x=T.x+n.clientLeft,g.y=T.y+n.clientTop}const _=l&&!v&&!s?aQ(l,p,!0):au(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-p.scrollLeft*f.x+g.x+_.x,y:r.y*f.y-p.scrollTop*f.y+g.y+_.y}}function Cge(e){return Array.from(e.getClientRects())}function Dge(e){const t=hu(e),r=m9(e),n=e.ownerDocument.body,i=Gs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Gs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+RC(e);const a=-r.scrollTop;return xc(n).direction==="rtl"&&(l+=Gs(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:l,y:a}}function zge(e,t){const r=Qs(e),n=hu(e),i=r.visualViewport;let s=n.clientWidth,l=n.clientHeight,a=0,p=0;if(i){s=i.width,l=i.height;const f=DC();(!f||f&&t==="fixed")&&(a=i.offsetLeft,p=i.offsetTop)}return{width:s,height:l,x:a,y:p}}function Rge(e,t){const r=Lm(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=cu(e)?ty(e):au(1),l=e.clientWidth*s.x,a=e.clientHeight*s.y,p=i*s.x,f=n*s.y;return{width:l,height:a,x:p,y:f}}function GU(e,t,r){let n;if(t==="viewport")n=zge(e,r);else if(t==="document")n=Dge(hu(e));else if(bc(t))n=Rge(t,r);else{const i=iQ(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return t8(n)}function oQ(e,t){const r=xh(e);return r===t||!bc(r)||_y(r)?!1:xc(r).position==="fixed"||oQ(r,t)}function Nge(e,t){const r=t.get(e);if(r)return r;let n=Gx(e,[],!1).filter(a=>bc(a)&&a2(a)!=="body"),i=null;const s=xc(e).position==="fixed";let l=s?xh(e):e;for(;bc(l)&&!_y(l);){const a=xc(l),p=CC(l);!p&&a.position==="fixed"&&(i=null),(s?!p&&!i:!p&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||I4(l)&&!p&&oQ(e,l))?n=n.filter(g=>g!==l):i=a,l=xh(l)}return t.set(e,n),n}function Lge(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const l=[...r==="clippingAncestors"?f9(t)?[]:Nge(t,this._c):[].concat(r),n],a=l[0],p=l.reduce((f,g)=>{const v=GU(t,g,i);return f.top=Gs(v.top,f.top),f.right=bh(v.right,f.right),f.bottom=bh(v.bottom,f.bottom),f.left=Gs(v.left,f.left),f},GU(t,a,i));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function Oge(e){const{width:t,height:r}=nQ(e);return{width:t,height:r}}function Bge(e,t,r){const n=cu(t),i=hu(t),s=r==="fixed",l=Lm(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const p=au(0);function f(){p.x=RC(i)}if(n||!n&&!s)if((a2(t)!=="body"||I4(i))&&(a=m9(t)),n){const T=Lm(t,!0,s,t);p.x=T.x+t.clientLeft,p.y=T.y+t.clientTop}else i&&f();s&&!n&&i&&f();const g=i&&!n&&!s?aQ(i,a):au(0),v=l.left+a.scrollLeft-p.x-g.x,_=l.top+a.scrollTop-p.y-g.y;return{x:v,y:_,width:l.width,height:l.height}}function aA(e){return xc(e).position==="static"}function HU(e,t){if(!cu(e)||xc(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return hu(e)===r&&(r=r.ownerDocument.body),r}function sQ(e,t){const r=Qs(e);if(f9(e))return r;if(!cu(e)){let i=xh(e);for(;i&&!_y(i);){if(bc(i)&&!aA(i))return i;i=xh(i)}return r}let n=HU(e,t);for(;n&&Tge(n)&&aA(n);)n=HU(n,t);return n&&_y(n)&&aA(n)&&!CC(n)?r:n||Mge(e)||r}const Fge=async function(e){const t=this.getOffsetParent||sQ,r=this.getDimensions,n=await r(e.floating);return{reference:Bge(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function jge(e){return xc(e).direction==="rtl"}const Vge={convertOffsetParentRelativeRectToViewportRelativeRect:Ige,getDocumentElement:hu,getClippingRect:Lge,getOffsetParent:sQ,getElementRects:Fge,getClientRects:Cge,getDimensions:Oge,getScale:ty,isElement:bc,isRTL:jge};function lQ(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Uge(e,t){let r=null,n;const i=hu(e);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function l(a,p){a===void 0&&(a=!1),p===void 0&&(p=1),s();const f=e.getBoundingClientRect(),{left:g,top:v,width:_,height:T}=f;if(a||t(),!_||!T)return;const z=Hw(v),I=Hw(i.clientWidth-(g+_)),k=Hw(i.clientHeight-(v+T)),C=Hw(g),N={rootMargin:-z+"px "+-I+"px "+-k+"px "+-C+"px",threshold:Gs(0,bh(1,p))||1};let $=!0;function ee(re){const ne=re[0].intersectionRatio;if(ne!==p){if(!$)return l();ne?l(!1,ne):n=setTimeout(()=>{l(!1,1e-7)},1e3)}ne===1&&!lQ(f,e.getBoundingClientRect())&&l(),$=!1}try{r=new IntersectionObserver(ee,{...N,root:i.ownerDocument})}catch{r=new IntersectionObserver(ee,N)}r.observe(e)}return l(!0),s}function cQ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,f=zC(e),g=i||s?[...f?Gx(f):[],...Gx(t)]:[];g.forEach(C=>{i&&C.addEventListener("scroll",r,{passive:!0}),s&&C.addEventListener("resize",r)});const v=f&&a?Uge(f,r):null;let _=-1,T=null;l&&(T=new ResizeObserver(C=>{let[L]=C;L&&L.target===f&&T&&(T.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var N;(N=T)==null||N.observe(t)})),r()}),f&&!p&&T.observe(f),T.observe(t));let z,I=p?Lm(e):null;p&&k();function k(){const C=Lm(e);I&&!lQ(I,C)&&r(),I=C,z=requestAnimationFrame(k)}return r(),()=>{var C;g.forEach(L=>{i&&L.removeEventListener("scroll",r),s&&L.removeEventListener("resize",r)}),v==null||v(),(C=T)==null||C.disconnect(),T=null,p&&cancelAnimationFrame(z)}}const Wge=wge,$ge=Sge,Kge=_ge,qge=Age,Gge=bge,ZU=vge,Hge=Ege,Zge=(e,t,r)=>{const n=new Map,i={platform:Vge,...r},s={...i.platform,_c:n};return yge(e,t,{...i,platform:s})};var i5=typeof document<"u"?R.useLayoutEffect:R.useEffect;function r8(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!r8(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!r8(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function uQ(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function YU(e,t){const r=uQ(e);return Math.round(t*r)/r}function oA(e){const t=R.useRef(e);return i5(()=>{t.current=e}),t}function dQ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:l}={},transform:a=!0,whileElementsMounted:p,open:f}=e,[g,v]=R.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[_,T]=R.useState(n);r8(_,n)||T(n);const[z,I]=R.useState(null),[k,C]=R.useState(null),L=R.useCallback(Q=>{Q!==re.current&&(re.current=Q,I(Q))},[]),N=R.useCallback(Q=>{Q!==ne.current&&(ne.current=Q,C(Q))},[]),$=s||z,ee=l||k,re=R.useRef(null),ne=R.useRef(null),ie=R.useRef(g),me=p!=null,Ze=oA(p),et=oA(i),Ke=oA(f),ye=R.useCallback(()=>{if(!re.current||!ne.current)return;const Q={placement:t,strategy:r,middleware:_};et.current&&(Q.platform=et.current),Zge(re.current,ne.current,Q).then(ce=>{const Ee={...ce,isPositioned:Ke.current!==!1};j.current&&!r8(ie.current,Ee)&&(ie.current=Ee,Pc.flushSync(()=>{v(Ee)}))})},[_,t,r,et,Ke]);i5(()=>{f===!1&&ie.current.isPositioned&&(ie.current.isPositioned=!1,v(Q=>({...Q,isPositioned:!1})))},[f]);const j=R.useRef(!1);i5(()=>(j.current=!0,()=>{j.current=!1}),[]),i5(()=>{if($&&(re.current=$),ee&&(ne.current=ee),$&&ee){if(Ze.current)return Ze.current($,ee,ye);ye()}},[$,ee,ye,Ze,me]);const Z=R.useMemo(()=>({reference:re,floating:ne,setReference:L,setFloating:N}),[L,N]),oe=R.useMemo(()=>({reference:$,floating:ee}),[$,ee]),le=R.useMemo(()=>{const Q={position:r,left:0,top:0};if(!oe.floating)return Q;const ce=YU(oe.floating,g.x),Ee=YU(oe.floating,g.y);return a?{...Q,transform:"translate("+ce+"px, "+Ee+"px)",...uQ(oe.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ce,top:Ee}},[r,a,oe.floating,g.x,g.y]);return R.useMemo(()=>({...g,update:ye,refs:Z,elements:oe,floatingStyles:le}),[g,ye,Z,oe,le])}const Yge=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?ZU({element:n.current,padding:i}).fn(r):{}:n?ZU({element:n,padding:i}).fn(r):{}}}},pQ=(e,t)=>({...Wge(e),options:[e,t]}),hQ=(e,t)=>({...$ge(e),options:[e,t]}),fQ=(e,t)=>({...Hge(e),options:[e,t]}),mQ=(e,t)=>({...Kge(e),options:[e,t]}),gQ=(e,t)=>({...qge(e),options:[e,t]}),yQ=(e,t)=>({...Gge(e),options:[e,t]}),vQ=(e,t)=>({...Yge(e),options:[e,t]});var Xge="Arrow",_Q=R.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return B.jsx(on.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:B.jsx("polygon",{points:"0,0 30,0 15,10"})})});_Q.displayName=Xge;var Qge=_Q;function bQ(e){const[t,r]=R.useState(void 0);return el(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let l,a;if("borderBoxSize"in s){const p=s.borderBoxSize,f=Array.isArray(p)?p[0]:p;l=f.inlineSize,a=f.blockSize}else l=e.offsetWidth,a=e.offsetHeight;r({width:l,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var NC="Popper",[xQ,g9]=nl(NC),[Jge,wQ]=xQ(NC),SQ=e=>{const{__scopePopper:t,children:r}=e,[n,i]=R.useState(null);return B.jsx(Jge,{scope:t,anchor:n,onAnchorChange:i,children:r})};SQ.displayName=NC;var EQ="PopperAnchor",AQ=R.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=wQ(EQ,r),l=R.useRef(null),a=ri(t,l);return R.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:B.jsx(on.div,{...i,ref:a})});AQ.displayName=EQ;var LC="PopperContent",[eye,tye]=xQ(LC),TQ=R.forwardRef((e,t)=>{var Be,ut,bt,Ht,_e,Me;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:a=0,avoidCollisions:p=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:_=!1,updatePositionStrategy:T="optimized",onPlaced:z,...I}=e,k=wQ(LC,r),[C,L]=R.useState(null),N=ri(t,we=>L(we)),[$,ee]=R.useState(null),re=bQ($),ne=(re==null?void 0:re.width)??0,ie=(re==null?void 0:re.height)??0,me=n+(s!=="center"?"-"+s:""),Ze=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},et=Array.isArray(f)?f:[f],Ke=et.length>0,ye={padding:Ze,boundary:et.filter(nye),altBoundary:Ke},{refs:j,floatingStyles:Z,placement:oe,isPositioned:le,middlewareData:Q}=dQ({strategy:"fixed",placement:me,whileElementsMounted:(...we)=>cQ(...we,{animationFrame:T==="always"}),elements:{reference:k.anchor},middleware:[pQ({mainAxis:i+ie,alignmentAxis:l}),p&&hQ({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?fQ():void 0,...ye}),p&&mQ({...ye}),gQ({...ye,apply:({elements:we,rects:be,availableWidth:rt,availableHeight:pt})=>{const{width:Ct,height:Jt}=be.reference,Rr=we.floating.style;Rr.setProperty("--radix-popper-available-width",`${rt}px`),Rr.setProperty("--radix-popper-available-height",`${pt}px`),Rr.setProperty("--radix-popper-anchor-width",`${Ct}px`),Rr.setProperty("--radix-popper-anchor-height",`${Jt}px`)}}),$&&vQ({element:$,padding:a}),iye({arrowWidth:ne,arrowHeight:ie}),_&&yQ({strategy:"referenceHidden",...ye})]}),[ce,Ee]=kQ(oe),fe=Ds(z);el(()=>{le&&(fe==null||fe())},[le,fe]);const K=(Be=Q.arrow)==null?void 0:Be.x,pe=(ut=Q.arrow)==null?void 0:ut.y,Et=((bt=Q.arrow)==null?void 0:bt.centerOffset)!==0,[zt,Ve]=R.useState();return el(()=>{C&&Ve(window.getComputedStyle(C).zIndex)},[C]),B.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:le?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:zt,"--radix-popper-transform-origin":[(Ht=Q.transformOrigin)==null?void 0:Ht.x,(_e=Q.transformOrigin)==null?void 0:_e.y].join(" "),...((Me=Q.hide)==null?void 0:Me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:B.jsx(eye,{scope:r,placedSide:ce,onArrowChange:ee,arrowX:K,arrowY:pe,shouldHideArrow:Et,children:B.jsx(on.div,{"data-side":ce,"data-align":Ee,...I,ref:N,style:{...I.style,animation:le?void 0:"none"}})})})});TQ.displayName=LC;var MQ="PopperArrow",rye={top:"bottom",right:"left",bottom:"top",left:"right"},PQ=R.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=tye(MQ,n),l=rye[s.placedSide];return B.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:B.jsx(Qge,{...i,ref:r,style:{...i.style,display:"block"}})})});PQ.displayName=MQ;function nye(e){return e!==null}var iye=e=>({name:"transformOrigin",options:e,fn(t){var k,C,L;const{placement:r,rects:n,middlewareData:i}=t,l=((k=i.arrow)==null?void 0:k.centerOffset)!==0,a=l?0:e.arrowWidth,p=l?0:e.arrowHeight,[f,g]=kQ(r),v={start:"0%",center:"50%",end:"100%"}[g],_=(((C=i.arrow)==null?void 0:C.x)??0)+a/2,T=(((L=i.arrow)==null?void 0:L.y)??0)+p/2;let z="",I="";return f==="bottom"?(z=l?v:`${_}px`,I=`${-p}px`):f==="top"?(z=l?v:`${_}px`,I=`${n.floating.height+p}px`):f==="right"?(z=`${-p}px`,I=l?v:`${T}px`):f==="left"&&(z=`${n.floating.width+p}px`,I=l?v:`${T}px`),{data:{x:z,y:I}}}});function kQ(e){const[t,r="center"]=e.split("-");return[t,r]}var IQ=SQ,CQ=AQ,DQ=TQ,zQ=PQ,[y9,fUe]=nl("Tooltip",[g9]),v9=g9(),RQ="TooltipProvider",aye=700,RP="tooltip.open",[oye,OC]=y9(RQ),NQ=e=>{const{__scopeTooltip:t,delayDuration:r=aye,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=e,l=R.useRef(!0),a=R.useRef(!1),p=R.useRef(0);return R.useEffect(()=>{const f=p.current;return()=>window.clearTimeout(f)},[]),B.jsx(oye,{scope:t,isOpenDelayedRef:l,delayDuration:r,onOpen:R.useCallback(()=>{window.clearTimeout(p.current),l.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:R.useCallback(f=>{a.current=f},[]),disableHoverableContent:i,children:s})};NQ.displayName=RQ;var Hx="Tooltip",[sye,_9]=y9(Hx),LQ=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:l,delayDuration:a}=e,p=OC(Hx,e.__scopeTooltip),f=v9(t),[g,v]=R.useState(null),_=Ad(),T=R.useRef(0),z=l??p.disableHoverableContent,I=a??p.delayDuration,k=R.useRef(!1),[C,L]=Uh({prop:n,defaultProp:i??!1,onChange:ne=>{ne?(p.onOpen(),document.dispatchEvent(new CustomEvent(RP))):p.onClose(),s==null||s(ne)},caller:Hx}),N=R.useMemo(()=>C?k.current?"delayed-open":"instant-open":"closed",[C]),$=R.useCallback(()=>{window.clearTimeout(T.current),T.current=0,k.current=!1,L(!0)},[L]),ee=R.useCallback(()=>{window.clearTimeout(T.current),T.current=0,L(!1)},[L]),re=R.useCallback(()=>{window.clearTimeout(T.current),T.current=window.setTimeout(()=>{k.current=!0,L(!0),T.current=0},I)},[I,L]);return R.useEffect(()=>()=>{T.current&&(window.clearTimeout(T.current),T.current=0)},[]),B.jsx(IQ,{...f,children:B.jsx(sye,{scope:t,contentId:_,open:C,stateAttribute:N,trigger:g,onTriggerChange:v,onTriggerEnter:R.useCallback(()=>{p.isOpenDelayedRef.current?re():$()},[p.isOpenDelayedRef,re,$]),onTriggerLeave:R.useCallback(()=>{z?ee():(window.clearTimeout(T.current),T.current=0)},[ee,z]),onOpen:$,onClose:ee,disableHoverableContent:z,children:r})})};LQ.displayName=Hx;var NP="TooltipTrigger",OQ=R.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=_9(NP,r),s=OC(NP,r),l=v9(r),a=R.useRef(null),p=ri(t,a,i.onTriggerChange),f=R.useRef(!1),g=R.useRef(!1),v=R.useCallback(()=>f.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),B.jsx(CQ,{asChild:!0,...l,children:B.jsx(on.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:p,onPointerMove:Er(e.onPointerMove,_=>{_.pointerType!=="touch"&&!g.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:Er(e.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:Er(e.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Er(e.onFocus,()=>{f.current||i.onOpen()}),onBlur:Er(e.onBlur,i.onClose),onClick:Er(e.onClick,i.onClose)})})});OQ.displayName=NP;var lye="TooltipPortal",[mUe,cye]=y9(lye,{forceMount:void 0}),by="TooltipContent",BQ=R.forwardRef((e,t)=>{const r=cye(by,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=e,l=_9(by,e.__scopeTooltip);return B.jsx(zl,{present:n||l.open,children:l.disableHoverableContent?B.jsx(FQ,{side:i,...s,ref:t}):B.jsx(uye,{side:i,...s,ref:t})})}),uye=R.forwardRef((e,t)=>{const r=_9(by,e.__scopeTooltip),n=OC(by,e.__scopeTooltip),i=R.useRef(null),s=ri(t,i),[l,a]=R.useState(null),{trigger:p,onClose:f}=r,g=i.current,{onPointerInTransitChange:v}=n,_=R.useCallback(()=>{a(null),v(!1)},[v]),T=R.useCallback((z,I)=>{const k=z.currentTarget,C={x:z.clientX,y:z.clientY},L=mye(C,k.getBoundingClientRect()),N=gye(C,L),$=yye(I.getBoundingClientRect()),ee=_ye([...N,...$]);a(ee),v(!0)},[v]);return R.useEffect(()=>()=>_(),[_]),R.useEffect(()=>{if(p&&g){const z=k=>T(k,g),I=k=>T(k,p);return p.addEventListener("pointerleave",z),g.addEventListener("pointerleave",I),()=>{p.removeEventListener("pointerleave",z),g.removeEventListener("pointerleave",I)}}},[p,g,T,_]),R.useEffect(()=>{if(l){const z=I=>{const k=I.target,C={x:I.clientX,y:I.clientY},L=(p==null?void 0:p.contains(k))||(g==null?void 0:g.contains(k)),N=!vye(C,l);L?_():N&&(_(),f())};return document.addEventListener("pointermove",z),()=>document.removeEventListener("pointermove",z)}},[p,g,l,f,_]),B.jsx(FQ,{...e,ref:s})}),[dye,pye]=y9(Hx,{isInside:!1}),hye=U1e("TooltipContent"),FQ=R.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:l,...a}=e,p=_9(by,r),f=v9(r),{onClose:g}=p;return R.useEffect(()=>(document.addEventListener(RP,g),()=>document.removeEventListener(RP,g)),[g]),R.useEffect(()=>{if(p.trigger){const v=_=>{const T=_.target;T!=null&&T.contains(p.trigger)&&g()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[p.trigger,g]),B.jsx(M4,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:v=>v.preventDefault(),onDismiss:g,children:B.jsxs(DQ,{"data-state":p.stateAttribute,...f,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[B.jsx(hye,{children:n}),B.jsx(dye,{scope:r,isInside:!0,children:B.jsx(dme,{id:p.contentId,role:"tooltip",children:i||n})})]})})});BQ.displayName=by;var jQ="TooltipArrow",fye=R.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=v9(r);return pye(jQ,r).isInside?null:B.jsx(zQ,{...i,...n,ref:t})});fye.displayName=jQ;function mye(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function gye(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function yye(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function vye(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const a=t[s],p=t[l],f=a.x,g=a.y,v=p.x,_=p.y;g>n!=_>n&&r<(v-f)*(n-g)/(_-g)+f&&(i=!i)}return i}function _ye(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),bye(t)}function bye(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const s=t[t.length-1],l=t[t.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const s=r[r.length-1],l=r[r.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var xye=NQ,wye=LQ,Sye=OQ,VQ=BQ;const UQ=xye,Eye=wye,Aye=Sye,WQ=R.forwardRef(({className:e,sideOffset:t=4,...r},n)=>B.jsx(VQ,{ref:n,sideOffset:t,className:yr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));WQ.displayName=VQ.displayName;class b9{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const r={listener:t};return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const BC=typeof window>"u"||"Deno"in window;function ac(){}function Tye(e,t){return typeof e=="function"?e(t):e}function Mye(e){return typeof e=="number"&&e>=0&&e!==1/0}function Pye(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zw(e,t,r){return x9(e)?typeof t=="function"?{...r,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function Rp(e,t,r){return x9(e)?[{...t,queryKey:e},r]:[e||{},t]}function XU(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:l,stale:a}=e;if(x9(l)){if(n){if(t.queryHash!==FC(l,t.options))return!1}else if(!n8(t.queryKey,l))return!1}if(r!=="all"){const p=t.isActive();if(r==="active"&&!p||r==="inactive"&&p)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||typeof i<"u"&&i!==t.state.fetchStatus||s&&!s(t))}function QU(e,t){const{exact:r,fetching:n,predicate:i,mutationKey:s}=e;if(x9(s)){if(!t.options.mutationKey)return!1;if(r){if(dm(t.options.mutationKey)!==dm(s))return!1}else if(!n8(t.options.mutationKey,s))return!1}return!(typeof n=="boolean"&&t.state.status==="loading"!==n||i&&!i(t))}function FC(e,t){return((t==null?void 0:t.queryKeyHashFn)||dm)(e)}function dm(e){return JSON.stringify(e,(t,r)=>LP(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function n8(e,t){return $Q(e,t)}function $Q(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!$Q(e[r],t[r])):!1}function KQ(e,t){if(e===t)return e;const r=JU(e)&&JU(t);if(r||LP(e)&&LP(t)){const n=r?e.length:Object.keys(e).length,i=r?t:Object.keys(t),s=i.length,l=r?[]:{};let a=0;for(let p=0;p<s;p++){const f=r?p:i[p];l[f]=KQ(e[f],t[f]),l[f]===e[f]&&a++}return n===s&&a===n?e:l}return t}function JU(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function LP(e){if(!eW(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const r=t.prototype;return!(!eW(r)||!r.hasOwnProperty("isPrototypeOf"))}function eW(e){return Object.prototype.toString.call(e)==="[object Object]"}function x9(e){return Array.isArray(e)}function qQ(e){return new Promise(t=>{setTimeout(t,e)})}function tW(e){qQ(0).then(e)}function kye(){if(typeof AbortController=="function")return new AbortController}function Iye(e,t,r){return r.isDataEqual!=null&&r.isDataEqual(e,t)?e:typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?KQ(e,t):t}class Cye extends b9{constructor(){super(),this.setup=t=>{if(!BC&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var r;this.setup=t,(r=this.cleanup)==null||r.call(this),this.cleanup=t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const OP=new Cye,rW=["online","offline"];class Dye extends b9{constructor(){super(),this.setup=t=>{if(!BC&&window.addEventListener){const r=()=>t();return rW.forEach(n=>{window.addEventListener(n,r,!1)}),()=>{rW.forEach(n=>{window.removeEventListener(n,r)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var r;this.setup=t,(r=this.cleanup)==null||r.call(this),this.cleanup=t(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const i8=new Dye;function zye(e){return Math.min(1e3*2**e,3e4)}function jC(e){return(e??"online")==="online"?i8.isOnline():!0}class GQ{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function sA(e){return e instanceof GQ}function HQ(e){let t=!1,r=0,n=!1,i,s,l;const a=new Promise((k,C)=>{s=k,l=C}),p=k=>{n||(T(new GQ(k)),e.abort==null||e.abort())},f=()=>{t=!0},g=()=>{t=!1},v=()=>!OP.isFocused()||e.networkMode!=="always"&&!i8.isOnline(),_=k=>{n||(n=!0,e.onSuccess==null||e.onSuccess(k),i==null||i(),s(k))},T=k=>{n||(n=!0,e.onError==null||e.onError(k),i==null||i(),l(k))},z=()=>new Promise(k=>{i=C=>{const L=n||!v();return L&&k(C),L},e.onPause==null||e.onPause()}).then(()=>{i=void 0,n||e.onContinue==null||e.onContinue()}),I=()=>{if(n)return;let k;try{k=e.fn()}catch(C){k=Promise.reject(C)}Promise.resolve(k).then(_).catch(C=>{var L,N;if(n)return;const $=(L=e.retry)!=null?L:3,ee=(N=e.retryDelay)!=null?N:zye,re=typeof ee=="function"?ee(r,C):ee,ne=$===!0||typeof $=="number"&&r<$||typeof $=="function"&&$(r,C);if(t||!ne){T(C);return}r++,e.onFail==null||e.onFail(r,C),qQ(re).then(()=>{if(v())return z()}).then(()=>{t?T(C):I()})})};return jC(e.networkMode)?I():z().then(I),{promise:a,cancel:p,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:f,continueRetry:g}}const VC=console;function Rye(){let e=[],t=0,r=g=>{g()},n=g=>{g()};const i=g=>{let v;t++;try{v=g()}finally{t--,t||a()}return v},s=g=>{t?e.push(g):tW(()=>{r(g)})},l=g=>(...v)=>{s(()=>{g(...v)})},a=()=>{const g=e;e=[],g.length&&tW(()=>{n(()=>{g.forEach(v=>{r(v)})})})};return{batch:i,batchCalls:l,schedule:s,setNotifyFunction:g=>{r=g},setBatchNotifyFunction:g=>{n=g}}}const rs=Rye();class ZQ{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mye(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(BC?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Nye extends ZQ{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||VC,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||Lye(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,r){const n=Iye(this.state.data,t,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){this.dispatch({type:"setState",state:t,setStateOptions:r})}cancel(t){var r;const n=this.promise;return(r=this.retryer)==null||r.cancel(t),n?n.then(ac).catch(ac):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Pye(this.state.dataUpdatedAt,t)}onFocus(){var t;const r=this.observers.find(n=>n.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const r=this.observers.find(n=>n.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,r){var n,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&r!=null&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const T=this.observers.find(z=>z.options.queryFn);T&&this.setOptions(T.options)}const l=kye(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},p=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>{if(l)return this.abortSignalConsumed=!0,l.signal}})};p(a);const f=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),g={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:f};if(p(g),(n=this.options.behavior)==null||n.onFetch(g),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=g.fetchOptions)==null?void 0:i.meta)){var v;this.dispatch({type:"fetch",meta:(v=g.fetchOptions)==null?void 0:v.meta})}const _=T=>{if(sA(T)&&T.silent||this.dispatch({type:"error",error:T}),!sA(T)){var z,I,k,C;(z=(I=this.cache.config).onError)==null||z.call(I,T,this),(k=(C=this.cache.config).onSettled)==null||k.call(C,this.state.data,T,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=HQ({fn:g.fetchFn,abort:l==null?void 0:l.abort.bind(l),onSuccess:T=>{var z,I,k,C;if(typeof T>"u"){_(new Error(this.queryHash+" data is undefined"));return}this.setData(T),(z=(I=this.cache.config).onSuccess)==null||z.call(I,T,this),(k=(C=this.cache.config).onSettled)==null||k.call(C,T,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:_,onFail:(T,z)=>{this.dispatch({type:"failed",failureCount:T,error:z})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay,networkMode:g.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const r=n=>{var i,s;switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:jC(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(s=t.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const l=t.error;return sA(l)&&l.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...n,error:l,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),rs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function Lye(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=typeof t<"u",n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}class Oye extends b9{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,r,n){var i;const s=r.queryKey,l=(i=r.queryHash)!=null?i:FC(s,r);let a=this.get(l);return a||(a=new Nye({cache:this,logger:t.getLogger(),queryKey:s,queryHash:l,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const r=this.queriesMap[t.queryHash];r&&(t.destroy(),this.queries=this.queries.filter(n=>n!==t),r===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){rs.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,r){const[n]=Rp(t,r);return typeof n.exact>"u"&&(n.exact=!0),this.queries.find(i=>XU(n,i))}findAll(t,r){const[n]=Rp(t,r);return Object.keys(n).length>0?this.queries.filter(i=>XU(n,i)):this.queries}notify(t){rs.batch(()=>{this.listeners.forEach(({listener:r})=>{r(t)})})}onFocus(){rs.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){rs.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class Bye extends ZQ{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||VC,this.observers=[],this.state=t.state||Fye(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(r=>r!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,r;return(t=(r=this.retryer)==null?void 0:r.continue())!=null?t:this.execute()}async execute(){const t=()=>{var ne;return this.retryer=HQ({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(ie,me)=>{this.dispatch({type:"failed",failureCount:ie,error:me})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(ne=this.options.retry)!=null?ne:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},r=this.state.status==="loading";try{var n,i,s,l,a,p,f,g;if(!r){var v,_,T,z;this.dispatch({type:"loading",variables:this.options.variables}),await((v=(_=this.mutationCache.config).onMutate)==null?void 0:v.call(_,this.state.variables,this));const ie=await((T=(z=this.options).onMutate)==null?void 0:T.call(z,this.state.variables));ie!==this.state.context&&this.dispatch({type:"loading",context:ie,variables:this.state.variables})}const ne=await t();return await((n=(i=this.mutationCache.config).onSuccess)==null?void 0:n.call(i,ne,this.state.variables,this.state.context,this)),await((s=(l=this.options).onSuccess)==null?void 0:s.call(l,ne,this.state.variables,this.state.context)),await((a=(p=this.mutationCache.config).onSettled)==null?void 0:a.call(p,ne,null,this.state.variables,this.state.context,this)),await((f=(g=this.options).onSettled)==null?void 0:f.call(g,ne,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:ne}),ne}catch(ne){try{var I,k,C,L,N,$,ee,re;throw await((I=(k=this.mutationCache.config).onError)==null?void 0:I.call(k,ne,this.state.variables,this.state.context,this)),await((C=(L=this.options).onError)==null?void 0:C.call(L,ne,this.state.variables,this.state.context)),await((N=($=this.mutationCache.config).onSettled)==null?void 0:N.call($,void 0,ne,this.state.variables,this.state.context,this)),await((ee=(re=this.options).onSettled)==null?void 0:ee.call(re,void 0,ne,this.state.variables,this.state.context)),ne}finally{this.dispatch({type:"error",error:ne})}}}dispatch(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"loading":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!jC(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...n,...t.state}}};this.state=r(this.state),rs.batch(()=>{this.observers.forEach(n=>{n.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function Fye(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class jye extends b9{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,r,n){const i=new Bye({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(r),state:n,defaultOptions:r.mutationKey?t.getMutationDefaults(r.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(r=>r!==t),this.notify({type:"removed",mutation:t})}clear(){rs.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(r=>QU(t,r))}findAll(t){return this.mutations.filter(r=>QU(t,r))}notify(t){rs.batch(()=>{this.listeners.forEach(({listener:r})=>{r(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const r=this.mutations.filter(n=>n.state.isPaused);return rs.batch(()=>r.reduce((n,i)=>n.then(()=>i.continue().catch(ac)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Vye(){return{onFetch:e=>{e.fetchFn=()=>{var t,r,n,i,s,l;const a=(t=e.fetchOptions)==null||(r=t.meta)==null?void 0:r.refetchPage,p=(n=e.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,f=p==null?void 0:p.pageParam,g=(p==null?void 0:p.direction)==="forward",v=(p==null?void 0:p.direction)==="backward",_=((s=e.state.data)==null?void 0:s.pages)||[],T=((l=e.state.data)==null?void 0:l.pageParams)||[];let z=T,I=!1;const k=re=>{Object.defineProperty(re,"signal",{enumerable:!0,get:()=>{var ne;if((ne=e.signal)!=null&&ne.aborted)I=!0;else{var ie;(ie=e.signal)==null||ie.addEventListener("abort",()=>{I=!0})}return e.signal}})},C=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),L=(re,ne,ie,me)=>(z=me?[ne,...z]:[...z,ne],me?[ie,...re]:[...re,ie]),N=(re,ne,ie,me)=>{if(I)return Promise.reject("Cancelled");if(typeof ie>"u"&&!ne&&re.length)return Promise.resolve(re);const Ze={queryKey:e.queryKey,pageParam:ie,meta:e.options.meta};k(Ze);const et=C(Ze);return Promise.resolve(et).then(ye=>L(re,ie,ye,me))};let $;if(!_.length)$=N([]);else if(g){const re=typeof f<"u",ne=re?f:nW(e.options,_);$=N(_,re,ne)}else if(v){const re=typeof f<"u",ne=re?f:Uye(e.options,_);$=N(_,re,ne,!0)}else{z=[];const re=typeof e.options.getNextPageParam>"u";$=(a&&_[0]?a(_[0],0,_):!0)?N([],re,T[0]):Promise.resolve(L([],T[0],_[0]));for(let ie=1;ie<_.length;ie++)$=$.then(me=>{if(a&&_[ie]?a(_[ie],ie,_):!0){const et=re?T[ie]:nW(e.options,me);return N(me,re,et)}return Promise.resolve(L(me,T[ie],_[ie]))})}return $.then(re=>({pages:re,pageParams:z}))}}}}function nW(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function Uye(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}class Wye{constructor(t={}){this.queryCache=t.queryCache||new Oye,this.mutationCache=t.mutationCache||new jye,this.logger=t.logger||VC,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=OP.subscribe(()=>{OP.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=i8.subscribe(()=>{i8.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,r;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(r=this.unsubscribeOnline)==null||r.call(this),this.unsubscribeOnline=void 0)}isFetching(t,r){const[n]=Rp(t,r);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,r){var n;return(n=this.queryCache.find(t,r))==null?void 0:n.state.data}ensureQueryData(t,r,n){const i=Zw(t,r,n),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:r,state:n})=>{const i=n.data;return[r,i]})}setQueryData(t,r,n){const i=this.queryCache.find(t),s=i==null?void 0:i.state.data,l=Tye(r,s);if(typeof l>"u")return;const a=Zw(t),p=this.defaultQueryOptions(a);return this.queryCache.build(this,p).setData(l,{...n,manual:!0})}setQueriesData(t,r,n){return rs.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,r,n)]))}getQueryState(t,r){var n;return(n=this.queryCache.find(t,r))==null?void 0:n.state}removeQueries(t,r){const[n]=Rp(t,r),i=this.queryCache;rs.batch(()=>{i.findAll(n).forEach(s=>{i.remove(s)})})}resetQueries(t,r,n){const[i,s]=Rp(t,r,n),l=this.queryCache,a={type:"active",...i};return rs.batch(()=>(l.findAll(i).forEach(p=>{p.reset()}),this.refetchQueries(a,s)))}cancelQueries(t,r,n){const[i,s={}]=Rp(t,r,n);typeof s.revert>"u"&&(s.revert=!0);const l=rs.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(l).then(ac).catch(ac)}invalidateQueries(t,r,n){const[i,s]=Rp(t,r,n);return rs.batch(()=>{var l,a;if(this.queryCache.findAll(i).forEach(f=>{f.invalidate()}),i.refetchType==="none")return Promise.resolve();const p={...i,type:(l=(a=i.refetchType)!=null?a:i.type)!=null?l:"active"};return this.refetchQueries(p,s)})}refetchQueries(t,r,n){const[i,s]=Rp(t,r,n),l=rs.batch(()=>this.queryCache.findAll(i).filter(p=>!p.isDisabled()).map(p=>{var f;return p.fetch(void 0,{...s,cancelRefetch:(f=s==null?void 0:s.cancelRefetch)!=null?f:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(l).then(ac);return s!=null&&s.throwOnError||(a=a.catch(ac)),a}fetchQuery(t,r,n){const i=Zw(t,r,n),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const l=this.queryCache.build(this,s);return l.isStaleByTime(s.staleTime)?l.fetch(s):Promise.resolve(l.state.data)}prefetchQuery(t,r,n){return this.fetchQuery(t,r,n).then(ac).catch(ac)}fetchInfiniteQuery(t,r,n){const i=Zw(t,r,n);return i.behavior=Vye(),this.fetchQuery(i)}prefetchInfiniteQuery(t,r,n){return this.fetchInfiniteQuery(t,r,n).then(ac).catch(ac)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,r){const n=this.queryDefaults.find(i=>dm(t)===dm(i.queryKey));n?n.defaultOptions=r:this.queryDefaults.push({queryKey:t,defaultOptions:r})}getQueryDefaults(t){if(!t)return;const r=this.queryDefaults.find(n=>n8(t,n.queryKey));return r==null?void 0:r.defaultOptions}setMutationDefaults(t,r){const n=this.mutationDefaults.find(i=>dm(t)===dm(i.mutationKey));n?n.defaultOptions=r:this.mutationDefaults.push({mutationKey:t,defaultOptions:r})}getMutationDefaults(t){if(!t)return;const r=this.mutationDefaults.find(n=>n8(t,n.mutationKey));return r==null?void 0:r.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const r={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=FC(r.queryKey,r)),typeof r.refetchOnReconnect>"u"&&(r.refetchOnReconnect=r.networkMode!=="always"),typeof r.useErrorBoundary>"u"&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}var YQ={exports:{}},XQ={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy=R;function $ye(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kye=typeof Object.is=="function"?Object.is:$ye,qye=xy.useState,Gye=xy.useEffect,Hye=xy.useLayoutEffect,Zye=xy.useDebugValue;function Yye(e,t){var r=t(),n=qye({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return Hye(function(){i.value=r,i.getSnapshot=t,lA(i)&&s({inst:i})},[e,r,t]),Gye(function(){return lA(i)&&s({inst:i}),e(function(){lA(i)&&s({inst:i})})},[e]),Zye(r),r}function lA(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kye(e,r)}catch{return!0}}function Xye(e,t){return t()}var Qye=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Xye:Yye;XQ.useSyncExternalStore=xy.useSyncExternalStore!==void 0?xy.useSyncExternalStore:Qye;YQ.exports=XQ;var Jye=YQ.exports;const iW=R.createContext(void 0),eve=R.createContext(!1);function tve(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=iW),window.ReactQueryClientContext):iW)}const rve=({client:e,children:t,context:r,contextSharing:n=!1})=>{R.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=tve(r,n);return R.createElement(eve.Provider,{value:!r&&n},R.createElement(i.Provider,{value:e},t))};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(this,arguments)}var $p;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($p||($p={}));const aW="popstate";function nve(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:l,hash:a}=n.location;return BP("",{pathname:s,search:l,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:a8(i)}return ave(t,r,null,e)}function va(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function QQ(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ive(){return Math.random().toString(36).substr(2,8)}function oW(e,t){return{usr:e.state,key:e.key,idx:t}}function BP(e,t,r,n){return r===void 0&&(r=null),Zx({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?o2(t):t,{state:r,key:t&&t.key||n||ive()})}function a8(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function o2(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ave(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,l=i.history,a=$p.Pop,p=null,f=g();f==null&&(f=0,l.replaceState(Zx({},l.state,{idx:f}),""));function g(){return(l.state||{idx:null}).idx}function v(){a=$p.Pop;let k=g(),C=k==null?null:k-f;f=k,p&&p({action:a,location:I.location,delta:C})}function _(k,C){a=$p.Push;let L=BP(I.location,k,C);r&&r(L,k),f=g()+1;let N=oW(L,f),$=I.createHref(L);try{l.pushState(N,"",$)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;i.location.assign($)}s&&p&&p({action:a,location:I.location,delta:1})}function T(k,C){a=$p.Replace;let L=BP(I.location,k,C);r&&r(L,k),f=g();let N=oW(L,f),$=I.createHref(L);l.replaceState(N,"",$),s&&p&&p({action:a,location:I.location,delta:0})}function z(k){let C=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof k=="string"?k:a8(k);return L=L.replace(/ $/,"%20"),va(C,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,C)}let I={get action(){return a},get location(){return e(i,l)},listen(k){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(aW,v),p=k,()=>{i.removeEventListener(aW,v),p=null}},createHref(k){return t(i,k)},createURL:z,encodeLocation(k){let C=z(k);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:T,go(k){return l.go(k)}};return I}var sW;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sW||(sW={}));function ove(e,t,r){return r===void 0&&(r="/"),sve(e,t,r,!1)}function sve(e,t,r,n){let i=typeof t=="string"?o2(t):t,s=UC(i.pathname||"/",r);if(s==null)return null;let l=JQ(e);lve(l);let a=null;for(let p=0;a==null&&p<l.length;++p){let f=_ve(s);a=yve(l[p],f,n)}return a}function JQ(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,l,a)=>{let p={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};p.relativePath.startsWith("/")&&(va(p.relativePath.startsWith(n),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(n.length));let f=ih([n,p.relativePath]),g=r.concat(p);s.children&&s.children.length>0&&(va(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),JQ(s.children,t,g,f)),!(s.path==null&&!s.index)&&t.push({path:f,score:mve(f,s.index),routesMeta:g})};return e.forEach((s,l)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,l);else for(let p of eJ(s.path))i(s,l,p)}),t}function eJ(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let l=eJ(n.join("/")),a=[];return a.push(...l.map(p=>p===""?s:[s,p].join("/"))),i&&a.push(...l),a.map(p=>e.startsWith("/")&&p===""?"/":p)}function lve(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:gve(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const cve=/^:[\w-]+$/,uve=3,dve=2,pve=1,hve=10,fve=-2,lW=e=>e==="*";function mve(e,t){let r=e.split("/"),n=r.length;return r.some(lW)&&(n+=fve),t&&(n+=dve),r.filter(i=>!lW(i)).reduce((i,s)=>i+(cve.test(s)?uve:s===""?pve:hve),n)}function gve(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function yve(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,i={},s="/",l=[];for(let a=0;a<n.length;++a){let p=n[a],f=a===n.length-1,g=s==="/"?t:t.slice(s.length)||"/",v=cW({path:p.relativePath,caseSensitive:p.caseSensitive,end:f},g),_=p.route;if(!v&&f&&r&&!n[n.length-1].route.index&&(v=cW({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:ih([s,v.pathname]),pathnameBase:Sve(ih([s,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(s=ih([s,v.pathnameBase]))}return l}function cW(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=vve(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((f,g,v)=>{let{paramName:_,isOptional:T}=g;if(_==="*"){let I=a[v]||"";l=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const z=a[v];return T&&!z?f[_]=void 0:f[_]=(z||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:e}}function vve(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),QQ(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,a,p)=>(n.push({paramName:a,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function _ve(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return QQ(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function UC(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function bve(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?o2(e):e;return{pathname:r?r.startsWith("/")?r:xve(r,t):t,search:Eve(n),hash:Ave(i)}}function xve(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function cA(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wve(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function WC(e,t){let r=wve(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function $C(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=o2(e):(i=Zx({},e),va(!i.pathname||!i.pathname.includes("?"),cA("?","pathname","search",i)),va(!i.pathname||!i.pathname.includes("#"),cA("#","pathname","hash",i)),va(!i.search||!i.search.includes("#"),cA("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,a;if(l==null)a=r;else{let v=t.length-1;if(!n&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;i.pathname=_.join("/")}a=v>=0?t[v]:"/"}let p=bve(i,a),f=l&&l!=="/"&&l.endsWith("/"),g=(s||l===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(f||g)&&(p.pathname+="/"),p}const ih=e=>e.join("/").replace(/\/\/+/g,"/"),Sve=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Eve=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ave=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Tve(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tJ=["post","put","patch","delete"];new Set(tJ);const Mve=["get",...tJ];new Set(Mve);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yx.apply(this,arguments)}const KC=R.createContext(null),Pve=R.createContext(null),Wh=R.createContext(null),w9=R.createContext(null),fu=R.createContext({outlet:null,matches:[],isDataRoute:!1}),rJ=R.createContext(null);function kve(e,t){let{relative:r}=t===void 0?{}:t;s2()||va(!1);let{basename:n,navigator:i}=R.useContext(Wh),{hash:s,pathname:l,search:a}=iJ(e,{relative:r}),p=l;return n!=="/"&&(p=l==="/"?n:ih([n,l])),i.createHref({pathname:p,search:a,hash:s})}function s2(){return R.useContext(w9)!=null}function $h(){return s2()||va(!1),R.useContext(w9).location}function nJ(e){R.useContext(Wh).static||R.useLayoutEffect(e)}function l2(){let{isDataRoute:e}=R.useContext(fu);return e?Kve():Ive()}function Ive(){s2()||va(!1);let e=R.useContext(KC),{basename:t,future:r,navigator:n}=R.useContext(Wh),{matches:i}=R.useContext(fu),{pathname:s}=$h(),l=JSON.stringify(WC(i,r.v7_relativeSplatPath)),a=R.useRef(!1);return nJ(()=>{a.current=!0}),R.useCallback(function(f,g){if(g===void 0&&(g={}),!a.current)return;if(typeof f=="number"){n.go(f);return}let v=$C(f,JSON.parse(l),s,g.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ih([t,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[t,n,l,s,e])}const Cve=R.createContext(null);function Dve(e){let t=R.useContext(fu).outlet;return t&&R.createElement(Cve.Provider,{value:e},t)}function zve(){let{matches:e}=R.useContext(fu),t=e[e.length-1];return t?t.params:{}}function iJ(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=R.useContext(Wh),{matches:i}=R.useContext(fu),{pathname:s}=$h(),l=JSON.stringify(WC(i,n.v7_relativeSplatPath));return R.useMemo(()=>$C(e,JSON.parse(l),s,r==="path"),[e,l,s,r])}function Rve(e,t){return Nve(e,t)}function Nve(e,t,r,n){s2()||va(!1);let{navigator:i,static:s}=R.useContext(Wh),{matches:l}=R.useContext(fu),a=l[l.length-1],p=a?a.params:{};a&&a.pathname;let f=a?a.pathnameBase:"/";a&&a.route;let g=$h(),v;if(t){var _;let C=typeof t=="string"?o2(t):t;f==="/"||(_=C.pathname)!=null&&_.startsWith(f)||va(!1),v=C}else v=g;let T=v.pathname||"/",z=T;if(f!=="/"){let C=f.replace(/^\//,"").split("/");z="/"+T.replace(/^\//,"").split("/").slice(C.length).join("/")}let I=!s&&r&&r.matches&&r.matches.length>0?r.matches:ove(e,{pathname:z}),k=jve(I&&I.map(C=>Object.assign({},C,{params:Object.assign({},p,C.params),pathname:ih([f,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:ih([f,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,r,n);return t&&k?R.createElement(w9.Provider,{value:{location:Yx({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:$p.Pop}},k):k}function Lve(){let e=$ve(),t=Tve(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),r?R.createElement("pre",{style:i},r):null,s)}const Ove=R.createElement(Lve,null);class Bve extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?R.createElement(fu.Provider,{value:this.props.routeContext},R.createElement(rJ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fve(e){let{routeContext:t,match:r,children:n}=e,i=R.useContext(KC);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),R.createElement(fu.Provider,{value:t},n)}function jve(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,a=(i=r)==null?void 0:i.errors;if(a!=null){let g=l.findIndex(v=>v.route.id&&(a==null?void 0:a[v.route.id])!==void 0);g>=0||va(!1),l=l.slice(0,Math.min(l.length,g+1))}let p=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=g),v.route.id){let{loaderData:_,errors:T}=r,z=v.route.loader&&_[v.route.id]===void 0&&(!T||T[v.route.id]===void 0);if(v.route.lazy||z){p=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((g,v,_)=>{let T,z=!1,I=null,k=null;r&&(T=a&&v.route.id?a[v.route.id]:void 0,I=v.route.errorElement||Ove,p&&(f<0&&_===0?(qve("route-fallback",!1),z=!0,k=null):f===_&&(z=!0,k=v.route.hydrateFallbackElement||null)));let C=t.concat(l.slice(0,_+1)),L=()=>{let N;return T?N=I:z?N=k:v.route.Component?N=R.createElement(v.route.Component,null):v.route.element?N=v.route.element:N=g,R.createElement(Fve,{match:v,routeContext:{outlet:g,matches:C,isDataRoute:r!=null},children:N})};return r&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?R.createElement(Bve,{location:r.location,revalidation:r.revalidation,component:I,error:T,children:L(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):L()},null)}var aJ=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(aJ||{}),o8=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(o8||{});function Vve(e){let t=R.useContext(KC);return t||va(!1),t}function Uve(e){let t=R.useContext(Pve);return t||va(!1),t}function Wve(e){let t=R.useContext(fu);return t||va(!1),t}function oJ(e){let t=Wve(),r=t.matches[t.matches.length-1];return r.route.id||va(!1),r.route.id}function $ve(){var e;let t=R.useContext(rJ),r=Uve(o8.UseRouteError),n=oJ(o8.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Kve(){let{router:e}=Vve(aJ.UseNavigateStable),t=oJ(o8.UseNavigateStable),r=R.useRef(!1);return nJ(()=>{r.current=!0}),R.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Yx({fromRouteId:t},s)))},[e,t])}const uW={};function qve(e,t,r){!t&&!uW[e]&&(uW[e]=!0)}function Gve(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Hve(e){let{to:t,replace:r,state:n,relative:i}=e;s2()||va(!1);let{future:s,static:l}=R.useContext(Wh),{matches:a}=R.useContext(fu),{pathname:p}=$h(),f=l2(),g=$C(t,WC(a,s.v7_relativeSplatPath),p,i==="path"),v=JSON.stringify(g);return R.useEffect(()=>f(JSON.parse(v),{replace:r,state:n,relative:i}),[f,v,i,r,n]),null}function Zve(e){return Dve(e.context)}function Hc(e){va(!1)}function Yve(e){let{basename:t="/",children:r=null,location:n,navigationType:i=$p.Pop,navigator:s,static:l=!1,future:a}=e;s2()&&va(!1);let p=t.replace(/^\/*/,"/"),f=R.useMemo(()=>({basename:p,navigator:s,static:l,future:Yx({v7_relativeSplatPath:!1},a)}),[p,a,s,l]);typeof n=="string"&&(n=o2(n));let{pathname:g="/",search:v="",hash:_="",state:T=null,key:z="default"}=n,I=R.useMemo(()=>{let k=UC(g,p);return k==null?null:{location:{pathname:k,search:v,hash:_,state:T,key:z},navigationType:i}},[p,g,v,_,T,z,i]);return I==null?null:R.createElement(Wh.Provider,{value:f},R.createElement(w9.Provider,{children:r,value:I}))}function Xve(e){let{children:t,location:r}=e;return Rve(FP(t),r)}new Promise(()=>{});function FP(e,t){t===void 0&&(t=[]);let r=[];return R.Children.forEach(e,(n,i)=>{if(!R.isValidElement(n))return;let s=[...t,i];if(n.type===R.Fragment){r.push.apply(r,FP(n.props.children,s));return}n.type!==Hc&&va(!1),!n.props.index||!n.props.children||va(!1);let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=FP(n.props.children,s)),r.push(l)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jP(){return jP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jP.apply(this,arguments)}function Qve(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Jve(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function e2e(e,t){return e.button===0&&(!t||t==="_self")&&!Jve(e)}function VP(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function t2e(e,t){let r=VP(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}const r2e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],n2e="6";try{window.__reactRouterVersion=n2e}catch{}const i2e="startTransition",dW=q8[i2e];function a2e(e){let{basename:t,children:r,future:n,window:i}=e,s=R.useRef();s.current==null&&(s.current=nve({window:i,v5Compat:!0}));let l=s.current,[a,p]=R.useState({action:l.action,location:l.location}),{v7_startTransition:f}=n||{},g=R.useCallback(v=>{f&&dW?dW(()=>p(v)):p(v)},[p,f]);return R.useLayoutEffect(()=>l.listen(g),[l,g]),R.useEffect(()=>Gve(n),[n]),R.createElement(Yve,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:l,future:n})}const o2e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s2e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,l2e=R.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:l,state:a,target:p,to:f,preventScrollReset:g,viewTransition:v}=t,_=Qve(t,r2e),{basename:T}=R.useContext(Wh),z,I=!1;if(typeof f=="string"&&s2e.test(f)&&(z=f,o2e))try{let N=new URL(window.location.href),$=f.startsWith("//")?new URL(N.protocol+f):new URL(f),ee=UC($.pathname,T);$.origin===N.origin&&ee!=null?f=ee+$.search+$.hash:I=!0}catch{}let k=kve(f,{relative:i}),C=c2e(f,{replace:l,state:a,target:p,preventScrollReset:g,relative:i,viewTransition:v});function L(N){n&&n(N),N.defaultPrevented||C(N)}return R.createElement("a",jP({},_,{href:z||k,onClick:I||s?n:L,ref:r,target:p}))});var pW;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(pW||(pW={}));var hW;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hW||(hW={}));function c2e(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:l,viewTransition:a}=t===void 0?{}:t,p=l2(),f=$h(),g=iJ(e,{relative:l});return R.useCallback(v=>{if(e2e(v,r)){v.preventDefault();let _=n!==void 0?n:a8(f)===a8(g);p(e,{replace:_,state:i,preventScrollReset:s,relative:l,viewTransition:a})}},[f,p,g,n,i,r,e,s,l,a])}function u2e(e){let t=R.useRef(VP(e)),r=R.useRef(!1),n=$h(),i=R.useMemo(()=>t2e(n.search,r.current?null:t.current),[n.search]),s=l2(),l=R.useCallback((a,p)=>{const f=VP(typeof a=="function"?a(i):a);r.current=!0,s("?"+f,p)},[s,i]);return[i,l]}var tn={},S9={};S9.byteLength=h2e;S9.toByteArray=m2e;S9.fromByteArray=v2e;var Qc=[],vl=[],d2e=typeof Uint8Array<"u"?Uint8Array:Array,uA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var tg=0,p2e=uA.length;tg<p2e;++tg)Qc[tg]=uA[tg],vl[uA.charCodeAt(tg)]=tg;vl["-".charCodeAt(0)]=62;vl["_".charCodeAt(0)]=63;function sJ(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function h2e(e){var t=sJ(e),r=t[0],n=t[1];return(r+n)*3/4-n}function f2e(e,t,r){return(t+r)*3/4-r}function m2e(e){var t,r=sJ(e),n=r[0],i=r[1],s=new d2e(f2e(e,n,i)),l=0,a=i>0?n-4:n,p;for(p=0;p<a;p+=4)t=vl[e.charCodeAt(p)]<<18|vl[e.charCodeAt(p+1)]<<12|vl[e.charCodeAt(p+2)]<<6|vl[e.charCodeAt(p+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=t&255;return i===2&&(t=vl[e.charCodeAt(p)]<<2|vl[e.charCodeAt(p+1)]>>4,s[l++]=t&255),i===1&&(t=vl[e.charCodeAt(p)]<<10|vl[e.charCodeAt(p+1)]<<4|vl[e.charCodeAt(p+2)]>>2,s[l++]=t>>8&255,s[l++]=t&255),s}function g2e(e){return Qc[e>>18&63]+Qc[e>>12&63]+Qc[e>>6&63]+Qc[e&63]}function y2e(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(g2e(n));return i.join("")}function v2e(e){for(var t,r=e.length,n=r%3,i=[],s=16383,l=0,a=r-n;l<a;l+=s)i.push(y2e(e,l,l+s>a?a:l+s));return n===1?(t=e[r-1],i.push(Qc[t>>2]+Qc[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Qc[t>>10]+Qc[t>>4&63]+Qc[t<<2&63]+"=")),i.join("")}var qC={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */qC.read=function(e,t,r,n,i){var s,l,a=i*8-n-1,p=(1<<a)-1,f=p>>1,g=-7,v=r?i-1:0,_=r?-1:1,T=e[t+v];for(v+=_,s=T&(1<<-g)-1,T>>=-g,g+=a;g>0;s=s*256+e[t+v],v+=_,g-=8);for(l=s&(1<<-g)-1,s>>=-g,g+=n;g>0;l=l*256+e[t+v],v+=_,g-=8);if(s===0)s=1-f;else{if(s===p)return l?NaN:(T?-1:1)*(1/0);l=l+Math.pow(2,n),s=s-f}return(T?-1:1)*l*Math.pow(2,s-n)};qC.write=function(e,t,r,n,i,s){var l,a,p,f=s*8-i-1,g=(1<<f)-1,v=g>>1,_=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=n?0:s-1,z=n?1:-1,I=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,l=g):(l=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-l))<1&&(l--,p*=2),l+v>=1?t+=_/p:t+=_*Math.pow(2,1-v),t*p>=2&&(l++,p/=2),l+v>=g?(a=0,l=g):l+v>=1?(a=(t*p-1)*Math.pow(2,i),l=l+v):(a=t*Math.pow(2,v-1)*Math.pow(2,i),l=0));i>=8;e[r+T]=a&255,T+=z,a/=256,i-=8);for(l=l<<i|a,f+=i;f>0;e[r+T]=l&255,T+=z,l/=256,f-=8);e[r+T-z]|=I*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=S9,r=qC,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=L,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const ve=new Uint8Array(1),Y={foo:function(){return 42}};return Object.setPrototypeOf(Y,Uint8Array.prototype),Object.setPrototypeOf(ve,Y),ve.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function l(ve){if(ve>i)throw new RangeError('The value "'+ve+'" is invalid for option "size"');const Y=new Uint8Array(ve);return Object.setPrototypeOf(Y,a.prototype),Y}function a(ve,Y,J){if(typeof ve=="number"){if(typeof Y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(ve)}return p(ve,Y,J)}a.poolSize=8192;function p(ve,Y,J){if(typeof ve=="string")return _(ve,Y);if(ArrayBuffer.isView(ve))return z(ve);if(ve==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ve);if(Zn(ve,ArrayBuffer)||ve&&Zn(ve.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Zn(ve,SharedArrayBuffer)||ve&&Zn(ve.buffer,SharedArrayBuffer)))return I(ve,Y,J);if(typeof ve=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ze=ve.valueOf&&ve.valueOf();if(ze!=null&&ze!==ve)return a.from(ze,Y,J);const st=k(ve);if(st)return st;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ve[Symbol.toPrimitive]=="function")return a.from(ve[Symbol.toPrimitive]("string"),Y,J);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ve)}a.from=function(ve,Y,J){return p(ve,Y,J)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(ve){if(typeof ve!="number")throw new TypeError('"size" argument must be of type number');if(ve<0)throw new RangeError('The value "'+ve+'" is invalid for option "size"')}function g(ve,Y,J){return f(ve),ve<=0?l(ve):Y!==void 0?typeof J=="string"?l(ve).fill(Y,J):l(ve).fill(Y):l(ve)}a.alloc=function(ve,Y,J){return g(ve,Y,J)};function v(ve){return f(ve),l(ve<0?0:C(ve)|0)}a.allocUnsafe=function(ve){return v(ve)},a.allocUnsafeSlow=function(ve){return v(ve)};function _(ve,Y){if((typeof Y!="string"||Y==="")&&(Y="utf8"),!a.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);const J=N(ve,Y)|0;let ze=l(J);const st=ze.write(ve,Y);return st!==J&&(ze=ze.slice(0,st)),ze}function T(ve){const Y=ve.length<0?0:C(ve.length)|0,J=l(Y);for(let ze=0;ze<Y;ze+=1)J[ze]=ve[ze]&255;return J}function z(ve){if(Zn(ve,Uint8Array)){const Y=new Uint8Array(ve);return I(Y.buffer,Y.byteOffset,Y.byteLength)}return T(ve)}function I(ve,Y,J){if(Y<0||ve.byteLength<Y)throw new RangeError('"offset" is outside of buffer bounds');if(ve.byteLength<Y+(J||0))throw new RangeError('"length" is outside of buffer bounds');let ze;return Y===void 0&&J===void 0?ze=new Uint8Array(ve):J===void 0?ze=new Uint8Array(ve,Y):ze=new Uint8Array(ve,Y,J),Object.setPrototypeOf(ze,a.prototype),ze}function k(ve){if(a.isBuffer(ve)){const Y=C(ve.length)|0,J=l(Y);return J.length===0||ve.copy(J,0,0,Y),J}if(ve.length!==void 0)return typeof ve.length!="number"||en(ve.length)?l(0):T(ve);if(ve.type==="Buffer"&&Array.isArray(ve.data))return T(ve.data)}function C(ve){if(ve>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ve|0}function L(ve){return+ve!=ve&&(ve=0),a.alloc(+ve)}a.isBuffer=function(Y){return Y!=null&&Y._isBuffer===!0&&Y!==a.prototype},a.compare=function(Y,J){if(Zn(Y,Uint8Array)&&(Y=a.from(Y,Y.offset,Y.byteLength)),Zn(J,Uint8Array)&&(J=a.from(J,J.offset,J.byteLength)),!a.isBuffer(Y)||!a.isBuffer(J))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Y===J)return 0;let ze=Y.length,st=J.length;for(let mt=0,At=Math.min(ze,st);mt<At;++mt)if(Y[mt]!==J[mt]){ze=Y[mt],st=J[mt];break}return ze<st?-1:st<ze?1:0},a.isEncoding=function(Y){switch(String(Y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(Y,J){if(!Array.isArray(Y))throw new TypeError('"list" argument must be an Array of Buffers');if(Y.length===0)return a.alloc(0);let ze;if(J===void 0)for(J=0,ze=0;ze<Y.length;++ze)J+=Y[ze].length;const st=a.allocUnsafe(J);let mt=0;for(ze=0;ze<Y.length;++ze){let At=Y[ze];if(Zn(At,Uint8Array))mt+At.length>st.length?(a.isBuffer(At)||(At=a.from(At)),At.copy(st,mt)):Uint8Array.prototype.set.call(st,At,mt);else if(a.isBuffer(At))At.copy(st,mt);else throw new TypeError('"list" argument must be an Array of Buffers');mt+=At.length}return st};function N(ve,Y){if(a.isBuffer(ve))return ve.length;if(ArrayBuffer.isView(ve)||Zn(ve,ArrayBuffer))return ve.byteLength;if(typeof ve!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ve);const J=ve.length,ze=arguments.length>2&&arguments[2]===!0;if(!ze&&J===0)return 0;let st=!1;for(;;)switch(Y){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":return Ct(ve).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J*2;case"hex":return J>>>1;case"base64":return Br(ve).length;default:if(st)return ze?-1:Ct(ve).length;Y=(""+Y).toLowerCase(),st=!0}}a.byteLength=N;function $(ve,Y,J){let ze=!1;if((Y===void 0||Y<0)&&(Y=0),Y>this.length||((J===void 0||J>this.length)&&(J=this.length),J<=0)||(J>>>=0,Y>>>=0,J<=Y))return"";for(ve||(ve="utf8");;)switch(ve){case"hex":return ce(this,Y,J);case"utf8":case"utf-8":return j(this,Y,J);case"ascii":return le(this,Y,J);case"latin1":case"binary":return Q(this,Y,J);case"base64":return ye(this,Y,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,Y,J);default:if(ze)throw new TypeError("Unknown encoding: "+ve);ve=(ve+"").toLowerCase(),ze=!0}}a.prototype._isBuffer=!0;function ee(ve,Y,J){const ze=ve[Y];ve[Y]=ve[J],ve[J]=ze}a.prototype.swap16=function(){const Y=this.length;if(Y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let J=0;J<Y;J+=2)ee(this,J,J+1);return this},a.prototype.swap32=function(){const Y=this.length;if(Y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let J=0;J<Y;J+=4)ee(this,J,J+3),ee(this,J+1,J+2);return this},a.prototype.swap64=function(){const Y=this.length;if(Y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let J=0;J<Y;J+=8)ee(this,J,J+7),ee(this,J+1,J+6),ee(this,J+2,J+5),ee(this,J+3,J+4);return this},a.prototype.toString=function(){const Y=this.length;return Y===0?"":arguments.length===0?j(this,0,Y):$.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(Y){if(!a.isBuffer(Y))throw new TypeError("Argument must be a Buffer");return this===Y?!0:a.compare(this,Y)===0},a.prototype.inspect=function(){let Y="";const J=e.INSPECT_MAX_BYTES;return Y=this.toString("hex",0,J).replace(/(.{2})/g,"$1 ").trim(),this.length>J&&(Y+=" ... "),"<Buffer "+Y+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(Y,J,ze,st,mt){if(Zn(Y,Uint8Array)&&(Y=a.from(Y,Y.offset,Y.byteLength)),!a.isBuffer(Y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Y);if(J===void 0&&(J=0),ze===void 0&&(ze=Y?Y.length:0),st===void 0&&(st=0),mt===void 0&&(mt=this.length),J<0||ze>Y.length||st<0||mt>this.length)throw new RangeError("out of range index");if(st>=mt&&J>=ze)return 0;if(st>=mt)return-1;if(J>=ze)return 1;if(J>>>=0,ze>>>=0,st>>>=0,mt>>>=0,this===Y)return 0;let At=mt-st,Dr=ze-J;const Lr=Math.min(At,Dr),Mr=this.slice(st,mt),Mn=Y.slice(J,ze);for(let Nr=0;Nr<Lr;++Nr)if(Mr[Nr]!==Mn[Nr]){At=Mr[Nr],Dr=Mn[Nr];break}return At<Dr?-1:Dr<At?1:0};function re(ve,Y,J,ze,st){if(ve.length===0)return-1;if(typeof J=="string"?(ze=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),J=+J,en(J)&&(J=st?0:ve.length-1),J<0&&(J=ve.length+J),J>=ve.length){if(st)return-1;J=ve.length-1}else if(J<0)if(st)J=0;else return-1;if(typeof Y=="string"&&(Y=a.from(Y,ze)),a.isBuffer(Y))return Y.length===0?-1:ne(ve,Y,J,ze,st);if(typeof Y=="number")return Y=Y&255,typeof Uint8Array.prototype.indexOf=="function"?st?Uint8Array.prototype.indexOf.call(ve,Y,J):Uint8Array.prototype.lastIndexOf.call(ve,Y,J):ne(ve,[Y],J,ze,st);throw new TypeError("val must be string, number or Buffer")}function ne(ve,Y,J,ze,st){let mt=1,At=ve.length,Dr=Y.length;if(ze!==void 0&&(ze=String(ze).toLowerCase(),ze==="ucs2"||ze==="ucs-2"||ze==="utf16le"||ze==="utf-16le")){if(ve.length<2||Y.length<2)return-1;mt=2,At/=2,Dr/=2,J/=2}function Lr(Mn,Nr){return mt===1?Mn[Nr]:Mn.readUInt16BE(Nr*mt)}let Mr;if(st){let Mn=-1;for(Mr=J;Mr<At;Mr++)if(Lr(ve,Mr)===Lr(Y,Mn===-1?0:Mr-Mn)){if(Mn===-1&&(Mn=Mr),Mr-Mn+1===Dr)return Mn*mt}else Mn!==-1&&(Mr-=Mr-Mn),Mn=-1}else for(J+Dr>At&&(J=At-Dr),Mr=J;Mr>=0;Mr--){let Mn=!0;for(let Nr=0;Nr<Dr;Nr++)if(Lr(ve,Mr+Nr)!==Lr(Y,Nr)){Mn=!1;break}if(Mn)return Mr}return-1}a.prototype.includes=function(Y,J,ze){return this.indexOf(Y,J,ze)!==-1},a.prototype.indexOf=function(Y,J,ze){return re(this,Y,J,ze,!0)},a.prototype.lastIndexOf=function(Y,J,ze){return re(this,Y,J,ze,!1)};function ie(ve,Y,J,ze){J=Number(J)||0;const st=ve.length-J;ze?(ze=Number(ze),ze>st&&(ze=st)):ze=st;const mt=Y.length;ze>mt/2&&(ze=mt/2);let At;for(At=0;At<ze;++At){const Dr=parseInt(Y.substr(At*2,2),16);if(en(Dr))return At;ve[J+At]=Dr}return At}function me(ve,Y,J,ze){return Fr(Ct(Y,ve.length-J),ve,J,ze)}function Ze(ve,Y,J,ze){return Fr(Jt(Y),ve,J,ze)}function et(ve,Y,J,ze){return Fr(Br(Y),ve,J,ze)}function Ke(ve,Y,J,ze){return Fr(Rr(Y,ve.length-J),ve,J,ze)}a.prototype.write=function(Y,J,ze,st){if(J===void 0)st="utf8",ze=this.length,J=0;else if(ze===void 0&&typeof J=="string")st=J,ze=this.length,J=0;else if(isFinite(J))J=J>>>0,isFinite(ze)?(ze=ze>>>0,st===void 0&&(st="utf8")):(st=ze,ze=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const mt=this.length-J;if((ze===void 0||ze>mt)&&(ze=mt),Y.length>0&&(ze<0||J<0)||J>this.length)throw new RangeError("Attempt to write outside buffer bounds");st||(st="utf8");let At=!1;for(;;)switch(st){case"hex":return ie(this,Y,J,ze);case"utf8":case"utf-8":return me(this,Y,J,ze);case"ascii":case"latin1":case"binary":return Ze(this,Y,J,ze);case"base64":return et(this,Y,J,ze);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ke(this,Y,J,ze);default:if(At)throw new TypeError("Unknown encoding: "+st);st=(""+st).toLowerCase(),At=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ye(ve,Y,J){return Y===0&&J===ve.length?t.fromByteArray(ve):t.fromByteArray(ve.slice(Y,J))}function j(ve,Y,J){J=Math.min(ve.length,J);const ze=[];let st=Y;for(;st<J;){const mt=ve[st];let At=null,Dr=mt>239?4:mt>223?3:mt>191?2:1;if(st+Dr<=J){let Lr,Mr,Mn,Nr;switch(Dr){case 1:mt<128&&(At=mt);break;case 2:Lr=ve[st+1],(Lr&192)===128&&(Nr=(mt&31)<<6|Lr&63,Nr>127&&(At=Nr));break;case 3:Lr=ve[st+1],Mr=ve[st+2],(Lr&192)===128&&(Mr&192)===128&&(Nr=(mt&15)<<12|(Lr&63)<<6|Mr&63,Nr>2047&&(Nr<55296||Nr>57343)&&(At=Nr));break;case 4:Lr=ve[st+1],Mr=ve[st+2],Mn=ve[st+3],(Lr&192)===128&&(Mr&192)===128&&(Mn&192)===128&&(Nr=(mt&15)<<18|(Lr&63)<<12|(Mr&63)<<6|Mn&63,Nr>65535&&Nr<1114112&&(At=Nr))}}At===null?(At=65533,Dr=1):At>65535&&(At-=65536,ze.push(At>>>10&1023|55296),At=56320|At&1023),ze.push(At),st+=Dr}return oe(ze)}const Z=4096;function oe(ve){const Y=ve.length;if(Y<=Z)return String.fromCharCode.apply(String,ve);let J="",ze=0;for(;ze<Y;)J+=String.fromCharCode.apply(String,ve.slice(ze,ze+=Z));return J}function le(ve,Y,J){let ze="";J=Math.min(ve.length,J);for(let st=Y;st<J;++st)ze+=String.fromCharCode(ve[st]&127);return ze}function Q(ve,Y,J){let ze="";J=Math.min(ve.length,J);for(let st=Y;st<J;++st)ze+=String.fromCharCode(ve[st]);return ze}function ce(ve,Y,J){const ze=ve.length;(!Y||Y<0)&&(Y=0),(!J||J<0||J>ze)&&(J=ze);let st="";for(let mt=Y;mt<J;++mt)st+=Sn[ve[mt]];return st}function Ee(ve,Y,J){const ze=ve.slice(Y,J);let st="";for(let mt=0;mt<ze.length-1;mt+=2)st+=String.fromCharCode(ze[mt]+ze[mt+1]*256);return st}a.prototype.slice=function(Y,J){const ze=this.length;Y=~~Y,J=J===void 0?ze:~~J,Y<0?(Y+=ze,Y<0&&(Y=0)):Y>ze&&(Y=ze),J<0?(J+=ze,J<0&&(J=0)):J>ze&&(J=ze),J<Y&&(J=Y);const st=this.subarray(Y,J);return Object.setPrototypeOf(st,a.prototype),st};function fe(ve,Y,J){if(ve%1!==0||ve<0)throw new RangeError("offset is not uint");if(ve+Y>J)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(Y,J,ze){Y=Y>>>0,J=J>>>0,ze||fe(Y,J,this.length);let st=this[Y],mt=1,At=0;for(;++At<J&&(mt*=256);)st+=this[Y+At]*mt;return st},a.prototype.readUintBE=a.prototype.readUIntBE=function(Y,J,ze){Y=Y>>>0,J=J>>>0,ze||fe(Y,J,this.length);let st=this[Y+--J],mt=1;for(;J>0&&(mt*=256);)st+=this[Y+--J]*mt;return st},a.prototype.readUint8=a.prototype.readUInt8=function(Y,J){return Y=Y>>>0,J||fe(Y,1,this.length),this[Y]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(Y,J){return Y=Y>>>0,J||fe(Y,2,this.length),this[Y]|this[Y+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(Y,J){return Y=Y>>>0,J||fe(Y,2,this.length),this[Y]<<8|this[Y+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(Y,J){return Y=Y>>>0,J||fe(Y,4,this.length),(this[Y]|this[Y+1]<<8|this[Y+2]<<16)+this[Y+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(Y,J){return Y=Y>>>0,J||fe(Y,4,this.length),this[Y]*16777216+(this[Y+1]<<16|this[Y+2]<<8|this[Y+3])},a.prototype.readBigUInt64LE=Ei(function(Y){Y=Y>>>0,we(Y,"offset");const J=this[Y],ze=this[Y+7];(J===void 0||ze===void 0)&&be(Y,this.length-8);const st=J+this[++Y]*2**8+this[++Y]*2**16+this[++Y]*2**24,mt=this[++Y]+this[++Y]*2**8+this[++Y]*2**16+ze*2**24;return BigInt(st)+(BigInt(mt)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ei(function(Y){Y=Y>>>0,we(Y,"offset");const J=this[Y],ze=this[Y+7];(J===void 0||ze===void 0)&&be(Y,this.length-8);const st=J*2**24+this[++Y]*2**16+this[++Y]*2**8+this[++Y],mt=this[++Y]*2**24+this[++Y]*2**16+this[++Y]*2**8+ze;return(BigInt(st)<<BigInt(32))+BigInt(mt)}),a.prototype.readIntLE=function(Y,J,ze){Y=Y>>>0,J=J>>>0,ze||fe(Y,J,this.length);let st=this[Y],mt=1,At=0;for(;++At<J&&(mt*=256);)st+=this[Y+At]*mt;return mt*=128,st>=mt&&(st-=Math.pow(2,8*J)),st},a.prototype.readIntBE=function(Y,J,ze){Y=Y>>>0,J=J>>>0,ze||fe(Y,J,this.length);let st=J,mt=1,At=this[Y+--st];for(;st>0&&(mt*=256);)At+=this[Y+--st]*mt;return mt*=128,At>=mt&&(At-=Math.pow(2,8*J)),At},a.prototype.readInt8=function(Y,J){return Y=Y>>>0,J||fe(Y,1,this.length),this[Y]&128?(255-this[Y]+1)*-1:this[Y]},a.prototype.readInt16LE=function(Y,J){Y=Y>>>0,J||fe(Y,2,this.length);const ze=this[Y]|this[Y+1]<<8;return ze&32768?ze|4294901760:ze},a.prototype.readInt16BE=function(Y,J){Y=Y>>>0,J||fe(Y,2,this.length);const ze=this[Y+1]|this[Y]<<8;return ze&32768?ze|4294901760:ze},a.prototype.readInt32LE=function(Y,J){return Y=Y>>>0,J||fe(Y,4,this.length),this[Y]|this[Y+1]<<8|this[Y+2]<<16|this[Y+3]<<24},a.prototype.readInt32BE=function(Y,J){return Y=Y>>>0,J||fe(Y,4,this.length),this[Y]<<24|this[Y+1]<<16|this[Y+2]<<8|this[Y+3]},a.prototype.readBigInt64LE=Ei(function(Y){Y=Y>>>0,we(Y,"offset");const J=this[Y],ze=this[Y+7];(J===void 0||ze===void 0)&&be(Y,this.length-8);const st=this[Y+4]+this[Y+5]*2**8+this[Y+6]*2**16+(ze<<24);return(BigInt(st)<<BigInt(32))+BigInt(J+this[++Y]*2**8+this[++Y]*2**16+this[++Y]*2**24)}),a.prototype.readBigInt64BE=Ei(function(Y){Y=Y>>>0,we(Y,"offset");const J=this[Y],ze=this[Y+7];(J===void 0||ze===void 0)&&be(Y,this.length-8);const st=(J<<24)+this[++Y]*2**16+this[++Y]*2**8+this[++Y];return(BigInt(st)<<BigInt(32))+BigInt(this[++Y]*2**24+this[++Y]*2**16+this[++Y]*2**8+ze)}),a.prototype.readFloatLE=function(Y,J){return Y=Y>>>0,J||fe(Y,4,this.length),r.read(this,Y,!0,23,4)},a.prototype.readFloatBE=function(Y,J){return Y=Y>>>0,J||fe(Y,4,this.length),r.read(this,Y,!1,23,4)},a.prototype.readDoubleLE=function(Y,J){return Y=Y>>>0,J||fe(Y,8,this.length),r.read(this,Y,!0,52,8)},a.prototype.readDoubleBE=function(Y,J){return Y=Y>>>0,J||fe(Y,8,this.length),r.read(this,Y,!1,52,8)};function K(ve,Y,J,ze,st,mt){if(!a.isBuffer(ve))throw new TypeError('"buffer" argument must be a Buffer instance');if(Y>st||Y<mt)throw new RangeError('"value" argument is out of bounds');if(J+ze>ve.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(Y,J,ze,st){if(Y=+Y,J=J>>>0,ze=ze>>>0,!st){const Dr=Math.pow(2,8*ze)-1;K(this,Y,J,ze,Dr,0)}let mt=1,At=0;for(this[J]=Y&255;++At<ze&&(mt*=256);)this[J+At]=Y/mt&255;return J+ze},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(Y,J,ze,st){if(Y=+Y,J=J>>>0,ze=ze>>>0,!st){const Dr=Math.pow(2,8*ze)-1;K(this,Y,J,ze,Dr,0)}let mt=ze-1,At=1;for(this[J+mt]=Y&255;--mt>=0&&(At*=256);)this[J+mt]=Y/At&255;return J+ze},a.prototype.writeUint8=a.prototype.writeUInt8=function(Y,J,ze){return Y=+Y,J=J>>>0,ze||K(this,Y,J,1,255,0),this[J]=Y&255,J+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(Y,J,ze){return Y=+Y,J=J>>>0,ze||K(this,Y,J,2,65535,0),this[J]=Y&255,this[J+1]=Y>>>8,J+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(Y,J,ze){return Y=+Y,J=J>>>0,ze||K(this,Y,J,2,65535,0),this[J]=Y>>>8,this[J+1]=Y&255,J+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(Y,J,ze){return Y=+Y,J=J>>>0,ze||K(this,Y,J,4,4294967295,0),this[J+3]=Y>>>24,this[J+2]=Y>>>16,this[J+1]=Y>>>8,this[J]=Y&255,J+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(Y,J,ze){return Y=+Y,J=J>>>0,ze||K(this,Y,J,4,4294967295,0),this[J]=Y>>>24,this[J+1]=Y>>>16,this[J+2]=Y>>>8,this[J+3]=Y&255,J+4};function pe(ve,Y,J,ze,st){Me(Y,ze,st,ve,J,7);let mt=Number(Y&BigInt(4294967295));ve[J++]=mt,mt=mt>>8,ve[J++]=mt,mt=mt>>8,ve[J++]=mt,mt=mt>>8,ve[J++]=mt;let At=Number(Y>>BigInt(32)&BigInt(4294967295));return ve[J++]=At,At=At>>8,ve[J++]=At,At=At>>8,ve[J++]=At,At=At>>8,ve[J++]=At,J}function Et(ve,Y,J,ze,st){Me(Y,ze,st,ve,J,7);let mt=Number(Y&BigInt(4294967295));ve[J+7]=mt,mt=mt>>8,ve[J+6]=mt,mt=mt>>8,ve[J+5]=mt,mt=mt>>8,ve[J+4]=mt;let At=Number(Y>>BigInt(32)&BigInt(4294967295));return ve[J+3]=At,At=At>>8,ve[J+2]=At,At=At>>8,ve[J+1]=At,At=At>>8,ve[J]=At,J+8}a.prototype.writeBigUInt64LE=Ei(function(Y,J=0){return pe(this,Y,J,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ei(function(Y,J=0){return Et(this,Y,J,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(Y,J,ze,st){if(Y=+Y,J=J>>>0,!st){const Lr=Math.pow(2,8*ze-1);K(this,Y,J,ze,Lr-1,-Lr)}let mt=0,At=1,Dr=0;for(this[J]=Y&255;++mt<ze&&(At*=256);)Y<0&&Dr===0&&this[J+mt-1]!==0&&(Dr=1),this[J+mt]=(Y/At>>0)-Dr&255;return J+ze},a.prototype.writeIntBE=function(Y,J,ze,st){if(Y=+Y,J=J>>>0,!st){const Lr=Math.pow(2,8*ze-1);K(this,Y,J,ze,Lr-1,-Lr)}let mt=ze-1,At=1,Dr=0;for(this[J+mt]=Y&255;--mt>=0&&(At*=256);)Y<0&&Dr===0&&this[J+mt+1]!==0&&(Dr=1),this[J+mt]=(Y/At>>0)-Dr&255;return J+ze},a.prototype.writeInt8=function(Y,J,ze){return Y=+Y,J=J>>>0,ze||K(this,Y,J,1,127,-128),Y<0&&(Y=255+Y+1),this[J]=Y&255,J+1},a.prototype.writeInt16LE=function(Y,J,ze){return Y=+Y,J=J>>>0,ze||K(this,Y,J,2,32767,-32768),this[J]=Y&255,this[J+1]=Y>>>8,J+2},a.prototype.writeInt16BE=function(Y,J,ze){return Y=+Y,J=J>>>0,ze||K(this,Y,J,2,32767,-32768),this[J]=Y>>>8,this[J+1]=Y&255,J+2},a.prototype.writeInt32LE=function(Y,J,ze){return Y=+Y,J=J>>>0,ze||K(this,Y,J,4,2147483647,-2147483648),this[J]=Y&255,this[J+1]=Y>>>8,this[J+2]=Y>>>16,this[J+3]=Y>>>24,J+4},a.prototype.writeInt32BE=function(Y,J,ze){return Y=+Y,J=J>>>0,ze||K(this,Y,J,4,2147483647,-2147483648),Y<0&&(Y=4294967295+Y+1),this[J]=Y>>>24,this[J+1]=Y>>>16,this[J+2]=Y>>>8,this[J+3]=Y&255,J+4},a.prototype.writeBigInt64LE=Ei(function(Y,J=0){return pe(this,Y,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ei(function(Y,J=0){return Et(this,Y,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function zt(ve,Y,J,ze,st,mt){if(J+ze>ve.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function Ve(ve,Y,J,ze,st){return Y=+Y,J=J>>>0,st||zt(ve,Y,J,4),r.write(ve,Y,J,ze,23,4),J+4}a.prototype.writeFloatLE=function(Y,J,ze){return Ve(this,Y,J,!0,ze)},a.prototype.writeFloatBE=function(Y,J,ze){return Ve(this,Y,J,!1,ze)};function Be(ve,Y,J,ze,st){return Y=+Y,J=J>>>0,st||zt(ve,Y,J,8),r.write(ve,Y,J,ze,52,8),J+8}a.prototype.writeDoubleLE=function(Y,J,ze){return Be(this,Y,J,!0,ze)},a.prototype.writeDoubleBE=function(Y,J,ze){return Be(this,Y,J,!1,ze)},a.prototype.copy=function(Y,J,ze,st){if(!a.isBuffer(Y))throw new TypeError("argument should be a Buffer");if(ze||(ze=0),!st&&st!==0&&(st=this.length),J>=Y.length&&(J=Y.length),J||(J=0),st>0&&st<ze&&(st=ze),st===ze||Y.length===0||this.length===0)return 0;if(J<0)throw new RangeError("targetStart out of bounds");if(ze<0||ze>=this.length)throw new RangeError("Index out of range");if(st<0)throw new RangeError("sourceEnd out of bounds");st>this.length&&(st=this.length),Y.length-J<st-ze&&(st=Y.length-J+ze);const mt=st-ze;return this===Y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(J,ze,st):Uint8Array.prototype.set.call(Y,this.subarray(ze,st),J),mt},a.prototype.fill=function(Y,J,ze,st){if(typeof Y=="string"){if(typeof J=="string"?(st=J,J=0,ze=this.length):typeof ze=="string"&&(st=ze,ze=this.length),st!==void 0&&typeof st!="string")throw new TypeError("encoding must be a string");if(typeof st=="string"&&!a.isEncoding(st))throw new TypeError("Unknown encoding: "+st);if(Y.length===1){const At=Y.charCodeAt(0);(st==="utf8"&&At<128||st==="latin1")&&(Y=At)}}else typeof Y=="number"?Y=Y&255:typeof Y=="boolean"&&(Y=Number(Y));if(J<0||this.length<J||this.length<ze)throw new RangeError("Out of range index");if(ze<=J)return this;J=J>>>0,ze=ze===void 0?this.length:ze>>>0,Y||(Y=0);let mt;if(typeof Y=="number")for(mt=J;mt<ze;++mt)this[mt]=Y;else{const At=a.isBuffer(Y)?Y:a.from(Y,st),Dr=At.length;if(Dr===0)throw new TypeError('The value "'+Y+'" is invalid for argument "value"');for(mt=0;mt<ze-J;++mt)this[mt+J]=At[mt%Dr]}return this};const ut={};function bt(ve,Y,J){ut[ve]=class extends J{constructor(){super(),Object.defineProperty(this,"message",{value:Y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ve}]`,this.stack,delete this.name}get code(){return ve}set code(st){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:st,writable:!0})}toString(){return`${this.name} [${ve}]: ${this.message}`}}}bt("ERR_BUFFER_OUT_OF_BOUNDS",function(ve){return ve?`${ve} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),bt("ERR_INVALID_ARG_TYPE",function(ve,Y){return`The "${ve}" argument must be of type number. Received type ${typeof Y}`},TypeError),bt("ERR_OUT_OF_RANGE",function(ve,Y,J){let ze=`The value of "${ve}" is out of range.`,st=J;return Number.isInteger(J)&&Math.abs(J)>2**32?st=Ht(String(J)):typeof J=="bigint"&&(st=String(J),(J>BigInt(2)**BigInt(32)||J<-(BigInt(2)**BigInt(32)))&&(st=Ht(st)),st+="n"),ze+=` It must be ${Y}. Received ${st}`,ze},RangeError);function Ht(ve){let Y="",J=ve.length;const ze=ve[0]==="-"?1:0;for(;J>=ze+4;J-=3)Y=`_${ve.slice(J-3,J)}${Y}`;return`${ve.slice(0,J)}${Y}`}function _e(ve,Y,J){we(Y,"offset"),(ve[Y]===void 0||ve[Y+J]===void 0)&&be(Y,ve.length-(J+1))}function Me(ve,Y,J,ze,st,mt){if(ve>J||ve<Y){const At=typeof Y=="bigint"?"n":"";let Dr;throw mt>3?Y===0||Y===BigInt(0)?Dr=`>= 0${At} and < 2${At} ** ${(mt+1)*8}${At}`:Dr=`>= -(2${At} ** ${(mt+1)*8-1}${At}) and < 2 ** ${(mt+1)*8-1}${At}`:Dr=`>= ${Y}${At} and <= ${J}${At}`,new ut.ERR_OUT_OF_RANGE("value",Dr,ve)}_e(ze,st,mt)}function we(ve,Y){if(typeof ve!="number")throw new ut.ERR_INVALID_ARG_TYPE(Y,"number",ve)}function be(ve,Y,J){throw Math.floor(ve)!==ve?(we(ve,J),new ut.ERR_OUT_OF_RANGE(J||"offset","an integer",ve)):Y<0?new ut.ERR_BUFFER_OUT_OF_BOUNDS:new ut.ERR_OUT_OF_RANGE(J||"offset",`>= ${J?1:0} and <= ${Y}`,ve)}const rt=/[^+/0-9A-Za-z-_]/g;function pt(ve){if(ve=ve.split("=")[0],ve=ve.trim().replace(rt,""),ve.length<2)return"";for(;ve.length%4!==0;)ve=ve+"=";return ve}function Ct(ve,Y){Y=Y||1/0;let J;const ze=ve.length;let st=null;const mt=[];for(let At=0;At<ze;++At){if(J=ve.charCodeAt(At),J>55295&&J<57344){if(!st){if(J>56319){(Y-=3)>-1&&mt.push(239,191,189);continue}else if(At+1===ze){(Y-=3)>-1&&mt.push(239,191,189);continue}st=J;continue}if(J<56320){(Y-=3)>-1&&mt.push(239,191,189),st=J;continue}J=(st-55296<<10|J-56320)+65536}else st&&(Y-=3)>-1&&mt.push(239,191,189);if(st=null,J<128){if((Y-=1)<0)break;mt.push(J)}else if(J<2048){if((Y-=2)<0)break;mt.push(J>>6|192,J&63|128)}else if(J<65536){if((Y-=3)<0)break;mt.push(J>>12|224,J>>6&63|128,J&63|128)}else if(J<1114112){if((Y-=4)<0)break;mt.push(J>>18|240,J>>12&63|128,J>>6&63|128,J&63|128)}else throw new Error("Invalid code point")}return mt}function Jt(ve){const Y=[];for(let J=0;J<ve.length;++J)Y.push(ve.charCodeAt(J)&255);return Y}function Rr(ve,Y){let J,ze,st;const mt=[];for(let At=0;At<ve.length&&!((Y-=2)<0);++At)J=ve.charCodeAt(At),ze=J>>8,st=J%256,mt.push(st),mt.push(ze);return mt}function Br(ve){return t.toByteArray(pt(ve))}function Fr(ve,Y,J,ze){let st;for(st=0;st<ze&&!(st+J>=Y.length||st>=ve.length);++st)Y[st+J]=ve[st];return st}function Zn(ve,Y){return ve instanceof Y||ve!=null&&ve.constructor!=null&&ve.constructor.name!=null&&ve.constructor.name===Y.name}function en(ve){return ve!==ve}const Sn=function(){const ve="0123456789abcdef",Y=new Array(256);for(let J=0;J<16;++J){const ze=J*16;for(let st=0;st<16;++st)Y[ze+st]=ve[J]+ve[st]}return Y}();function Ei(ve){return typeof BigInt>"u"?Xr:ve}function Xr(){throw new Error("BigInt not supported")}})(tn);const rg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _2e(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function UP(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function C4(e,...t){if(!_2e(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function b2e(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");UP(e.outputLen),UP(e.blockLen)}function s8(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function x2e(e,t){C4(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function wy(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function dA(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function $c(e,t){return e<<32-t|e>>>t}function w2e(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function GC(e){return typeof e=="string"&&(e=w2e(e)),C4(e),e}function S2e(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];C4(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}class lJ{}function cJ(e){const t=n=>e().update(GC(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function uJ(e=32){if(rg&&typeof rg.getRandomValues=="function")return rg.getRandomValues(new Uint8Array(e));if(rg&&typeof rg.randomBytes=="function")return Uint8Array.from(rg.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function E2e(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),l=Number(r>>i&s),a=Number(r&s),p=n?4:0,f=n?0:4;e.setUint32(t+p,l,n),e.setUint32(t+f,a,n)}function A2e(e,t,r){return e&t^~e&r}function T2e(e,t,r){return e&t^e&r^t&r}class dJ extends lJ{constructor(t,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(t),this.view=dA(this.buffer)}update(t){s8(this),t=GC(t),C4(t);const{view:r,buffer:n,blockLen:i}=this,s=t.length;for(let l=0;l<s;){const a=Math.min(i-this.pos,s-l);if(a===i){const p=dA(t);for(;i<=s-l;l+=i)this.process(p,l);continue}n.set(t.subarray(l,l+a),this.pos),this.pos+=a,l+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){s8(this),x2e(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:l}=this;r[l++]=128,wy(this.buffer.subarray(l)),this.padOffset>i-l&&(this.process(n,0),l=0);for(let v=l;v<i;v++)r[v]=0;E2e(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=dA(t),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=p/4,g=this.get();if(f>g.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<f;v++)a.setUint32(4*v,g[v],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:l,pos:a}=this;return t.destroyed=l,t.finished=s,t.length=i,t.pos=a,i%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}}const xp=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Eo=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Yw=BigInt(2**32-1),fW=BigInt(32);function M2e(e,t=!1){return t?{h:Number(e&Yw),l:Number(e>>fW&Yw)}:{h:Number(e>>fW&Yw)|0,l:Number(e&Yw)|0}}function P2e(e,t=!1){const r=e.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:l,l:a}=M2e(e[s],t);[n[s],i[s]]=[l,a]}return[n,i]}const mW=(e,t,r)=>e>>>r,gW=(e,t,r)=>e<<32-r|t>>>r,ng=(e,t,r)=>e>>>r|t<<32-r,ig=(e,t,r)=>e<<32-r|t>>>r,Xw=(e,t,r)=>e<<64-r|t>>>r-32,Qw=(e,t,r)=>e>>>r-32|t<<64-r;function Vu(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const k2e=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),I2e=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,C2e=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),D2e=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,z2e=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),R2e=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,N2e=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wp=new Uint32Array(64);class L2e extends dJ{constructor(t=32){super(64,t,8,!1),this.A=xp[0]|0,this.B=xp[1]|0,this.C=xp[2]|0,this.D=xp[3]|0,this.E=xp[4]|0,this.F=xp[5]|0,this.G=xp[6]|0,this.H=xp[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:l,G:a,H:p}=this;return[t,r,n,i,s,l,a,p]}set(t,r,n,i,s,l,a,p){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=l|0,this.G=a|0,this.H=p|0}process(t,r){for(let v=0;v<16;v++,r+=4)wp[v]=t.getUint32(r,!1);for(let v=16;v<64;v++){const _=wp[v-15],T=wp[v-2],z=$c(_,7)^$c(_,18)^_>>>3,I=$c(T,17)^$c(T,19)^T>>>10;wp[v]=I+wp[v-7]+z+wp[v-16]|0}let{A:n,B:i,C:s,D:l,E:a,F:p,G:f,H:g}=this;for(let v=0;v<64;v++){const _=$c(a,6)^$c(a,11)^$c(a,25),T=g+_+A2e(a,p,f)+N2e[v]+wp[v]|0,I=($c(n,2)^$c(n,13)^$c(n,22))+T2e(n,i,s)|0;g=f,f=p,p=a,a=l+T|0,l=s,s=i,i=n,n=T+I|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,l=l+this.D|0,a=a+this.E|0,p=p+this.F|0,f=f+this.G|0,g=g+this.H|0,this.set(n,i,s,l,a,p,f,g)}roundClean(){wy(wp)}destroy(){this.set(0,0,0,0,0,0,0,0),wy(this.buffer)}}const pJ=(()=>P2e(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),O2e=(()=>pJ[0])(),B2e=(()=>pJ[1])(),Sp=new Uint32Array(80),Ep=new Uint32Array(80);class F2e extends dJ{constructor(t=64){super(128,t,16,!1),this.Ah=Eo[0]|0,this.Al=Eo[1]|0,this.Bh=Eo[2]|0,this.Bl=Eo[3]|0,this.Ch=Eo[4]|0,this.Cl=Eo[5]|0,this.Dh=Eo[6]|0,this.Dl=Eo[7]|0,this.Eh=Eo[8]|0,this.El=Eo[9]|0,this.Fh=Eo[10]|0,this.Fl=Eo[11]|0,this.Gh=Eo[12]|0,this.Gl=Eo[13]|0,this.Hh=Eo[14]|0,this.Hl=Eo[15]|0}get(){const{Ah:t,Al:r,Bh:n,Bl:i,Ch:s,Cl:l,Dh:a,Dl:p,Eh:f,El:g,Fh:v,Fl:_,Gh:T,Gl:z,Hh:I,Hl:k}=this;return[t,r,n,i,s,l,a,p,f,g,v,_,T,z,I,k]}set(t,r,n,i,s,l,a,p,f,g,v,_,T,z,I,k){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=l|0,this.Dh=a|0,this.Dl=p|0,this.Eh=f|0,this.El=g|0,this.Fh=v|0,this.Fl=_|0,this.Gh=T|0,this.Gl=z|0,this.Hh=I|0,this.Hl=k|0}process(t,r){for(let N=0;N<16;N++,r+=4)Sp[N]=t.getUint32(r),Ep[N]=t.getUint32(r+=4);for(let N=16;N<80;N++){const $=Sp[N-15]|0,ee=Ep[N-15]|0,re=ng($,ee,1)^ng($,ee,8)^mW($,ee,7),ne=ig($,ee,1)^ig($,ee,8)^gW($,ee,7),ie=Sp[N-2]|0,me=Ep[N-2]|0,Ze=ng(ie,me,19)^Xw(ie,me,61)^mW(ie,me,6),et=ig(ie,me,19)^Qw(ie,me,61)^gW(ie,me,6),Ke=C2e(ne,et,Ep[N-7],Ep[N-16]),ye=D2e(Ke,re,Ze,Sp[N-7],Sp[N-16]);Sp[N]=ye|0,Ep[N]=Ke|0}let{Ah:n,Al:i,Bh:s,Bl:l,Ch:a,Cl:p,Dh:f,Dl:g,Eh:v,El:_,Fh:T,Fl:z,Gh:I,Gl:k,Hh:C,Hl:L}=this;for(let N=0;N<80;N++){const $=ng(v,_,14)^ng(v,_,18)^Xw(v,_,41),ee=ig(v,_,14)^ig(v,_,18)^Qw(v,_,41),re=v&T^~v&I,ne=_&z^~_&k,ie=z2e(L,ee,ne,B2e[N],Ep[N]),me=R2e(ie,C,$,re,O2e[N],Sp[N]),Ze=ie|0,et=ng(n,i,28)^Xw(n,i,34)^Xw(n,i,39),Ke=ig(n,i,28)^Qw(n,i,34)^Qw(n,i,39),ye=n&s^n&a^s&a,j=i&l^i&p^l&p;C=I|0,L=k|0,I=T|0,k=z|0,T=v|0,z=_|0,{h:v,l:_}=Vu(f|0,g|0,me|0,Ze|0),f=a|0,g=p|0,a=s|0,p=l|0,s=n|0,l=i|0;const Z=k2e(Ze,Ke,j);n=I2e(Z,me,et,ye),i=Z|0}({h:n,l:i}=Vu(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l}=Vu(this.Bh|0,this.Bl|0,s|0,l|0),{h:a,l:p}=Vu(this.Ch|0,this.Cl|0,a|0,p|0),{h:f,l:g}=Vu(this.Dh|0,this.Dl|0,f|0,g|0),{h:v,l:_}=Vu(this.Eh|0,this.El|0,v|0,_|0),{h:T,l:z}=Vu(this.Fh|0,this.Fl|0,T|0,z|0),{h:I,l:k}=Vu(this.Gh|0,this.Gl|0,I|0,k|0),{h:C,l:L}=Vu(this.Hh|0,this.Hl|0,C|0,L|0),this.set(n,i,s,l,a,p,f,g,v,_,T,z,I,k,C,L)}roundClean(){wy(Sp,Ep)}destroy(){wy(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const hJ=cJ(()=>new L2e),j2e=cJ(()=>new F2e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HC=BigInt(0),WP=BigInt(1);function Sy(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ZC(e){if(!Sy(e))throw new Error("Uint8Array expected")}function ah(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Jw(e){const t=e.toString(16);return t.length&1?"0"+t:t}function fJ(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?HC:BigInt("0x"+e)}const mJ=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",V2e=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ey(e){if(ZC(e),mJ)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=V2e[e[r]];return t}const Uu={_0:48,_9:57,A:65,F:70,a:97,f:102};function yW(e){if(e>=Uu._0&&e<=Uu._9)return e-Uu._0;if(e>=Uu.A&&e<=Uu.F)return e-(Uu.A-10);if(e>=Uu.a&&e<=Uu.f)return e-(Uu.a-10)}function l8(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(mJ)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const l=yW(e.charCodeAt(s)),a=yW(e.charCodeAt(s+1));if(l===void 0||a===void 0){const p=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+p+'" at index '+s)}n[i]=l*16+a}return n}function Em(e){return fJ(Ey(e))}function fx(e){return ZC(e),fJ(Ey(Uint8Array.from(e).reverse()))}function Xx(e,t){return l8(e.toString(16).padStart(t*2,"0"))}function c8(e,t){return Xx(e,t).reverse()}function Ma(e,t,r){let n;if(typeof t=="string")try{n=l8(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(Sy(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function Ay(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];ZC(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}const pA=e=>typeof e=="bigint"&&HC<=e;function YC(e,t,r){return pA(e)&&pA(t)&&pA(r)&&t<=e&&e<r}function uc(e,t,r,n){if(!YC(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function U2e(e){let t;for(t=0;e>HC;e>>=WP,t+=1);return t}const E9=e=>(WP<<BigInt(e))-WP,hA=e=>new Uint8Array(e),vW=e=>Uint8Array.from(e);function W2e(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=hA(e),i=hA(e),s=0;const l=()=>{n.fill(1),i.fill(0),s=0},a=(...v)=>r(i,n,...v),p=(v=hA(0))=>{i=a(vW([0]),v),n=a(),v.length!==0&&(i=a(vW([1]),v),n=a())},f=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let v=0;const _=[];for(;v<t;){n=a();const T=n.slice();_.push(T),v+=n.length}return Ay(..._)};return(v,_)=>{l(),p(v);let T;for(;!(T=_(f()));)p();return l(),T}}const $2e={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Sy(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function D4(e,t,r={}){const n=(i,s,l)=>{const a=$2e[s];if(typeof a!="function")throw new Error("invalid validator function");const p=e[i];if(!(l&&p===void 0)&&!a(p,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+p)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}function u8(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const s=e(r,...n);return t.set(r,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ms=BigInt(0),Qa=BigInt(1),pm=BigInt(2),K2e=BigInt(3),$P=BigInt(4),_W=BigInt(5),bW=BigInt(8);function Ri(e,t){const r=e%t;return r>=Ms?r:t+r}function ta(e,t,r){let n=e;for(;t-- >Ms;)n*=n,n%=r;return n}function KP(e,t){if(e===Ms)throw new Error("invert: expected non-zero number");if(t<=Ms)throw new Error("invert: expected positive modulus, got "+t);let r=Ri(e,t),n=t,i=Ms,s=Qa;for(;r!==Ms;){const a=n/r,p=n%r,f=i-s*a;n=r,r=p,i=s,s=f}if(n!==Qa)throw new Error("invert: does not exist");return Ri(i,t)}function q2e(e){let t=e-Qa,r=0;for(;t%pm===Ms;)t/=pm,r++;let n=pm;const i=z4(e);for(;n<e&&xW(i,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1){const l=(e+Qa)/$P;return function(p,f){const g=p.pow(f,l);if(!p.eql(p.sqr(g),f))throw new Error("Cannot find square root");return g}}const s=(t+Qa)/pm;return function(a,p){if(!xW(a,p))throw new Error("Cannot find square root");let f=r,g=a.pow(a.mul(a.ONE,n),t),v=a.pow(p,s),_=a.pow(p,t);for(;!a.eql(_,a.ONE);){if(a.eql(_,a.ZERO))return a.ZERO;let T=1;for(let I=a.sqr(_);T<f&&!a.eql(I,a.ONE);T++)I=a.sqr(I);const z=a.pow(g,Qa<<BigInt(f-T-1));g=a.sqr(z),v=a.mul(v,z),_=a.mul(_,g),f=T}return v}}function G2e(e){return e%$P===K2e?function(r,n){const i=(e+Qa)/$P,s=r.pow(n,i);if(!r.eql(r.sqr(s),n))throw new Error("Cannot find square root");return s}:e%bW===_W?function(r,n){const i=r.mul(n,pm),s=(e-_W)/bW,l=r.pow(i,s),a=r.mul(n,l),p=r.mul(r.mul(a,pm),l),f=r.mul(a,r.sub(p,r.ONE));if(!r.eql(r.sqr(f),n))throw new Error("Cannot find square root");return f}:q2e(e)}const H2e=(e,t)=>(Ri(e,t)&Qa)===Qa,Z2e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Y2e(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Z2e.reduce((n,i)=>(n[i]="function",n),t);return D4(e,r)}function X2e(e,t,r){if(r<Ms)throw new Error("invalid exponent, negatives unsupported");if(r===Ms)return e.ONE;if(r===Qa)return t;let n=e.ONE,i=t;for(;r>Ms;)r&Qa&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Qa;return n}function XC(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((l,a,p)=>e.is0(a)?l:(n[p]=l,e.mul(l,a)),e.ONE),s=e.inv(i);return t.reduceRight((l,a,p)=>e.is0(a)?l:(n[p]=e.mul(l,n[p]),e.mul(l,a)),s),n}function Q2e(e,t){const r=(e.ORDER-Qa)/pm,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),l=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!l)throw new Error("Cannot find square root: probably non-prime P");return i?1:s?0:-1}function xW(e,t){const r=Q2e(e,t);return r===0||r===1}function gJ(e,t){t!==void 0&&UP(t);const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function z4(e,t,r=!1,n={}){if(e<=Ms)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=gJ(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const a=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:s,MASK:E9(i),ZERO:Ms,ONE:Qa,create:p=>Ri(p,e),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return Ms<=p&&p<e},is0:p=>p===Ms,isOdd:p=>(p&Qa)===Qa,neg:p=>Ri(-p,e),eql:(p,f)=>p===f,sqr:p=>Ri(p*p,e),add:(p,f)=>Ri(p+f,e),sub:(p,f)=>Ri(p-f,e),mul:(p,f)=>Ri(p*f,e),pow:(p,f)=>X2e(a,p,f),div:(p,f)=>Ri(p*KP(f,e),e),sqrN:p=>p*p,addN:(p,f)=>p+f,subN:(p,f)=>p-f,mulN:(p,f)=>p*f,inv:p=>KP(p,e),sqrt:n.sqrt||(p=>(l||(l=G2e(e)),l(a,p))),toBytes:p=>r?c8(p,s):Xx(p,s),fromBytes:p=>{if(p.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+p.length);return r?fx(p):Em(p)},invertBatch:p=>XC(a,p),cmov:(p,f,g)=>g?f:p});return Object.freeze(a)}function yJ(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function vJ(e){const t=yJ(e);return t+Math.ceil(t/2)}function J2e(e,t,r=!1){const n=e.length,i=yJ(t),s=vJ(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const l=r?fx(e):Em(e),a=Ri(l,t-Qa)+Qa;return r?c8(a,i):Xx(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wW=BigInt(0),qP=BigInt(1);function fA(e,t){const r=t.negate();return e?r:t}function _J(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function mA(e,t){_J(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e,s=E9(e),l=BigInt(e);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:l}}function SW(e,t,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:l}=r;let a=Number(e&i),p=e>>l;a>n&&(a-=s,p+=qP);const f=t*n,g=f+Math.abs(a)-1,v=a===0,_=a<0,T=t%2!==0;return{nextN:p,offset:g,isZero:v,isNeg:_,isNegF:T,offsetF:f}}function e_e(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function t_e(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const gA=new WeakMap,bJ=new WeakMap;function yA(e){return bJ.get(e)||1}function xJ(e,t){return{constTimeNegate:fA,hasPrecomputes(r){return yA(r)!==1},unsafeLadder(r,n,i=e.ZERO){let s=r;for(;n>wW;)n&qP&&(i=i.add(s)),s=s.double(),n>>=qP;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=mA(n,t),l=[];let a=r,p=a;for(let f=0;f<i;f++){p=a,l.push(p);for(let g=1;g<s;g++)p=p.add(a),l.push(p);a=p.double()}return l},wNAF(r,n,i){let s=e.ZERO,l=e.BASE;const a=mA(r,t);for(let p=0;p<a.windows;p++){const{nextN:f,offset:g,isZero:v,isNeg:_,isNegF:T,offsetF:z}=SW(i,p,a);i=f,v?l=l.add(fA(T,n[z])):s=s.add(fA(_,n[g]))}return{p:s,f:l}},wNAFUnsafe(r,n,i,s=e.ZERO){const l=mA(r,t);for(let a=0;a<l.windows&&i!==wW;a++){const{nextN:p,offset:f,isZero:g,isNeg:v}=SW(i,a,l);if(i=p,!g){const _=n[f];s=s.add(v?_.negate():_)}}return s},getPrecomputes(r,n,i){let s=gA.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&gA.set(n,i(s))),s},wNAFCached(r,n,i){const s=yA(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const l=yA(r);return l===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(l,this.getPrecomputes(l,r,i),n,s)},setWindowSize(r,n){_J(n,t),bJ.set(r,n),gA.delete(r)}}}function wJ(e,t,r,n){if(e_e(r,e),t_e(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=U2e(BigInt(r.length)),l=s>12?s-3:s>4?s-2:s?2:1,a=E9(l),p=new Array(Number(a)+1).fill(i),f=Math.floor((t.BITS-1)/l)*l;let g=i;for(let v=f;v>=0;v-=l){p.fill(i);for(let T=0;T<n.length;T++){const z=n[T],I=Number(z>>BigInt(v)&a);p[I]=p[I].add(r[T])}let _=i;for(let T=p.length-1,z=i;T>0;T--)z=z.add(p[T]),_=_.add(z);if(g=g.add(_),v!==0)for(let T=0;T<l;T++)g=g.double()}return g}function QC(e){return Y2e(e.Fp),D4(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...gJ(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kc=BigInt(0),Xo=BigInt(1),EW=BigInt(2),r_e=BigInt(8),n_e={zip215:!0};function i_e(e){const t=QC(e);return D4(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function a_e(e){const t=i_e(e),{Fp:r,n,prehash:i,hash:s,randomBytes:l,nByteLength:a,h:p}=t,f=EW<<BigInt(a*8)-Xo,g=r.create,v=z4(t.n,t.nBitLength),_=t.uvRatio||((le,Q)=>{try{return{isValid:!0,value:r.sqrt(le*r.inv(Q))}}catch{return{isValid:!1,value:Kc}}}),T=t.adjustScalarBytes||(le=>le),z=t.domain||((le,Q,ce)=>{if(ah("phflag",ce),Q.length||ce)throw new Error("Contexts/pre-hash are not supported");return le});function I(le,Q,ce=!1){const Ee=ce?Xo:Kc;uc("coordinate "+le,Q,Ee,f)}function k(le){if(!(le instanceof N))throw new Error("ExtendedPoint expected")}const C=u8((le,Q)=>{const{ex:ce,ey:Ee,ez:fe}=le,K=le.is0();Q==null&&(Q=K?r_e:r.inv(fe));const pe=g(ce*Q),Et=g(Ee*Q),zt=g(fe*Q);if(K)return{x:Kc,y:Xo};if(zt!==Xo)throw new Error("invZ was invalid");return{x:pe,y:Et}}),L=u8(le=>{const{a:Q,d:ce}=t;if(le.is0())throw new Error("bad point: ZERO");const{ex:Ee,ey:fe,ez:K,et:pe}=le,Et=g(Ee*Ee),zt=g(fe*fe),Ve=g(K*K),Be=g(Ve*Ve),ut=g(Et*Q),bt=g(Ve*g(ut+zt)),Ht=g(Be+g(ce*g(Et*zt)));if(bt!==Ht)throw new Error("bad point: equation left != right (1)");const _e=g(Ee*fe),Me=g(K*pe);if(_e!==Me)throw new Error("bad point: equation left != right (2)");return!0});class N{constructor(Q,ce,Ee,fe){I("x",Q),I("y",ce),I("z",Ee,!0),I("t",fe),this.ex=Q,this.ey=ce,this.ez=Ee,this.et=fe,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Q){if(Q instanceof N)throw new Error("extended point not allowed");const{x:ce,y:Ee}=Q||{};return I("x",ce),I("y",Ee),new N(ce,Ee,Xo,g(ce*Ee))}static normalizeZ(Q){const ce=XC(r,Q.map(Ee=>Ee.ez));return Q.map((Ee,fe)=>Ee.toAffine(ce[fe])).map(N.fromAffine)}static msm(Q,ce){return wJ(N,v,Q,ce)}_setWindowSize(Q){re.setWindowSize(this,Q)}assertValidity(){L(this)}equals(Q){k(Q);const{ex:ce,ey:Ee,ez:fe}=this,{ex:K,ey:pe,ez:Et}=Q,zt=g(ce*Et),Ve=g(K*fe),Be=g(Ee*Et),ut=g(pe*fe);return zt===Ve&&Be===ut}is0(){return this.equals(N.ZERO)}negate(){return new N(g(-this.ex),this.ey,this.ez,g(-this.et))}double(){const{a:Q}=t,{ex:ce,ey:Ee,ez:fe}=this,K=g(ce*ce),pe=g(Ee*Ee),Et=g(EW*g(fe*fe)),zt=g(Q*K),Ve=ce+Ee,Be=g(g(Ve*Ve)-K-pe),ut=zt+pe,bt=ut-Et,Ht=zt-pe,_e=g(Be*bt),Me=g(ut*Ht),we=g(Be*Ht),be=g(bt*ut);return new N(_e,Me,be,we)}add(Q){k(Q);const{a:ce,d:Ee}=t,{ex:fe,ey:K,ez:pe,et:Et}=this,{ex:zt,ey:Ve,ez:Be,et:ut}=Q,bt=g(fe*zt),Ht=g(K*Ve),_e=g(Et*Ee*ut),Me=g(pe*Be),we=g((fe+K)*(zt+Ve)-bt-Ht),be=Me-_e,rt=Me+_e,pt=g(Ht-ce*bt),Ct=g(we*be),Jt=g(rt*pt),Rr=g(we*pt),Br=g(be*rt);return new N(Ct,Jt,Br,Rr)}subtract(Q){return this.add(Q.negate())}wNAF(Q){return re.wNAFCached(this,Q,N.normalizeZ)}multiply(Q){const ce=Q;uc("scalar",ce,Xo,n);const{p:Ee,f:fe}=this.wNAF(ce);return N.normalizeZ([Ee,fe])[0]}multiplyUnsafe(Q,ce=N.ZERO){const Ee=Q;return uc("scalar",Ee,Kc,n),Ee===Kc?ee:this.is0()||Ee===Xo?this:re.wNAFCachedUnsafe(this,Ee,N.normalizeZ,ce)}isSmallOrder(){return this.multiplyUnsafe(p).is0()}isTorsionFree(){return re.unsafeLadder(this,n).is0()}toAffine(Q){return C(this,Q)}clearCofactor(){const{h:Q}=t;return Q===Xo?this:this.multiplyUnsafe(Q)}static fromHex(Q,ce=!1){const{d:Ee,a:fe}=t,K=r.BYTES;Q=Ma("pointHex",Q,K),ah("zip215",ce);const pe=Q.slice(),Et=Q[K-1];pe[K-1]=Et&-129;const zt=fx(pe),Ve=ce?f:r.ORDER;uc("pointHex.y",zt,Kc,Ve);const Be=g(zt*zt),ut=g(Be-Xo),bt=g(Ee*Be-fe);let{isValid:Ht,value:_e}=_(ut,bt);if(!Ht)throw new Error("Point.fromHex: invalid y coordinate");const Me=(_e&Xo)===Xo,we=(Et&128)!==0;if(!ce&&_e===Kc&&we)throw new Error("Point.fromHex: x=0 and x_0=1");return we!==Me&&(_e=g(-_e)),N.fromAffine({x:_e,y:zt})}static fromPrivateKey(Q){const{scalar:ce}=me(Q);return $.multiply(ce)}toRawBytes(){const{x:Q,y:ce}=this.toAffine(),Ee=c8(ce,r.BYTES);return Ee[Ee.length-1]|=Q&Xo?128:0,Ee}toHex(){return Ey(this.toRawBytes())}}N.BASE=new N(t.Gx,t.Gy,Xo,g(t.Gx*t.Gy)),N.ZERO=new N(Kc,Xo,Xo,Kc);const{BASE:$,ZERO:ee}=N,re=xJ(N,a*8);function ne(le){return Ri(le,n)}function ie(le){return ne(fx(le))}function me(le){const Q=r.BYTES;le=Ma("private key",le,Q);const ce=Ma("hashed private key",s(le),2*Q),Ee=T(ce.slice(0,Q)),fe=ce.slice(Q,2*Q),K=ie(Ee);return{head:Ee,prefix:fe,scalar:K}}function Ze(le){const{head:Q,prefix:ce,scalar:Ee}=me(le),fe=$.multiply(Ee),K=fe.toRawBytes();return{head:Q,prefix:ce,scalar:Ee,point:fe,pointBytes:K}}function et(le){return Ze(le).pointBytes}function Ke(le=Uint8Array.of(),...Q){const ce=Ay(...Q);return ie(s(z(ce,Ma("context",le),!!i)))}function ye(le,Q,ce={}){le=Ma("message",le),i&&(le=i(le));const{prefix:Ee,scalar:fe,pointBytes:K}=Ze(Q),pe=Ke(ce.context,Ee,le),Et=$.multiply(pe).toRawBytes(),zt=Ke(ce.context,Et,K,le),Ve=ne(pe+zt*fe);uc("signature.s",Ve,Kc,n);const Be=Ay(Et,c8(Ve,r.BYTES));return Ma("result",Be,r.BYTES*2)}const j=n_e;function Z(le,Q,ce,Ee=j){const{context:fe,zip215:K}=Ee,pe=r.BYTES;le=Ma("signature",le,2*pe),Q=Ma("message",Q),ce=Ma("publicKey",ce,pe),K!==void 0&&ah("zip215",K),i&&(Q=i(Q));const Et=fx(le.slice(pe,2*pe));let zt,Ve,Be;try{zt=N.fromHex(ce,K),Ve=N.fromHex(le.slice(0,pe),K),Be=$.multiplyUnsafe(Et)}catch{return!1}if(!K&&zt.isSmallOrder())return!1;const ut=Ke(fe,Ve.toRawBytes(),zt.toRawBytes(),Q);return Ve.add(zt.multiplyUnsafe(ut)).subtract(Be).clearCofactor().equals(N.ZERO)}return $._setWindowSize(8),{CURVE:t,getPublicKey:et,sign:ye,verify:Z,ExtendedPoint:N,utils:{getExtendedPublicKey:Ze,randomPrivateKey:()=>l(r.BYTES),precompute(le=8,Q=N.BASE){return Q._setWindowSize(le),Q.multiply(BigInt(3)),Q}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const JC=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),AW=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const o_e=BigInt(1),TW=BigInt(2);BigInt(3);const s_e=BigInt(5),l_e=BigInt(8);function c_e(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=JC,a=e*e%s*e%s,p=ta(a,TW,s)*a%s,f=ta(p,o_e,s)*e%s,g=ta(f,s_e,s)*f%s,v=ta(g,t,s)*g%s,_=ta(v,r,s)*v%s,T=ta(_,n,s)*_%s,z=ta(T,i,s)*T%s,I=ta(z,i,s)*T%s,k=ta(I,t,s)*g%s;return{pow_p_5_8:ta(k,TW,s)*e%s,b2:a}}function u_e(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function d_e(e,t){const r=JC,n=Ri(t*t*t,r),i=Ri(n*n*t,r),s=c_e(e*i).pow_p_5_8;let l=Ri(e*n*s,r);const a=Ri(t*l*l,r),p=l,f=Ri(l*AW,r),g=a===e,v=a===Ri(-e,r),_=a===Ri(-e*AW,r);return g&&(l=p),(v||_)&&(l=f),H2e(l,r)&&(l=Ri(-l,r)),{isValid:g||v,value:l}}const MW=(()=>z4(JC,void 0,!0))(),p_e=(()=>({a:MW.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:MW,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:l_e,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:j2e,randomBytes:uJ,adjustScalarBytes:u_e,uvRatio:d_e}))(),wh=(()=>a_e(p_e))();var eD={exports:{}};const ts={},h_e=Object.freeze(Object.defineProperty({__proto__:null,default:ts},Symbol.toStringTag,{value:"Module"})),tD=Jv(h_e);eD.exports;(function(e){(function(t,r){function n(ye,j){if(!ye)throw new Error(j||"Assertion failed")}function i(ye,j){ye.super_=j;var Z=function(){};Z.prototype=j.prototype,ye.prototype=new Z,ye.prototype.constructor=ye}function s(ye,j,Z){if(s.isBN(ye))return ye;this.negative=0,this.words=null,this.length=0,this.red=null,ye!==null&&((j==="le"||j==="be")&&(Z=j,j=10),this._init(ye||0,j||10,Z||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=tD.Buffer}catch{}s.isBN=function(j){return j instanceof s?!0:j!==null&&typeof j=="object"&&j.constructor.wordSize===s.wordSize&&Array.isArray(j.words)},s.max=function(j,Z){return j.cmp(Z)>0?j:Z},s.min=function(j,Z){return j.cmp(Z)<0?j:Z},s.prototype._init=function(j,Z,oe){if(typeof j=="number")return this._initNumber(j,Z,oe);if(typeof j=="object")return this._initArray(j,Z,oe);Z==="hex"&&(Z=16),n(Z===(Z|0)&&Z>=2&&Z<=36),j=j.toString().replace(/\s+/g,"");var le=0;j[0]==="-"&&(le++,this.negative=1),le<j.length&&(Z===16?this._parseHex(j,le,oe):(this._parseBase(j,Z,le),oe==="le"&&this._initArray(this.toArray(),Z,oe)))},s.prototype._initNumber=function(j,Z,oe){j<0&&(this.negative=1,j=-j),j<67108864?(this.words=[j&67108863],this.length=1):j<4503599627370496?(this.words=[j&67108863,j/67108864&67108863],this.length=2):(n(j<9007199254740992),this.words=[j&67108863,j/67108864&67108863,1],this.length=3),oe==="le"&&this._initArray(this.toArray(),Z,oe)},s.prototype._initArray=function(j,Z,oe){if(n(typeof j.length=="number"),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=new Array(this.length);for(var le=0;le<this.length;le++)this.words[le]=0;var Q,ce,Ee=0;if(oe==="be")for(le=j.length-1,Q=0;le>=0;le-=3)ce=j[le]|j[le-1]<<8|j[le-2]<<16,this.words[Q]|=ce<<Ee&67108863,this.words[Q+1]=ce>>>26-Ee&67108863,Ee+=24,Ee>=26&&(Ee-=26,Q++);else if(oe==="le")for(le=0,Q=0;le<j.length;le+=3)ce=j[le]|j[le+1]<<8|j[le+2]<<16,this.words[Q]|=ce<<Ee&67108863,this.words[Q+1]=ce>>>26-Ee&67108863,Ee+=24,Ee>=26&&(Ee-=26,Q++);return this._strip()};function a(ye,j){var Z=ye.charCodeAt(j);if(Z>=48&&Z<=57)return Z-48;if(Z>=65&&Z<=70)return Z-55;if(Z>=97&&Z<=102)return Z-87;n(!1,"Invalid character in "+ye)}function p(ye,j,Z){var oe=a(ye,Z);return Z-1>=j&&(oe|=a(ye,Z-1)<<4),oe}s.prototype._parseHex=function(j,Z,oe){this.length=Math.ceil((j.length-Z)/6),this.words=new Array(this.length);for(var le=0;le<this.length;le++)this.words[le]=0;var Q=0,ce=0,Ee;if(oe==="be")for(le=j.length-1;le>=Z;le-=2)Ee=p(j,Z,le)<<Q,this.words[ce]|=Ee&67108863,Q>=18?(Q-=18,ce+=1,this.words[ce]|=Ee>>>26):Q+=8;else{var fe=j.length-Z;for(le=fe%2===0?Z+1:Z;le<j.length;le+=2)Ee=p(j,Z,le)<<Q,this.words[ce]|=Ee&67108863,Q>=18?(Q-=18,ce+=1,this.words[ce]|=Ee>>>26):Q+=8}this._strip()};function f(ye,j,Z,oe){for(var le=0,Q=0,ce=Math.min(ye.length,Z),Ee=j;Ee<ce;Ee++){var fe=ye.charCodeAt(Ee)-48;le*=oe,fe>=49?Q=fe-49+10:fe>=17?Q=fe-17+10:Q=fe,n(fe>=0&&Q<oe,"Invalid character"),le+=Q}return le}s.prototype._parseBase=function(j,Z,oe){this.words=[0],this.length=1;for(var le=0,Q=1;Q<=67108863;Q*=Z)le++;le--,Q=Q/Z|0;for(var ce=j.length-oe,Ee=ce%le,fe=Math.min(ce,ce-Ee)+oe,K=0,pe=oe;pe<fe;pe+=le)K=f(j,pe,pe+le,Z),this.imuln(Q),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(Ee!==0){var Et=1;for(K=f(j,pe,j.length,Z),pe=0;pe<Ee;pe++)Et*=Z;this.imuln(Et),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this._strip()},s.prototype.copy=function(j){j.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)j.words[Z]=this.words[Z];j.length=this.length,j.negative=this.negative,j.red=this.red};function g(ye,j){ye.words=j.words,ye.length=j.length,ye.negative=j.negative,ye.red=j.red}if(s.prototype._move=function(j){g(j,this)},s.prototype.clone=function(){var j=new s(null);return this.copy(j),j},s.prototype._expand=function(j){for(;this.length<j;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{s.prototype.inspect=v}else s.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(j,Z){j=j||10,Z=Z|0||1;var oe;if(j===16||j==="hex"){oe="";for(var le=0,Q=0,ce=0;ce<this.length;ce++){var Ee=this.words[ce],fe=((Ee<<le|Q)&16777215).toString(16);Q=Ee>>>24-le&16777215,le+=2,le>=26&&(le-=26,ce--),Q!==0||ce!==this.length-1?oe=_[6-fe.length]+fe+oe:oe=fe+oe}for(Q!==0&&(oe=Q.toString(16)+oe);oe.length%Z!==0;)oe="0"+oe;return this.negative!==0&&(oe="-"+oe),oe}if(j===(j|0)&&j>=2&&j<=36){var K=T[j],pe=z[j];oe="";var Et=this.clone();for(Et.negative=0;!Et.isZero();){var zt=Et.modrn(pe).toString(j);Et=Et.idivn(pe),Et.isZero()?oe=zt+oe:oe=_[K-zt.length]+zt+oe}for(this.isZero()&&(oe="0"+oe);oe.length%Z!==0;)oe="0"+oe;return this.negative!==0&&(oe="-"+oe),oe}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var j=this.words[0];return this.length===2?j+=this.words[1]*67108864:this.length===3&&this.words[2]===1?j+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-j:j},s.prototype.toJSON=function(){return this.toString(16,2)},l&&(s.prototype.toBuffer=function(j,Z){return this.toArrayLike(l,j,Z)}),s.prototype.toArray=function(j,Z){return this.toArrayLike(Array,j,Z)};var I=function(j,Z){return j.allocUnsafe?j.allocUnsafe(Z):new j(Z)};s.prototype.toArrayLike=function(j,Z,oe){this._strip();var le=this.byteLength(),Q=oe||Math.max(1,le);n(le<=Q,"byte array longer than desired length"),n(Q>0,"Requested array length <= 0");var ce=I(j,Q),Ee=Z==="le"?"LE":"BE";return this["_toArrayLike"+Ee](ce,le),ce},s.prototype._toArrayLikeLE=function(j,Z){for(var oe=0,le=0,Q=0,ce=0;Q<this.length;Q++){var Ee=this.words[Q]<<ce|le;j[oe++]=Ee&255,oe<j.length&&(j[oe++]=Ee>>8&255),oe<j.length&&(j[oe++]=Ee>>16&255),ce===6?(oe<j.length&&(j[oe++]=Ee>>24&255),le=0,ce=0):(le=Ee>>>24,ce+=2)}if(oe<j.length)for(j[oe++]=le;oe<j.length;)j[oe++]=0},s.prototype._toArrayLikeBE=function(j,Z){for(var oe=j.length-1,le=0,Q=0,ce=0;Q<this.length;Q++){var Ee=this.words[Q]<<ce|le;j[oe--]=Ee&255,oe>=0&&(j[oe--]=Ee>>8&255),oe>=0&&(j[oe--]=Ee>>16&255),ce===6?(oe>=0&&(j[oe--]=Ee>>24&255),le=0,ce=0):(le=Ee>>>24,ce+=2)}if(oe>=0)for(j[oe--]=le;oe>=0;)j[oe--]=0},Math.clz32?s.prototype._countBits=function(j){return 32-Math.clz32(j)}:s.prototype._countBits=function(j){var Z=j,oe=0;return Z>=4096&&(oe+=13,Z>>>=13),Z>=64&&(oe+=7,Z>>>=7),Z>=8&&(oe+=4,Z>>>=4),Z>=2&&(oe+=2,Z>>>=2),oe+Z},s.prototype._zeroBits=function(j){if(j===0)return 26;var Z=j,oe=0;return Z&8191||(oe+=13,Z>>>=13),Z&127||(oe+=7,Z>>>=7),Z&15||(oe+=4,Z>>>=4),Z&3||(oe+=2,Z>>>=2),Z&1||oe++,oe},s.prototype.bitLength=function(){var j=this.words[this.length-1],Z=this._countBits(j);return(this.length-1)*26+Z};function k(ye){for(var j=new Array(ye.bitLength()),Z=0;Z<j.length;Z++){var oe=Z/26|0,le=Z%26;j[Z]=ye.words[oe]>>>le&1}return j}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var j=0,Z=0;Z<this.length;Z++){var oe=this._zeroBits(this.words[Z]);if(j+=oe,oe!==26)break}return j},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(j){return this.negative!==0?this.abs().inotn(j).iaddn(1):this.clone()},s.prototype.fromTwos=function(j){return this.testn(j-1)?this.notn(j).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(j){for(;this.length<j.length;)this.words[this.length++]=0;for(var Z=0;Z<j.length;Z++)this.words[Z]=this.words[Z]|j.words[Z];return this._strip()},s.prototype.ior=function(j){return n((this.negative|j.negative)===0),this.iuor(j)},s.prototype.or=function(j){return this.length>j.length?this.clone().ior(j):j.clone().ior(this)},s.prototype.uor=function(j){return this.length>j.length?this.clone().iuor(j):j.clone().iuor(this)},s.prototype.iuand=function(j){var Z;this.length>j.length?Z=j:Z=this;for(var oe=0;oe<Z.length;oe++)this.words[oe]=this.words[oe]&j.words[oe];return this.length=Z.length,this._strip()},s.prototype.iand=function(j){return n((this.negative|j.negative)===0),this.iuand(j)},s.prototype.and=function(j){return this.length>j.length?this.clone().iand(j):j.clone().iand(this)},s.prototype.uand=function(j){return this.length>j.length?this.clone().iuand(j):j.clone().iuand(this)},s.prototype.iuxor=function(j){var Z,oe;this.length>j.length?(Z=this,oe=j):(Z=j,oe=this);for(var le=0;le<oe.length;le++)this.words[le]=Z.words[le]^oe.words[le];if(this!==Z)for(;le<Z.length;le++)this.words[le]=Z.words[le];return this.length=Z.length,this._strip()},s.prototype.ixor=function(j){return n((this.negative|j.negative)===0),this.iuxor(j)},s.prototype.xor=function(j){return this.length>j.length?this.clone().ixor(j):j.clone().ixor(this)},s.prototype.uxor=function(j){return this.length>j.length?this.clone().iuxor(j):j.clone().iuxor(this)},s.prototype.inotn=function(j){n(typeof j=="number"&&j>=0);var Z=Math.ceil(j/26)|0,oe=j%26;this._expand(Z),oe>0&&Z--;for(var le=0;le<Z;le++)this.words[le]=~this.words[le]&67108863;return oe>0&&(this.words[le]=~this.words[le]&67108863>>26-oe),this._strip()},s.prototype.notn=function(j){return this.clone().inotn(j)},s.prototype.setn=function(j,Z){n(typeof j=="number"&&j>=0);var oe=j/26|0,le=j%26;return this._expand(oe+1),Z?this.words[oe]=this.words[oe]|1<<le:this.words[oe]=this.words[oe]&~(1<<le),this._strip()},s.prototype.iadd=function(j){var Z;if(this.negative!==0&&j.negative===0)return this.negative=0,Z=this.isub(j),this.negative^=1,this._normSign();if(this.negative===0&&j.negative!==0)return j.negative=0,Z=this.isub(j),j.negative=1,Z._normSign();var oe,le;this.length>j.length?(oe=this,le=j):(oe=j,le=this);for(var Q=0,ce=0;ce<le.length;ce++)Z=(oe.words[ce]|0)+(le.words[ce]|0)+Q,this.words[ce]=Z&67108863,Q=Z>>>26;for(;Q!==0&&ce<oe.length;ce++)Z=(oe.words[ce]|0)+Q,this.words[ce]=Z&67108863,Q=Z>>>26;if(this.length=oe.length,Q!==0)this.words[this.length]=Q,this.length++;else if(oe!==this)for(;ce<oe.length;ce++)this.words[ce]=oe.words[ce];return this},s.prototype.add=function(j){var Z;return j.negative!==0&&this.negative===0?(j.negative=0,Z=this.sub(j),j.negative^=1,Z):j.negative===0&&this.negative!==0?(this.negative=0,Z=j.sub(this),this.negative=1,Z):this.length>j.length?this.clone().iadd(j):j.clone().iadd(this)},s.prototype.isub=function(j){if(j.negative!==0){j.negative=0;var Z=this.iadd(j);return j.negative=1,Z._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var oe=this.cmp(j);if(oe===0)return this.negative=0,this.length=1,this.words[0]=0,this;var le,Q;oe>0?(le=this,Q=j):(le=j,Q=this);for(var ce=0,Ee=0;Ee<Q.length;Ee++)Z=(le.words[Ee]|0)-(Q.words[Ee]|0)+ce,ce=Z>>26,this.words[Ee]=Z&67108863;for(;ce!==0&&Ee<le.length;Ee++)Z=(le.words[Ee]|0)+ce,ce=Z>>26,this.words[Ee]=Z&67108863;if(ce===0&&Ee<le.length&&le!==this)for(;Ee<le.length;Ee++)this.words[Ee]=le.words[Ee];return this.length=Math.max(this.length,Ee),le!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(j){return this.clone().isub(j)};function C(ye,j,Z){Z.negative=j.negative^ye.negative;var oe=ye.length+j.length|0;Z.length=oe,oe=oe-1|0;var le=ye.words[0]|0,Q=j.words[0]|0,ce=le*Q,Ee=ce&67108863,fe=ce/67108864|0;Z.words[0]=Ee;for(var K=1;K<oe;K++){for(var pe=fe>>>26,Et=fe&67108863,zt=Math.min(K,j.length-1),Ve=Math.max(0,K-ye.length+1);Ve<=zt;Ve++){var Be=K-Ve|0;le=ye.words[Be]|0,Q=j.words[Ve]|0,ce=le*Q+Et,pe+=ce/67108864|0,Et=ce&67108863}Z.words[K]=Et|0,fe=pe|0}return fe!==0?Z.words[K]=fe|0:Z.length--,Z._strip()}var L=function(j,Z,oe){var le=j.words,Q=Z.words,ce=oe.words,Ee=0,fe,K,pe,Et=le[0]|0,zt=Et&8191,Ve=Et>>>13,Be=le[1]|0,ut=Be&8191,bt=Be>>>13,Ht=le[2]|0,_e=Ht&8191,Me=Ht>>>13,we=le[3]|0,be=we&8191,rt=we>>>13,pt=le[4]|0,Ct=pt&8191,Jt=pt>>>13,Rr=le[5]|0,Br=Rr&8191,Fr=Rr>>>13,Zn=le[6]|0,en=Zn&8191,Sn=Zn>>>13,Ei=le[7]|0,Xr=Ei&8191,ve=Ei>>>13,Y=le[8]|0,J=Y&8191,ze=Y>>>13,st=le[9]|0,mt=st&8191,At=st>>>13,Dr=Q[0]|0,Lr=Dr&8191,Mr=Dr>>>13,Mn=Q[1]|0,Nr=Mn&8191,Le=Mn>>>13,de=Q[2]|0,ge=de&8191,Re=de>>>13,$e=Q[3]|0,Ye=$e&8191,Ge=$e>>>13,tt=Q[4]|0,We=tt&8191,lt=tt>>>13,Ft=Q[5]|0,Ot=Ft&8191,It=Ft>>>13,wr=Q[6]|0,dr=wr&8191,mr=wr>>>13,Yr=Q[7]|0,Ar=Yr&8191,Qr=Yr>>>13,ui=Q[8]|0,mn=ui&8191,un=ui>>>13,$o=Q[9]|0,pn=$o&8191,bn=$o>>>13;oe.negative=j.negative^Z.negative,oe.length=19,fe=Math.imul(zt,Lr),K=Math.imul(zt,Mr),K=K+Math.imul(Ve,Lr)|0,pe=Math.imul(Ve,Mr);var ol=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(ol>>>26)|0,ol&=67108863,fe=Math.imul(ut,Lr),K=Math.imul(ut,Mr),K=K+Math.imul(bt,Lr)|0,pe=Math.imul(bt,Mr),fe=fe+Math.imul(zt,Nr)|0,K=K+Math.imul(zt,Le)|0,K=K+Math.imul(Ve,Nr)|0,pe=pe+Math.imul(Ve,Le)|0;var Xh=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(Xh>>>26)|0,Xh&=67108863,fe=Math.imul(_e,Lr),K=Math.imul(_e,Mr),K=K+Math.imul(Me,Lr)|0,pe=Math.imul(Me,Mr),fe=fe+Math.imul(ut,Nr)|0,K=K+Math.imul(ut,Le)|0,K=K+Math.imul(bt,Nr)|0,pe=pe+Math.imul(bt,Le)|0,fe=fe+Math.imul(zt,ge)|0,K=K+Math.imul(zt,Re)|0,K=K+Math.imul(Ve,ge)|0,pe=pe+Math.imul(Ve,Re)|0;var Wd=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(Wd>>>26)|0,Wd&=67108863,fe=Math.imul(be,Lr),K=Math.imul(be,Mr),K=K+Math.imul(rt,Lr)|0,pe=Math.imul(rt,Mr),fe=fe+Math.imul(_e,Nr)|0,K=K+Math.imul(_e,Le)|0,K=K+Math.imul(Me,Nr)|0,pe=pe+Math.imul(Me,Le)|0,fe=fe+Math.imul(ut,ge)|0,K=K+Math.imul(ut,Re)|0,K=K+Math.imul(bt,ge)|0,pe=pe+Math.imul(bt,Re)|0,fe=fe+Math.imul(zt,Ye)|0,K=K+Math.imul(zt,Ge)|0,K=K+Math.imul(Ve,Ye)|0,pe=pe+Math.imul(Ve,Ge)|0;var hn=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(hn>>>26)|0,hn&=67108863,fe=Math.imul(Ct,Lr),K=Math.imul(Ct,Mr),K=K+Math.imul(Jt,Lr)|0,pe=Math.imul(Jt,Mr),fe=fe+Math.imul(be,Nr)|0,K=K+Math.imul(be,Le)|0,K=K+Math.imul(rt,Nr)|0,pe=pe+Math.imul(rt,Le)|0,fe=fe+Math.imul(_e,ge)|0,K=K+Math.imul(_e,Re)|0,K=K+Math.imul(Me,ge)|0,pe=pe+Math.imul(Me,Re)|0,fe=fe+Math.imul(ut,Ye)|0,K=K+Math.imul(ut,Ge)|0,K=K+Math.imul(bt,Ye)|0,pe=pe+Math.imul(bt,Ge)|0,fe=fe+Math.imul(zt,We)|0,K=K+Math.imul(zt,lt)|0,K=K+Math.imul(Ve,We)|0,pe=pe+Math.imul(Ve,lt)|0;var bu=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(bu>>>26)|0,bu&=67108863,fe=Math.imul(Br,Lr),K=Math.imul(Br,Mr),K=K+Math.imul(Fr,Lr)|0,pe=Math.imul(Fr,Mr),fe=fe+Math.imul(Ct,Nr)|0,K=K+Math.imul(Ct,Le)|0,K=K+Math.imul(Jt,Nr)|0,pe=pe+Math.imul(Jt,Le)|0,fe=fe+Math.imul(be,ge)|0,K=K+Math.imul(be,Re)|0,K=K+Math.imul(rt,ge)|0,pe=pe+Math.imul(rt,Re)|0,fe=fe+Math.imul(_e,Ye)|0,K=K+Math.imul(_e,Ge)|0,K=K+Math.imul(Me,Ye)|0,pe=pe+Math.imul(Me,Ge)|0,fe=fe+Math.imul(ut,We)|0,K=K+Math.imul(ut,lt)|0,K=K+Math.imul(bt,We)|0,pe=pe+Math.imul(bt,lt)|0,fe=fe+Math.imul(zt,Ot)|0,K=K+Math.imul(zt,It)|0,K=K+Math.imul(Ve,Ot)|0,pe=pe+Math.imul(Ve,It)|0;var Nl=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(Nl>>>26)|0,Nl&=67108863,fe=Math.imul(en,Lr),K=Math.imul(en,Mr),K=K+Math.imul(Sn,Lr)|0,pe=Math.imul(Sn,Mr),fe=fe+Math.imul(Br,Nr)|0,K=K+Math.imul(Br,Le)|0,K=K+Math.imul(Fr,Nr)|0,pe=pe+Math.imul(Fr,Le)|0,fe=fe+Math.imul(Ct,ge)|0,K=K+Math.imul(Ct,Re)|0,K=K+Math.imul(Jt,ge)|0,pe=pe+Math.imul(Jt,Re)|0,fe=fe+Math.imul(be,Ye)|0,K=K+Math.imul(be,Ge)|0,K=K+Math.imul(rt,Ye)|0,pe=pe+Math.imul(rt,Ge)|0,fe=fe+Math.imul(_e,We)|0,K=K+Math.imul(_e,lt)|0,K=K+Math.imul(Me,We)|0,pe=pe+Math.imul(Me,lt)|0,fe=fe+Math.imul(ut,Ot)|0,K=K+Math.imul(ut,It)|0,K=K+Math.imul(bt,Ot)|0,pe=pe+Math.imul(bt,It)|0,fe=fe+Math.imul(zt,dr)|0,K=K+Math.imul(zt,mr)|0,K=K+Math.imul(Ve,dr)|0,pe=pe+Math.imul(Ve,mr)|0;var xu=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(xu>>>26)|0,xu&=67108863,fe=Math.imul(Xr,Lr),K=Math.imul(Xr,Mr),K=K+Math.imul(ve,Lr)|0,pe=Math.imul(ve,Mr),fe=fe+Math.imul(en,Nr)|0,K=K+Math.imul(en,Le)|0,K=K+Math.imul(Sn,Nr)|0,pe=pe+Math.imul(Sn,Le)|0,fe=fe+Math.imul(Br,ge)|0,K=K+Math.imul(Br,Re)|0,K=K+Math.imul(Fr,ge)|0,pe=pe+Math.imul(Fr,Re)|0,fe=fe+Math.imul(Ct,Ye)|0,K=K+Math.imul(Ct,Ge)|0,K=K+Math.imul(Jt,Ye)|0,pe=pe+Math.imul(Jt,Ge)|0,fe=fe+Math.imul(be,We)|0,K=K+Math.imul(be,lt)|0,K=K+Math.imul(rt,We)|0,pe=pe+Math.imul(rt,lt)|0,fe=fe+Math.imul(_e,Ot)|0,K=K+Math.imul(_e,It)|0,K=K+Math.imul(Me,Ot)|0,pe=pe+Math.imul(Me,It)|0,fe=fe+Math.imul(ut,dr)|0,K=K+Math.imul(ut,mr)|0,K=K+Math.imul(bt,dr)|0,pe=pe+Math.imul(bt,mr)|0,fe=fe+Math.imul(zt,Ar)|0,K=K+Math.imul(zt,Qr)|0,K=K+Math.imul(Ve,Ar)|0,pe=pe+Math.imul(Ve,Qr)|0;var Cc=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(Cc>>>26)|0,Cc&=67108863,fe=Math.imul(J,Lr),K=Math.imul(J,Mr),K=K+Math.imul(ze,Lr)|0,pe=Math.imul(ze,Mr),fe=fe+Math.imul(Xr,Nr)|0,K=K+Math.imul(Xr,Le)|0,K=K+Math.imul(ve,Nr)|0,pe=pe+Math.imul(ve,Le)|0,fe=fe+Math.imul(en,ge)|0,K=K+Math.imul(en,Re)|0,K=K+Math.imul(Sn,ge)|0,pe=pe+Math.imul(Sn,Re)|0,fe=fe+Math.imul(Br,Ye)|0,K=K+Math.imul(Br,Ge)|0,K=K+Math.imul(Fr,Ye)|0,pe=pe+Math.imul(Fr,Ge)|0,fe=fe+Math.imul(Ct,We)|0,K=K+Math.imul(Ct,lt)|0,K=K+Math.imul(Jt,We)|0,pe=pe+Math.imul(Jt,lt)|0,fe=fe+Math.imul(be,Ot)|0,K=K+Math.imul(be,It)|0,K=K+Math.imul(rt,Ot)|0,pe=pe+Math.imul(rt,It)|0,fe=fe+Math.imul(_e,dr)|0,K=K+Math.imul(_e,mr)|0,K=K+Math.imul(Me,dr)|0,pe=pe+Math.imul(Me,mr)|0,fe=fe+Math.imul(ut,Ar)|0,K=K+Math.imul(ut,Qr)|0,K=K+Math.imul(bt,Ar)|0,pe=pe+Math.imul(bt,Qr)|0,fe=fe+Math.imul(zt,mn)|0,K=K+Math.imul(zt,un)|0,K=K+Math.imul(Ve,mn)|0,pe=pe+Math.imul(Ve,un)|0;var ho=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(ho>>>26)|0,ho&=67108863,fe=Math.imul(mt,Lr),K=Math.imul(mt,Mr),K=K+Math.imul(At,Lr)|0,pe=Math.imul(At,Mr),fe=fe+Math.imul(J,Nr)|0,K=K+Math.imul(J,Le)|0,K=K+Math.imul(ze,Nr)|0,pe=pe+Math.imul(ze,Le)|0,fe=fe+Math.imul(Xr,ge)|0,K=K+Math.imul(Xr,Re)|0,K=K+Math.imul(ve,ge)|0,pe=pe+Math.imul(ve,Re)|0,fe=fe+Math.imul(en,Ye)|0,K=K+Math.imul(en,Ge)|0,K=K+Math.imul(Sn,Ye)|0,pe=pe+Math.imul(Sn,Ge)|0,fe=fe+Math.imul(Br,We)|0,K=K+Math.imul(Br,lt)|0,K=K+Math.imul(Fr,We)|0,pe=pe+Math.imul(Fr,lt)|0,fe=fe+Math.imul(Ct,Ot)|0,K=K+Math.imul(Ct,It)|0,K=K+Math.imul(Jt,Ot)|0,pe=pe+Math.imul(Jt,It)|0,fe=fe+Math.imul(be,dr)|0,K=K+Math.imul(be,mr)|0,K=K+Math.imul(rt,dr)|0,pe=pe+Math.imul(rt,mr)|0,fe=fe+Math.imul(_e,Ar)|0,K=K+Math.imul(_e,Qr)|0,K=K+Math.imul(Me,Ar)|0,pe=pe+Math.imul(Me,Qr)|0,fe=fe+Math.imul(ut,mn)|0,K=K+Math.imul(ut,un)|0,K=K+Math.imul(bt,mn)|0,pe=pe+Math.imul(bt,un)|0,fe=fe+Math.imul(zt,pn)|0,K=K+Math.imul(zt,bn)|0,K=K+Math.imul(Ve,pn)|0,pe=pe+Math.imul(Ve,bn)|0;var Ko=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,fe=Math.imul(mt,Nr),K=Math.imul(mt,Le),K=K+Math.imul(At,Nr)|0,pe=Math.imul(At,Le),fe=fe+Math.imul(J,ge)|0,K=K+Math.imul(J,Re)|0,K=K+Math.imul(ze,ge)|0,pe=pe+Math.imul(ze,Re)|0,fe=fe+Math.imul(Xr,Ye)|0,K=K+Math.imul(Xr,Ge)|0,K=K+Math.imul(ve,Ye)|0,pe=pe+Math.imul(ve,Ge)|0,fe=fe+Math.imul(en,We)|0,K=K+Math.imul(en,lt)|0,K=K+Math.imul(Sn,We)|0,pe=pe+Math.imul(Sn,lt)|0,fe=fe+Math.imul(Br,Ot)|0,K=K+Math.imul(Br,It)|0,K=K+Math.imul(Fr,Ot)|0,pe=pe+Math.imul(Fr,It)|0,fe=fe+Math.imul(Ct,dr)|0,K=K+Math.imul(Ct,mr)|0,K=K+Math.imul(Jt,dr)|0,pe=pe+Math.imul(Jt,mr)|0,fe=fe+Math.imul(be,Ar)|0,K=K+Math.imul(be,Qr)|0,K=K+Math.imul(rt,Ar)|0,pe=pe+Math.imul(rt,Qr)|0,fe=fe+Math.imul(_e,mn)|0,K=K+Math.imul(_e,un)|0,K=K+Math.imul(Me,mn)|0,pe=pe+Math.imul(Me,un)|0,fe=fe+Math.imul(ut,pn)|0,K=K+Math.imul(ut,bn)|0,K=K+Math.imul(bt,pn)|0,pe=pe+Math.imul(bt,bn)|0;var wu=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(wu>>>26)|0,wu&=67108863,fe=Math.imul(mt,ge),K=Math.imul(mt,Re),K=K+Math.imul(At,ge)|0,pe=Math.imul(At,Re),fe=fe+Math.imul(J,Ye)|0,K=K+Math.imul(J,Ge)|0,K=K+Math.imul(ze,Ye)|0,pe=pe+Math.imul(ze,Ge)|0,fe=fe+Math.imul(Xr,We)|0,K=K+Math.imul(Xr,lt)|0,K=K+Math.imul(ve,We)|0,pe=pe+Math.imul(ve,lt)|0,fe=fe+Math.imul(en,Ot)|0,K=K+Math.imul(en,It)|0,K=K+Math.imul(Sn,Ot)|0,pe=pe+Math.imul(Sn,It)|0,fe=fe+Math.imul(Br,dr)|0,K=K+Math.imul(Br,mr)|0,K=K+Math.imul(Fr,dr)|0,pe=pe+Math.imul(Fr,mr)|0,fe=fe+Math.imul(Ct,Ar)|0,K=K+Math.imul(Ct,Qr)|0,K=K+Math.imul(Jt,Ar)|0,pe=pe+Math.imul(Jt,Qr)|0,fe=fe+Math.imul(be,mn)|0,K=K+Math.imul(be,un)|0,K=K+Math.imul(rt,mn)|0,pe=pe+Math.imul(rt,un)|0,fe=fe+Math.imul(_e,pn)|0,K=K+Math.imul(_e,bn)|0,K=K+Math.imul(Me,pn)|0,pe=pe+Math.imul(Me,bn)|0;var Su=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(Su>>>26)|0,Su&=67108863,fe=Math.imul(mt,Ye),K=Math.imul(mt,Ge),K=K+Math.imul(At,Ye)|0,pe=Math.imul(At,Ge),fe=fe+Math.imul(J,We)|0,K=K+Math.imul(J,lt)|0,K=K+Math.imul(ze,We)|0,pe=pe+Math.imul(ze,lt)|0,fe=fe+Math.imul(Xr,Ot)|0,K=K+Math.imul(Xr,It)|0,K=K+Math.imul(ve,Ot)|0,pe=pe+Math.imul(ve,It)|0,fe=fe+Math.imul(en,dr)|0,K=K+Math.imul(en,mr)|0,K=K+Math.imul(Sn,dr)|0,pe=pe+Math.imul(Sn,mr)|0,fe=fe+Math.imul(Br,Ar)|0,K=K+Math.imul(Br,Qr)|0,K=K+Math.imul(Fr,Ar)|0,pe=pe+Math.imul(Fr,Qr)|0,fe=fe+Math.imul(Ct,mn)|0,K=K+Math.imul(Ct,un)|0,K=K+Math.imul(Jt,mn)|0,pe=pe+Math.imul(Jt,un)|0,fe=fe+Math.imul(be,pn)|0,K=K+Math.imul(be,bn)|0,K=K+Math.imul(rt,pn)|0,pe=pe+Math.imul(rt,bn)|0;var zs=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(zs>>>26)|0,zs&=67108863,fe=Math.imul(mt,We),K=Math.imul(mt,lt),K=K+Math.imul(At,We)|0,pe=Math.imul(At,lt),fe=fe+Math.imul(J,Ot)|0,K=K+Math.imul(J,It)|0,K=K+Math.imul(ze,Ot)|0,pe=pe+Math.imul(ze,It)|0,fe=fe+Math.imul(Xr,dr)|0,K=K+Math.imul(Xr,mr)|0,K=K+Math.imul(ve,dr)|0,pe=pe+Math.imul(ve,mr)|0,fe=fe+Math.imul(en,Ar)|0,K=K+Math.imul(en,Qr)|0,K=K+Math.imul(Sn,Ar)|0,pe=pe+Math.imul(Sn,Qr)|0,fe=fe+Math.imul(Br,mn)|0,K=K+Math.imul(Br,un)|0,K=K+Math.imul(Fr,mn)|0,pe=pe+Math.imul(Fr,un)|0,fe=fe+Math.imul(Ct,pn)|0,K=K+Math.imul(Ct,bn)|0,K=K+Math.imul(Jt,pn)|0,pe=pe+Math.imul(Jt,bn)|0;var qo=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(qo>>>26)|0,qo&=67108863,fe=Math.imul(mt,Ot),K=Math.imul(mt,It),K=K+Math.imul(At,Ot)|0,pe=Math.imul(At,It),fe=fe+Math.imul(J,dr)|0,K=K+Math.imul(J,mr)|0,K=K+Math.imul(ze,dr)|0,pe=pe+Math.imul(ze,mr)|0,fe=fe+Math.imul(Xr,Ar)|0,K=K+Math.imul(Xr,Qr)|0,K=K+Math.imul(ve,Ar)|0,pe=pe+Math.imul(ve,Qr)|0,fe=fe+Math.imul(en,mn)|0,K=K+Math.imul(en,un)|0,K=K+Math.imul(Sn,mn)|0,pe=pe+Math.imul(Sn,un)|0,fe=fe+Math.imul(Br,pn)|0,K=K+Math.imul(Br,bn)|0,K=K+Math.imul(Fr,pn)|0,pe=pe+Math.imul(Fr,bn)|0;var Ll=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(Ll>>>26)|0,Ll&=67108863,fe=Math.imul(mt,dr),K=Math.imul(mt,mr),K=K+Math.imul(At,dr)|0,pe=Math.imul(At,mr),fe=fe+Math.imul(J,Ar)|0,K=K+Math.imul(J,Qr)|0,K=K+Math.imul(ze,Ar)|0,pe=pe+Math.imul(ze,Qr)|0,fe=fe+Math.imul(Xr,mn)|0,K=K+Math.imul(Xr,un)|0,K=K+Math.imul(ve,mn)|0,pe=pe+Math.imul(ve,un)|0,fe=fe+Math.imul(en,pn)|0,K=K+Math.imul(en,bn)|0,K=K+Math.imul(Sn,pn)|0,pe=pe+Math.imul(Sn,bn)|0;var Mt=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,fe=Math.imul(mt,Ar),K=Math.imul(mt,Qr),K=K+Math.imul(At,Ar)|0,pe=Math.imul(At,Qr),fe=fe+Math.imul(J,mn)|0,K=K+Math.imul(J,un)|0,K=K+Math.imul(ze,mn)|0,pe=pe+Math.imul(ze,un)|0,fe=fe+Math.imul(Xr,pn)|0,K=K+Math.imul(Xr,bn)|0,K=K+Math.imul(ve,pn)|0,pe=pe+Math.imul(ve,bn)|0;var Go=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(Go>>>26)|0,Go&=67108863,fe=Math.imul(mt,mn),K=Math.imul(mt,un),K=K+Math.imul(At,mn)|0,pe=Math.imul(At,un),fe=fe+Math.imul(J,pn)|0,K=K+Math.imul(J,bn)|0,K=K+Math.imul(ze,pn)|0,pe=pe+Math.imul(ze,bn)|0;var si=(Ee+fe|0)+((K&8191)<<13)|0;Ee=(pe+(K>>>13)|0)+(si>>>26)|0,si&=67108863,fe=Math.imul(mt,pn),K=Math.imul(mt,bn),K=K+Math.imul(At,pn)|0,pe=Math.imul(At,bn);var Ai=(Ee+fe|0)+((K&8191)<<13)|0;return Ee=(pe+(K>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,ce[0]=ol,ce[1]=Xh,ce[2]=Wd,ce[3]=hn,ce[4]=bu,ce[5]=Nl,ce[6]=xu,ce[7]=Cc,ce[8]=ho,ce[9]=Ko,ce[10]=wu,ce[11]=Su,ce[12]=zs,ce[13]=qo,ce[14]=Ll,ce[15]=Mt,ce[16]=Go,ce[17]=si,ce[18]=Ai,Ee!==0&&(ce[19]=Ee,oe.length++),oe};Math.imul||(L=C);function N(ye,j,Z){Z.negative=j.negative^ye.negative,Z.length=ye.length+j.length;for(var oe=0,le=0,Q=0;Q<Z.length-1;Q++){var ce=le;le=0;for(var Ee=oe&67108863,fe=Math.min(Q,j.length-1),K=Math.max(0,Q-ye.length+1);K<=fe;K++){var pe=Q-K,Et=ye.words[pe]|0,zt=j.words[K]|0,Ve=Et*zt,Be=Ve&67108863;ce=ce+(Ve/67108864|0)|0,Be=Be+Ee|0,Ee=Be&67108863,ce=ce+(Be>>>26)|0,le+=ce>>>26,ce&=67108863}Z.words[Q]=Ee,oe=ce,ce=le}return oe!==0?Z.words[Q]=oe:Z.length--,Z._strip()}function $(ye,j,Z){return N(ye,j,Z)}s.prototype.mulTo=function(j,Z){var oe,le=this.length+j.length;return this.length===10&&j.length===10?oe=L(this,j,Z):le<63?oe=C(this,j,Z):le<1024?oe=N(this,j,Z):oe=$(this,j,Z),oe},s.prototype.mul=function(j){var Z=new s(null);return Z.words=new Array(this.length+j.length),this.mulTo(j,Z)},s.prototype.mulf=function(j){var Z=new s(null);return Z.words=new Array(this.length+j.length),$(this,j,Z)},s.prototype.imul=function(j){return this.clone().mulTo(j,this)},s.prototype.imuln=function(j){var Z=j<0;Z&&(j=-j),n(typeof j=="number"),n(j<67108864);for(var oe=0,le=0;le<this.length;le++){var Q=(this.words[le]|0)*j,ce=(Q&67108863)+(oe&67108863);oe>>=26,oe+=Q/67108864|0,oe+=ce>>>26,this.words[le]=ce&67108863}return oe!==0&&(this.words[le]=oe,this.length++),this.length=j===0?1:this.length,Z?this.ineg():this},s.prototype.muln=function(j){return this.clone().imuln(j)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(j){var Z=k(j);if(Z.length===0)return new s(1);for(var oe=this,le=0;le<Z.length&&Z[le]===0;le++,oe=oe.sqr());if(++le<Z.length)for(var Q=oe.sqr();le<Z.length;le++,Q=Q.sqr())Z[le]!==0&&(oe=oe.mul(Q));return oe},s.prototype.iushln=function(j){n(typeof j=="number"&&j>=0);var Z=j%26,oe=(j-Z)/26,le=67108863>>>26-Z<<26-Z,Q;if(Z!==0){var ce=0;for(Q=0;Q<this.length;Q++){var Ee=this.words[Q]&le,fe=(this.words[Q]|0)-Ee<<Z;this.words[Q]=fe|ce,ce=Ee>>>26-Z}ce&&(this.words[Q]=ce,this.length++)}if(oe!==0){for(Q=this.length-1;Q>=0;Q--)this.words[Q+oe]=this.words[Q];for(Q=0;Q<oe;Q++)this.words[Q]=0;this.length+=oe}return this._strip()},s.prototype.ishln=function(j){return n(this.negative===0),this.iushln(j)},s.prototype.iushrn=function(j,Z,oe){n(typeof j=="number"&&j>=0);var le;Z?le=(Z-Z%26)/26:le=0;var Q=j%26,ce=Math.min((j-Q)/26,this.length),Ee=67108863^67108863>>>Q<<Q,fe=oe;if(le-=ce,le=Math.max(0,le),fe){for(var K=0;K<ce;K++)fe.words[K]=this.words[K];fe.length=ce}if(ce!==0)if(this.length>ce)for(this.length-=ce,K=0;K<this.length;K++)this.words[K]=this.words[K+ce];else this.words[0]=0,this.length=1;var pe=0;for(K=this.length-1;K>=0&&(pe!==0||K>=le);K--){var Et=this.words[K]|0;this.words[K]=pe<<26-Q|Et>>>Q,pe=Et&Ee}return fe&&pe!==0&&(fe.words[fe.length++]=pe),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(j,Z,oe){return n(this.negative===0),this.iushrn(j,Z,oe)},s.prototype.shln=function(j){return this.clone().ishln(j)},s.prototype.ushln=function(j){return this.clone().iushln(j)},s.prototype.shrn=function(j){return this.clone().ishrn(j)},s.prototype.ushrn=function(j){return this.clone().iushrn(j)},s.prototype.testn=function(j){n(typeof j=="number"&&j>=0);var Z=j%26,oe=(j-Z)/26,le=1<<Z;if(this.length<=oe)return!1;var Q=this.words[oe];return!!(Q&le)},s.prototype.imaskn=function(j){n(typeof j=="number"&&j>=0);var Z=j%26,oe=(j-Z)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=oe)return this;if(Z!==0&&oe++,this.length=Math.min(oe,this.length),Z!==0){var le=67108863^67108863>>>Z<<Z;this.words[this.length-1]&=le}return this._strip()},s.prototype.maskn=function(j){return this.clone().imaskn(j)},s.prototype.iaddn=function(j){return n(typeof j=="number"),n(j<67108864),j<0?this.isubn(-j):this.negative!==0?this.length===1&&(this.words[0]|0)<=j?(this.words[0]=j-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(j),this.negative=1,this):this._iaddn(j)},s.prototype._iaddn=function(j){this.words[0]+=j;for(var Z=0;Z<this.length&&this.words[Z]>=67108864;Z++)this.words[Z]-=67108864,Z===this.length-1?this.words[Z+1]=1:this.words[Z+1]++;return this.length=Math.max(this.length,Z+1),this},s.prototype.isubn=function(j){if(n(typeof j=="number"),n(j<67108864),j<0)return this.iaddn(-j);if(this.negative!==0)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Z=0;Z<this.length&&this.words[Z]<0;Z++)this.words[Z]+=67108864,this.words[Z+1]-=1;return this._strip()},s.prototype.addn=function(j){return this.clone().iaddn(j)},s.prototype.subn=function(j){return this.clone().isubn(j)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(j,Z,oe){var le=j.length+oe,Q;this._expand(le);var ce,Ee=0;for(Q=0;Q<j.length;Q++){ce=(this.words[Q+oe]|0)+Ee;var fe=(j.words[Q]|0)*Z;ce-=fe&67108863,Ee=(ce>>26)-(fe/67108864|0),this.words[Q+oe]=ce&67108863}for(;Q<this.length-oe;Q++)ce=(this.words[Q+oe]|0)+Ee,Ee=ce>>26,this.words[Q+oe]=ce&67108863;if(Ee===0)return this._strip();for(n(Ee===-1),Ee=0,Q=0;Q<this.length;Q++)ce=-(this.words[Q]|0)+Ee,Ee=ce>>26,this.words[Q]=ce&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(j,Z){var oe=this.length-j.length,le=this.clone(),Q=j,ce=Q.words[Q.length-1]|0,Ee=this._countBits(ce);oe=26-Ee,oe!==0&&(Q=Q.ushln(oe),le.iushln(oe),ce=Q.words[Q.length-1]|0);var fe=le.length-Q.length,K;if(Z!=="mod"){K=new s(null),K.length=fe+1,K.words=new Array(K.length);for(var pe=0;pe<K.length;pe++)K.words[pe]=0}var Et=le.clone()._ishlnsubmul(Q,1,fe);Et.negative===0&&(le=Et,K&&(K.words[fe]=1));for(var zt=fe-1;zt>=0;zt--){var Ve=(le.words[Q.length+zt]|0)*67108864+(le.words[Q.length+zt-1]|0);for(Ve=Math.min(Ve/ce|0,67108863),le._ishlnsubmul(Q,Ve,zt);le.negative!==0;)Ve--,le.negative=0,le._ishlnsubmul(Q,1,zt),le.isZero()||(le.negative^=1);K&&(K.words[zt]=Ve)}return K&&K._strip(),le._strip(),Z!=="div"&&oe!==0&&le.iushrn(oe),{div:K||null,mod:le}},s.prototype.divmod=function(j,Z,oe){if(n(!j.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var le,Q,ce;return this.negative!==0&&j.negative===0?(ce=this.neg().divmod(j,Z),Z!=="mod"&&(le=ce.div.neg()),Z!=="div"&&(Q=ce.mod.neg(),oe&&Q.negative!==0&&Q.iadd(j)),{div:le,mod:Q}):this.negative===0&&j.negative!==0?(ce=this.divmod(j.neg(),Z),Z!=="mod"&&(le=ce.div.neg()),{div:le,mod:ce.mod}):this.negative&j.negative?(ce=this.neg().divmod(j.neg(),Z),Z!=="div"&&(Q=ce.mod.neg(),oe&&Q.negative!==0&&Q.isub(j)),{div:ce.div,mod:Q}):j.length>this.length||this.cmp(j)<0?{div:new s(0),mod:this}:j.length===1?Z==="div"?{div:this.divn(j.words[0]),mod:null}:Z==="mod"?{div:null,mod:new s(this.modrn(j.words[0]))}:{div:this.divn(j.words[0]),mod:new s(this.modrn(j.words[0]))}:this._wordDiv(j,Z)},s.prototype.div=function(j){return this.divmod(j,"div",!1).div},s.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},s.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},s.prototype.divRound=function(j){var Z=this.divmod(j);if(Z.mod.isZero())return Z.div;var oe=Z.div.negative!==0?Z.mod.isub(j):Z.mod,le=j.ushrn(1),Q=j.andln(1),ce=oe.cmp(le);return ce<0||Q===1&&ce===0?Z.div:Z.div.negative!==0?Z.div.isubn(1):Z.div.iaddn(1)},s.prototype.modrn=function(j){var Z=j<0;Z&&(j=-j),n(j<=67108863);for(var oe=(1<<26)%j,le=0,Q=this.length-1;Q>=0;Q--)le=(oe*le+(this.words[Q]|0))%j;return Z?-le:le},s.prototype.modn=function(j){return this.modrn(j)},s.prototype.idivn=function(j){var Z=j<0;Z&&(j=-j),n(j<=67108863);for(var oe=0,le=this.length-1;le>=0;le--){var Q=(this.words[le]|0)+oe*67108864;this.words[le]=Q/j|0,oe=Q%j}return this._strip(),Z?this.ineg():this},s.prototype.divn=function(j){return this.clone().idivn(j)},s.prototype.egcd=function(j){n(j.negative===0),n(!j.isZero());var Z=this,oe=j.clone();Z.negative!==0?Z=Z.umod(j):Z=Z.clone();for(var le=new s(1),Q=new s(0),ce=new s(0),Ee=new s(1),fe=0;Z.isEven()&&oe.isEven();)Z.iushrn(1),oe.iushrn(1),++fe;for(var K=oe.clone(),pe=Z.clone();!Z.isZero();){for(var Et=0,zt=1;!(Z.words[0]&zt)&&Et<26;++Et,zt<<=1);if(Et>0)for(Z.iushrn(Et);Et-- >0;)(le.isOdd()||Q.isOdd())&&(le.iadd(K),Q.isub(pe)),le.iushrn(1),Q.iushrn(1);for(var Ve=0,Be=1;!(oe.words[0]&Be)&&Ve<26;++Ve,Be<<=1);if(Ve>0)for(oe.iushrn(Ve);Ve-- >0;)(ce.isOdd()||Ee.isOdd())&&(ce.iadd(K),Ee.isub(pe)),ce.iushrn(1),Ee.iushrn(1);Z.cmp(oe)>=0?(Z.isub(oe),le.isub(ce),Q.isub(Ee)):(oe.isub(Z),ce.isub(le),Ee.isub(Q))}return{a:ce,b:Ee,gcd:oe.iushln(fe)}},s.prototype._invmp=function(j){n(j.negative===0),n(!j.isZero());var Z=this,oe=j.clone();Z.negative!==0?Z=Z.umod(j):Z=Z.clone();for(var le=new s(1),Q=new s(0),ce=oe.clone();Z.cmpn(1)>0&&oe.cmpn(1)>0;){for(var Ee=0,fe=1;!(Z.words[0]&fe)&&Ee<26;++Ee,fe<<=1);if(Ee>0)for(Z.iushrn(Ee);Ee-- >0;)le.isOdd()&&le.iadd(ce),le.iushrn(1);for(var K=0,pe=1;!(oe.words[0]&pe)&&K<26;++K,pe<<=1);if(K>0)for(oe.iushrn(K);K-- >0;)Q.isOdd()&&Q.iadd(ce),Q.iushrn(1);Z.cmp(oe)>=0?(Z.isub(oe),le.isub(Q)):(oe.isub(Z),Q.isub(le))}var Et;return Z.cmpn(1)===0?Et=le:Et=Q,Et.cmpn(0)<0&&Et.iadd(j),Et},s.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var Z=this.clone(),oe=j.clone();Z.negative=0,oe.negative=0;for(var le=0;Z.isEven()&&oe.isEven();le++)Z.iushrn(1),oe.iushrn(1);do{for(;Z.isEven();)Z.iushrn(1);for(;oe.isEven();)oe.iushrn(1);var Q=Z.cmp(oe);if(Q<0){var ce=Z;Z=oe,oe=ce}else if(Q===0||oe.cmpn(1)===0)break;Z.isub(oe)}while(!0);return oe.iushln(le)},s.prototype.invm=function(j){return this.egcd(j).a.umod(j)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(j){return this.words[0]&j},s.prototype.bincn=function(j){n(typeof j=="number");var Z=j%26,oe=(j-Z)/26,le=1<<Z;if(this.length<=oe)return this._expand(oe+1),this.words[oe]|=le,this;for(var Q=le,ce=oe;Q!==0&&ce<this.length;ce++){var Ee=this.words[ce]|0;Ee+=Q,Q=Ee>>>26,Ee&=67108863,this.words[ce]=Ee}return Q!==0&&(this.words[ce]=Q,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(j){var Z=j<0;if(this.negative!==0&&!Z)return-1;if(this.negative===0&&Z)return 1;this._strip();var oe;if(this.length>1)oe=1;else{Z&&(j=-j),n(j<=67108863,"Number is too big");var le=this.words[0]|0;oe=le===j?0:le<j?-1:1}return this.negative!==0?-oe|0:oe},s.prototype.cmp=function(j){if(this.negative!==0&&j.negative===0)return-1;if(this.negative===0&&j.negative!==0)return 1;var Z=this.ucmp(j);return this.negative!==0?-Z|0:Z},s.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;for(var Z=0,oe=this.length-1;oe>=0;oe--){var le=this.words[oe]|0,Q=j.words[oe]|0;if(le!==Q){le<Q?Z=-1:le>Q&&(Z=1);break}}return Z},s.prototype.gtn=function(j){return this.cmpn(j)===1},s.prototype.gt=function(j){return this.cmp(j)===1},s.prototype.gten=function(j){return this.cmpn(j)>=0},s.prototype.gte=function(j){return this.cmp(j)>=0},s.prototype.ltn=function(j){return this.cmpn(j)===-1},s.prototype.lt=function(j){return this.cmp(j)===-1},s.prototype.lten=function(j){return this.cmpn(j)<=0},s.prototype.lte=function(j){return this.cmp(j)<=0},s.prototype.eqn=function(j){return this.cmpn(j)===0},s.prototype.eq=function(j){return this.cmp(j)===0},s.red=function(j){return new et(j)},s.prototype.toRed=function(j){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),j.convertTo(this)._forceRed(j)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(j){return this.red=j,this},s.prototype.forceRed=function(j){return n(!this.red,"Already a number in reduction context"),this._forceRed(j)},s.prototype.redAdd=function(j){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},s.prototype.redIAdd=function(j){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},s.prototype.redSub=function(j){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},s.prototype.redISub=function(j){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},s.prototype.redShl=function(j){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},s.prototype.redMul=function(j){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},s.prototype.redIMul=function(j){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(j){return n(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var ee={k256:null,p224:null,p192:null,p25519:null};function re(ye,j){this.name=ye,this.p=new s(j,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}re.prototype._tmp=function(){var j=new s(null);return j.words=new Array(Math.ceil(this.n/13)),j},re.prototype.ireduce=function(j){var Z=j,oe;do this.split(Z,this.tmp),Z=this.imulK(Z),Z=Z.iadd(this.tmp),oe=Z.bitLength();while(oe>this.n);var le=oe<this.n?-1:Z.ucmp(this.p);return le===0?(Z.words[0]=0,Z.length=1):le>0?Z.isub(this.p):Z.strip!==void 0?Z.strip():Z._strip(),Z},re.prototype.split=function(j,Z){j.iushrn(this.n,0,Z)},re.prototype.imulK=function(j){return j.imul(this.k)};function ne(){re.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(ne,re),ne.prototype.split=function(j,Z){for(var oe=4194303,le=Math.min(j.length,9),Q=0;Q<le;Q++)Z.words[Q]=j.words[Q];if(Z.length=le,j.length<=9){j.words[0]=0,j.length=1;return}var ce=j.words[9];for(Z.words[Z.length++]=ce&oe,Q=10;Q<j.length;Q++){var Ee=j.words[Q]|0;j.words[Q-10]=(Ee&oe)<<4|ce>>>22,ce=Ee}ce>>>=22,j.words[Q-10]=ce,ce===0&&j.length>10?j.length-=10:j.length-=9},ne.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;for(var Z=0,oe=0;oe<j.length;oe++){var le=j.words[oe]|0;Z+=le*977,j.words[oe]=Z&67108863,Z=le*64+(Z/67108864|0)}return j.words[j.length-1]===0&&(j.length--,j.words[j.length-1]===0&&j.length--),j};function ie(){re.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ie,re);function me(){re.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(me,re);function Ze(){re.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Ze,re),Ze.prototype.imulK=function(j){for(var Z=0,oe=0;oe<j.length;oe++){var le=(j.words[oe]|0)*19+Z,Q=le&67108863;le>>>=26,j.words[oe]=Q,Z=le}return Z!==0&&(j.words[j.length++]=Z),j},s._prime=function(j){if(ee[j])return ee[j];var Z;if(j==="k256")Z=new ne;else if(j==="p224")Z=new ie;else if(j==="p192")Z=new me;else if(j==="p25519")Z=new Ze;else throw new Error("Unknown prime "+j);return ee[j]=Z,Z};function et(ye){if(typeof ye=="string"){var j=s._prime(ye);this.m=j.p,this.prime=j}else n(ye.gtn(1),"modulus must be greater than 1"),this.m=ye,this.prime=null}et.prototype._verify1=function(j){n(j.negative===0,"red works only with positives"),n(j.red,"red works only with red numbers")},et.prototype._verify2=function(j,Z){n((j.negative|Z.negative)===0,"red works only with positives"),n(j.red&&j.red===Z.red,"red works only with red numbers")},et.prototype.imod=function(j){return this.prime?this.prime.ireduce(j)._forceRed(this):(g(j,j.umod(this.m)._forceRed(this)),j)},et.prototype.neg=function(j){return j.isZero()?j.clone():this.m.sub(j)._forceRed(this)},et.prototype.add=function(j,Z){this._verify2(j,Z);var oe=j.add(Z);return oe.cmp(this.m)>=0&&oe.isub(this.m),oe._forceRed(this)},et.prototype.iadd=function(j,Z){this._verify2(j,Z);var oe=j.iadd(Z);return oe.cmp(this.m)>=0&&oe.isub(this.m),oe},et.prototype.sub=function(j,Z){this._verify2(j,Z);var oe=j.sub(Z);return oe.cmpn(0)<0&&oe.iadd(this.m),oe._forceRed(this)},et.prototype.isub=function(j,Z){this._verify2(j,Z);var oe=j.isub(Z);return oe.cmpn(0)<0&&oe.iadd(this.m),oe},et.prototype.shl=function(j,Z){return this._verify1(j),this.imod(j.ushln(Z))},et.prototype.imul=function(j,Z){return this._verify2(j,Z),this.imod(j.imul(Z))},et.prototype.mul=function(j,Z){return this._verify2(j,Z),this.imod(j.mul(Z))},et.prototype.isqr=function(j){return this.imul(j,j.clone())},et.prototype.sqr=function(j){return this.mul(j,j)},et.prototype.sqrt=function(j){if(j.isZero())return j.clone();var Z=this.m.andln(3);if(n(Z%2===1),Z===3){var oe=this.m.add(new s(1)).iushrn(2);return this.pow(j,oe)}for(var le=this.m.subn(1),Q=0;!le.isZero()&&le.andln(1)===0;)Q++,le.iushrn(1);n(!le.isZero());var ce=new s(1).toRed(this),Ee=ce.redNeg(),fe=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new s(2*K*K).toRed(this);this.pow(K,fe).cmp(Ee)!==0;)K.redIAdd(Ee);for(var pe=this.pow(K,le),Et=this.pow(j,le.addn(1).iushrn(1)),zt=this.pow(j,le),Ve=Q;zt.cmp(ce)!==0;){for(var Be=zt,ut=0;Be.cmp(ce)!==0;ut++)Be=Be.redSqr();n(ut<Ve);var bt=this.pow(pe,new s(1).iushln(Ve-ut-1));Et=Et.redMul(bt),pe=bt.redSqr(),zt=zt.redMul(pe),Ve=ut}return Et},et.prototype.invm=function(j){var Z=j._invmp(this.m);return Z.negative!==0?(Z.negative=0,this.imod(Z).redNeg()):this.imod(Z)},et.prototype.pow=function(j,Z){if(Z.isZero())return new s(1).toRed(this);if(Z.cmpn(1)===0)return j.clone();var oe=4,le=new Array(1<<oe);le[0]=new s(1).toRed(this),le[1]=j;for(var Q=2;Q<le.length;Q++)le[Q]=this.mul(le[Q-1],j);var ce=le[0],Ee=0,fe=0,K=Z.bitLength()%26;for(K===0&&(K=26),Q=Z.length-1;Q>=0;Q--){for(var pe=Z.words[Q],Et=K-1;Et>=0;Et--){var zt=pe>>Et&1;if(ce!==le[0]&&(ce=this.sqr(ce)),zt===0&&Ee===0){fe=0;continue}Ee<<=1,Ee|=zt,fe++,!(fe!==oe&&(Q!==0||Et!==0))&&(ce=this.mul(ce,le[Ee]),fe=0,Ee=0)}K=26}return ce},et.prototype.convertTo=function(j){var Z=j.umod(this.m);return Z===j?Z.clone():Z},et.prototype.convertFrom=function(j){var Z=j.clone();return Z.red=null,Z},s.mont=function(j){return new Ke(j)};function Ke(ye){et.call(this,ye),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Ke,et),Ke.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},Ke.prototype.convertFrom=function(j){var Z=this.imod(j.mul(this.rinv));return Z.red=null,Z},Ke.prototype.imul=function(j,Z){if(j.isZero()||Z.isZero())return j.words[0]=0,j.length=1,j;var oe=j.imul(Z),le=oe.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Q=oe.isub(le).iushrn(this.shift),ce=Q;return Q.cmp(this.m)>=0?ce=Q.isub(this.m):Q.cmpn(0)<0&&(ce=Q.iadd(this.m)),ce._forceRed(this)},Ke.prototype.mul=function(j,Z){if(j.isZero()||Z.isZero())return new s(0)._forceRed(this);var oe=j.mul(Z),le=oe.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Q=oe.isub(le).iushrn(this.shift),ce=Q;return Q.cmp(this.m)>=0?ce=Q.isub(this.m):Q.cmpn(0)<0&&(ce=Q.iadd(this.m)),ce._forceRed(this)},Ke.prototype.invm=function(j){var Z=this.imod(j._invmp(this.m).mul(this.r2));return Z._forceRed(this)}})(e,pr)})(eD);var SJ=eD.exports;const PW=Mc(SJ);var GP={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=tn,n=r.Buffer;function i(l,a){for(var p in l)a[p]=l[p]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(l,a,p){return n(l,a,p)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(l,a,p){if(typeof l=="number")throw new TypeError("Argument must not be a number");return n(l,a,p)},s.alloc=function(l,a,p){if(typeof l!="number")throw new TypeError("Argument must be a number");var f=n(l);return a!==void 0?typeof p=="string"?f.fill(a,p):f.fill(a):f.fill(0),f},s.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n(l)},s.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(l)}})(GP,GP.exports);var EJ=GP.exports,e3=EJ.Buffer;function f_e(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=n}var l=e.length,a=e.charAt(0),p=Math.log(l)/Math.log(256),f=Math.log(256)/Math.log(l);function g(T){if((Array.isArray(T)||T instanceof Uint8Array)&&(T=e3.from(T)),!e3.isBuffer(T))throw new TypeError("Expected Buffer");if(T.length===0)return"";for(var z=0,I=0,k=0,C=T.length;k!==C&&T[k]===0;)k++,z++;for(var L=(C-k)*f+1>>>0,N=new Uint8Array(L);k!==C;){for(var $=T[k],ee=0,re=L-1;($!==0||ee<I)&&re!==-1;re--,ee++)$+=256*N[re]>>>0,N[re]=$%l>>>0,$=$/l>>>0;if($!==0)throw new Error("Non-zero carry");I=ee,k++}for(var ne=L-I;ne!==L&&N[ne]===0;)ne++;for(var ie=a.repeat(z);ne<L;++ne)ie+=e.charAt(N[ne]);return ie}function v(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return e3.alloc(0);for(var z=0,I=0,k=0;T[z]===a;)I++,z++;for(var C=(T.length-z)*p+1>>>0,L=new Uint8Array(C);z<T.length;){var N=T.charCodeAt(z);if(N>255)return;var $=t[N];if($===255)return;for(var ee=0,re=C-1;($!==0||ee<k)&&re!==-1;re--,ee++)$+=l*L[re]>>>0,L[re]=$%256>>>0,$=$/256>>>0;if($!==0)throw new Error("Non-zero carry");k=ee,z++}for(var ne=C-k;ne!==C&&L[ne]===0;)ne++;var ie=e3.allocUnsafe(I+(C-ne));ie.fill(0,0,I);for(var me=I;ne!==C;)ie[me++]=L[ne++];return ie}function _(T){var z=v(T);if(z)return z;throw new Error("Non-base"+l+" character")}return{encode:g,decodeUnsafe:v,decode:_}}var m_e=f_e,g_e=m_e,y_e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",AJ=g_e(y_e);const lo=Mc(AJ),kW=hJ;var so={};function hd(e,t,r){return t<=e&&e<=r}function A9(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function v_e(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var s=t.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var l=e.charCodeAt(n+1);if(56320<=l&&l<=57343){var a=s&1023,p=l&1023;i.push(65536+(a<<10)+p),n+=1}else i.push(65533)}n+=1}return i}function __e(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var d8=-1;function rD(e){this.tokens=[].slice.call(e)}rD.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():d8},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var Ty=-1;function vA(e,t){if(e)throw TypeError("Decoder error");return t||65533}var p8="utf-8";function h8(e,t){if(!(this instanceof h8))return new h8(e,t);if(e=e!==void 0?String(e).toLowerCase():p8,e!==p8)throw new Error("Encoding not supported. Only utf-8 is supported");t=A9(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}h8.prototype={decode:function(t,r){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),r=A9(r),this._streaming||(this._decoder=new b_e({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new rD(n),s=[],l;!i.endOfStream()&&(l=this._decoder.handler(i,i.read()),l!==Ty);)l!==null&&(Array.isArray(l)?s.push.apply(s,l):s.push(l));if(!this._streaming){do{if(l=this._decoder.handler(i,i.read()),l===Ty)break;l!==null&&(Array.isArray(l)?s.push.apply(s,l):s.push(l))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),__e(s)}};function f8(e,t){if(!(this instanceof f8))return new f8(e,t);if(e=e!==void 0?String(e).toLowerCase():p8,e!==p8)throw new Error("Encoding not supported. Only utf-8 is supported");t=A9(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}f8.prototype={encode:function(t,r){t=t?String(t):"",r=A9(r),this._streaming||(this._encoder=new x_e(this._options)),this._streaming=!!r.stream;for(var n=[],i=new rD(v_e(t)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Ty);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Ty;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function b_e(e){var t=e.fatal,r=0,n=0,i=0,s=128,l=191;this.handler=function(a,p){if(p===d8&&i!==0)return i=0,vA(t);if(p===d8)return Ty;if(i===0){if(hd(p,0,127))return p;if(hd(p,194,223))i=1,r=p-192;else if(hd(p,224,239))p===224&&(s=160),p===237&&(l=159),i=2,r=p-224;else if(hd(p,240,244))p===240&&(s=144),p===244&&(l=143),i=3,r=p-240;else return vA(t);return r=r<<6*i,null}if(!hd(p,s,l))return r=i=n=0,s=128,l=191,a.prepend(p),vA(t);if(s=128,l=191,n+=1,r+=p-128<<6*(i-n),n!==i)return null;var f=r;return r=i=n=0,f}}function x_e(e){e.fatal,this.handler=function(t,r){if(r===d8)return Ty;if(hd(r,0,127))return r;var n,i;hd(r,128,2047)?(n=1,i=192):hd(r,2048,65535)?(n=2,i=224):hd(r,65536,1114111)&&(n=3,i=240);for(var s=[(r>>6*n)+i];n>0;){var l=r>>6*(n-1);s.push(128|l&63),n-=1}return s}}const w_e=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:h8,TextEncoder:f8},Symbol.toStringTag,{value:"Module"})),S_e=Jv(w_e);var E_e=pr&&pr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),A_e=pr&&pr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mu=pr&&pr.__decorate||function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(s=(i<3?l(s):i>3?l(t,r,s):l(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},T_e=pr&&pr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&E_e(t,e,r);return A_e(t,e),t},TJ=pr&&pr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(so,"__esModule",{value:!0});var MJ=so.deserializeUnchecked=zJ=so.deserialize=DJ=so.serialize=so.BinaryReader=so.BinaryWriter=so.BorshError=so.baseDecode=so.baseEncode=void 0;const Kp=TJ(SJ),PJ=TJ(AJ),M_e=T_e(S_e),P_e=typeof TextDecoder!="function"?M_e.TextDecoder:TextDecoder,k_e=new P_e("utf-8",{fatal:!0});function I_e(e){return typeof e=="string"&&(e=Buffer.from(e,"utf8")),PJ.default.encode(Buffer.from(e))}so.baseEncode=I_e;function C_e(e){return Buffer.from(PJ.default.decode(e))}so.baseDecode=C_e;const _A=1024;class os extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}so.BorshError=os;class kJ{constructor(){this.buf=Buffer.alloc(_A),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(_A)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Kp.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Kp.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Kp.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Kp.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(_A)]),this.length+=t.length}writeString(t){this.maybeResize();const r=Buffer.from(t,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,r){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}}so.BinaryWriter=kJ;function gu(e,t,r){const n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){const l=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(l)>=0)throw new os("Reached the end of buffer when deserializing")}throw s}}}class il{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new Kp.default(t,"le")}readU128(){const t=this.readBuffer(16);return new Kp.default(t,"le")}readU256(){const t=this.readBuffer(32);return new Kp.default(t,"le")}readU512(){const t=this.readBuffer(64);return new Kp.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new os(`Expected buffer length ${t} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,r}readString(){const t=this.readU32(),r=this.readBuffer(t);try{return k_e.decode(r)}catch(n){throw new os(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(t());return n}}mu([gu],il.prototype,"readU8",null);mu([gu],il.prototype,"readU16",null);mu([gu],il.prototype,"readU32",null);mu([gu],il.prototype,"readU64",null);mu([gu],il.prototype,"readU128",null);mu([gu],il.prototype,"readU256",null);mu([gu],il.prototype,"readU512",null);mu([gu],il.prototype,"readString",null);mu([gu],il.prototype,"readFixedArray",null);mu([gu],il.prototype,"readArray",null);so.BinaryReader=il;function IJ(e){return e.charAt(0).toUpperCase()+e.slice(1)}function am(e,t,r,n,i){try{if(typeof n=="string")i[`write${IJ(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new os(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new os(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)am(e,null,r[s],n[0],i)}else i.writeArray(r,s=>{am(e,t,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),am(e,t,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((s,l)=>{am(e,t,l,n.key,i),am(e,t,s,n.value,i)});break}default:throw new os(`FieldType ${n} unrecognized`)}else CJ(e,r,i)}catch(s){throw s instanceof os&&s.addToFieldPath(t),s}}function CJ(e,t,r){if(typeof t.borshSerialize=="function"){t.borshSerialize(r);return}const n=e.get(t.constructor);if(!n)throw new os(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{am(e,i,t[i],s,r)});else if(n.kind==="enum"){const i=t[n.field];for(let s=0;s<n.values.length;++s){const[l,a]=n.values[s];if(l===i){r.writeU8(s),am(e,l,t[l],a,r);break}}}else throw new os(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function D_e(e,t,r=kJ){const n=new r;return CJ(e,t,n),n.toArray()}var DJ=so.serialize=D_e;function om(e,t,r,n){try{if(typeof r=="string")return n[`read${IJ(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){const i=[];for(let s=0;s<r[1];s++)i.push(om(e,null,r[0],n));return i}else return n.readArray(()=>om(e,t,r[0],n))}if(r.kind==="option")return n.readU8()?om(e,t,r.type,n):void 0;if(r.kind==="map"){let i=new Map;const s=n.readU32();for(let l=0;l<s;l++){const a=om(e,t,r.key,n),p=om(e,t,r.value,n);i.set(a,p)}return i}return nD(e,r,n)}catch(i){throw i instanceof os&&i.addToFieldPath(t),i}}function nD(e,t,r){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new os(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const i={};for(const[s,l]of e.get(t).fields)i[s]=om(e,s,l,r);return new t(i)}if(n.kind==="enum"){const i=r.readU8();if(i>=n.values.length)throw new os(`Enum index: ${i} is out of range`);const[s,l]=n.values[i],a=om(e,s,l,r);return new t({[s]:a})}throw new os(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function z_e(e,t,r,n=il){const i=new n(r),s=nD(e,t,i);if(i.offset<r.length)throw new os(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s}var zJ=so.deserialize=z_e;function R_e(e,t,r,n=il){const i=new n(r);return nD(e,t,i)}MJ=so.deserializeUnchecked=R_e;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.s16=Tt.s8=Tt.nu64be=Tt.u48be=Tt.u40be=Tt.u32be=Tt.u24be=Tt.u16be=no=Tt.nu64=Tt.u48=Tt.u40=jr=Tt.u32=Tt.u24=_l=Tt.u16=Hn=Tt.u8=Am=Tt.offset=Tt.greedy=Tt.Constant=Tt.UTF8=Tt.CString=Tt.Blob=Tt.Boolean=Tt.BitField=Tt.BitStructure=Tt.VariantLayout=Tt.Union=Tt.UnionLayoutDiscriminator=Tt.UnionDiscriminator=Tt.Structure=Tt.Sequence=Tt.DoubleBE=Tt.Double=Tt.FloatBE=Tt.Float=Tt.NearInt64BE=Tt.NearInt64=Tt.NearUInt64BE=Tt.NearUInt64=Tt.IntBE=Tt.Int=Tt.UIntBE=Tt.UInt=Tt.OffsetLayout=Tt.GreedyCount=Tt.ExternalLayout=Tt.bindConstructorLayout=Tt.nameWithProperty=Tt.Layout=Tt.uint8ArrayToBuffer=Tt.checkUint8Array=void 0;Tt.constant=Tt.utf8=Tt.cstr=xi=Tt.blob=Tt.unionLayoutDiscriminator=Tt.union=Bo=Tt.seq=Tt.bits=kr=Tt.struct=Tt.f64be=Tt.f64=Tt.f32be=Tt.f32=Tt.ns64be=Tt.s48be=Tt.s40be=Tt.s32be=Tt.s24be=Tt.s16be=Ws=Tt.ns64=Tt.s48=Tt.s40=Tt.s32=Tt.s24=void 0;const iD=tn;function c2(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Tt.checkUint8Array=c2;function Wn(e){return c2(e),iD.Buffer.from(e.buffer,e.byteOffset,e.length)}Tt.uint8ArrayToBuffer=Wn;class ni{constructor(t,r){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=r}makeDestinationObject(){return{}}getSpan(t,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=t,r}fromArray(t){}}Tt.Layout=ni;function aD(e,t){return t.property?e+"["+t.property+"]":e}Tt.nameWithProperty=aD;function N_e(e,t){if(typeof e!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof ni))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(r,n){return t.encode(this,r,n)},writable:!0}),Object.defineProperty(e,"decode",{value(r,n){return t.decode(r,n)},writable:!0})}Tt.bindConstructorLayout=N_e;class As extends ni{isCount(){throw new Error("ExternalLayout is abstract")}}Tt.ExternalLayout=As;class RJ extends As{constructor(t=1,r){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=t}isCount(){return!0}decode(t,r=0){c2(t);const n=t.length-r;return Math.floor(n/this.elementSpan)}encode(t,r,n){return 0}}Tt.GreedyCount=RJ;class oD extends As{constructor(t,r=0,n){if(!(t instanceof ni))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=r}isCount(){return this.layout instanceof Tl||this.layout instanceof vc}decode(t,r=0){return this.layout.decode(t,r+this.offset)}encode(t,r,n=0){return this.layout.encode(t,r,n+this.offset)}}Tt.OffsetLayout=oD;class Tl extends ni{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Wn(t).readUIntLE(r,this.span)}encode(t,r,n=0){return Wn(r).writeUIntLE(t,n,this.span),this.span}}Tt.UInt=Tl;class vc extends ni{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Wn(t).readUIntBE(r,this.span)}encode(t,r,n=0){return Wn(r).writeUIntBE(t,n,this.span),this.span}}Tt.UIntBE=vc;class qm extends ni{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Wn(t).readIntLE(r,this.span)}encode(t,r,n=0){return Wn(r).writeIntLE(t,n,this.span),this.span}}Tt.Int=qm;class u2 extends ni{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Wn(t).readIntBE(r,this.span)}encode(t,r,n=0){return Wn(r).writeIntBE(t,n,this.span),this.span}}Tt.IntBE=u2;const HP=Math.pow(2,32);function T9(e){const t=Math.floor(e/HP),r=e-t*HP;return{hi32:t,lo32:r}}function M9(e,t){return e*HP+t}class NJ extends ni{constructor(t){super(8,t)}decode(t,r=0){const n=Wn(t),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return M9(s,i)}encode(t,r,n=0){const i=T9(t),s=Wn(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}}Tt.NearUInt64=NJ;class LJ extends ni{constructor(t){super(8,t)}decode(t,r=0){const n=Wn(t),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return M9(i,s)}encode(t,r,n=0){const i=T9(t),s=Wn(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}}Tt.NearUInt64BE=LJ;class OJ extends ni{constructor(t){super(8,t)}decode(t,r=0){const n=Wn(t),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return M9(s,i)}encode(t,r,n=0){const i=T9(t),s=Wn(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}}Tt.NearInt64=OJ;class BJ extends ni{constructor(t){super(8,t)}decode(t,r=0){const n=Wn(t),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return M9(i,s)}encode(t,r,n=0){const i=T9(t),s=Wn(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}}Tt.NearInt64BE=BJ;class FJ extends ni{constructor(t){super(4,t)}decode(t,r=0){return Wn(t).readFloatLE(r)}encode(t,r,n=0){return Wn(r).writeFloatLE(t,n),4}}Tt.Float=FJ;class jJ extends ni{constructor(t){super(4,t)}decode(t,r=0){return Wn(t).readFloatBE(r)}encode(t,r,n=0){return Wn(r).writeFloatBE(t,n),4}}Tt.FloatBE=jJ;class VJ extends ni{constructor(t){super(8,t)}decode(t,r=0){return Wn(t).readDoubleLE(r)}encode(t,r,n=0){return Wn(r).writeDoubleLE(t,n),8}}Tt.Double=VJ;class UJ extends ni{constructor(t){super(8,t)}decode(t,r=0){return Wn(t).readDoubleBE(r)}encode(t,r,n=0){return Wn(r).writeDoubleBE(t,n),8}}Tt.DoubleBE=UJ;class WJ extends ni{constructor(t,r,n){if(!(t instanceof ni))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof As&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof As)&&0<t.span&&(i=r*t.span),super(i,n),this.elementLayout=t,this.count=r}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof As&&(i=i.decode(t,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(t,r+n),++s}return n}decode(t,r=0){const n=[];let i=0,s=this.count;for(s instanceof As&&(s=s.decode(t,r));i<s;)n.push(this.elementLayout.decode(t,r)),r+=this.elementLayout.getSpan(t,r),i+=1;return n}encode(t,r,n=0){const i=this.elementLayout,s=t.reduce((l,a)=>l+i.encode(a,r,n+l),0);return this.count instanceof As&&this.count.encode(t.length,r,n),s}}Tt.Sequence=WJ;class $J extends ni{constructor(t,r,n){if(!(Array.isArray(t)&&t.reduce((s,l)=>s&&l instanceof ni,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of t)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((s,l)=>s+l.getSpan(),0)}catch{}super(i,r),this.fields=t,this.decodePrefixes=!!n}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{const l=s.getSpan(t,r);return r+=l,i+l},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,r=0){c2(t);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(t,r)),r+=i.getSpan(t,r),this.decodePrefixes&&t.length===r)break;return n}encode(t,r,n=0){const i=n;let s=0,l=0;for(const a of this.fields){let p=a.span;if(l=0<p?p:0,a.property!==void 0){const f=t[a.property];f!==void 0&&(l=a.encode(f,r,n),0>p&&(p=a.getSpan(r,n)))}s=n,n+=p}return s+l-i}fromArray(t){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(r[n.property]=t.shift());return r}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===t)return r}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===t)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}Tt.Structure=$J;class sD{constructor(t){this.property=t}decode(t,r){throw new Error("UnionDiscriminator is abstract")}encode(t,r,n){throw new Error("UnionDiscriminator is abstract")}}Tt.UnionDiscriminator=sD;class m8 extends sD{constructor(t,r){if(!(t instanceof As&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||t.property||"variant"),this.layout=t}decode(t,r){return this.layout.decode(t,r)}encode(t,r,n){return this.layout.encode(t,r,n)}}Tt.UnionLayoutDiscriminator=m8;class lD extends ni{constructor(t,r,n){let i;if(t instanceof Tl||t instanceof vc)i=new m8(new oD(t));else if(t instanceof As&&t.isCount())i=new m8(t);else if(t instanceof sD)i=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof ni))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(t instanceof Tl||t instanceof vc)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=t instanceof Tl||t instanceof vc,this.defaultLayout=r,this.registry={};let l=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return l(a)},this.configGetSourceVariant=function(a){l=a.bind(this)}}getSpan(t,r=0){if(0<=this.span)return this.span;const n=this.getVariant(t,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,r)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const r=this.registry[t[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(t,r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,r=0){let n;const i=this.discriminator,s=i.decode(t,r),l=this.registry[s];if(l===void 0){const a=this.defaultLayout;let p=0;this.usesPrefixDiscriminator&&(p=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[a.property]=a.decode(t,r+p)}else n=l.decode(t,r);return n}encode(t,r,n=0){const i=this.getSourceVariant(t);if(i===void 0){const s=this.discriminator,l=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(t[s.property],r,n),a+l.encode(t[l.property],r,n+a)}return i.encode(t,r,n)}addVariant(t,r,n){const i=new KJ(this,t,r,n);return this.registry[t]=i,i}getVariant(t,r=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,r):n=t,this.registry[n]}}Tt.Union=lD;class KJ extends ni{constructor(t,r,n,i){if(!(t instanceof lD))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof ni))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=t.span;0>t.span&&(s=n?n.span:0,0<=s&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span)),super(s,i),this.union=t,this.variant=r,this.layout=n||null}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(t,r+n)),n+i}decode(t,r=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(t[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}Tt.VariantLayout=KJ;function yg(e){return 0>e&&(e+=4294967296),e}class cD extends ni{constructor(t,r,n){if(!(t instanceof Tl||t instanceof vc))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=yg(s),this},this._packedGetValue=function(){return i}}decode(t,r=0){const n=this.makeDestinationObject(),i=this.word.decode(t,r);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(t));return n}encode(t,r,n=0){const i=this.word.decode(r,n);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const l=t[s.property];l!==void 0&&s.encode(l)}return this.word.encode(this._packedGetValue(),r,n)}addField(t,r){const n=new uD(this,t,r);return this.fields.push(n),n}addBoolean(t){const r=new qJ(this,t);return this.fields.push(r),r}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===t)return r}}Tt.BitStructure=cD;class uD{constructor(t,r,n){if(!(t instanceof cD))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const i=8*t.span,s=t.fields.reduce((l,a)=>l+a.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=t,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=yg(this.valueMask<<this.start),this.property=n}decode(t,r){const n=this.container._packedGetValue();return yg(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==yg(t&this.valueMask))throw new TypeError(aD("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=yg(t<<this.start);this.container._packedSetValue(yg(r&~this.wordMask)|n)}}Tt.BitField=uD;let qJ=class extends uD{constructor(t,r){super(t,1,r)}decode(t,r){return!!super.decode(t,r)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};Tt.Boolean=qJ;let GJ=class extends ni{constructor(t,r){if(!(t instanceof As&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof As||(n=t),super(n,r),this.length=t}getSpan(t,r){let n=this.span;return 0>n&&(n=this.length.decode(t,r)),n}decode(t,r=0){let n=this.span;return 0>n&&(n=this.length.decode(t,r)),Wn(t).slice(r,r+n)}encode(t,r,n){let i=this.length;if(this.length instanceof As&&(i=t.length),!(t instanceof Uint8Array&&i===t.length))throw new TypeError(aD("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");const s=Wn(t);return Wn(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof As&&this.length.encode(i,r,n),i}};Tt.Blob=GJ;class HJ extends ni{constructor(t){super(-1,t)}getSpan(t,r=0){c2(t);let n=r;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-r}decode(t,r=0){const n=this.getSpan(t,r);return Wn(t).slice(r,r+n-1).toString("utf-8")}encode(t,r,n=0){typeof t!="string"&&(t=String(t));const i=iD.Buffer.from(t,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");const l=Wn(r);return i.copy(l,n),l[n+s]=0,s+1}}Tt.CString=HJ;class ZJ extends ni{constructor(t,r){if(typeof t=="string"&&r===void 0&&(r=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=t}getSpan(t,r=0){return c2(t),t.length-r}decode(t,r=0){const n=this.getSpan(t,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Wn(t).slice(r,r+n).toString("utf-8")}encode(t,r,n=0){typeof t!="string"&&(t=String(t));const i=iD.Buffer.from(t,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(Wn(r),n),s}}Tt.UTF8=ZJ;class YJ extends ni{constructor(t,r){super(0,r),this.value=t}decode(t,r){return this.value}encode(t,r,n){return 0}}Tt.Constant=YJ;Tt.greedy=(e,t)=>new RJ(e,t);var Am=Tt.offset=(e,t,r)=>new oD(e,t,r),Hn=Tt.u8=e=>new Tl(1,e),_l=Tt.u16=e=>new Tl(2,e);Tt.u24=e=>new Tl(3,e);var jr=Tt.u32=e=>new Tl(4,e);Tt.u40=e=>new Tl(5,e);Tt.u48=e=>new Tl(6,e);var no=Tt.nu64=e=>new NJ(e);Tt.u16be=e=>new vc(2,e);Tt.u24be=e=>new vc(3,e);Tt.u32be=e=>new vc(4,e);Tt.u40be=e=>new vc(5,e);Tt.u48be=e=>new vc(6,e);Tt.nu64be=e=>new LJ(e);Tt.s8=e=>new qm(1,e);Tt.s16=e=>new qm(2,e);Tt.s24=e=>new qm(3,e);Tt.s32=e=>new qm(4,e);Tt.s40=e=>new qm(5,e);Tt.s48=e=>new qm(6,e);var Ws=Tt.ns64=e=>new OJ(e);Tt.s16be=e=>new u2(2,e);Tt.s24be=e=>new u2(3,e);Tt.s32be=e=>new u2(4,e);Tt.s40be=e=>new u2(5,e);Tt.s48be=e=>new u2(6,e);Tt.ns64be=e=>new BJ(e);Tt.f32=e=>new FJ(e);Tt.f32be=e=>new jJ(e);Tt.f64=e=>new VJ(e);Tt.f64be=e=>new UJ(e);var kr=Tt.struct=(e,t,r)=>new $J(e,t,r);Tt.bits=(e,t,r)=>new cD(e,t,r);var Bo=Tt.seq=(e,t,r)=>new WJ(e,t,r);Tt.union=(e,t,r)=>new lD(e,t,r);Tt.unionLayoutDiscriminator=(e,t)=>new m8(e,t);var xi=Tt.blob=(e,t)=>new GJ(e,t);Tt.cstr=e=>new HJ(e);Tt.utf8=(e,t)=>new ZJ(e,t);Tt.constant=(e,t)=>new YJ(e,t);var L_e=8078e3,O_e=8078001,B_e=8078004,F_e=8078005,j_e=8078006,V_e=8078011;function XJ(e){return Array.isArray(e)?"%5B"+e.map(XJ).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function U_e([e,t]){return`${e}=${XJ(t)}`}function W_e(e){const t=Object.entries(e).map(U_e).join("&");return btoa(t)}function $_e(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${W_e(t)}'`),`${r}\``}}var ry=class extends Error{constructor(...[t,r]){let n,i;if(r){const{cause:l,...a}=r;l&&(i={cause:l}),Object.keys(a).length>0&&(n=a)}const s=$_e(t,n);super(s,i);nn(this,"cause",this.cause);nn(this,"context");this.context={__code:t,...n},this.name="SolanaError"}};function K_e(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function q_e(e){return Object.freeze({...e,encode:t=>{const r=new Uint8Array(K_e(t,e));return e.write(t,r,0),r}})}function G_e(e){return Object.freeze({...e,decode:(t,r=0)=>e.read(t,r)[0]})}function ag(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function H_e(e,t){if(ag(e)!==ag(t))throw new ry(B_e);if(ag(e)&&ag(t)&&e.fixedSize!==t.fixedSize)throw new ry(F_e,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!ag(e)&&!ag(t)&&e.maxSize!==t.maxSize)throw new ry(j_e,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function Z_e(e,t,r=0){if(t.length-r<=0)throw new ry(L_e,{codecDescription:e})}function Y_e(e,t,r,n=0){const i=r.length-n;if(i<t)throw new ry(O_e,{bytesLength:i,codecDescription:e,expected:t})}function X_e(e,t,r,n){if(n<t||n>r)throw new ry(V_e,{codecDescription:e,max:r,min:t,value:n})}function QJ(e){return(e==null?void 0:e.endian)!==1}function Q_e(e){return q_e({fixedSize:e.size,write(t,r,n){e.range&&X_e(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,QJ(e.config)),r.set(new Uint8Array(i),n),n+e.size}})}function J_e(e){return G_e({fixedSize:e.size,read(t,r=0){Z_e(e.name,t,r),Y_e(e.name,e.size,t,r);const n=new DataView(ebe(t,r,e.size));return[e.get(n,QJ(e.config)),r+e.size]}})}function ebe(e,t,r){const n=e.byteOffset+(t??0),i=r??e.byteLength;return e.buffer.slice(n,n+i)}var tbe=(e={})=>Q_e({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,r,n)=>t.setBigUint64(0,BigInt(r),n),size:8}),rbe=(e={})=>J_e({config:e,get:(t,r)=>t.getBigUint64(0,r),name:"u64",size:8}),nbe=(e={})=>H_e(tbe(e),rbe(e));class ibe extends TypeError{constructor(t,r){let n;const{message:i,explanation:s,...l}=t,{path:a}=t,p=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??p),s!=null&&(this.cause=p),Object.assign(this,l),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function abe(e){return R4(e)&&typeof e[Symbol.iterator]=="function"}function R4(e){return typeof e=="object"&&e!=null}function g8(e){return R4(e)&&!Array.isArray(e)}function wc(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function obe(e){const{done:t,value:r}=e.next();return t?void 0:r}function sbe(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:l}=r,{refinement:a,message:p=`Expected a value of type \`${l}\`${a?` with refinement \`${a}\``:""}, but received: \`${wc(n)}\``}=e;return{value:n,type:l,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:p}}function*IW(e,t,r,n){abe(e)||(e=[e]);for(const i of e){const s=sbe(i,t,r,n);s&&(yield s)}}function*dD(e,t,r={}){const{path:n=[],branch:i=[e],coerce:s=!1,mask:l=!1}=r,a={path:n,branch:i,mask:l};s&&(e=t.coercer(e,a));let p="valid";for(const f of t.validator(e,a))f.explanation=r.message,p="not_valid",yield[f,void 0];for(let[f,g,v]of t.entries(e,a)){const _=dD(g,v,{path:f===void 0?n:[...n,f],branch:f===void 0?i:[...i,g],coerce:s,mask:l,message:r.message});for(const T of _)T[0]?(p=T[0].refinement!=null?"not_refined":"not_valid",yield[T[0],void 0]):s&&(g=T[1],f===void 0?e=g:e instanceof Map?e.set(f,g):e instanceof Set?e.add(g):R4(e)&&(g!==void 0||f in e)&&(e[f]=g))}if(p!=="not_valid")for(const f of t.refiner(e,a))f.explanation=r.message,p="not_refined",yield[f,void 0];p==="valid"&&(yield[void 0,e])}let yu=class{constructor(t){const{type:r,schema:n,validator:i,refiner:s,coercer:l=p=>p,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=l,i?this.validator=(p,f)=>{const g=i(p,f);return IW(g,f,this,p)}:this.validator=()=>[],s?this.refiner=(p,f)=>{const g=s(p,f);return IW(g,f,this,p)}:this.refiner=()=>[]}assert(t,r){return lbe(t,this,r)}create(t,r){return ur(t,this,r)}is(t){return JJ(t,this)}mask(t,r){return cbe(t,this,r)}validate(t,r={}){return N4(t,this,r)}};function lbe(e,t,r){const n=N4(e,t,{message:r});if(n[0])throw n[0]}function ur(e,t,r){const n=N4(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function cbe(e,t,r){const n=N4(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function JJ(e,t){return!N4(e,t)[0]}function N4(e,t,r={}){const n=dD(e,t,r),i=obe(n);return i[0]?[new ibe(i[0],function*(){for(const l of n)l[0]&&(yield l[0])}),void 0]:[void 0,i[1]]}function Gm(e,t){return new yu({type:e,schema:null,validator:t})}function ube(){return Gm("any",()=>!0)}function hr(e){return new yu({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${wc(t)}`}})}function uu(){return Gm("boolean",e=>typeof e=="boolean")}function pD(e){return Gm("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${wc(t)}`)}function Gi(e){const t=wc(e),r=typeof e;return new yu({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${wc(n)}`}})}function dbe(){return Gm("never",()=>!1)}function fr(e){return new yu({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function St(){return Gm("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${wc(e)}`)}function Wr(e){return new yu({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function eee(e,t){return new yu({type:"record",schema:null,*entries(r){if(R4(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return g8(r)||`Expected an object, but received: ${wc(r)}`},coercer(r){return g8(r)?{...r}:r}})}function ar(){return Gm("string",e=>typeof e=="string"||`Expected a string, but received: ${wc(e)}`)}function hD(e){const t=dbe();return new yu({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${wc(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function Zt(e){const t=Object.keys(e);return new yu({type:"type",schema:e,*entries(r){if(R4(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return g8(r)||`Expected an object, but received: ${wc(r)}`},coercer(r){return g8(r)?{...r}:r}})}function cs(e){const t=e.map(r=>r.type).join(" | ");return new yu({type:"union",schema:null,coercer(r,n){for(const i of e){const[s,l]=i.validate(r,{coerce:!0,mask:n.mask});if(!s)return l}return r},validator(r,n){const i=[];for(const s of e){const[...l]=dD(r,s,n),[a]=l;if(a[0])for(const[p]of l)p&&i.push(p);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${wc(r)}`,...i]}})}function d2(){return Gm("unknown",()=>!0)}function L4(e,t,r){return new yu({...e,coercer:(n,i)=>JJ(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}var t3,pbe=new Uint8Array(16);function tee(){if(!t3&&(t3=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!t3))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t3(pbe)}const hbe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function P9(e){return typeof e=="string"&&hbe.test(e)}var ro=[];for(var bA=0;bA<256;++bA)ro.push((bA+256).toString(16).substr(1));function k9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(ro[e[t+0]]+ro[e[t+1]]+ro[e[t+2]]+ro[e[t+3]]+"-"+ro[e[t+4]]+ro[e[t+5]]+"-"+ro[e[t+6]]+ro[e[t+7]]+"-"+ro[e[t+8]]+ro[e[t+9]]+"-"+ro[e[t+10]]+ro[e[t+11]]+ro[e[t+12]]+ro[e[t+13]]+ro[e[t+14]]+ro[e[t+15]]).toLowerCase();if(!P9(r))throw TypeError("Stringified UUID is invalid");return r}var CW,xA,wA=0,SA=0;function fbe(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var s=e.node||CW,l=e.clockseq!==void 0?e.clockseq:xA;if(s==null||l==null){var a=e.random||(e.rng||tee)();s==null&&(s=CW=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),l==null&&(l=xA=(a[6]<<8|a[7])&16383)}var p=e.msecs!==void 0?e.msecs:Date.now(),f=e.nsecs!==void 0?e.nsecs:SA+1,g=p-wA+(f-SA)/1e4;if(g<0&&e.clockseq===void 0&&(l=l+1&16383),(g<0||p>wA)&&e.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");wA=p,SA=f,xA=l,p+=122192928e5;var v=((p&268435455)*1e4+f)%4294967296;i[n++]=v>>>24&255,i[n++]=v>>>16&255,i[n++]=v>>>8&255,i[n++]=v&255;var _=p/4294967296*1e4&268435455;i[n++]=_>>>8&255,i[n++]=_&255,i[n++]=_>>>24&15|16,i[n++]=_>>>16&255,i[n++]=l>>>8|128,i[n++]=l&255;for(var T=0;T<6;++T)i[n+T]=s[T];return t||k9(i)}function ree(e){if(!P9(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function mbe(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var gbe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",ybe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function nee(e,t,r){function n(i,s,l,a){if(typeof i=="string"&&(i=mbe(i)),typeof s=="string"&&(s=ree(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var p=new Uint8Array(16+i.length);if(p.set(s),p.set(i,s.length),p=r(p),p[6]=p[6]&15|t,p[8]=p[8]&63|128,l){a=a||0;for(var f=0;f<16;++f)l[a+f]=p[f];return l}return k9(p)}try{n.name=e}catch{}return n.DNS=gbe,n.URL=ybe,n}function vbe(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return _be(bbe(xbe(e),e.length*8))}function _be(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var s=e[i>>5]>>>i%32&255,l=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);t.push(l)}return t}function iee(e){return(e+64>>>9<<4)+14+1}function bbe(e,t){e[t>>5]|=128<<t%32,e[iee(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,l=0;l<e.length;l+=16){var a=r,p=n,f=i,g=s;r=Ao(r,n,i,s,e[l],7,-680876936),s=Ao(s,r,n,i,e[l+1],12,-389564586),i=Ao(i,s,r,n,e[l+2],17,606105819),n=Ao(n,i,s,r,e[l+3],22,-1044525330),r=Ao(r,n,i,s,e[l+4],7,-176418897),s=Ao(s,r,n,i,e[l+5],12,1200080426),i=Ao(i,s,r,n,e[l+6],17,-1473231341),n=Ao(n,i,s,r,e[l+7],22,-45705983),r=Ao(r,n,i,s,e[l+8],7,1770035416),s=Ao(s,r,n,i,e[l+9],12,-1958414417),i=Ao(i,s,r,n,e[l+10],17,-42063),n=Ao(n,i,s,r,e[l+11],22,-1990404162),r=Ao(r,n,i,s,e[l+12],7,1804603682),s=Ao(s,r,n,i,e[l+13],12,-40341101),i=Ao(i,s,r,n,e[l+14],17,-1502002290),n=Ao(n,i,s,r,e[l+15],22,1236535329),r=To(r,n,i,s,e[l+1],5,-165796510),s=To(s,r,n,i,e[l+6],9,-1069501632),i=To(i,s,r,n,e[l+11],14,643717713),n=To(n,i,s,r,e[l],20,-373897302),r=To(r,n,i,s,e[l+5],5,-701558691),s=To(s,r,n,i,e[l+10],9,38016083),i=To(i,s,r,n,e[l+15],14,-660478335),n=To(n,i,s,r,e[l+4],20,-405537848),r=To(r,n,i,s,e[l+9],5,568446438),s=To(s,r,n,i,e[l+14],9,-1019803690),i=To(i,s,r,n,e[l+3],14,-187363961),n=To(n,i,s,r,e[l+8],20,1163531501),r=To(r,n,i,s,e[l+13],5,-1444681467),s=To(s,r,n,i,e[l+2],9,-51403784),i=To(i,s,r,n,e[l+7],14,1735328473),n=To(n,i,s,r,e[l+12],20,-1926607734),r=Mo(r,n,i,s,e[l+5],4,-378558),s=Mo(s,r,n,i,e[l+8],11,-2022574463),i=Mo(i,s,r,n,e[l+11],16,1839030562),n=Mo(n,i,s,r,e[l+14],23,-35309556),r=Mo(r,n,i,s,e[l+1],4,-1530992060),s=Mo(s,r,n,i,e[l+4],11,1272893353),i=Mo(i,s,r,n,e[l+7],16,-155497632),n=Mo(n,i,s,r,e[l+10],23,-1094730640),r=Mo(r,n,i,s,e[l+13],4,681279174),s=Mo(s,r,n,i,e[l],11,-358537222),i=Mo(i,s,r,n,e[l+3],16,-722521979),n=Mo(n,i,s,r,e[l+6],23,76029189),r=Mo(r,n,i,s,e[l+9],4,-640364487),s=Mo(s,r,n,i,e[l+12],11,-421815835),i=Mo(i,s,r,n,e[l+15],16,530742520),n=Mo(n,i,s,r,e[l+2],23,-995338651),r=Po(r,n,i,s,e[l],6,-198630844),s=Po(s,r,n,i,e[l+7],10,1126891415),i=Po(i,s,r,n,e[l+14],15,-1416354905),n=Po(n,i,s,r,e[l+5],21,-57434055),r=Po(r,n,i,s,e[l+12],6,1700485571),s=Po(s,r,n,i,e[l+3],10,-1894986606),i=Po(i,s,r,n,e[l+10],15,-1051523),n=Po(n,i,s,r,e[l+1],21,-2054922799),r=Po(r,n,i,s,e[l+8],6,1873313359),s=Po(s,r,n,i,e[l+15],10,-30611744),i=Po(i,s,r,n,e[l+6],15,-1560198380),n=Po(n,i,s,r,e[l+13],21,1309151649),r=Po(r,n,i,s,e[l+4],6,-145523070),s=Po(s,r,n,i,e[l+11],10,-1120210379),i=Po(i,s,r,n,e[l+2],15,718787259),n=Po(n,i,s,r,e[l+9],21,-343485551),r=qp(r,a),n=qp(n,p),i=qp(i,f),s=qp(s,g)}return[r,n,i,s]}function xbe(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(iee(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function qp(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function wbe(e,t){return e<<t|e>>>32-t}function I9(e,t,r,n,i,s){return qp(wbe(qp(qp(t,e),qp(n,s)),i),r)}function Ao(e,t,r,n,i,s,l){return I9(t&r|~t&n,e,t,i,s,l)}function To(e,t,r,n,i,s,l){return I9(t&n|r&~n,e,t,i,s,l)}function Mo(e,t,r,n,i,s,l){return I9(t^r^n,e,t,i,s,l)}function Po(e,t,r,n,i,s,l){return I9(r^(t|~n),e,t,i,s,l)}var Sbe=nee("v3",48,vbe);const Ebe=Sbe;function Abe(e,t,r){e=e||{};var n=e.random||(e.rng||tee)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return k9(n)}function Tbe(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function EA(e,t){return e<<t|e>>>32-t}function Mbe(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,l=Math.ceil(s/16),a=new Array(l),p=0;p<l;++p){for(var f=new Uint32Array(16),g=0;g<16;++g)f[g]=e[p*64+g*4]<<24|e[p*64+g*4+1]<<16|e[p*64+g*4+2]<<8|e[p*64+g*4+3];a[p]=f}a[l-1][14]=(e.length-1)*8/Math.pow(2,32),a[l-1][14]=Math.floor(a[l-1][14]),a[l-1][15]=(e.length-1)*8&4294967295;for(var v=0;v<l;++v){for(var _=new Uint32Array(80),T=0;T<16;++T)_[T]=a[v][T];for(var z=16;z<80;++z)_[z]=EA(_[z-3]^_[z-8]^_[z-14]^_[z-16],1);for(var I=r[0],k=r[1],C=r[2],L=r[3],N=r[4],$=0;$<80;++$){var ee=Math.floor($/20),re=EA(I,5)+Tbe(ee,k,C,L)+N+t[ee]+_[$]>>>0;N=L,L=C,C=EA(k,30)>>>0,k=I,I=re}r[0]=r[0]+I>>>0,r[1]=r[1]+k>>>0,r[2]=r[2]+C>>>0,r[3]=r[3]+L>>>0,r[4]=r[4]+N>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var Pbe=nee("v5",80,Mbe);const kbe=Pbe,Ibe="00000000-0000-0000-0000-000000000000";function Cbe(e){if(!P9(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const Dbe=Object.freeze(Object.defineProperty({__proto__:null,NIL:Ibe,parse:ree,stringify:k9,v1:fbe,v3:Ebe,v4:Abe,v5:kbe,validate:P9,version:Cbe},Symbol.toStringTag,{value:"Module"})),aee=Jv(Dbe),zbe=aee.v4,Rbe=function(e,t,r,n){if(typeof e!="string")throw new TypeError(e+" must be a string");n=n||{};const i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:e};if(i===2&&(s.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");s.params=t}if(typeof r>"u"){const l=typeof n.generator=="function"?n.generator:function(){return zbe()};s.id=l(s,n)}else i===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s};var Nbe=Rbe;const Lbe=aee.v4,Obe=Nbe,Qx=function(e,t){if(!(this instanceof Qx))return new Qx(e,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return Lbe()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=e};var Bbe=Qx;Qx.prototype.request=function(e,t,r,n){const i=this;let s=null;const l=Array.isArray(e)&&typeof t=="function";if(this.options.version===1&&l)throw new TypeError("JSON-RPC 1.0 does not support batching");if(l||!l&&e&&typeof e=="object"&&typeof t=="function")n=t,s=e;else{typeof r=="function"&&(n=r,r=void 0);const f=typeof n=="function";try{s=Obe(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(g){if(f)return n(g);throw g}if(!f)return s}let p;try{p=JSON.stringify(s,this.options.replacer)}catch(f){return n(f)}return this.callServer(p,function(f,g){i._parseResponse(f,g,n)}),s};Qx.prototype._parseResponse=function(e,t,r){if(e){r(e);return}if(!t)return r();let n;try{n=JSON.parse(t,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){const i=function(l){return typeof l.error<"u"},s=function(l){return!i(l)};return r(null,n.filter(i),n.filter(s))}else return r(null,n.error,n.result);r(null,n)};const Fbe=Mc(Bbe);var oee={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(p,f,g){this.fn=p,this.context=f,this.once=g||!1}function s(p,f,g,v,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var T=new i(g,v||p,_),z=r?r+f:f;return p._events[z]?p._events[z].fn?p._events[z]=[p._events[z],T]:p._events[z].push(T):(p._events[z]=T,p._eventsCount++),p}function l(p,f){--p._eventsCount===0?p._events=new n:delete p._events[f]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var f=[],g,v;if(this._eventsCount===0)return f;for(v in g=this._events)t.call(g,v)&&f.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(g)):f},a.prototype.listeners=function(f){var g=r?r+f:f,v=this._events[g];if(!v)return[];if(v.fn)return[v.fn];for(var _=0,T=v.length,z=new Array(T);_<T;_++)z[_]=v[_].fn;return z},a.prototype.listenerCount=function(f){var g=r?r+f:f,v=this._events[g];return v?v.fn?1:v.length:0},a.prototype.emit=function(f,g,v,_,T,z){var I=r?r+f:f;if(!this._events[I])return!1;var k=this._events[I],C=arguments.length,L,N;if(k.fn){switch(k.once&&this.removeListener(f,k.fn,void 0,!0),C){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,g),!0;case 3:return k.fn.call(k.context,g,v),!0;case 4:return k.fn.call(k.context,g,v,_),!0;case 5:return k.fn.call(k.context,g,v,_,T),!0;case 6:return k.fn.call(k.context,g,v,_,T,z),!0}for(N=1,L=new Array(C-1);N<C;N++)L[N-1]=arguments[N];k.fn.apply(k.context,L)}else{var $=k.length,ee;for(N=0;N<$;N++)switch(k[N].once&&this.removeListener(f,k[N].fn,void 0,!0),C){case 1:k[N].fn.call(k[N].context);break;case 2:k[N].fn.call(k[N].context,g);break;case 3:k[N].fn.call(k[N].context,g,v);break;case 4:k[N].fn.call(k[N].context,g,v,_);break;default:if(!L)for(ee=1,L=new Array(C-1);ee<C;ee++)L[ee-1]=arguments[ee];k[N].fn.apply(k[N].context,L)}}return!0},a.prototype.on=function(f,g,v){return s(this,f,g,v,!1)},a.prototype.once=function(f,g,v){return s(this,f,g,v,!0)},a.prototype.removeListener=function(f,g,v,_){var T=r?r+f:f;if(!this._events[T])return this;if(!g)return l(this,T),this;var z=this._events[T];if(z.fn)z.fn===g&&(!_||z.once)&&(!v||z.context===v)&&l(this,T);else{for(var I=0,k=[],C=z.length;I<C;I++)(z[I].fn!==g||_&&!z[I].once||v&&z[I].context!==v)&&k.push(z[I]);k.length?this._events[T]=k.length===1?k[0]:k:l(this,T)}return this},a.prototype.removeAllListeners=function(f){var g;return f?(g=r?r+f:f,this._events[g]&&l(this,g)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(oee);var jbe=oee.exports;const see=Mc(jbe);var Vbe=class extends see{constructor(t,r,n){super();nn(this,"socket");this.socket=new window.WebSocket(t,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(t,r,n){const i=n||r;try{this.socket.send(t),i()}catch(s){i(s)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,n){this.socket.addEventListener(t,r,n)}};function Ube(e,t){return new Vbe(e,t)}var Wbe=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},$be=class extends see{constructor(t,r="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:l=5,...a}={},p,f){super();nn(this,"address");nn(this,"rpc_id");nn(this,"queue");nn(this,"options");nn(this,"autoconnect");nn(this,"ready");nn(this,"reconnect");nn(this,"reconnect_timer_id");nn(this,"reconnect_interval");nn(this,"max_reconnects");nn(this,"rest_options");nn(this,"current_reconnects");nn(this,"generate_request_id");nn(this,"socket");nn(this,"webSocketFactory");nn(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=l,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=p||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),f?this.dataPack=f:this.dataPack=new Wbe,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((s,l)=>{if(!this.ready)return l(new Error("socket not ready"));const a=this.generate_request_id(t,r),p={jsonrpc:"2.0",method:t,params:r||void 0,id:a};this.socket.send(this.dataPack.encode(p),i,f=>{if(f)return l(f);this.queue[a]={promise:[s,l]},n&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],l(new Error("reply timeout"))},n))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(s),l=>{if(l)return i(l);n()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=tn.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let s=0;s<n.params.length;s++)i.push(n.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n==null?void 0:n.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}};class lee extends lJ{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,b2e(t);const n=GC(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let l=0;l<s.length;l++)s[l]^=54;this.iHash.update(s),this.oHash=t.create();for(let l=0;l<s.length;l++)s[l]^=106;this.oHash.update(s),wy(s)}update(t){return s8(this),this.iHash.update(t),this}digestInto(t){s8(this),C4(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:l,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=l,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const cee=(e,t,r)=>new lee(e,t).update(r).digest();cee.create=(e,t)=>new lee(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function DW(e){e.lowS!==void 0&&ah("lowS",e.lowS),e.prehash!==void 0&&ah("prehash",e.prehash)}function Kbe(e){const t=QC(e);D4(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}class qbe extends Error{constructor(t=""){super(t)}}const od={Err:qbe,_tlv:{encode:(e,t)=>{const{Err:r}=od;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=Jw(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Jw(i.length/2|128):"";return Jw(e)+s+i+t},decode(e,t){const{Err:r}=od;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++],s=!!(i&128);let l=0;if(!s)l=i;else{const p=i&127;if(!p)throw new r("tlv.decode(long): indefinite length not supported");if(p>4)throw new r("tlv.decode(long): byte length is too big");const f=t.subarray(n,n+p);if(f.length!==p)throw new r("tlv.decode: length bytes not complete");if(f[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const g of f)l=l<<8|g;if(n+=p,l<128)throw new r("tlv.decode(long): not minimal encoding")}const a=t.subarray(n,n+l);if(a.length!==l)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+l)}}},_int:{encode(e){const{Err:t}=od;if(e<fd)throw new t("integer: negative integers are not allowed");let r=Jw(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=od;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Em(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=od,i=Ma("signature",e),{v:s,l}=n.decode(48,i);if(l.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:p}=n.decode(2,s),{v:f,l:g}=n.decode(2,p);if(g.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(f)}},hexFromSig(e){const{_tlv:t,_int:r}=od,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s)),s=n+i;return t.encode(48,s)}},fd=BigInt(0),$a=BigInt(1);BigInt(2);const zW=BigInt(3);BigInt(4);function Gbe(e){const t=Kbe(e),{Fp:r}=t,n=z4(t.n,t.nBitLength),i=t.toBytes||((I,k,C)=>{const L=k.toAffine();return Ay(Uint8Array.from([4]),r.toBytes(L.x),r.toBytes(L.y))}),s=t.fromBytes||(I=>{const k=I.subarray(1),C=r.fromBytes(k.subarray(0,r.BYTES)),L=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:C,y:L}});function l(I){const{a:k,b:C}=t,L=r.sqr(I),N=r.mul(L,I);return r.add(r.add(N,r.mul(I,k)),C)}if(!r.eql(r.sqr(t.Gy),l(t.Gx)))throw new Error("bad generator point: equation left != right");function a(I){return YC(I,$a,t.n)}function p(I){const{allowedPrivateKeyLengths:k,nByteLength:C,wrapPrivateKey:L,n:N}=t;if(k&&typeof I!="bigint"){if(Sy(I)&&(I=Ey(I)),typeof I!="string"||!k.includes(I.length))throw new Error("invalid private key");I=I.padStart(C*2,"0")}let $;try{$=typeof I=="bigint"?I:Em(Ma("private key",I,C))}catch{throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof I)}return L&&($=Ri($,N)),uc("private key",$,$a,N),$}function f(I){if(!(I instanceof _))throw new Error("ProjectivePoint expected")}const g=u8((I,k)=>{const{px:C,py:L,pz:N}=I;if(r.eql(N,r.ONE))return{x:C,y:L};const $=I.is0();k==null&&(k=$?r.ONE:r.inv(N));const ee=r.mul(C,k),re=r.mul(L,k),ne=r.mul(N,k);if($)return{x:r.ZERO,y:r.ZERO};if(!r.eql(ne,r.ONE))throw new Error("invZ was invalid");return{x:ee,y:re}}),v=u8(I=>{if(I.is0()){if(t.allowInfinityPoint&&!r.is0(I.py))return;throw new Error("bad point: ZERO")}const{x:k,y:C}=I.toAffine();if(!r.isValid(k)||!r.isValid(C))throw new Error("bad point: x or y not FE");const L=r.sqr(C),N=l(k);if(!r.eql(L,N))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class _{constructor(k,C,L){if(k==null||!r.isValid(k))throw new Error("x required");if(C==null||!r.isValid(C)||r.is0(C))throw new Error("y required");if(L==null||!r.isValid(L))throw new Error("z required");this.px=k,this.py=C,this.pz=L,Object.freeze(this)}static fromAffine(k){const{x:C,y:L}=k||{};if(!k||!r.isValid(C)||!r.isValid(L))throw new Error("invalid affine point");if(k instanceof _)throw new Error("projective point not allowed");const N=$=>r.eql($,r.ZERO);return N(C)&&N(L)?_.ZERO:new _(C,L,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){const C=XC(r,k.map(L=>L.pz));return k.map((L,N)=>L.toAffine(C[N])).map(_.fromAffine)}static fromHex(k){const C=_.fromAffine(s(Ma("pointHex",k)));return C.assertValidity(),C}static fromPrivateKey(k){return _.BASE.multiply(p(k))}static msm(k,C){return wJ(_,n,k,C)}_setWindowSize(k){z.setWindowSize(this,k)}assertValidity(){v(this)}hasEvenY(){const{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){f(k);const{px:C,py:L,pz:N}=this,{px:$,py:ee,pz:re}=k,ne=r.eql(r.mul(C,re),r.mul($,N)),ie=r.eql(r.mul(L,re),r.mul(ee,N));return ne&&ie}negate(){return new _(this.px,r.neg(this.py),this.pz)}double(){const{a:k,b:C}=t,L=r.mul(C,zW),{px:N,py:$,pz:ee}=this;let re=r.ZERO,ne=r.ZERO,ie=r.ZERO,me=r.mul(N,N),Ze=r.mul($,$),et=r.mul(ee,ee),Ke=r.mul(N,$);return Ke=r.add(Ke,Ke),ie=r.mul(N,ee),ie=r.add(ie,ie),re=r.mul(k,ie),ne=r.mul(L,et),ne=r.add(re,ne),re=r.sub(Ze,ne),ne=r.add(Ze,ne),ne=r.mul(re,ne),re=r.mul(Ke,re),ie=r.mul(L,ie),et=r.mul(k,et),Ke=r.sub(me,et),Ke=r.mul(k,Ke),Ke=r.add(Ke,ie),ie=r.add(me,me),me=r.add(ie,me),me=r.add(me,et),me=r.mul(me,Ke),ne=r.add(ne,me),et=r.mul($,ee),et=r.add(et,et),me=r.mul(et,Ke),re=r.sub(re,me),ie=r.mul(et,Ze),ie=r.add(ie,ie),ie=r.add(ie,ie),new _(re,ne,ie)}add(k){f(k);const{px:C,py:L,pz:N}=this,{px:$,py:ee,pz:re}=k;let ne=r.ZERO,ie=r.ZERO,me=r.ZERO;const Ze=t.a,et=r.mul(t.b,zW);let Ke=r.mul(C,$),ye=r.mul(L,ee),j=r.mul(N,re),Z=r.add(C,L),oe=r.add($,ee);Z=r.mul(Z,oe),oe=r.add(Ke,ye),Z=r.sub(Z,oe),oe=r.add(C,N);let le=r.add($,re);return oe=r.mul(oe,le),le=r.add(Ke,j),oe=r.sub(oe,le),le=r.add(L,N),ne=r.add(ee,re),le=r.mul(le,ne),ne=r.add(ye,j),le=r.sub(le,ne),me=r.mul(Ze,oe),ne=r.mul(et,j),me=r.add(ne,me),ne=r.sub(ye,me),me=r.add(ye,me),ie=r.mul(ne,me),ye=r.add(Ke,Ke),ye=r.add(ye,Ke),j=r.mul(Ze,j),oe=r.mul(et,oe),ye=r.add(ye,j),j=r.sub(Ke,j),j=r.mul(Ze,j),oe=r.add(oe,j),Ke=r.mul(ye,oe),ie=r.add(ie,Ke),Ke=r.mul(le,oe),ne=r.mul(Z,ne),ne=r.sub(ne,Ke),Ke=r.mul(Z,ye),me=r.mul(le,me),me=r.add(me,Ke),new _(ne,ie,me)}subtract(k){return this.add(k.negate())}is0(){return this.equals(_.ZERO)}wNAF(k){return z.wNAFCached(this,k,_.normalizeZ)}multiplyUnsafe(k){const{endo:C,n:L}=t;uc("scalar",k,fd,L);const N=_.ZERO;if(k===fd)return N;if(this.is0()||k===$a)return this;if(!C||z.hasPrecomputes(this))return z.wNAFCachedUnsafe(this,k,_.normalizeZ);let{k1neg:$,k1:ee,k2neg:re,k2:ne}=C.splitScalar(k),ie=N,me=N,Ze=this;for(;ee>fd||ne>fd;)ee&$a&&(ie=ie.add(Ze)),ne&$a&&(me=me.add(Ze)),Ze=Ze.double(),ee>>=$a,ne>>=$a;return $&&(ie=ie.negate()),re&&(me=me.negate()),me=new _(r.mul(me.px,C.beta),me.py,me.pz),ie.add(me)}multiply(k){const{endo:C,n:L}=t;uc("scalar",k,$a,L);let N,$;if(C){const{k1neg:ee,k1:re,k2neg:ne,k2:ie}=C.splitScalar(k);let{p:me,f:Ze}=this.wNAF(re),{p:et,f:Ke}=this.wNAF(ie);me=z.constTimeNegate(ee,me),et=z.constTimeNegate(ne,et),et=new _(r.mul(et.px,C.beta),et.py,et.pz),N=me.add(et),$=Ze.add(Ke)}else{const{p:ee,f:re}=this.wNAF(k);N=ee,$=re}return _.normalizeZ([N,$])[0]}multiplyAndAddUnsafe(k,C,L){const N=_.BASE,$=(re,ne)=>ne===fd||ne===$a||!re.equals(N)?re.multiplyUnsafe(ne):re.multiply(ne),ee=$(this,C).add($(k,L));return ee.is0()?void 0:ee}toAffine(k){return g(this,k)}isTorsionFree(){const{h:k,isTorsionFree:C}=t;if(k===$a)return!0;if(C)return C(_,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:k,clearCofactor:C}=t;return k===$a?this:C?C(_,this):this.multiplyUnsafe(t.h)}toRawBytes(k=!0){return ah("isCompressed",k),this.assertValidity(),i(_,this,k)}toHex(k=!0){return ah("isCompressed",k),Ey(this.toRawBytes(k))}}_.BASE=new _(t.Gx,t.Gy,r.ONE),_.ZERO=new _(r.ZERO,r.ONE,r.ZERO);const T=t.nBitLength,z=xJ(_,t.endo?Math.ceil(T/2):T);return{CURVE:t,ProjectivePoint:_,normPrivateKeyToScalar:p,weierstrassEquation:l,isWithinCurveOrder:a}}function Hbe(e){const t=QC(e);return D4(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Zbe(e){const t=Hbe(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function l(j){return Ri(j,n)}function a(j){return KP(j,n)}const{ProjectivePoint:p,normPrivateKeyToScalar:f,weierstrassEquation:g,isWithinCurveOrder:v}=Gbe({...t,toBytes(j,Z,oe){const le=Z.toAffine(),Q=r.toBytes(le.x),ce=Ay;return ah("isCompressed",oe),oe?ce(Uint8Array.from([Z.hasEvenY()?2:3]),Q):ce(Uint8Array.from([4]),Q,r.toBytes(le.y))},fromBytes(j){const Z=j.length,oe=j[0],le=j.subarray(1);if(Z===i&&(oe===2||oe===3)){const Q=Em(le);if(!YC(Q,$a,r.ORDER))throw new Error("Point is not on curve");const ce=g(Q);let Ee;try{Ee=r.sqrt(ce)}catch(pe){const Et=pe instanceof Error?": "+pe.message:"";throw new Error("Point is not on curve"+Et)}const fe=(Ee&$a)===$a;return(oe&1)===1!==fe&&(Ee=r.neg(Ee)),{x:Q,y:Ee}}else if(Z===s&&oe===4){const Q=r.fromBytes(le.subarray(0,r.BYTES)),ce=r.fromBytes(le.subarray(r.BYTES,2*r.BYTES));return{x:Q,y:ce}}else{const Q=i,ce=s;throw new Error("invalid Point, expected length of "+Q+", or uncompressed "+ce+", got "+Z)}}}),_=j=>Ey(Xx(j,t.nByteLength));function T(j){const Z=n>>$a;return j>Z}function z(j){return T(j)?l(-j):j}const I=(j,Z,oe)=>Em(j.slice(Z,oe));class k{constructor(Z,oe,le){uc("r",Z,$a,n),uc("s",oe,$a,n),this.r=Z,this.s=oe,le!=null&&(this.recovery=le),Object.freeze(this)}static fromCompact(Z){const oe=t.nByteLength;return Z=Ma("compactSignature",Z,oe*2),new k(I(Z,0,oe),I(Z,oe,2*oe))}static fromDER(Z){const{r:oe,s:le}=od.toSig(Ma("DER",Z));return new k(oe,le)}assertValidity(){}addRecoveryBit(Z){return new k(this.r,this.s,Z)}recoverPublicKey(Z){const{r:oe,s:le,recovery:Q}=this,ce=re(Ma("msgHash",Z));if(Q==null||![0,1,2,3].includes(Q))throw new Error("recovery id invalid");const Ee=Q===2||Q===3?oe+t.n:oe;if(Ee>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const fe=Q&1?"03":"02",K=p.fromHex(fe+_(Ee)),pe=a(Ee),Et=l(-ce*pe),zt=l(le*pe),Ve=p.BASE.multiplyAndAddUnsafe(K,Et,zt);if(!Ve)throw new Error("point at infinify");return Ve.assertValidity(),Ve}hasHighS(){return T(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return l8(this.toDERHex())}toDERHex(){return od.hexFromSig(this)}toCompactRawBytes(){return l8(this.toCompactHex())}toCompactHex(){return _(this.r)+_(this.s)}}const C={isValidPrivateKey(j){try{return f(j),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const j=vJ(t.n);return J2e(t.randomBytes(j),t.n)},precompute(j=8,Z=p.BASE){return Z._setWindowSize(j),Z.multiply(BigInt(3)),Z}};function L(j,Z=!0){return p.fromPrivateKey(j).toRawBytes(Z)}function N(j){const Z=Sy(j),oe=typeof j=="string",le=(Z||oe)&&j.length;return Z?le===i||le===s:oe?le===2*i||le===2*s:j instanceof p}function $(j,Z,oe=!0){if(N(j))throw new Error("first arg must be private key");if(!N(Z))throw new Error("second arg must be public key");return p.fromHex(Z).multiply(f(j)).toRawBytes(oe)}const ee=t.bits2int||function(j){if(j.length>8192)throw new Error("input is too large");const Z=Em(j),oe=j.length*8-t.nBitLength;return oe>0?Z>>BigInt(oe):Z},re=t.bits2int_modN||function(j){return l(ee(j))},ne=E9(t.nBitLength);function ie(j){return uc("num < 2^"+t.nBitLength,j,fd,ne),Xx(j,t.nByteLength)}function me(j,Z,oe=Ze){if(["recovered","canonical"].some(ut=>ut in oe))throw new Error("sign() legacy options not supported");const{hash:le,randomBytes:Q}=t;let{lowS:ce,prehash:Ee,extraEntropy:fe}=oe;ce==null&&(ce=!0),j=Ma("msgHash",j),DW(oe),Ee&&(j=Ma("prehashed msgHash",le(j)));const K=re(j),pe=f(Z),Et=[ie(pe),ie(K)];if(fe!=null&&fe!==!1){const ut=fe===!0?Q(r.BYTES):fe;Et.push(Ma("extraEntropy",ut))}const zt=Ay(...Et),Ve=K;function Be(ut){const bt=ee(ut);if(!v(bt))return;const Ht=a(bt),_e=p.BASE.multiply(bt).toAffine(),Me=l(_e.x);if(Me===fd)return;const we=l(Ht*l(Ve+Me*pe));if(we===fd)return;let be=(_e.x===Me?0:2)|Number(_e.y&$a),rt=we;return ce&&T(we)&&(rt=z(we),be^=1),new k(Me,rt,be)}return{seed:zt,k2sig:Be}}const Ze={lowS:t.lowS,prehash:!1},et={lowS:t.lowS,prehash:!1};function Ke(j,Z,oe=Ze){const{seed:le,k2sig:Q}=me(j,Z,oe),ce=t;return W2e(ce.hash.outputLen,ce.nByteLength,ce.hmac)(le,Q)}p.BASE._setWindowSize(8);function ye(j,Z,oe,le=et){var be;const Q=j;Z=Ma("msgHash",Z),oe=Ma("publicKey",oe);const{lowS:ce,prehash:Ee,format:fe}=le;if(DW(le),"strict"in le)throw new Error("options.strict was renamed to lowS");if(fe!==void 0&&fe!=="compact"&&fe!=="der")throw new Error("format must be compact or der");const K=typeof Q=="string"||Sy(Q),pe=!K&&!fe&&typeof Q=="object"&&Q!==null&&typeof Q.r=="bigint"&&typeof Q.s=="bigint";if(!K&&!pe)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Et,zt;try{if(pe&&(Et=new k(Q.r,Q.s)),K){try{fe!=="compact"&&(Et=k.fromDER(Q))}catch(rt){if(!(rt instanceof od.Err))throw rt}!Et&&fe!=="der"&&(Et=k.fromCompact(Q))}zt=p.fromHex(oe)}catch{return!1}if(!Et||ce&&Et.hasHighS())return!1;Ee&&(Z=t.hash(Z));const{r:Ve,s:Be}=Et,ut=re(Z),bt=a(Be),Ht=l(ut*bt),_e=l(Ve*bt),Me=(be=p.BASE.multiplyAndAddUnsafe(zt,Ht,_e))==null?void 0:be.toAffine();return Me?l(Me.x)===Ve:!1}return{CURVE:t,getPublicKey:L,getSharedSecret:$,sign:Ke,verify:ye,ProjectivePoint:p,Signature:k,utils:C}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ybe(e){return{hash:e,hmac:(t,...r)=>cee(e,t,S2e(...r)),randomBytes:uJ}}function Xbe(e,t){const r=n=>Zbe({...e,...Ybe(n)});return{...r(t),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uee=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),RW=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Qbe=BigInt(1),ZP=BigInt(2),NW=(e,t)=>(e+t/ZP)/t;function Jbe(e){const t=uee,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),l=BigInt(23),a=BigInt(44),p=BigInt(88),f=e*e*e%t,g=f*f*e%t,v=ta(g,r,t)*g%t,_=ta(v,r,t)*g%t,T=ta(_,ZP,t)*f%t,z=ta(T,i,t)*T%t,I=ta(z,s,t)*z%t,k=ta(I,a,t)*I%t,C=ta(k,p,t)*k%t,L=ta(C,a,t)*I%t,N=ta(L,r,t)*g%t,$=ta(N,l,t)*z%t,ee=ta($,n,t)*f%t,re=ta(ee,ZP,t);if(!YP.eql(YP.sqr(re),e))throw new Error("Cannot find square root");return re}const YP=z4(uee,void 0,void 0,{sqrt:Jbe}),exe=Xbe({a:BigInt(0),b:BigInt(7),Fp:YP,n:RW,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=RW,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Qbe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,l=BigInt("0x100000000000000000000000000000000"),a=NW(s*e,t),p=NW(-n*e,t);let f=Ri(e-a*r-p*i,t),g=Ri(-a*n-p*s,t);const v=f>l,_=g>l;if(v&&(f=t-f),_&&(g=t-g),f>l||g>l)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:v,k1:f,k2neg:_,k2:g}}}},hJ);BigInt(0);wh.utils.randomPrivateKey;const LW=()=>{const e=wh.utils.randomPrivateKey(),t=XP(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},XP=wh.getPublicKey;function OW(e){try{return wh.ExtendedPoint.fromHex(e),!0}catch{return!1}}const dee=(e,t)=>wh.sign(e,t.slice(0,32)),txe=wh.verify,My=e=>tn.Buffer.isBuffer(e)?e:e instanceof Uint8Array?tn.Buffer.from(e.buffer,e.byteOffset,e.byteLength):tn.Buffer.from(e);class rxe{constructor(t){Object.assign(this,t)}encode(){return tn.Buffer.from(DJ(a5,this))}static decode(t){return zJ(a5,this,t)}static decodeUnchecked(t){return MJ(a5,this,t)}}const a5=new Map;var pee;const nxe=32,oh=32;function ixe(e){return e._bn!==void 0}let BW=1;class Ir extends rxe{constructor(t){if(super({}),this._bn=void 0,ixe(t))this._bn=t._bn;else{if(typeof t=="string"){const r=lo.decode(t);if(r.length!=oh)throw new Error("Invalid public key input");this._bn=new PW(r)}else this._bn=new PW(t);if(this._bn.byteLength()>oh)throw new Error("Invalid public key input")}}static unique(){const t=new Ir(BW);return BW+=1,new Ir(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return lo.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(tn.Buffer);if(t.length===oh)return t;const r=tn.Buffer.alloc(32);return t.copy(r,32-t.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,r,n){const i=tn.Buffer.concat([t.toBuffer(),tn.Buffer.from(r),n.toBuffer()]),s=kW(i);return new Ir(s)}static createProgramAddressSync(t,r){let n=tn.Buffer.alloc(0);t.forEach(function(s){if(s.length>nxe)throw new TypeError("Max seed length exceeded");n=tn.Buffer.concat([n,My(s)])}),n=tn.Buffer.concat([n,r.toBuffer(),tn.Buffer.from("ProgramDerivedAddress")]);const i=kW(n);if(OW(i))throw new Error("Invalid seeds, address must fall off the curve");return new Ir(i)}static async createProgramAddress(t,r){return this.createProgramAddressSync(t,r)}static findProgramAddressSync(t,r){let n=255,i;for(;n!=0;){try{const s=t.concat(tn.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,r){return this.findProgramAddressSync(t,r)}static isOnCurve(t){const r=new Ir(t);return OW(r.toBytes())}}pee=Ir;Ir.default=new pee("11111111111111111111111111111111");a5.set(Ir,{kind:"struct",fields:[["_bn","u256"]]});new Ir("BPFLoader1111111111111111111111111111111111");const ny=1280-40-8,fD=127,Jx=64;class hee extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(hee.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class fee extends Error{constructor(t,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(fee.prototype,"name",{value:"TransactionExpiredTimeoutError"});class qb extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(qb.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class y8{constructor(t,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=r}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const r of this.keySegments()){if(t<r.length)return r[t];t-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,l)=>{n.set(s.toBase58(),l)});const i=s=>{const l=n.get(s.toBase58());if(l===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return l};return t.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(l=>i(l.pubkey)),data:s.data}))}}const Tn=(e="publicKey")=>xi(32,e),axe=(e="signature")=>xi(64,e),Fg=(e="string")=>{const t=kr([jr("length"),jr("lengthPadding"),xi(Am(jr(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(s,l)=>r(s,l).chars.toString(),i.encode=(s,l,a)=>{const p={chars:tn.Buffer.from(s,"utf8")};return n(p,l,a)},i.alloc=s=>jr().span+jr().span+tn.Buffer.from(s,"utf8").length,i},oxe=(e="authorized")=>kr([Tn("staker"),Tn("withdrawer")],e),sxe=(e="lockup")=>kr([Ws("unixTimestamp"),Ws("epoch"),Tn("custodian")],e),lxe=(e="voteInit")=>kr([Tn("nodePubkey"),Tn("authorizedVoter"),Tn("authorizedWithdrawer"),Hn("commission")],e),cxe=(e="voteAuthorizeWithSeedArgs")=>kr([jr("voteAuthorizationType"),Tn("currentAuthorityDerivedKeyOwnerPubkey"),Fg("currentAuthorityDerivedKeySeed"),Tn("newAuthorized")],e);function $s(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(n&127)<<r*7,r+=1,!(n&128))break}return t}function Ks(e,t){let r=t;for(;;){let n=r&127;if(r>>=7,r==0){e.push(n);break}else n|=128,e.push(n)}}function zi(e,t){if(!e)throw new Error(t||"Assertion failed")}class C9{constructor(t,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=r}static compile(t,r){const n=new Map,i=l=>{const a=l.toBase58();let p=n.get(a);return p===void 0&&(p={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,p)),p},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const l of t){i(l.programId).isInvoked=!0;for(const a of l.keys){const p=i(a.pubkey);p.isSigner||(p.isSigner=a.isSigner),p.isWritable||(p.isWritable=a.isWritable)}}return new C9(r,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];zi(t.length<=256,"Max static account keys length exceeded");const r=t.filter(([,p])=>p.isSigner&&p.isWritable),n=t.filter(([,p])=>p.isSigner&&!p.isWritable),i=t.filter(([,p])=>!p.isSigner&&p.isWritable),s=t.filter(([,p])=>!p.isSigner&&!p.isWritable),l={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{zi(r.length>0,"Expected at least one writable signer key");const[p]=r[0];zi(p===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...r.map(([p])=>new Ir(p)),...n.map(([p])=>new Ir(p)),...i.map(([p])=>new Ir(p)),...s.map(([p])=>new Ir(p))];return[l,a]}extractTableLookup(t){const[r,n]=this.drainKeysFoundInLookupTable(t.state.addresses,l=>!l.isSigner&&!l.isInvoked&&l.isWritable),[i,s]=this.drainKeysFoundInLookupTable(t.state.addresses,l=>!l.isSigner&&!l.isInvoked&&!l.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(t,r){const n=new Array,i=new Array;for(const[s,l]of this.keyMetaMap.entries())if(r(l)){const a=new Ir(s),p=t.findIndex(f=>f.equals(a));p>=0&&(zi(p<256,"Max lookup table index exceeded"),n.push(p),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}}const mee="Reached end of buffer unexpectedly";function md(e){if(e.length===0)throw new Error(mee);return e.shift()}function qs(e,...t){const[r]=t;if(t.length===2?r+(t[1]??0)>e.length:r>=e.length)throw new Error(mee);return e.splice(...t)}class Sc{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(r=>new Ir(r)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:lo.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new y8(this.staticAccountKeys)}static compile(t){const r=C9.compile(t.instructions,t.payerKey),[n,i]=r.getMessageComponents(),l=new y8(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:lo.encode(a.data)}));return new Sc({header:n,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:l})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const r=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const n=t-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,r)=>!this.isProgramId(r))}serialize(){const t=this.accountKeys.length;let r=[];Ks(r,t);const n=this.instructions.map(v=>{const{accounts:_,programIdIndex:T}=v,z=Array.from(lo.decode(v.data));let I=[];Ks(I,_.length);let k=[];return Ks(k,z.length),{programIdIndex:T,keyIndicesCount:tn.Buffer.from(I),keyIndices:_,dataLength:tn.Buffer.from(k),data:z}});let i=[];Ks(i,n.length);let s=tn.Buffer.alloc(ny);tn.Buffer.from(i).copy(s);let l=i.length;n.forEach(v=>{const T=kr([Hn("programIdIndex"),xi(v.keyIndicesCount.length,"keyIndicesCount"),Bo(Hn("keyIndex"),v.keyIndices.length,"keyIndices"),xi(v.dataLength.length,"dataLength"),Bo(Hn("userdatum"),v.data.length,"data")]).encode(v,s,l);l+=T}),s=s.slice(0,l);const a=kr([xi(1,"numRequiredSignatures"),xi(1,"numReadonlySignedAccounts"),xi(1,"numReadonlyUnsignedAccounts"),xi(r.length,"keyCount"),Bo(Tn("key"),t,"keys"),Tn("recentBlockhash")]),p={numRequiredSignatures:tn.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:tn.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:tn.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:tn.Buffer.from(r),keys:this.accountKeys.map(v=>My(v.toBytes())),recentBlockhash:lo.decode(this.recentBlockhash)};let f=tn.Buffer.alloc(2048);const g=a.encode(p,f);return s.copy(f,g),f.slice(0,g+s.length)}static from(t){let r=[...t];const n=md(r);if(n!==(n&fD))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=md(r),s=md(r),l=$s(r);let a=[];for(let _=0;_<l;_++){const T=qs(r,0,oh);a.push(new Ir(tn.Buffer.from(T)))}const p=qs(r,0,oh),f=$s(r);let g=[];for(let _=0;_<f;_++){const T=md(r),z=$s(r),I=qs(r,0,z),k=$s(r),C=qs(r,0,k),L=lo.encode(tn.Buffer.from(C));g.push({programIdIndex:T,accounts:I,data:L})}const v={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:lo.encode(tn.Buffer.from(p)),accountKeys:a,instructions:g};return new Sc(v)}}class Om{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const r of this.addressTableLookups)t+=r.readonlyIndexes.length+r.writableIndexes.length;return t}getAccountKeys(t){let r;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)r=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new y8(this.staticAccountKeys,r)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){const i=t-n,s=this.addressTableLookups.reduce((l,a)=>l+a.writableIndexes.length,0);return i<s}else if(t>=this.header.numRequiredSignatures){const i=t-r,l=n-r-this.header.numReadonlyUnsignedAccounts;return i<l}else{const i=r-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=t.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(t){const r=C9.compile(t.instructions,t.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=t.addressLookupTableAccounts||[];for(const g of s){const v=r.extractTableLookup(g);if(v!==void 0){const[_,{writable:T,readonly:z}]=v;n.push(_),i.writable.push(...T),i.readonly.push(...z)}}const[l,a]=r.getMessageComponents(),f=new y8(a,i).compileInstructions(t.instructions);return new Om({header:l,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:f,addressTableLookups:n})}serialize(){const t=Array();Ks(t,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();Ks(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Ks(s,this.addressTableLookups.length);const l=kr([Hn("prefix"),kr([Hn("numRequiredSignatures"),Hn("numReadonlySignedAccounts"),Hn("numReadonlyUnsignedAccounts")],"header"),xi(t.length,"staticAccountKeysLength"),Bo(Tn(),this.staticAccountKeys.length,"staticAccountKeys"),Tn("recentBlockhash"),xi(n.length,"instructionsLength"),xi(r.length,"serializedInstructions"),xi(s.length,"addressTableLookupsLength"),xi(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(ny),p=128,f=l.encode({prefix:p,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(g=>g.toBytes()),recentBlockhash:lo.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,f)}serializeInstructions(){let t=0;const r=new Uint8Array(ny);for(const n of this.compiledInstructions){const i=Array();Ks(i,n.accountKeyIndexes.length);const s=Array();Ks(s,n.data.length);const l=kr([Hn("programIdIndex"),xi(i.length,"encodedAccountKeyIndexesLength"),Bo(Hn(),n.accountKeyIndexes.length,"accountKeyIndexes"),xi(s.length,"encodedDataLength"),xi(n.data.length,"data")]);t+=l.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,t)}return r.slice(0,t)}serializeAddressTableLookups(){let t=0;const r=new Uint8Array(ny);for(const n of this.addressTableLookups){const i=Array();Ks(i,n.writableIndexes.length);const s=Array();Ks(s,n.readonlyIndexes.length);const l=kr([Tn("accountKey"),xi(i.length,"encodedWritableIndexesLength"),Bo(Hn(),n.writableIndexes.length,"writableIndexes"),xi(s.length,"encodedReadonlyIndexesLength"),Bo(Hn(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=l.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,t)}return r.slice(0,t)}static deserialize(t){let r=[...t];const n=md(r),i=n&fD;zi(n!==i,"Expected versioned message but received legacy message");const s=i;zi(s===0,`Expected versioned message with version 0 but found version ${s}`);const l={numRequiredSignatures:md(r),numReadonlySignedAccounts:md(r),numReadonlyUnsignedAccounts:md(r)},a=[],p=$s(r);for(let z=0;z<p;z++)a.push(new Ir(qs(r,0,oh)));const f=lo.encode(qs(r,0,oh)),g=$s(r),v=[];for(let z=0;z<g;z++){const I=md(r),k=$s(r),C=qs(r,0,k),L=$s(r),N=new Uint8Array(qs(r,0,L));v.push({programIdIndex:I,accountKeyIndexes:C,data:N})}const _=$s(r),T=[];for(let z=0;z<_;z++){const I=new Ir(qs(r,0,oh)),k=$s(r),C=qs(r,0,k),L=$s(r),N=qs(r,0,L);T.push({accountKey:I,writableIndexes:C,readonlyIndexes:N})}return new Om({header:l,staticAccountKeys:a,recentBlockhash:f,compiledInstructions:v,addressTableLookups:T})}}const D9={deserializeMessageVersion(e){const t=e[0],r=t&fD;return r===t?"legacy":r},deserialize:e=>{const t=D9.deserializeMessageVersion(e);if(t==="legacy")return Sc.from(e);if(t===0)return Om.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let Ap=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const uxe=tn.Buffer.alloc(Jx).fill(0);class QP{constructor(t){this.keys=void 0,this.programId=void 0,this.data=tn.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:r,isWritable:n})=>({pubkey:t.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class wl{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=t;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=t;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new QP(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,r;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(t=this.recentBlockhash,r=this.instructions),!t)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let I=0;I<r.length;I++)if(r[I].programId===void 0)throw new Error(`Transaction instruction index ${I} has undefined program id`);const i=[],s=[];r.forEach(I=>{I.keys.forEach(C=>{s.push({...C})});const k=I.programId.toString();i.includes(k)||i.push(k)}),i.forEach(I=>{s.push({pubkey:new Ir(I),isSigner:!1,isWritable:!1})});const l=[];s.forEach(I=>{const k=I.pubkey.toString(),C=l.findIndex(L=>L.pubkey.toString()===k);C>-1?(l[C].isWritable=l[C].isWritable||I.isWritable,l[C].isSigner=l[C].isSigner||I.isSigner):l.push(I)}),l.sort(function(I,k){if(I.isSigner!==k.isSigner)return I.isSigner?-1:1;if(I.isWritable!==k.isWritable)return I.isWritable?-1:1;const C={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return I.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",C)});const a=l.findIndex(I=>I.pubkey.equals(n));if(a>-1){const[I]=l.splice(a,1);I.isSigner=!0,I.isWritable=!0,l.unshift(I)}else l.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const I of this.signatures){const k=l.findIndex(C=>C.pubkey.equals(I.publicKey));if(k>-1)l[k].isSigner||(l[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${I.publicKey.toString()}`)}let p=0,f=0,g=0;const v=[],_=[];l.forEach(({pubkey:I,isSigner:k,isWritable:C})=>{k?(v.push(I.toString()),p+=1,C||(f+=1)):(_.push(I.toString()),C||(g+=1))});const T=v.concat(_),z=r.map(I=>{const{data:k,programId:C}=I;return{programIdIndex:T.indexOf(C.toString()),accounts:I.keys.map(L=>T.indexOf(L.pubkey.toString())),data:lo.encode(k)}});return z.forEach(I=>{zi(I.programIdIndex>=0),I.accounts.forEach(k=>zi(k>=0))}),new Sc({header:{numRequiredSignatures:p,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:g},accountKeys:T,recentBlockhash:t,instructions:z})}_compile(){const t=this.compileMessage(),r=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const r=new Set;this.signatures=t.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of t){const l=s.publicKey.toString();r.has(l)||(r.add(l),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of t){const l=s.publicKey.toString();r.has(l)||(r.add(l),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(t,...r){const n=t.serialize();r.forEach(i=>{const s=dee(n,i.secretKey);this._addSignature(i.publicKey,My(s))})}addSignature(t,r){this._compile(),this._addSignature(t,r)}_addSignature(t,r){zi(r.length===64);const n=this.signatures.findIndex(i=>t.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=tn.Buffer.from(r)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||(n.missing=[])).push(s):txe(i,t,s.toBytes())||(n.invalid||(n.invalid=[])).push(s);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let l="Signature verification failed.";throw s.invalid&&(l+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(l+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(l)}}return this._serialize(i)}_serialize(t){const{signatures:r}=this,n=[];Ks(n,r.length);const i=n.length+r.length*64+t.length,s=tn.Buffer.alloc(i);return zi(r.length<256),tn.Buffer.from(n).copy(s,0),r.forEach(({signature:l},a)=>{l!==null&&(zi(l.length===64,"signature has invalid length"),tn.Buffer.from(l).copy(s,n.length+a*64))}),t.copy(s,n.length+r.length*64),zi(s.length<=ny,`Transaction too large: ${s.length} > ${ny}`),s}get keys(){return zi(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return zi(this.instructions.length===1),this.instructions[0].programId}get data(){return zi(this.instructions.length===1),this.instructions[0].data}static from(t){let r=[...t];const n=$s(r);let i=[];for(let s=0;s<n;s++){const l=qs(r,0,Jx);i.push(lo.encode(tn.Buffer.from(l)))}return wl.populate(Sc.from(r),i)}static populate(t,r=[]){const n=new wl;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((i,s)=>{const l={signature:i==lo.encode(uxe)?null:lo.decode(i),publicKey:t.accountKeys[s]};n.signatures.push(l)}),t.instructions.forEach(i=>{const s=i.accounts.map(l=>{const a=t.accountKeys[l];return{pubkey:a,isSigner:n.signatures.some(p=>p.publicKey.toString()===a.toString())||t.isAccountSigner(l),isWritable:t.isAccountWritable(l)}});n.instructions.push(new QP({keys:s,programId:t.accountKeys[i.programIdIndex],data:lo.decode(i.data)}))}),n._message=t,n._json=n.toJSON(),n}}class du{get version(){return this.message.version}constructor(t,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)zi(r.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<t.header.numRequiredSignatures;i++)n.push(new Uint8Array(Jx));this.signatures=n}this.message=t}serialize(){const t=this.message.serialize(),r=Array();Ks(r,this.signatures.length);const n=kr([xi(r.length,"encodedSignaturesLength"),Bo(axe(),this.signatures.length,"signatures"),xi(t.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,s)}static deserialize(t){let r=[...t];const n=[],i=$s(r);for(let l=0;l<i;l++)n.push(new Uint8Array(qs(r,0,Jx)));const s=D9.deserialize(new Uint8Array(r));return new du(s,n)}sign(t){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const s=n.findIndex(l=>l.equals(i.publicKey));zi(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=dee(r,i.secretKey)}}addSignature(t,r){zi(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(t));zi(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}}const dxe=160,pxe=64,hxe=dxe/pxe,fxe=1e3/hxe;new Ir("SysvarC1ock11111111111111111111111111111111");new Ir("SysvarEpochSchedu1e111111111111111111111111");new Ir("Sysvar1nstructions1111111111111111111111111");new Ir("SysvarRecentB1ockHashes11111111111111111111");new Ir("SysvarRent111111111111111111111111111111111");new Ir("SysvarRewards111111111111111111111111111111");new Ir("SysvarS1otHashes111111111111111111111111111");new Ir("SysvarS1otHistory11111111111111111111111111");new Ir("SysvarStakeHistory1111111111111111111111111");class FW extends Error{constructor({action:t,signature:r,transactionMessage:n,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",l="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${r} resulted in an error. 
${n}. `+s+l;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+s+l;break;default:a=`Unknown action '${(p=>p)(t)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{t.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}class zr extends Error{constructor({code:t,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}function vg(e){return new Promise(t=>setTimeout(t,e))}const mxe=no("lamportsPerSignature"),gee=kr([jr("version"),jr("state"),Tn("authorizedPubkey"),Tn("nonce"),kr([mxe],"feeCalculator")]);gee.span;class mD{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const r=gee.decode(My(t),0);return new mD({authorizedPubkey:new Ir(r.authorizedPubkey),nonce:new Ir(r.nonce).toString(),feeCalculator:r.feeCalculator})}}function Py(e){const t=xi(8,e),r=t.decode.bind(t),n=t.encode.bind(t),i=t,s=nbe();return i.decode=(l,a)=>{const p=r(l,a);return s.decode(p)},i.encode=(l,a,p)=>{const f=s.encode(l);return n(f,a,p)},i}Object.freeze({Create:{index:0,layout:kr([jr("instruction"),Ws("lamports"),Ws("space"),Tn("programId")])},Assign:{index:1,layout:kr([jr("instruction"),Tn("programId")])},Transfer:{index:2,layout:kr([jr("instruction"),Py("lamports")])},CreateWithSeed:{index:3,layout:kr([jr("instruction"),Tn("base"),Fg("seed"),Ws("lamports"),Ws("space"),Tn("programId")])},AdvanceNonceAccount:{index:4,layout:kr([jr("instruction")])},WithdrawNonceAccount:{index:5,layout:kr([jr("instruction"),Ws("lamports")])},InitializeNonceAccount:{index:6,layout:kr([jr("instruction"),Tn("authorized")])},AuthorizeNonceAccount:{index:7,layout:kr([jr("instruction"),Tn("authorized")])},Allocate:{index:8,layout:kr([jr("instruction"),Ws("space")])},AllocateWithSeed:{index:9,layout:kr([jr("instruction"),Tn("base"),Fg("seed"),Ws("space"),Tn("programId")])},AssignWithSeed:{index:10,layout:kr([jr("instruction"),Tn("base"),Fg("seed"),Tn("programId")])},TransferWithSeed:{index:11,layout:kr([jr("instruction"),Py("lamports"),Fg("seed"),Tn("programId")])},UpgradeNonceAccount:{index:12,layout:kr([jr("instruction")])}});new Ir("11111111111111111111111111111111");new Ir("BPFLoader2111111111111111111111111111111111");function gxe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var AA,jW;function yxe(){if(jW)return AA;jW=1;var e=Object.prototype.toString,t=Object.keys||function(n){var i=[];for(var s in n)i.push(s);return i};function r(n,i){var s,l,a,p,f,g,v;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return r(n.toJSON(),i);if(v=e.call(n),v==="[object Array]"){for(a="[",l=n.length-1,s=0;s<l;s++)a+=r(n[s],!0)+",";return l>-1&&(a+=r(n[s],!0)),a+"]"}else if(v==="[object Object]"){for(p=t(n).sort(),l=p.length,a="",s=0;s<l;)f=p[s],g=r(n[f],!1),g!==void 0&&(a&&(a+=","),a+=JSON.stringify(f)+":"+g),s++;return"{"+a+"}"}else return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return AA=function(n){var i=r(n,!1);if(i!==void 0)return""+i},AA}var vxe=yxe(),VW=gxe(vxe);const xb=32;function TA(e){let t=0;for(;e>1;)e/=2,t++;return t}function _xe(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}class bxe{constructor(t,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const r=TA(_xe(t+xb+1))-TA(xb)-1,n=this.getSlotsInEpoch(r),i=t-(n-xb);return[r,i]}else{const r=t-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*xb:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+TA(xb)):this.slotsPerEpoch}}var xxe=globalThis.fetch;class wxe extends $be{constructor(t,r,n){const i=s=>{const l=Ube(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in l?this.underlyingSocket=l.socket:this.underlyingSocket=l,l};super(i,t,r,n),this.underlyingSocket=void 0}call(...t){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...t){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function Sxe(e,t){let r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${e.index}`);return r}const UW=56;class JP{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const r=Sxe(Exe,t),n=t.length-UW;zi(n>=0,"lookup table is invalid"),zi(n%32===0,"lookup table is invalid");const i=n/32,{addresses:s}=kr([Bo(Tn(),i,"addresses")]).decode(t.slice(UW));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new Ir(r.authority[0]):void 0,addresses:s.map(l=>new Ir(l))}}}const Exe={index:1,layout:kr([jr("typeIndex"),Py("deactivationSlot"),no("lastExtendedSlot"),Hn("lastExtendedStartIndex"),Hn(),Bo(Tn(),Am(Hn(),-1),"authority")])},Axe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Txe(e){const t=e.match(Axe);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[r,n,i,s]=t,l=e.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),p=a==null?"":`:${a+1}`;return`${l}//${n}${p}${s}`}const Qi=L4(pD(Ir),ar(),e=>new Ir(e)),yee=hD([ar(),Gi("base64")]),gD=L4(pD(tn.Buffer),yee,e=>tn.Buffer.from(e[0],"base64")),Mxe=30*1e3;function Pxe(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function pi(e){let t,r;if(typeof e=="string")t=e;else if(e){const{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function WW(e){return e.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function vee(e){return cs([Zt({jsonrpc:Gi("2.0"),id:ar(),result:e}),Zt({jsonrpc:Gi("2.0"),id:ar(),error:Zt({code:d2(),message:ar(),data:Wr(ube())})})])}const kxe=vee(d2());function fn(e){return L4(vee(e),kxe,t=>"error"in t?t:{...t,result:ur(t.result,e)})}function ma(e){return fn(Zt({context:Zt({slot:St()}),value:e}))}function z9(e){return Zt({context:Zt({slot:St()}),value:e})}function MA(e,t){return e===0?new Om({header:t.header,staticAccountKeys:t.accountKeys.map(r=>new Ir(r)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:lo.decode(r.data)})),addressTableLookups:t.addressTableLookups}):new Sc(t)}const Ixe=Zt({foundation:St(),foundationTerm:St(),initial:St(),taper:St(),terminal:St()}),Cxe=fn(hr(fr(Zt({epoch:St(),effectiveSlot:St(),amount:St(),postBalance:St(),commission:Wr(fr(St()))})))),Dxe=hr(Zt({slot:St(),prioritizationFee:St()})),zxe=Zt({total:St(),validator:St(),foundation:St(),epoch:St()}),Rxe=Zt({epoch:St(),slotIndex:St(),slotsInEpoch:St(),absoluteSlot:St(),blockHeight:Wr(St()),transactionCount:Wr(St())}),Nxe=Zt({slotsPerEpoch:St(),leaderScheduleSlotOffset:St(),warmup:uu(),firstNormalEpoch:St(),firstNormalSlot:St()}),Lxe=eee(ar(),hr(St())),Hm=fr(cs([Zt({}),ar()])),Oxe=Zt({err:Hm}),Bxe=Gi("receivedSignature"),Fxe=Zt({"solana-core":ar(),"feature-set":Wr(St())}),jxe=Zt({program:ar(),programId:Qi,parsed:d2()}),Vxe=Zt({programId:Qi,accounts:hr(Qi),data:ar()}),$W=ma(Zt({err:fr(cs([Zt({}),ar()])),logs:fr(hr(ar())),accounts:Wr(fr(hr(fr(Zt({executable:uu(),owner:ar(),lamports:St(),data:hr(ar()),rentEpoch:Wr(St())}))))),unitsConsumed:Wr(St()),returnData:Wr(fr(Zt({programId:ar(),data:hD([ar(),Gi("base64")])}))),innerInstructions:Wr(fr(hr(Zt({index:St(),instructions:hr(cs([jxe,Vxe]))}))))})),Uxe=ma(Zt({byIdentity:eee(ar(),hr(St())),range:Zt({firstSlot:St(),lastSlot:St()})}));function Wxe(e,t,r,n,i,s){const l=r||xxe;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let p;return n&&(p=async(g,v)=>{const _=await new Promise((T,z)=>{try{n(g,v,(I,k)=>T([I,k]))}catch(I){z(I)}});return await l(..._)}),new Fbe(async(g,v)=>{const _={method:"POST",body:g,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},W4e)};try{let T=5,z,I=500;for(;p?z=await p(e,_):z=await l(e,_),!(z.status!==429||i===!0||(T-=1,T===0));)console.error(`Server responded with ${z.status} ${z.statusText}.  Retrying after ${I}ms delay...`),await vg(I),I*=2;const k=await z.text();z.ok?v(null,k):v(new Error(`${z.status} ${z.statusText}: ${k}`))}catch(T){T instanceof Error&&v(T)}},{})}function $xe(e){return(t,r)=>new Promise((n,i)=>{e.request(t,r,(s,l)=>{if(s){i(s);return}n(l)})})}function Kxe(e){return t=>new Promise((r,n)=>{t.length===0&&r([]);const i=t.map(s=>e.request(s.methodName,s.args));e.request(i,(s,l)=>{if(s){n(s);return}r(l)})})}const qxe=fn(Ixe),Gxe=fn(zxe),Hxe=fn(Dxe),Zxe=fn(Rxe),Yxe=fn(Nxe),Xxe=fn(Lxe),Qxe=fn(St()),Jxe=ma(Zt({total:St(),circulating:St(),nonCirculating:St(),nonCirculatingAccounts:hr(Qi)})),ek=Zt({amount:ar(),uiAmount:fr(St()),decimals:St(),uiAmountString:Wr(ar())}),e4e=ma(hr(Zt({address:Qi,amount:ar(),uiAmount:fr(St()),decimals:St(),uiAmountString:Wr(ar())}))),t4e=ma(hr(Zt({pubkey:Qi,account:Zt({executable:uu(),owner:Qi,lamports:St(),data:gD,rentEpoch:St()})}))),tk=Zt({program:ar(),parsed:d2(),space:St()}),r4e=ma(hr(Zt({pubkey:Qi,account:Zt({executable:uu(),owner:Qi,lamports:St(),data:tk,rentEpoch:St()})}))),n4e=ma(hr(Zt({lamports:St(),address:Qi}))),e4=Zt({executable:uu(),owner:Qi,lamports:St(),data:gD,rentEpoch:St()}),i4e=Zt({pubkey:Qi,account:e4}),a4e=L4(cs([pD(tn.Buffer),tk]),cs([yee,tk]),e=>Array.isArray(e)?ur(e,gD):e),rk=Zt({executable:uu(),owner:Qi,lamports:St(),data:a4e,rentEpoch:St()}),o4e=Zt({pubkey:Qi,account:rk}),s4e=Zt({state:cs([Gi("active"),Gi("inactive"),Gi("activating"),Gi("deactivating")]),active:St(),inactive:St()}),l4e=fn(hr(Zt({signature:ar(),slot:St(),err:Hm,memo:fr(ar()),blockTime:Wr(fr(St()))}))),c4e=fn(hr(Zt({signature:ar(),slot:St(),err:Hm,memo:fr(ar()),blockTime:Wr(fr(St()))}))),u4e=Zt({subscription:St(),result:z9(e4)}),d4e=Zt({pubkey:Qi,account:e4}),p4e=Zt({subscription:St(),result:z9(d4e)}),h4e=Zt({parent:St(),slot:St(),root:St()}),f4e=Zt({subscription:St(),result:h4e}),m4e=cs([Zt({type:cs([Gi("firstShredReceived"),Gi("completed"),Gi("optimisticConfirmation"),Gi("root")]),slot:St(),timestamp:St()}),Zt({type:Gi("createdBank"),parent:St(),slot:St(),timestamp:St()}),Zt({type:Gi("frozen"),slot:St(),timestamp:St(),stats:Zt({numTransactionEntries:St(),numSuccessfulTransactions:St(),numFailedTransactions:St(),maxTransactionsPerEntry:St()})}),Zt({type:Gi("dead"),slot:St(),timestamp:St(),err:ar()})]),g4e=Zt({subscription:St(),result:m4e}),y4e=Zt({subscription:St(),result:z9(cs([Oxe,Bxe]))}),v4e=Zt({subscription:St(),result:St()}),_4e=Zt({pubkey:ar(),gossip:fr(ar()),tpu:fr(ar()),rpc:fr(ar()),version:fr(ar())}),KW=Zt({votePubkey:ar(),nodePubkey:ar(),activatedStake:St(),epochVoteAccount:uu(),epochCredits:hr(hD([St(),St(),St()])),commission:St(),lastVote:St(),rootSlot:fr(St())}),b4e=fn(Zt({current:hr(KW),delinquent:hr(KW)})),x4e=cs([Gi("processed"),Gi("confirmed"),Gi("finalized")]),w4e=Zt({slot:St(),confirmations:fr(St()),err:Hm,confirmationStatus:Wr(x4e)}),S4e=ma(hr(fr(w4e))),E4e=fn(St()),_ee=Zt({accountKey:Qi,writableIndexes:hr(St()),readonlyIndexes:hr(St())}),yD=Zt({signatures:hr(ar()),message:Zt({accountKeys:hr(ar()),header:Zt({numRequiredSignatures:St(),numReadonlySignedAccounts:St(),numReadonlyUnsignedAccounts:St()}),instructions:hr(Zt({accounts:hr(St()),data:ar(),programIdIndex:St()})),recentBlockhash:ar(),addressTableLookups:Wr(hr(_ee))})}),bee=Zt({pubkey:Qi,signer:uu(),writable:uu(),source:Wr(cs([Gi("transaction"),Gi("lookupTable")]))}),xee=Zt({accountKeys:hr(bee),signatures:hr(ar())}),wee=Zt({parsed:d2(),program:ar(),programId:Qi}),See=Zt({accounts:hr(Qi),data:ar(),programId:Qi}),A4e=cs([See,wee]),T4e=cs([Zt({parsed:d2(),program:ar(),programId:ar()}),Zt({accounts:hr(ar()),data:ar(),programId:ar()})]),Eee=L4(A4e,T4e,e=>"accounts"in e?ur(e,See):ur(e,wee)),Aee=Zt({signatures:hr(ar()),message:Zt({accountKeys:hr(bee),instructions:hr(Eee),recentBlockhash:ar(),addressTableLookups:Wr(fr(hr(_ee)))})}),v8=Zt({accountIndex:St(),mint:ar(),owner:Wr(ar()),programId:Wr(ar()),uiTokenAmount:ek}),Tee=Zt({writable:hr(Qi),readonly:hr(Qi)}),R9=Zt({err:Hm,fee:St(),innerInstructions:Wr(fr(hr(Zt({index:St(),instructions:hr(Zt({accounts:hr(St()),data:ar(),programIdIndex:St()}))})))),preBalances:hr(St()),postBalances:hr(St()),logMessages:Wr(fr(hr(ar()))),preTokenBalances:Wr(fr(hr(v8))),postTokenBalances:Wr(fr(hr(v8))),loadedAddresses:Wr(Tee),computeUnitsConsumed:Wr(St())}),vD=Zt({err:Hm,fee:St(),innerInstructions:Wr(fr(hr(Zt({index:St(),instructions:hr(Eee)})))),preBalances:hr(St()),postBalances:hr(St()),logMessages:Wr(fr(hr(ar()))),preTokenBalances:Wr(fr(hr(v8))),postTokenBalances:Wr(fr(hr(v8))),loadedAddresses:Wr(Tee),computeUnitsConsumed:Wr(St())}),p2=cs([Gi(0),Gi("legacy")]),Zm=Zt({pubkey:ar(),lamports:St(),postBalance:fr(St()),rewardType:fr(ar()),commission:Wr(fr(St()))}),M4e=fn(fr(Zt({blockhash:ar(),previousBlockhash:ar(),parentSlot:St(),transactions:hr(Zt({transaction:yD,meta:fr(R9),version:Wr(p2)})),rewards:Wr(hr(Zm)),blockTime:fr(St()),blockHeight:fr(St())}))),P4e=fn(fr(Zt({blockhash:ar(),previousBlockhash:ar(),parentSlot:St(),rewards:Wr(hr(Zm)),blockTime:fr(St()),blockHeight:fr(St())}))),k4e=fn(fr(Zt({blockhash:ar(),previousBlockhash:ar(),parentSlot:St(),transactions:hr(Zt({transaction:xee,meta:fr(R9),version:Wr(p2)})),rewards:Wr(hr(Zm)),blockTime:fr(St()),blockHeight:fr(St())}))),I4e=fn(fr(Zt({blockhash:ar(),previousBlockhash:ar(),parentSlot:St(),transactions:hr(Zt({transaction:Aee,meta:fr(vD),version:Wr(p2)})),rewards:Wr(hr(Zm)),blockTime:fr(St()),blockHeight:fr(St())}))),C4e=fn(fr(Zt({blockhash:ar(),previousBlockhash:ar(),parentSlot:St(),transactions:hr(Zt({transaction:xee,meta:fr(vD),version:Wr(p2)})),rewards:Wr(hr(Zm)),blockTime:fr(St()),blockHeight:fr(St())}))),D4e=fn(fr(Zt({blockhash:ar(),previousBlockhash:ar(),parentSlot:St(),rewards:Wr(hr(Zm)),blockTime:fr(St()),blockHeight:fr(St())}))),z4e=fn(fr(Zt({blockhash:ar(),previousBlockhash:ar(),parentSlot:St(),transactions:hr(Zt({transaction:yD,meta:fr(R9)})),rewards:Wr(hr(Zm)),blockTime:fr(St())}))),qW=fn(fr(Zt({blockhash:ar(),previousBlockhash:ar(),parentSlot:St(),signatures:hr(ar()),blockTime:fr(St())}))),PA=fn(fr(Zt({slot:St(),meta:fr(R9),blockTime:Wr(fr(St())),transaction:yD,version:Wr(p2)}))),r3=fn(fr(Zt({slot:St(),transaction:Aee,meta:fr(vD),blockTime:Wr(fr(St())),version:Wr(p2)}))),R4e=ma(Zt({blockhash:ar(),lastValidBlockHeight:St()})),N4e=ma(uu()),L4e=Zt({slot:St(),numTransactions:St(),numSlots:St(),samplePeriodSecs:St()}),O4e=fn(hr(L4e)),B4e=ma(fr(Zt({feeCalculator:Zt({lamportsPerSignature:St()})}))),F4e=fn(ar()),j4e=fn(ar()),V4e=Zt({err:Hm,logs:hr(ar()),signature:ar()}),U4e=Zt({result:z9(V4e),subscription:St()}),W4e={"solana-client":"js/1.0.0-maintenance"};class _D{constructor(t,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const f={};return async g=>{const{commitment:v,config:_}=pi(g),T=this._buildArgs([],v,void 0,_),z=VW(T);return f[z]=f[z]??(async()=>{try{const I=await this._rpcRequest("getBlockHeight",T),k=ur(I,fn(St()));if("error"in k)throw new zr(k.error,"failed to get block height information");return k.result}finally{delete f[z]}})(),await f[z]}})();let n,i,s,l,a,p;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,l=r.fetchMiddleware,a=r.disableRetryOnRateLimit,p=r.httpAgent),this._rpcEndpoint=Pxe(t),this._rpcWsEndpoint=n||Txe(t),this._rpcClient=Wxe(t,i,s,l,a,p),this._rpcRequest=$xe(this._rpcClient),this._rpcBatchRequest=Kxe(this._rpcClient),this._rpcWebSocket=new wxe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,r){const{commitment:n,config:i}=pi(r),s=this._buildArgs([t.toBase58()],n,void 0,i),l=await this._rpcRequest("getBalance",s),a=ur(l,ma(St()));if("error"in a)throw new zr(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,r){return await this.getBalanceAndContext(t,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+n)})}async getBlockTime(t){const r=await this._rpcRequest("getBlockTime",[t]),n=ur(r,fn(fr(St())));if("error"in n)throw new zr(n.error,`failed to get block time for slot ${t}`);return n.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),r=ur(t,fn(St()));if("error"in r)throw new zr(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),r=ur(t,Qxe);if("error"in r)throw new zr(r.error,"failed to get first available block");return r.result}async getSupply(t){let r={};typeof t=="string"?r={commitment:t}:t?r={...t,commitment:t&&t.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=ur(n,Jxe);if("error"in i)throw new zr(i.error,"failed to get supply");return i.result}async getTokenSupply(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=ur(i,ma(ek));if("error"in s)throw new zr(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=ur(i,ma(ek));if("error"in s)throw new zr(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(t,r,n){const{commitment:i,config:s}=pi(n);let l=[t.toBase58()];"mint"in r?l.push({mint:r.mint.toBase58()}):l.push({programId:r.programId.toBase58()});const a=this._buildArgs(l,i,"base64",s),p=await this._rpcRequest("getTokenAccountsByOwner",a),f=ur(p,t4e);if("error"in f)throw new zr(f.error,`failed to get token accounts owned by account ${t.toBase58()}`);return f.result}async getParsedTokenAccountsByOwner(t,r,n){let i=[t.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),l=await this._rpcRequest("getTokenAccountsByOwner",s),a=ur(l,r4e);if("error"in a)throw new zr(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const r={...t,commitment:t&&t.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=ur(i,n4e);if("error"in s)throw new zr(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=ur(i,e4e);if("error"in s)throw new zr(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(t,r){const{commitment:n,config:i}=pi(r),s=this._buildArgs([t.toBase58()],n,"base64",i),l=await this._rpcRequest("getAccountInfo",s),a=ur(l,ma(fr(e4)));if("error"in a)throw new zr(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,r){const{commitment:n,config:i}=pi(r),s=this._buildArgs([t.toBase58()],n,"jsonParsed",i),l=await this._rpcRequest("getAccountInfo",s),a=ur(l,ma(fr(rk)));if("error"in a)throw new zr(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,r){try{return(await this.getAccountInfoAndContext(t,r)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}}async getMultipleParsedAccounts(t,r){const{commitment:n,config:i}=pi(r),s=t.map(f=>f.toBase58()),l=this._buildArgs([s],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",l),p=ur(a,ma(hr(fr(rk))));if("error"in p)throw new zr(p.error,`failed to get info for accounts ${s}`);return p.result}async getMultipleAccountsInfoAndContext(t,r){const{commitment:n,config:i}=pi(r),s=t.map(f=>f.toBase58()),l=this._buildArgs([s],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",l),p=ur(a,ma(hr(fr(e4))));if("error"in p)throw new zr(p.error,`failed to get info for accounts ${s}`);return p.result}async getMultipleAccountsInfo(t,r){return(await this.getMultipleAccountsInfoAndContext(t,r)).value}async getStakeActivation(t,r,n){const{commitment:i,config:s}=pi(r),l=this._buildArgs([t.toBase58()],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",l),p=ur(a,fn(s4e));if("error"in p)throw new zr(p.error,`failed to get Stake Activation ${t.toBase58()}`);return p.result}async getProgramAccounts(t,r){const{commitment:n,config:i}=pi(r),{encoding:s,...l}=i||{},a=this._buildArgs([t.toBase58()],n,s||"base64",{...l,...l.filters?{filters:WW(l.filters)}:null}),p=await this._rpcRequest("getProgramAccounts",a),f=hr(i4e),g=l.withContext===!0?ur(p,ma(f)):ur(p,fn(f));if("error"in g)throw new zr(g.error,`failed to get accounts owned by program ${t.toBase58()}`);return g.result}async getParsedProgramAccounts(t,r){const{commitment:n,config:i}=pi(r),s=this._buildArgs([t.toBase58()],n,"jsonParsed",i),l=await this._rpcRequest("getProgramAccounts",s),a=ur(l,fn(hr(o4e)));if("error"in a)throw new zr(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,r){var s;let n;if(typeof t=="string")n=t;else{const l=t;if((s=l.abortSignal)!=null&&s.aborted)return Promise.reject(l.abortSignal.reason);n=l.signature}let i;try{i=lo.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return zi(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((r,n)=>{t!=null&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:r}){let n,i,s=!1;const l=new Promise((p,f)=>{try{n=this.onSignature(r,(v,_)=>{n=void 0;const T={context:_,value:v};p({__type:Ap.PROCESSED,response:T})},t);const g=new Promise(v=>{n==null?v():i=this._onSubscriptionStateChange(n,_=>{_==="subscribed"&&v()})});(async()=>{if(await g,s)return;const v=await this.getSignatureStatus(r);if(s||v==null)return;const{context:_,value:T}=v;if(T!=null)if(T!=null&&T.err)f(T.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(T.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(T.confirmationStatus==="processed"||T.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,p({__type:Ap.PROCESSED,response:{context:_,value:T}})}})()}catch(g){f(g)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:l}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const l=new Promise(v=>{const _=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let T=await _();if(!s){for(;T<=n;)if(await vg(1e3),s||(T=await _(),s))return;v({__type:Ap.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:p}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),f=this.getCancellationPromise(r);let g;try{const v=await Promise.race([f,p,l]);if(v.__type===Ap.PROCESSED)g=v.response;else throw new hee(i)}finally{s=!0,a()}return g}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:l}}){let a=!1;const p=new Promise(T=>{let z=s,I=null;const k=async()=>{try{const{context:C,value:L}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:n});return I=C.slot,L==null?void 0:L.nonce}catch{return z}};(async()=>{if(z=await k(),!a)for(;;){if(s!==z){T({__type:Ap.NONCE_INVALID,slotInWhichNonceDidAdvance:I});return}if(await vg(2e3),a||(z=await k(),a))return}})()}),{abortConfirmation:f,confirmationPromise:g}=this.getTransactionConfirmationPromise({commitment:t,signature:l}),v=this.getCancellationPromise(r);let _;try{const T=await Promise.race([v,g,p]);if(T.__type===Ap.PROCESSED)_=T.response;else{let z;for(;;){const I=await this.getSignatureStatus(l);if(I==null)break;if(I.context.slot<(T.slotInWhichNonceDidAdvance??n)){await vg(400);continue}z=I;break}if(z!=null&&z.value){const I=t||"finalized",{confirmationStatus:k}=z.value;switch(I){case"processed":case"recent":if(k!=="processed"&&k!=="confirmed"&&k!=="finalized")throw new qb(l);break;case"confirmed":case"single":case"singleGossip":if(k!=="confirmed"&&k!=="finalized")throw new qb(l);break;case"finalized":case"max":case"root":if(k!=="finalized")throw new qb(l);break;default:}_={context:z.context,value:{err:z.value.err}}}else throw new qb(l)}}finally{a=!0,f()}return _}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:r}){let n;const i=new Promise(p=>{let f=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{f=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>p({__type:Ap.TIMED_OUT,timeoutMs:f}),f)}),{abortConfirmation:s,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:r});let a;try{const p=await Promise.race([l,i]);if(p.__type===Ap.PROCESSED)a=p.response;else throw new fee(r,p.timeoutMs/1e3)}finally{clearTimeout(n),s()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),r=ur(t,fn(hr(_4e)));if("error"in r)throw new zr(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getVoteAccounts",r),i=ur(n,b4e);if("error"in i)throw new zr(i.error,"failed to get vote accounts");return i.result}async getSlot(t){const{commitment:r,config:n}=pi(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),l=ur(s,fn(St()));if("error"in l)throw new zr(l.error,"failed to get slot");return l.result}async getSlotLeader(t){const{commitment:r,config:n}=pi(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),l=ur(s,fn(ar()));if("error"in l)throw new zr(l.error,"failed to get slot leader");return l.result}async getSlotLeaders(t,r){const n=[t,r],i=await this._rpcRequest("getSlotLeaders",n),s=ur(i,fn(hr(Qi)));if("error"in s)throw new zr(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(t,r){const{context:n,value:i}=await this.getSignatureStatuses([t],r);zi(i.length===1);const s=i[0];return{context:n,value:s}}async getSignatureStatuses(t,r){const n=[t];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=ur(i,S4e);if("error"in s)throw new zr(s.error,"failed to get signature status");return s.result}async getTransactionCount(t){const{commitment:r,config:n}=pi(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),l=ur(s,fn(St()));if("error"in l)throw new zr(l.error,"failed to get transaction count");return l.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getInflationGovernor",r),i=ur(n,qxe);if("error"in i)throw new zr(i.error,"failed to get inflation");return i.result}async getInflationReward(t,r,n){const{commitment:i,config:s}=pi(n),l=this._buildArgs([t.map(f=>f.toBase58())],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",l),p=ur(a,Cxe);if("error"in p)throw new zr(p.error,"failed to get inflation reward");return p.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),r=ur(t,Gxe);if("error"in r)throw new zr(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(t){const{commitment:r,config:n}=pi(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),l=ur(s,Zxe);if("error"in l)throw new zr(l.error,"failed to get epoch info");return l.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),r=ur(t,Yxe);if("error"in r)throw new zr(r.error,"failed to get epoch schedule");const n=r.result;return new bxe(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),r=ur(t,Xxe);if("error"in r)throw new zr(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(t,r){const n=this._buildArgs([t],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=ur(i,E4e);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(t){const{context:r,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(t);return{context:r,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const r=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),n=ur(r,O4e);if("error"in n)throw new zr(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(t,r){const n=this._buildArgs([t],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=ur(i,B4e);if("error"in s)throw new zr(s.error,"failed to get fee calculator");const{context:l,value:a}=s.result;return{context:l,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,r){const n=My(t.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),l=ur(s,ma(fr(St())));if("error"in l)throw new zr(l.error,"failed to get fee for message");if(l.result===null)throw new Error("invalid blockhash");return l.result}async getRecentPrioritizationFees(t){var l;const r=(l=t==null?void 0:t.lockedWritableAccounts)==null?void 0:l.map(a=>a.toBase58()),n=r!=null&&r.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=ur(i,Hxe);if("error"in s)throw new zr(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(t){const{commitment:r,config:n}=pi(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),l=ur(s,R4e);if("error"in l)throw new zr(l.error,"failed to get latest blockhash");return l.result}async isBlockhashValid(t,r){const{commitment:n,config:i}=pi(r),s=this._buildArgs([t],n,void 0,i),l=await this._rpcRequest("isBlockhashValid",s),a=ur(l,N4e);if("error"in a)throw new zr(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),r=ur(t,fn(Fxe));if("error"in r)throw new zr(r.error,"failed to get version");return r.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),r=ur(t,fn(ar()));if("error"in r)throw new zr(r.error,"failed to get genesis hash");return r.result}async getBlock(t,r){const{commitment:n,config:i}=pi(r),s=this._buildArgsAtLeastConfirmed([t],n,void 0,i),l=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ur(l,k4e);if("error"in a)throw a.error;return a.result}case"none":{const a=ur(l,P4e);if("error"in a)throw a.error;return a.result}default:{const a=ur(l,M4e);if("error"in a)throw a.error;const{result:p}=a;return p?{...p,transactions:p.transactions.map(({transaction:f,meta:g,version:v})=>({meta:g,transaction:{...f,message:MA(v,f.message)},version:v}))}:null}}}catch(a){throw new zr(a,"failed to get confirmed block")}}async getParsedBlock(t,r){const{commitment:n,config:i}=pi(r),s=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),l=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ur(l,C4e);if("error"in a)throw a.error;return a.result}case"none":{const a=ur(l,D4e);if("error"in a)throw a.error;return a.result}default:{const a=ur(l,I4e);if("error"in a)throw a.error;return a.result}}}catch(a){throw new zr(a,"failed to get block")}}async getBlockProduction(t){let r,n;if(typeof t=="string")n=t;else if(t){const{commitment:a,...p}=t;n=a,r=p}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),l=ur(s,Uxe);if("error"in l)throw new zr(l.error,"failed to get block production information");return l.result}async getTransaction(t,r){const{commitment:n,config:i}=pi(r),s=this._buildArgsAtLeastConfirmed([t],n,void 0,i),l=await this._rpcRequest("getTransaction",s),a=ur(l,PA);if("error"in a)throw new zr(a.error,"failed to get transaction");const p=a.result;return p&&{...p,transaction:{...p.transaction,message:MA(p.version,p.transaction.message)}}}async getParsedTransaction(t,r){const{commitment:n,config:i}=pi(r),s=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),l=await this._rpcRequest("getTransaction",s),a=ur(l,r3);if("error"in a)throw new zr(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,r){const{commitment:n,config:i}=pi(r),s=t.map(p=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([p],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(p=>{const f=ur(p,r3);if("error"in f)throw new zr(f.error,"failed to get transactions");return f.result})}async getTransactions(t,r){const{commitment:n,config:i}=pi(r),s=t.map(p=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([p],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(p=>{const f=ur(p,PA);if("error"in f)throw new zr(f.error,"failed to get transactions");const g=f.result;return g&&{...g,transaction:{...g.transaction,message:MA(g.version,g.transaction.message)}}})}async getConfirmedBlock(t,r){const n=this._buildArgsAtLeastConfirmed([t],r),i=await this._rpcRequest("getBlock",n),s=ur(i,z4e);if("error"in s)throw new zr(s.error,"failed to get confirmed block");const l=s.result;if(!l)throw new Error("Confirmed block "+t+" not found");const a={...l,transactions:l.transactions.map(({transaction:p,meta:f})=>{const g=new Sc(p.message);return{meta:f,transaction:{...p,message:g}}})};return{...a,transactions:a.transactions.map(({transaction:p,meta:f})=>({meta:f,transaction:wl.populate(p.message,p.signatures)}))}}async getBlocks(t,r,n){const i=this._buildArgsAtLeastConfirmed(r!==void 0?[t,r]:[t],n),s=await this._rpcRequest("getBlocks",i),l=ur(s,fn(hr(St())));if("error"in l)throw new zr(l.error,"failed to get blocks");return l.result}async getBlockSignatures(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=ur(i,qW);if("error"in s)throw new zr(s.error,"failed to get block");const l=s.result;if(!l)throw new Error("Block "+t+" not found");return l}async getConfirmedBlockSignatures(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=ur(i,qW);if("error"in s)throw new zr(s.error,"failed to get confirmed block");const l=s.result;if(!l)throw new Error("Confirmed block "+t+" not found");return l}async getConfirmedTransaction(t,r){const n=this._buildArgsAtLeastConfirmed([t],r),i=await this._rpcRequest("getTransaction",n),s=ur(i,PA);if("error"in s)throw new zr(s.error,"failed to get transaction");const l=s.result;if(!l)return l;const a=new Sc(l.transaction.message),p=l.transaction.signatures;return{...l,transaction:wl.populate(a,p)}}async getParsedConfirmedTransaction(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed"),i=await this._rpcRequest("getTransaction",n),s=ur(i,r3);if("error"in s)throw new zr(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(t,r){const n=t.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(l=>{const a=ur(l,r3);if("error"in a)throw new zr(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{const p=await this.getConfirmedBlockSignatures(r,"finalized");p.signatures.length>0&&(i.until=p.signatures[p.signatures.length-1].toString())}catch(p){if(p instanceof Error&&p.message.includes("skipped"))continue;throw p}let l=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>l));)try{const p=await this.getConfirmedBlockSignatures(n);p.signatures.length>0&&(i.before=p.signatures[p.signatures.length-1].toString())}catch(p){if(p instanceof Error&&p.message.includes("skipped"))continue;throw p}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(p=>p.signature)}async getConfirmedSignaturesForAddress2(t,r,n){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),l=ur(s,l4e);if("error"in l)throw new zr(l.error,"failed to get confirmed signatures for address");return l.result}async getSignaturesForAddress(t,r,n){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),l=ur(s,c4e);if("error"in l)throw new zr(l.error,"failed to get signatures for address");return l.result}async getAddressLookupTable(t,r){const{context:n,value:i}=await this.getAccountInfoAndContext(t,r);let s=null;return i!==null&&(s=new JP({key:t,state:JP.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(t,r){const{context:n,value:i}=await this.getAccountInfoAndContext(t,r);let s=null;return i!==null&&(s=mD.fromAccountData(i.data)),{context:n,value:s}}async getNonce(t,r){return await this.getNonceAndContext(t,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+n)})}async requestAirdrop(t,r){const n=await this._rpcRequest("requestAirdrop",[t.toBase58(),r]),i=ur(n,F4e);if("error"in i)throw new zr(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await vg(100);const n=Date.now()-this._blockhashInfo.lastFetch>=Mxe;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await vg(fxe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:r,config:n}=pi(t),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),l=ur(s,ma(St()));if("error"in l)throw new zr(l.error,"failed to get stake minimum delegation");return l.result}async simulateTransaction(t,r,n){if("message"in t){const I=t.serialize(),k=tn.Buffer.from(I).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const C=r||{};C.encoding="base64","commitment"in C||(C.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(C.innerInstructions=r.innerInstructions);const L=[k,C],N=await this._rpcRequest("simulateTransaction",L),$=ur(N,$W);if("error"in $)throw new Error("failed to simulate transaction: "+$.error.message);return $.result}let i;if(t instanceof wl){let z=t;i=new wl,i.feePayer=z.feePayer,i.instructions=t.instructions,i.nonceInfo=z.nonceInfo,i.signatures=z.signatures}else i=wl.populate(t),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(i.nonceInfo&&s)i.sign(...s);else{let z=this._disableBlockhashCaching;for(;;){const I=await this._blockhashWithExpiryBlockHeight(z);if(i.lastValidBlockHeight=I.lastValidBlockHeight,i.recentBlockhash=I.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const k=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(k)&&!this._blockhashInfo.transactionSignatures.includes(k)){this._blockhashInfo.simulatedSignatures.push(k);break}else z=!0}}const l=i._compile(),a=l.serialize(),f=i._serialize(a).toString("base64"),g={encoding:"base64",commitment:this.commitment};if(n){const z=(Array.isArray(n)?n:l.nonProgramIds()).map(I=>I.toBase58());g.accounts={encoding:"base64",addresses:z}}s&&(g.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(g.innerInstructions=r.innerInstructions);const v=[f,g],_=await this._rpcRequest("simulateTransaction",v),T=ur(_,$W);if("error"in T){let z;if("data"in T.error&&(z=T.error.data.logs,z&&Array.isArray(z))){const I=`
    `,k=I+z.join(I);console.error(T.error.message,k)}throw new FW({action:"simulate",signature:"",transactionMessage:T.error.message,logs:z})}return T.result}async sendTransaction(t,r,n){if("version"in t){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const l=t.serialize();return await this.sendRawTransaction(l,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(t.nonceInfo)t.sign(...i);else{let l=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(l);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const p=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(p))l=!0;else{this._blockhashInfo.transactionSignatures.push(p);break}}}const s=t.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(t,r){const n=My(t).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(t,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const l=[t,n],a=await this._rpcRequest("sendTransaction",l),p=ur(a,j4e);if("error"in p){let f;throw"data"in p.error&&(f=p.error.data.logs),new FW({action:i?"send":"simulate",signature:"",transactionMessage:p.error.message,logs:f})}return p.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(t,r){var i;const n=(i=this._subscriptionsByHash[t])==null?void 0:i.state;if(this._subscriptionsByHash[t]=r,n!==r.state){const s=this._subscriptionStateChangeCallbacksByHash[t];s&&s.forEach(l=>{try{l(r.state)}catch{}})}}_onSubscriptionStateChange(t,r){var s;const n=this._subscriptionHashByClientSubscriptionId[t];if(n==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[n]||(s[n]=new Set);return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,r=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:l}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(l,s);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${l}\``,{args:s,error:a}),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:l}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(l,[s])}catch(a){if(a instanceof Error&&console.error(`${l} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,r){const n=this._subscriptionCallbacksByServerSubscriptionId[t];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(t){const{result:r,subscription:n}=ur(t,u4e);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(t,r){const n=this._nextClientSubscriptionId++,i=VW([t.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...t,args:r,callbacks:new Set([t.callback]),state:"pending"}:s.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const l=this._subscriptionsByHash[i];zi(l!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),l.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,r,n){const{commitment:i,config:s}=pi(n),l=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},l)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:r,subscription:n}=ur(t,p4e);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(t,r,n,i){const{commitment:s,config:l}=pi(n),a=this._buildArgs([t.toBase58()],s||this._commitment||"finalized","base64",l||(i?{filters:WW(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,r,n){const i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:r,subscription:n}=ur(t,U4e);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(t){const{result:r,subscription:n}=ur(t,f4e);this._handleServerNotification(n,[r])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:r,subscription:n}=ur(t,g4e);this._handleServerNotification(n,[r])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${r}' events could not be found.`)}_buildArgs(t,r,n,i){const s=r||this._commitment;if(s||n||i){let l={};n&&(l.encoding=n),s&&(l.commitment=s),i&&(l=Object.assign(l,i)),t.push(l)}return t}_buildArgsAtLeastConfirmed(t,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,r,n,i)}_wsOnSignatureNotification(t){const{result:r,subscription:n}=ur(t,y4e);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(t,r,n){const i=this._buildArgs([t],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(l,a)=>{if(l.type==="status"){r(l.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(t,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},l=this._buildArgs([t],i,void 0,s),a=this._makeSubscription({callback:(p,f)=>{r(p,f);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},l);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:r,subscription:n}=ur(t,v4e);this._handleServerNotification(n,[r])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class Tm{constructor(t){this._keypair=void 0,this._keypair=t??LW()}static generate(){return new Tm(LW())}static fromSecretKey(t,r){if(t.byteLength!==64)throw new Error("bad secret key size");const n=t.slice(32,64);if(!r||!r.skipValidation){const i=t.slice(0,32),s=XP(i);for(let l=0;l<32;l++)if(n[l]!==s[l])throw new Error("provided secretKey is invalid")}return new Tm({publicKey:n,secretKey:t})}static fromSeed(t){const r=XP(t),n=new Uint8Array(64);return n.set(t),n.set(r,32),new Tm({publicKey:r,secretKey:n})}get publicKey(){return new Ir(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:kr([jr("instruction"),Py("recentSlot"),Hn("bumpSeed")])},FreezeLookupTable:{index:1,layout:kr([jr("instruction")])},ExtendLookupTable:{index:2,layout:kr([jr("instruction"),Py(),Bo(Tn(),Am(jr(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:kr([jr("instruction")])},CloseLookupTable:{index:4,layout:kr([jr("instruction")])}});new Ir("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:kr([Hn("instruction"),jr("units"),jr("additionalFee")])},RequestHeapFrame:{index:1,layout:kr([Hn("instruction"),jr("bytes")])},SetComputeUnitLimit:{index:2,layout:kr([Hn("instruction"),jr("units")])},SetComputeUnitPrice:{index:3,layout:kr([Hn("instruction"),Py("microLamports")])}});new Ir("ComputeBudget111111111111111111111111111111");kr([Hn("numSignatures"),Hn("padding"),_l("signatureOffset"),_l("signatureInstructionIndex"),_l("publicKeyOffset"),_l("publicKeyInstructionIndex"),_l("messageDataOffset"),_l("messageDataSize"),_l("messageInstructionIndex")]);new Ir("Ed25519SigVerify111111111111111111111111111");exe.utils.isValidPrivateKey;kr([Hn("numSignatures"),_l("signatureOffset"),Hn("signatureInstructionIndex"),_l("ethAddressOffset"),Hn("ethAddressInstructionIndex"),_l("messageDataOffset"),_l("messageDataSize"),Hn("messageInstructionIndex"),xi(20,"ethAddress"),xi(64,"signature"),Hn("recoveryId")]);new Ir("KeccakSecp256k11111111111111111111111111111");var Mee;new Ir("StakeConfig11111111111111111111111111111111");class Pee{constructor(t,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}}Mee=Pee;Pee.default=new Mee(0,0,Ir.default);Object.freeze({Initialize:{index:0,layout:kr([jr("instruction"),oxe(),sxe()])},Authorize:{index:1,layout:kr([jr("instruction"),Tn("newAuthorized"),jr("stakeAuthorizationType")])},Delegate:{index:2,layout:kr([jr("instruction")])},Split:{index:3,layout:kr([jr("instruction"),Ws("lamports")])},Withdraw:{index:4,layout:kr([jr("instruction"),Ws("lamports")])},Deactivate:{index:5,layout:kr([jr("instruction")])},Merge:{index:7,layout:kr([jr("instruction")])},AuthorizeWithSeed:{index:8,layout:kr([jr("instruction"),Tn("newAuthorized"),jr("stakeAuthorizationType"),Fg("authoritySeed"),Tn("authorityOwner")])}});new Ir("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:kr([jr("instruction"),lxe()])},Authorize:{index:1,layout:kr([jr("instruction"),Tn("newAuthorized"),jr("voteAuthorizationType")])},Withdraw:{index:3,layout:kr([jr("instruction"),Ws("lamports")])},UpdateValidatorIdentity:{index:4,layout:kr([jr("instruction")])},AuthorizeWithSeed:{index:10,layout:kr([jr("instruction"),cxe()])}});new Ir("Vote111111111111111111111111111111111111111");new Ir("Va1idator1nfo111111111111111111111111111111");Zt({name:ar(),website:Wr(ar()),details:Wr(ar()),iconUrl:Wr(ar()),keybaseUsername:Wr(ar())});new Ir("Vote111111111111111111111111111111111111111");kr([Tn("nodePubkey"),Tn("authorizedWithdrawer"),Hn("commission"),no(),Bo(kr([no("slot"),jr("confirmationCount")]),Am(jr(),-8),"votes"),Hn("rootSlotValid"),no("rootSlot"),no(),Bo(kr([no("epoch"),Tn("authorizedVoter")]),Am(jr(),-8),"authorizedVoters"),kr([Bo(kr([Tn("authorizedPubkey"),no("epochOfLastAuthorizedSwitch"),no("targetEpoch")]),32,"buf"),no("idx"),Hn("isEmpty")],"priorVoters"),no(),Bo(kr([no("epoch"),no("credits"),no("prevCredits")]),Am(jr(),-8),"epochCredits"),kr([no("slot"),no("timestamp")],"lastTimestamp")]);const GW={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function kee(e,t){const r=t===!1?"http":"https";if(!e)return GW[r].devnet;const n=GW[r][e];if(!n)throw new Error(`Unknown ${r} cluster: ${e}`);return n}const HW=1e9;var Iee={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(p,f,g){this.fn=p,this.context=f,this.once=g||!1}function s(p,f,g,v,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var T=new i(g,v||p,_),z=r?r+f:f;return p._events[z]?p._events[z].fn?p._events[z]=[p._events[z],T]:p._events[z].push(T):(p._events[z]=T,p._eventsCount++),p}function l(p,f){--p._eventsCount===0?p._events=new n:delete p._events[f]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var f=[],g,v;if(this._eventsCount===0)return f;for(v in g=this._events)t.call(g,v)&&f.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(g)):f},a.prototype.listeners=function(f){var g=r?r+f:f,v=this._events[g];if(!v)return[];if(v.fn)return[v.fn];for(var _=0,T=v.length,z=new Array(T);_<T;_++)z[_]=v[_].fn;return z},a.prototype.listenerCount=function(f){var g=r?r+f:f,v=this._events[g];return v?v.fn?1:v.length:0},a.prototype.emit=function(f,g,v,_,T,z){var I=r?r+f:f;if(!this._events[I])return!1;var k=this._events[I],C=arguments.length,L,N;if(k.fn){switch(k.once&&this.removeListener(f,k.fn,void 0,!0),C){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,g),!0;case 3:return k.fn.call(k.context,g,v),!0;case 4:return k.fn.call(k.context,g,v,_),!0;case 5:return k.fn.call(k.context,g,v,_,T),!0;case 6:return k.fn.call(k.context,g,v,_,T,z),!0}for(N=1,L=new Array(C-1);N<C;N++)L[N-1]=arguments[N];k.fn.apply(k.context,L)}else{var $=k.length,ee;for(N=0;N<$;N++)switch(k[N].once&&this.removeListener(f,k[N].fn,void 0,!0),C){case 1:k[N].fn.call(k[N].context);break;case 2:k[N].fn.call(k[N].context,g);break;case 3:k[N].fn.call(k[N].context,g,v);break;case 4:k[N].fn.call(k[N].context,g,v,_);break;default:if(!L)for(ee=1,L=new Array(C-1);ee<C;ee++)L[ee-1]=arguments[ee];k[N].fn.apply(k[N].context,L)}}return!0},a.prototype.on=function(f,g,v){return s(this,f,g,v,!1)},a.prototype.once=function(f,g,v){return s(this,f,g,v,!0)},a.prototype.removeListener=function(f,g,v,_){var T=r?r+f:f;if(!this._events[T])return this;if(!g)return l(this,T),this;var z=this._events[T];if(z.fn)z.fn===g&&(!_||z.once)&&(!v||z.context===v)&&l(this,T);else{for(var I=0,k=[],C=z.length;I<C;I++)(z[I].fn!==g||_&&!z[I].once||v&&z[I].context!==v)&&k.push(z[I]);k.length?this._events[T]=k.length===1?k[0]:k:l(this,T)}return this},a.prototype.removeAllListeners=function(f){var g;return f?(g=r?r+f:f,this._events[g]&&l(this,g)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(Iee);var $4e=Iee.exports;const K4e=Mc($4e);class eo extends Error{constructor(t,r){super(t),this.error=r}}class Bm extends eo{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class q4e extends eo{constructor(){super(...arguments),this.name="WalletLoadError"}}class jg extends eo{constructor(){super(...arguments),this.name="WalletConfigError"}}class Fm extends eo{constructor(){super(...arguments),this.name="WalletConnectionError"}}class bD extends eo{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class xD extends eo{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class hm extends eo{constructor(){super(...arguments),this.name="WalletAccountError"}}class ky extends eo{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class ya extends eo{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class bd extends eo{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class hc extends eo{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class N9 extends eo{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class ZW extends eo{constructor(){super(...arguments),this.name="WalletSignInError"}}var vn;(function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"})(vn||(vn={}));class Cee extends K4e{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,r,n={}){const i=this.publicKey;if(!i)throw new ya;return t.feePayer=t.feePayer||i,t.recentBlockhash=t.recentBlockhash||(await r.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,t}}function Dee(e){if(typeof window>"u"||typeof document>"u")return;const t=[];function r(){if(e())for(const s of t)s()}const n=setInterval(r,1e3);t.push(()=>clearInterval(n)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",r,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",r))),document.readyState!=="complete"&&(window.addEventListener("load",r,{once:!0}),t.push(()=>window.removeEventListener("load",r))),r()}function nk(){if(!navigator)return!1;const e=navigator.userAgent.toLowerCase(),t=e.includes("iphone")||e.includes("ipad"),r=e.includes("safari");return t&&r}function xd(e){return"version"in e}class G4e extends Cee{async sendTransaction(t,r,n={}){let i=!0;try{if(xd(t)){if(!this.supportedTransactionVersions)throw new bd("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new bd(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const s=t.serialize();return await r.sendRawTransaction(s,n)}catch(s){throw s instanceof hc?(i=!1,s):new bd(s==null?void 0:s.message,s)}}else try{const{signers:s,...l}=n;t=await this.prepareTransaction(t,r,l),s!=null&&s.length&&t.partialSign(...s),t=await this.signTransaction(t);const a=t.serialize();return await r.sendRawTransaction(a,l)}catch(s){throw s instanceof hc?(i=!1,s):new bd(s==null?void 0:s.message,s)}}catch(s){throw i&&this.emit("error",s),s}}async signAllTransactions(t){for(const n of t)if(xd(n)){if(!this.supportedTransactionVersions)throw new hc("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new hc(`Signing transaction version ${n.version} isn't supported by this wallet`)}const r=[];for(const n of t)r.push(await this.signTransaction(n));return r}}class wD extends G4e{}class H4e extends wD{}const ns="solana:signAndSendTransaction",Mm="solana:signIn",gd="solana:signMessage",Ki="solana:signTransaction",L9="standard:connect",_8="standard:disconnect",O9="standard:events";function Z4e(e){return L9 in e.features&&O9 in e.features&&(ns in e.features||Ki in e.features)}var ik;(function(e){e.Mainnet="mainnet-beta",e.Testnet="testnet",e.Devnet="devnet"})(ik||(ik={}));const zee=R.createContext({});function B9(){return R.useContext(zee)}const Y4e=({children:e,endpoint:t,config:r={commitment:"confirmed"}})=>{const n=R.useMemo(()=>new _D(t,r),[t,r]);return dt.createElement(zee.Provider,{value:{connection:n}},e)};class YW extends eo{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const X4e=[],F9={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){oc("call","select")},connect(){return Promise.reject(oc("call","connect"))},disconnect(){return Promise.reject(oc("call","disconnect"))},sendTransaction(){return Promise.reject(oc("call","sendTransaction"))},signTransaction(){return Promise.reject(oc("call","signTransaction"))},signAllTransactions(){return Promise.reject(oc("call","signAllTransactions"))},signMessage(){return Promise.reject(oc("call","signMessage"))},signIn(){return Promise.reject(oc("call","signIn"))}};Object.defineProperty(F9,"wallets",{get(){return oc("read","wallets"),X4e}});Object.defineProperty(F9,"wallet",{get(){return oc("read","wallet"),null}});Object.defineProperty(F9,"publicKey",{get(){return oc("read","publicKey"),null}});function oc(e,t){const r=new Error(`You have tried to ${e} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(r),r}const Ree=R.createContext(F9);function Iy(){return R.useContext(Ree)}function Q4e(e,t){const r=R.useState(()=>{try{const s=localStorage.getItem(e);if(s)return JSON.parse(s)}catch(s){typeof window<"u"&&console.error(s)}return t}),n=r[0],i=R.useRef(!0);return R.useEffect(()=>{if(i.current){i.current=!1;return}try{n===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(n))}catch(s){typeof window<"u"&&console.error(s)}},[n,e]),r}var J4e=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Nee={},al={};let SD;const e6e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];al.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};al.getSymbolTotalCodewords=function(t){return e6e[t]};al.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};al.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');SD=t};al.isKanjiModeEnabled=function(){return typeof SD<"u"};al.toSJIS=function(t){return SD(t)};var j9={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,i){if(e.isValid(n))return n;try{return t(n)}catch{return i}}})(j9);function Lee(){this.buffer=[],this.length=0}Lee.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var t6e=Lee;function O4(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}O4.prototype.set=function(e,t,r,n){const i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)};O4.prototype.get=function(e,t){return this.data[e*this.size+t]};O4.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};O4.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var r6e=O4,Oee={};(function(e){const t=al.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=t(n),l=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let p=1;p<i-1;p++)a[p]=a[p-1]-l;return a.push(6),a.reverse()},e.getPositions=function(n){const i=[],s=e.getRowColCoords(n),l=s.length;for(let a=0;a<l;a++)for(let p=0;p<l;p++)a===0&&p===0||a===0&&p===l-1||a===l-1&&p===0||i.push([s[a],s[p]]);return i}})(Oee);var Bee={};const n6e=al.getSymbolSize,XW=7;Bee.getPositions=function(t){const r=n6e(t);return[[0,0],[r-XW,0],[0,r-XW]]};var Fee={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let l=0,a=0,p=0,f=null,g=null;for(let v=0;v<s;v++){a=p=0,f=g=null;for(let _=0;_<s;_++){let T=i.get(v,_);T===f?a++:(a>=5&&(l+=t.N1+(a-5)),f=T,a=1),T=i.get(_,v),T===g?p++:(p>=5&&(l+=t.N1+(p-5)),g=T,p=1)}a>=5&&(l+=t.N1+(a-5)),p>=5&&(l+=t.N1+(p-5))}return l},e.getPenaltyN2=function(i){const s=i.size;let l=0;for(let a=0;a<s-1;a++)for(let p=0;p<s-1;p++){const f=i.get(a,p)+i.get(a,p+1)+i.get(a+1,p)+i.get(a+1,p+1);(f===4||f===0)&&l++}return l*t.N2},e.getPenaltyN3=function(i){const s=i.size;let l=0,a=0,p=0;for(let f=0;f<s;f++){a=p=0;for(let g=0;g<s;g++)a=a<<1&2047|i.get(f,g),g>=10&&(a===1488||a===93)&&l++,p=p<<1&2047|i.get(g,f),g>=10&&(p===1488||p===93)&&l++}return l*t.N3},e.getPenaltyN4=function(i){let s=0;const l=i.data.length;for(let p=0;p<l;p++)s+=i.data[p];return Math.abs(Math.ceil(s*100/l/5)-10)*t.N4};function r(n,i,s){switch(n){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(i,s){const l=s.size;for(let a=0;a<l;a++)for(let p=0;p<l;p++)s.isReserved(p,a)||s.xor(p,a,r(i,p,a))},e.getBestMask=function(i,s){const l=Object.keys(e.Patterns).length;let a=0,p=1/0;for(let f=0;f<l;f++){s(f),e.applyMask(f,i);const g=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(f,i),g<p&&(p=g,a=f)}return a}})(Fee);var V9={};const Gp=j9,n3=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i3=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];V9.getBlocksCount=function(t,r){switch(r){case Gp.L:return n3[(t-1)*4+0];case Gp.M:return n3[(t-1)*4+1];case Gp.Q:return n3[(t-1)*4+2];case Gp.H:return n3[(t-1)*4+3];default:return}};V9.getTotalCodewordsCount=function(t,r){switch(r){case Gp.L:return i3[(t-1)*4+0];case Gp.M:return i3[(t-1)*4+1];case Gp.Q:return i3[(t-1)*4+2];case Gp.H:return i3[(t-1)*4+3];default:return}};var jee={},U9={};const mx=new Uint8Array(512),b8=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)mx[r]=t,b8[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)mx[r]=mx[r-255]})();U9.log=function(t){if(t<1)throw new Error("log("+t+")");return b8[t]};U9.exp=function(t){return mx[t]};U9.mul=function(t,r){return t===0||r===0?0:mx[b8[t]+b8[r]]};(function(e){const t=U9;e.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let l=0;l<n.length;l++)for(let a=0;a<i.length;a++)s[l+a]^=t.mul(n[l],i[a]);return s},e.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const l=s[0];for(let p=0;p<i.length;p++)s[p]^=t.mul(i[p],l);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},e.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}})(jee);const Vee=jee;function ED(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}ED.prototype.initialize=function(t){this.degree=t,this.genPoly=Vee.generateECPolynomial(this.degree)};ED.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=Vee.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(n,i),s}return n};var i6e=ED,Uee={},Kh={},AD={};AD.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var vu={};const Wee="[0-9]+",a6e="[A-Z $%*+\\-./:]+";let t4="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t4=t4.replace(/u/g,"\\u");const o6e="(?:(?![A-Z0-9 $%*+\\-./:]|"+t4+`)(?:.|[\r
]))+`;vu.KANJI=new RegExp(t4,"g");vu.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");vu.BYTE=new RegExp(o6e,"g");vu.NUMERIC=new RegExp(Wee,"g");vu.ALPHANUMERIC=new RegExp(a6e,"g");const s6e=new RegExp("^"+t4+"$"),l6e=new RegExp("^"+Wee+"$"),c6e=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");vu.testKanji=function(t){return s6e.test(t)};vu.testNumeric=function(t){return l6e.test(t)};vu.testAlphanumeric=function(t){return c6e.test(t)};(function(e){const t=AD,r=vu;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,l){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?s.ccBits[0]:l<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return r.testNumeric(s)?e.NUMERIC:r.testAlphanumeric(s)?e.ALPHANUMERIC:r.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,l){if(e.isValid(s))return s;try{return n(s)}catch{return l}}})(Kh);(function(e){const t=al,r=V9,n=j9,i=Kh,s=AD,l=7973,a=t.getBCHDigit(l);function p(_,T,z){for(let I=1;I<=40;I++)if(T<=e.getCapacity(I,z,_))return I}function f(_,T){return i.getCharCountIndicator(_,T)+4}function g(_,T){let z=0;return _.forEach(function(I){const k=f(I.mode,T);z+=k+I.getBitsLength()}),z}function v(_,T){for(let z=1;z<=40;z++)if(g(_,z)<=e.getCapacity(z,T,i.MIXED))return z}e.from=function(T,z){return s.isValid(T)?parseInt(T,10):z},e.getCapacity=function(T,z,I){if(!s.isValid(T))throw new Error("Invalid QR Code version");typeof I>"u"&&(I=i.BYTE);const k=t.getSymbolTotalCodewords(T),C=r.getTotalCodewordsCount(T,z),L=(k-C)*8;if(I===i.MIXED)return L;const N=L-f(I,T);switch(I){case i.NUMERIC:return Math.floor(N/10*3);case i.ALPHANUMERIC:return Math.floor(N/11*2);case i.KANJI:return Math.floor(N/13);case i.BYTE:default:return Math.floor(N/8)}},e.getBestVersionForData=function(T,z){let I;const k=n.from(z,n.M);if(Array.isArray(T)){if(T.length>1)return v(T,k);if(T.length===0)return 1;I=T[0]}else I=T;return p(I.mode,I.getLength(),k)},e.getEncodedBits=function(T){if(!s.isValid(T)||T<7)throw new Error("Invalid QR Code version");let z=T<<12;for(;t.getBCHDigit(z)-a>=0;)z^=l<<t.getBCHDigit(z)-a;return T<<12|z}})(Uee);var $ee={};const ak=al,Kee=1335,u6e=21522,QW=ak.getBCHDigit(Kee);$ee.getEncodedBits=function(t,r){const n=t.bit<<3|r;let i=n<<10;for(;ak.getBCHDigit(i)-QW>=0;)i^=Kee<<ak.getBCHDigit(i)-QW;return(n<<10|i)^u6e};var qee={};const d6e=Kh;function Cy(e){this.mode=d6e.NUMERIC,this.data=e.toString()}Cy.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Cy.prototype.getLength=function(){return this.data.length};Cy.prototype.getBitsLength=function(){return Cy.getBitsLength(this.data.length)};Cy.prototype.write=function(t){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),t.put(i,10);const s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),t.put(i,s*3+1))};var p6e=Cy;const h6e=Kh,kA=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Dy(e){this.mode=h6e.ALPHANUMERIC,this.data=e}Dy.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Dy.prototype.getLength=function(){return this.data.length};Dy.prototype.getBitsLength=function(){return Dy.getBitsLength(this.data.length)};Dy.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=kA.indexOf(this.data[r])*45;n+=kA.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(kA.indexOf(this.data[r]),6)};var f6e=Dy;const m6e=Kh;function zy(e){this.mode=m6e.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}zy.getBitsLength=function(t){return t*8};zy.prototype.getLength=function(){return this.data.length};zy.prototype.getBitsLength=function(){return zy.getBitsLength(this.data.length)};zy.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var g6e=zy;const y6e=Kh,v6e=al;function Ry(e){this.mode=y6e.KANJI,this.data=e}Ry.getBitsLength=function(t){return t*13};Ry.prototype.getLength=function(){return this.data.length};Ry.prototype.getBitsLength=function(){return Ry.getBitsLength(this.data.length)};Ry.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=v6e.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var _6e=Ry,Gee={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,i){var s={},l={};l[n]=0;var a=t.PriorityQueue.make();a.push(n,0);for(var p,f,g,v,_,T,z,I,k;!a.empty();){p=a.pop(),f=p.value,v=p.cost,_=r[f]||{};for(g in _)_.hasOwnProperty(g)&&(T=_[g],z=v+T,I=l[g],k=typeof l[g]>"u",(k||I>z)&&(l[g]=z,a.push(g,z),s[g]=f))}if(typeof i<"u"&&typeof l[i]>"u"){var C=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(C)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=t.single_source_shortest_paths(r,n,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Gee);var b6e=Gee.exports;(function(e){const t=Kh,r=p6e,n=f6e,i=g6e,s=_6e,l=vu,a=al,p=b6e;function f(C){return unescape(encodeURIComponent(C)).length}function g(C,L,N){const $=[];let ee;for(;(ee=C.exec(N))!==null;)$.push({data:ee[0],index:ee.index,mode:L,length:ee[0].length});return $}function v(C){const L=g(l.NUMERIC,t.NUMERIC,C),N=g(l.ALPHANUMERIC,t.ALPHANUMERIC,C);let $,ee;return a.isKanjiModeEnabled()?($=g(l.BYTE,t.BYTE,C),ee=g(l.KANJI,t.KANJI,C)):($=g(l.BYTE_KANJI,t.BYTE,C),ee=[]),L.concat(N,$,ee).sort(function(ne,ie){return ne.index-ie.index}).map(function(ne){return{data:ne.data,mode:ne.mode,length:ne.length}})}function _(C,L){switch(L){case t.NUMERIC:return r.getBitsLength(C);case t.ALPHANUMERIC:return n.getBitsLength(C);case t.KANJI:return s.getBitsLength(C);case t.BYTE:return i.getBitsLength(C)}}function T(C){return C.reduce(function(L,N){const $=L.length-1>=0?L[L.length-1]:null;return $&&$.mode===N.mode?(L[L.length-1].data+=N.data,L):(L.push(N),L)},[])}function z(C){const L=[];for(let N=0;N<C.length;N++){const $=C[N];switch($.mode){case t.NUMERIC:L.push([$,{data:$.data,mode:t.ALPHANUMERIC,length:$.length},{data:$.data,mode:t.BYTE,length:$.length}]);break;case t.ALPHANUMERIC:L.push([$,{data:$.data,mode:t.BYTE,length:$.length}]);break;case t.KANJI:L.push([$,{data:$.data,mode:t.BYTE,length:f($.data)}]);break;case t.BYTE:L.push([{data:$.data,mode:t.BYTE,length:f($.data)}])}}return L}function I(C,L){const N={},$={start:{}};let ee=["start"];for(let re=0;re<C.length;re++){const ne=C[re],ie=[];for(let me=0;me<ne.length;me++){const Ze=ne[me],et=""+re+me;ie.push(et),N[et]={node:Ze,lastCount:0},$[et]={};for(let Ke=0;Ke<ee.length;Ke++){const ye=ee[Ke];N[ye]&&N[ye].node.mode===Ze.mode?($[ye][et]=_(N[ye].lastCount+Ze.length,Ze.mode)-_(N[ye].lastCount,Ze.mode),N[ye].lastCount+=Ze.length):(N[ye]&&(N[ye].lastCount=Ze.length),$[ye][et]=_(Ze.length,Ze.mode)+4+t.getCharCountIndicator(Ze.mode,L))}}ee=ie}for(let re=0;re<ee.length;re++)$[ee[re]].end=0;return{map:$,table:N}}function k(C,L){let N;const $=t.getBestModeForData(C);if(N=t.from(L,$),N!==t.BYTE&&N.bit<$.bit)throw new Error('"'+C+'" cannot be encoded with mode '+t.toString(N)+`.
 Suggested mode is: `+t.toString($));switch(N===t.KANJI&&!a.isKanjiModeEnabled()&&(N=t.BYTE),N){case t.NUMERIC:return new r(C);case t.ALPHANUMERIC:return new n(C);case t.KANJI:return new s(C);case t.BYTE:return new i(C)}}e.fromArray=function(L){return L.reduce(function(N,$){return typeof $=="string"?N.push(k($,null)):$.data&&N.push(k($.data,$.mode)),N},[])},e.fromString=function(L,N){const $=v(L,a.isKanjiModeEnabled()),ee=z($),re=I(ee,N),ne=p.find_path(re.map,"start","end"),ie=[];for(let me=1;me<ne.length-1;me++)ie.push(re.table[ne[me]].node);return e.fromArray(T(ie))},e.rawSplit=function(L){return e.fromArray(v(L,a.isKanjiModeEnabled()))}})(qee);const W9=al,IA=j9,x6e=t6e,w6e=r6e,S6e=Oee,E6e=Bee,ok=Fee,sk=V9,A6e=i6e,x8=Uee,T6e=$ee,M6e=Kh,CA=qee;function P6e(e,t){const r=e.size,n=E6e.getPositions(t);for(let i=0;i<n.length;i++){const s=n[i][0],l=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let p=-1;p<=7;p++)l+p<=-1||r<=l+p||(a>=0&&a<=6&&(p===0||p===6)||p>=0&&p<=6&&(a===0||a===6)||a>=2&&a<=4&&p>=2&&p<=4?e.set(s+a,l+p,!0,!0):e.set(s+a,l+p,!1,!0))}}function k6e(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function I6e(e,t){const r=S6e.getPositions(t);for(let n=0;n<r.length;n++){const i=r[n][0],s=r[n][1];for(let l=-2;l<=2;l++)for(let a=-2;a<=2;a++)l===-2||l===2||a===-2||a===2||l===0&&a===0?e.set(i+l,s+a,!0,!0):e.set(i+l,s+a,!1,!0)}}function C6e(e,t){const r=e.size,n=x8.getEncodedBits(t);let i,s,l;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,l=(n>>a&1)===1,e.set(i,s,l,!0),e.set(s,i,l,!0)}function DA(e,t,r){const n=e.size,i=T6e.getEncodedBits(t,r);let s,l;for(s=0;s<15;s++)l=(i>>s&1)===1,s<6?e.set(s,8,l,!0):s<8?e.set(s+1,8,l,!0):e.set(n-15+s,8,l,!0),s<8?e.set(8,n-s-1,l,!0):s<9?e.set(8,15-s-1+1,l,!0):e.set(8,15-s-1,l,!0);e.set(n-8,8,1,!0)}function D6e(e,t){const r=e.size;let n=-1,i=r-1,s=7,l=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let p=0;p<2;p++)if(!e.isReserved(i,a-p)){let f=!1;l<t.length&&(f=(t[l]>>>s&1)===1),e.set(i,a-p,f),s--,s===-1&&(l++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function z6e(e,t,r){const n=new x6e;r.forEach(function(p){n.put(p.mode.bit,4),n.put(p.getLength(),M6e.getCharCountIndicator(p.mode,e)),p.write(n)});const i=W9.getSymbolTotalCodewords(e),s=sk.getTotalCodewordsCount(e,t),l=(i-s)*8;for(n.getLengthInBits()+4<=l&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(l-n.getLengthInBits())/8;for(let p=0;p<a;p++)n.put(p%2?17:236,8);return R6e(n,e,t)}function R6e(e,t,r){const n=W9.getSymbolTotalCodewords(t),i=sk.getTotalCodewordsCount(t,r),s=n-i,l=sk.getBlocksCount(t,r),a=n%l,p=l-a,f=Math.floor(n/l),g=Math.floor(s/l),v=g+1,_=f-g,T=new A6e(_);let z=0;const I=new Array(l),k=new Array(l);let C=0;const L=new Uint8Array(e.buffer);for(let ne=0;ne<l;ne++){const ie=ne<p?g:v;I[ne]=L.slice(z,z+ie),k[ne]=T.encode(I[ne]),z+=ie,C=Math.max(C,ie)}const N=new Uint8Array(n);let $=0,ee,re;for(ee=0;ee<C;ee++)for(re=0;re<l;re++)ee<I[re].length&&(N[$++]=I[re][ee]);for(ee=0;ee<_;ee++)for(re=0;re<l;re++)N[$++]=k[re][ee];return N}function N6e(e,t,r,n){let i;if(Array.isArray(e))i=CA.fromArray(e);else if(typeof e=="string"){let f=t;if(!f){const g=CA.rawSplit(e);f=x8.getBestVersionForData(g,r)}i=CA.fromString(e,f||40)}else throw new Error("Invalid data");const s=x8.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const l=z6e(t,r,i),a=W9.getSymbolSize(t),p=new w6e(a);return P6e(p,t),k6e(p),I6e(p,t),DA(p,r,0),t>=7&&C6e(p,t),D6e(p,l),isNaN(n)&&(n=ok.getBestMask(p,DA.bind(null,p,r))),ok.applyMask(n,p),DA(p,r,n),{modules:p,version:t,errorCorrectionLevel:r,maskPattern:n,segments:i}}Nee.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=IA.M,i,s;return typeof r<"u"&&(n=IA.from(r.errorCorrectionLevel,IA.M),i=x8.from(r.version),s=ok.from(r.maskPattern),r.toSJISFunc&&W9.setToSJISFunction(r.toSJISFunc)),N6e(t,i,n,s)};var Hee={},TD={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,l=n.scale||4;return{width:s,scale:s?4:l,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},e.getImageWidth=function(n,i){const s=e.getScale(n,i);return Math.floor((n+i.margin*2)*s)},e.qrToImageData=function(n,i,s){const l=i.modules.size,a=i.modules.data,p=e.getScale(l,s),f=Math.floor((l+s.margin*2)*p),g=s.margin*p,v=[s.color.light,s.color.dark];for(let _=0;_<f;_++)for(let T=0;T<f;T++){let z=(_*f+T)*4,I=s.color.light;if(_>=g&&T>=g&&_<f-g&&T<f-g){const k=Math.floor((_-g)/p),C=Math.floor((T-g)/p);I=v[a[k*l+C]?1:0]}n[z++]=I.r,n[z++]=I.g,n[z++]=I.b,n[z]=I.a}}})(TD);(function(e){const t=TD;function r(i,s,l){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=l,s.width=l,s.style.height=l+"px",s.style.width=l+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,l,a){let p=a,f=l;typeof p>"u"&&(!l||!l.getContext)&&(p=l,l=void 0),l||(f=n()),p=t.getOptions(p);const g=t.getImageWidth(s.modules.size,p),v=f.getContext("2d"),_=v.createImageData(g,g);return t.qrToImageData(_.data,s,p),r(v,f,g),v.putImageData(_,0,0),f},e.renderToDataURL=function(s,l,a){let p=a;typeof p>"u"&&(!l||!l.getContext)&&(p=l,l=void 0),p||(p={});const f=e.render(s,l,p),g=p.type||"image/png",v=p.rendererOpts||{};return f.toDataURL(g,v.quality)}})(Hee);var Zee={};const L6e=TD;function JW(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function zA(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function O6e(e,t,r){let n="",i=0,s=!1,l=0;for(let a=0;a<e.length;a++){const p=Math.floor(a%t),f=Math.floor(a/t);!p&&!s&&(s=!0),e[a]?(l++,a>0&&p>0&&e[a-1]||(n+=s?zA("M",p+r,.5+f+r):zA("m",i,0),i=0,s=!1),p+1<t&&e[a+1]||(n+=zA("h",l),l=0)):i++}return n}Zee.render=function(t,r,n){const i=L6e.getOptions(r),s=t.modules.size,l=t.modules.data,a=s+i.margin*2,p=i.color.light.a?"<path "+JW(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",f="<path "+JW(i.color.dark,"stroke")+' d="'+O6e(l,s,i.margin)+'"/>',g='viewBox="0 0 '+a+" "+a+'"',_='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+g+' shape-rendering="crispEdges">'+p+f+`</svg>
`;return typeof n=="function"&&n(null,_),_};const B6e=J4e,lk=Nee,Yee=Hee,F6e=Zee;function MD(e,t,r,n,i){const s=[].slice.call(arguments,1),l=s.length,a=typeof s[l-1]=="function";if(!a&&!B6e())throw new Error("Callback required as last argument");if(a){if(l<2)throw new Error("Too few arguments provided");l===2?(i=r,r=t,t=n=void 0):l===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=t,t=void 0))}else{if(l<1)throw new Error("Too few arguments provided");return l===1?(r=t,t=n=void 0):l===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(p,f){try{const g=lk.create(r,n);p(e(g,t,n))}catch(g){f(g)}})}try{const p=lk.create(r,n);i(null,e(p,t,n))}catch(p){i(p)}}lk.create;MD.bind(null,Yee.render);MD.bind(null,Yee.renderToDataURL);MD.bind(null,function(e,t,r){return F6e.render(e,r)});const r4="solana:mainnet",Xee="solana:devnet",Qee="solana:testnet",j6e="solana:localnet";function RA(e){switch(e){case"processed":case"confirmed":case"finalized":case void 0:return e;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const V6e="https://api.mainnet-beta.solana.com";function U6e(e){return e.includes(V6e)?r4:/\bdevnet\b/i.test(e)?Xee:/\btestnet\b/i.test(e)?Qee:/\blocalhost\b/i.test(e)||/\b127\.0\.0\.1\b/.test(e)?j6e:r4}function W6e(e){let t=`${e.domain} wants you to sign in with your Solana account:
`;t+=`${e.address}`,e.statement&&(t+=`

${e.statement}`);const r=[];if(e.uri&&r.push(`URI: ${e.uri}`),e.version&&r.push(`Version: ${e.version}`),e.chainId&&r.push(`Chain ID: ${e.chainId}`),e.nonce&&r.push(`Nonce: ${e.nonce}`),e.issuedAt&&r.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&r.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&r.push(`Not Before: ${e.notBefore}`),e.requestId&&r.push(`Request ID: ${e.requestId}`),e.resources){r.push("Resources:");for(const n of e.resources)r.push(`- ${n}`)}return r.length&&(t+=`

${r.join(`
`)}`),t}const zd={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class Rd extends Error{constructor(...t){const[r,n,i]=t;super(n),this.code=r,this.data=i,this.name="SolanaMobileWalletAdapterError"}}class Jee extends Error{constructor(...t){const[r,n,i,s]=t;super(i),this.code=n,this.data=s,this.jsonRpcMessageId=r,this.name="SolanaMobileWalletAdapterProtocolError"}}function Pa(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function a(g){try{f(n.next(g))}catch(v){l(v)}}function p(g){try{f(n.throw(g))}catch(v){l(v)}}function f(g){g.done?s(g.value):i(g.value).then(a,p)}f((n=n.apply(e,t||[])).next())})}function $6e(e){return window.btoa(e)}function NA(e,t){return Pa(this,void 0,void 0,function*(){const r=yield crypto.subtle.exportKey("raw",e),n=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,r),i=new Uint8Array(r.byteLength+n.byteLength);return i.set(new Uint8Array(r),0),i.set(new Uint8Array(n),r.byteLength),i})}function K6e(e){return W6e(e)}function q6e(e){return $6e(K6e(e))}const G6e="solana:signTransactions",e$="solana:cloneAuthorization";function H6e(e,t){return new Proxy({},{get(r,n){return n==="then"?null:(r[n]==null&&(r[n]=function(i){return Pa(this,void 0,void 0,function*(){const{method:s,params:l}=Z6e(n,i,e),a=yield t(s,l);return s==="authorize"&&l.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield X6e(l.sign_in_payload,a,t)),Y6e(n,a,e)})}),r[n])},defineProperty(){return!1},deleteProperty(){return!1}})}function Z6e(e,t,r){let n=t,i=e.toString().replace(/[A-Z]/g,s=>`_${s.toLowerCase()}`).toLowerCase();switch(e){case"authorize":{let{chain:s}=n;if(r==="legacy"){switch(s){case"solana:testnet":{s="testnet";break}case"solana:devnet":{s="devnet";break}case"solana:mainnet":{s="mainnet-beta";break}default:s=n.cluster}n.cluster=s}else{switch(s){case"testnet":case"devnet":{s=`solana:${s}`;break}case"mainnet-beta":{s="solana:mainnet";break}}n.chain=s}}case"reauthorize":{const{auth_token:s,identity:l}=n;if(s)switch(r){case"legacy":{i="reauthorize",n={auth_token:s,identity:l};break}default:{i="authorize";break}}break}}return{method:i,params:n}}function Y6e(e,t,r){switch(e){case"getCapabilities":{const n=t;switch(r){case"legacy":{const i=[G6e];return n.supports_clone_authorization===!0&&i.push(e$),Object.assign(Object.assign({},n),{features:i})}case"v1":return Object.assign(Object.assign({},n),{supports_sign_and_send_transactions:!0,supports_clone_authorization:n.features.includes(e$)})}}}return t}function X6e(e,t,r){var n;return Pa(this,void 0,void 0,function*(){const i=(n=e.domain)!==null&&n!==void 0?n:window.location.host,s=t.accounts[0].address,l=q6e(Object.assign(Object.assign({},e),{domain:i,address:s})),a=yield r("sign_messages",{addresses:[s],payloads:[l]});return{address:s,signed_message:l,signature:a.signed_payloads[0].slice(l.length)}})}const fm=4;function Q6e(e){if(e>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(fm);return new DataView(t).setUint32(0,e,!1),new Uint8Array(t)}const ck=12,ete=65;function J6e(e,t,r){return Pa(this,void 0,void 0,function*(){const n=Q6e(t),i=new Uint8Array(ck);crypto.getRandomValues(i);const s=yield crypto.subtle.encrypt(rte(n,i),r,new TextEncoder().encode(e)),l=new Uint8Array(n.byteLength+i.byteLength+s.byteLength);return l.set(new Uint8Array(n),0),l.set(new Uint8Array(i),n.byteLength),l.set(new Uint8Array(s),n.byteLength+i.byteLength),l})}function tte(e,t){return Pa(this,void 0,void 0,function*(){const r=e.slice(0,fm),n=e.slice(fm,fm+ck),i=e.slice(fm+ck),s=yield crypto.subtle.decrypt(rte(r,n),t,i);return ewe().decode(s)})}function rte(e,t){return{additionalData:e,iv:t,name:"AES-GCM",tagLength:128}}let LA;function ewe(){return LA===void 0&&(LA=new TextDecoder("utf-8")),LA}function twe(){return Pa(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function OA(){return Pa(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function rwe(e){let t="";const r=new Uint8Array(e),n=r.byteLength;for(let i=0;i<n;i++)t+=String.fromCharCode(r[i]);return window.btoa(t)}function nwe(){return nte(49152+Math.floor(Math.random()*(65535-49152+1)))}function nte(e){if(e<49152||e>65535)throw new Rd(zd.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${e} given.`,{port:e});return e}function iwe(e){return e.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])}const awe="solana-wallet";function t$(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function owe(e,t){let r=null;if(t){try{r=new URL(t)}catch{}if((r==null?void 0:r.protocol)!=="https:")throw new Rd(zd.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}r||(r=new URL(`${awe}:/`));const n=e.startsWith("/")?e:[...t$(r.pathname),...t$(e)].join("/");return new URL(n,r)}function swe(e,t,r,n=["v1"]){return Pa(this,void 0,void 0,function*(){const i=nte(t),s=yield crypto.subtle.exportKey("raw",e),l=rwe(s),a=owe("v1/associate/local",r);return a.searchParams.set("association",iwe(l)),a.searchParams.set("port",`${i}`),n.forEach(p=>{a.searchParams.set("v",p)}),a})}function lwe(e,t){return Pa(this,void 0,void 0,function*(){const r=JSON.stringify(e),n=e.id;return J6e(r,n,t)})}function cwe(e,t){return Pa(this,void 0,void 0,function*(){const r=yield tte(e,t),n=JSON.parse(r);if(Object.hasOwnProperty.call(n,"error"))throw new Jee(n.id,n.error.code,n.error.message);return n})}function uwe(e,t,r){return Pa(this,void 0,void 0,function*(){const[n,i]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",e.slice(0,ete),{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:i},r,256),l=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(n),info:new Uint8Array},l,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function dwe(e,t){return Pa(this,void 0,void 0,function*(){const r=yield tte(e,t),n=JSON.parse(r);let i="legacy";if(Object.hasOwnProperty.call(n,"v"))switch(n.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new Rd(zd.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${n.v}`)}return{protocol_version:i}})}const w8={Firefox:0,Other:1};function pwe(){return navigator.userAgent.indexOf("Firefox/")!==-1?w8.Firefox:w8.Other}function hwe(){return new Promise((e,t)=>{function r(){clearTimeout(i),window.removeEventListener("blur",n)}function n(){r(),e()}window.addEventListener("blur",n);const i=setTimeout(()=>{r(),t()},3e3)})}let wb=null;function fwe(e){wb==null&&(wb=document.createElement("iframe"),wb.style.display="none",document.body.appendChild(wb)),wb.contentWindow.location.href=e.toString()}function mwe(e){return Pa(this,void 0,void 0,function*(){if(e.protocol==="https:")window.location.assign(e);else try{const t=pwe();switch(t){case w8.Firefox:fwe(e);break;case w8.Other:{const r=hwe();window.location.assign(e),yield r;break}default:}}catch{throw new Rd(zd.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function gwe(e,t){return Pa(this,void 0,void 0,function*(){const r=nwe(),n=yield swe(e,r,t);return yield mwe(n),r})}const r$={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},ywe="com.solana.mobilewalletadapter.v1";function vwe(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Rd(zd.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function _we(e){let t;try{t=new URL(e)}catch{throw new Rd(zd.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(t.protocol!=="https:")throw new Rd(zd.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function n$(e){return new DataView(e).getUint32(0,!1)}function bwe(e,t){return Pa(this,void 0,void 0,function*(){vwe();const r=yield twe(),i=`ws://localhost:${yield gwe(r.publicKey,t==null?void 0:t.baseUri)}/solana-wallet`;let s;const l=(()=>{const g=[...r$.retryDelayScheduleMs];return()=>g.length>1?g.shift():g[0]})();let a=1,p=0,f={__type:"disconnected"};return new Promise((g,v)=>{let _;const T={},z=()=>Pa(this,void 0,void 0,function*(){if(f.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${f.__type}\`.`);return}_.removeEventListener("open",z);const{associationKeypair:ee}=f,re=yield OA();_.send(yield NA(re.publicKey,ee.privateKey)),f={__type:"hello_req_sent",associationPublicKey:ee.publicKey,ecdhPrivateKey:re.privateKey}}),I=ee=>{ee.wasClean?f={__type:"disconnected"}:v(new Rd(zd.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${ee.code}: ${ee.reason}).`,{closeEvent:ee})),L()},k=ee=>Pa(this,void 0,void 0,function*(){L(),Date.now()-s>=r$.timeoutMs?v(new Rd(zd.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(re=>{const ne=l();N=window.setTimeout(re,ne)}),$())}),C=ee=>Pa(this,void 0,void 0,function*(){const re=yield ee.data.arrayBuffer();switch(f.__type){case"connecting":if(re.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const ne=yield OA();_.send(yield NA(ne.publicKey,r.privateKey)),f={__type:"hello_req_sent",associationPublicKey:r.publicKey,ecdhPrivateKey:ne.privateKey};break;case"connected":try{const ie=re.slice(0,fm),me=n$(ie);if(me!==p+1)throw new Error("Encrypted message has invalid sequence number");p=me;const Ze=yield cwe(re,f.sharedSecret),et=T[Ze.id];delete T[Ze.id],et.resolve(Ze.result)}catch(ie){if(ie instanceof Jee){const me=T[ie.jsonRpcMessageId];delete T[ie.jsonRpcMessageId],me.reject(ie)}else throw ie}break;case"hello_req_sent":{if(re.byteLength===0){const Ke=yield OA();_.send(yield NA(Ke.publicKey,r.privateKey)),f={__type:"hello_req_sent",associationPublicKey:r.publicKey,ecdhPrivateKey:Ke.privateKey};break}const ie=yield uwe(re,f.associationPublicKey,f.ecdhPrivateKey),me=re.slice(ete),Ze=me.byteLength!==0?yield(()=>Pa(this,void 0,void 0,function*(){const Ke=me.slice(0,fm),ye=n$(Ke);if(ye!==p+1)throw new Error("Encrypted message has invalid sequence number");return p=ye,dwe(me,ie)}))():{protocol_version:"legacy"};f={__type:"connected",sharedSecret:ie,sessionProperties:Ze};const et=H6e(Ze.protocol_version,(Ke,ye)=>Pa(this,void 0,void 0,function*(){const j=a++;return _.send(yield lwe({id:j,jsonrpc:"2.0",method:Ke,params:ye??{}},ie)),new Promise((Z,oe)=>{T[j]={resolve(le){switch(Ke){case"authorize":case"reauthorize":{const{wallet_uri_base:Q}=le;if(Q!=null)try{_we(Q)}catch(ce){oe(ce);return}break}}Z(le)},reject:oe}})}));try{g(yield e(et))}catch(Ke){v(Ke)}finally{L(),_.close()}break}}});let L,N;const $=()=>{L&&L(),f={__type:"connecting",associationKeypair:r},s===void 0&&(s=Date.now()),_=new WebSocket(i,[ywe]),_.addEventListener("open",z),_.addEventListener("close",I),_.addEventListener("error",k),_.addEventListener("message",C),L=()=>{window.clearTimeout(N),_.removeEventListener("open",z),_.removeEventListener("close",I),_.removeEventListener("error",k),_.removeEventListener("message",C)}};$()})})}function xwe(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=n}var l=e.length,a=e.charAt(0),p=Math.log(l)/Math.log(256),f=Math.log(256)/Math.log(l);function g(T){if(T instanceof Uint8Array||(ArrayBuffer.isView(T)?T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength):Array.isArray(T)&&(T=Uint8Array.from(T))),!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(T.length===0)return"";for(var z=0,I=0,k=0,C=T.length;k!==C&&T[k]===0;)k++,z++;for(var L=(C-k)*f+1>>>0,N=new Uint8Array(L);k!==C;){for(var $=T[k],ee=0,re=L-1;($!==0||ee<I)&&re!==-1;re--,ee++)$+=256*N[re]>>>0,N[re]=$%l>>>0,$=$/l>>>0;if($!==0)throw new Error("Non-zero carry");I=ee,k++}for(var ne=L-I;ne!==L&&N[ne]===0;)ne++;for(var ie=a.repeat(z);ne<L;++ne)ie+=e.charAt(N[ne]);return ie}function v(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return new Uint8Array;for(var z=0,I=0,k=0;T[z]===a;)I++,z++;for(var C=(T.length-z)*p+1>>>0,L=new Uint8Array(C);T[z];){var N=T.charCodeAt(z);if(N>255)return;var $=t[N];if($===255)return;for(var ee=0,re=C-1;($!==0||ee<k)&&re!==-1;re--,ee++)$+=l*L[re]>>>0,L[re]=$%256>>>0,$=$/256>>>0;if($!==0)throw new Error("Non-zero carry");k=ee,z++}for(var ne=C-k;ne!==C&&L[ne]===0;)ne++;for(var ie=new Uint8Array(I+(C-ne)),me=I;ne!==C;)ie[me++]=L[ne++];return ie}function _(T){var z=v(T);if(z)return z;throw new Error("Non-base"+l+" character")}return{encode:g,decodeUnsafe:v,decode:_}}var wwe=xwe;const Swe=wwe,Ewe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var Awe=Swe(Ewe);const Twe=Mc(Awe);function BA(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function o5(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function a(g){try{f(n.next(g))}catch(v){l(v)}}function p(g){try{f(n.throw(g))}catch(v){l(v)}}function f(g){g.done?s(g.value):i(g.value).then(a,p)}f((n=n.apply(e,t||[])).next())})}function ite(e){return window.btoa(String.fromCharCode.call(null,...e))}function FA(e){return new Uint8Array(window.atob(e).split("").map(t=>t.charCodeAt(0)))}function i$(e){const t="version"in e?e.serialize():e.serialize({requireAllSignatures:!1,verifySignatures:!1});return ite(t)}function Mwe(e){const r=e[0]*Jx+1;return D9.deserializeMessageVersion(e.slice(r,e.length))==="legacy"?wl.from(e):du.deserialize(e)}function Pwe(e,t){return o5(this,void 0,void 0,function*(){return yield bwe(n=>e(kwe(n)),t)})}function kwe(e){return new Proxy({},{get(t,r){if(t[r]==null)switch(r){case"signAndSendTransactions":t[r]=function(n){var{minContextSlot:i,commitment:s,skipPreflight:l,maxRetries:a,waitForCommitmentToSendNextTransaction:p,transactions:f}=n,g=BA(n,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return o5(this,void 0,void 0,function*(){const v=f.map(i$),_={min_context_slot:i,commitment:s,skip_preflight:l,max_retries:a,wait_for_commitment_to_send_next_transaction:p},{signatures:T}=yield e.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},g),Object.values(_).some(I=>I!=null)?{options:_}:null),{payloads:v}));return T.map(FA).map(Twe.encode)})};break;case"signMessages":t[r]=function(n){var{payloads:i}=n,s=BA(n,["payloads"]);return o5(this,void 0,void 0,function*(){const l=i.map(ite),{signed_payloads:a}=yield e.signMessages(Object.assign(Object.assign({},s),{payloads:l}));return a.map(FA)})};break;case"signTransactions":t[r]=function(n){var{transactions:i}=n,s=BA(n,["transactions"]);return o5(this,void 0,void 0,function*(){const l=i.map(i$),{signed_payloads:a}=yield e.signTransactions(Object.assign(Object.assign({},s),{payloads:l}));return a.map(FA).map(Mwe)})};break;default:{t[r]=e[r];break}}return t[r]},defineProperty(){return!1},deleteProperty(){return!1}})}function Iwe(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=n}var l=e.length,a=e.charAt(0),p=Math.log(l)/Math.log(256),f=Math.log(256)/Math.log(l);function g(T){if(T instanceof Uint8Array||(ArrayBuffer.isView(T)?T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength):Array.isArray(T)&&(T=Uint8Array.from(T))),!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(T.length===0)return"";for(var z=0,I=0,k=0,C=T.length;k!==C&&T[k]===0;)k++,z++;for(var L=(C-k)*f+1>>>0,N=new Uint8Array(L);k!==C;){for(var $=T[k],ee=0,re=L-1;($!==0||ee<I)&&re!==-1;re--,ee++)$+=256*N[re]>>>0,N[re]=$%l>>>0,$=$/l>>>0;if($!==0)throw new Error("Non-zero carry");I=ee,k++}for(var ne=L-I;ne!==L&&N[ne]===0;)ne++;for(var ie=a.repeat(z);ne<L;++ne)ie+=e.charAt(N[ne]);return ie}function v(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return new Uint8Array;for(var z=0,I=0,k=0;T[z]===a;)I++,z++;for(var C=(T.length-z)*p+1>>>0,L=new Uint8Array(C);T[z];){var N=T.charCodeAt(z);if(N>255)return;var $=t[N];if($===255)return;for(var ee=0,re=C-1;($!==0||ee<k)&&re!==-1;re--,ee++)$+=l*L[re]>>>0,L[re]=$%256>>>0,$=$/256>>>0;if($!==0)throw new Error("Non-zero carry");k=ee,z++}for(var ne=C-k;ne!==C&&L[ne]===0;)ne++;for(var ie=new Uint8Array(I+(C-ne)),me=I;ne!==C;)ie[me++]=L[ne++];return ie}function _(T){var z=v(T);if(z)return z;throw new Error("Non-base"+l+" character")}return{encode:g,decodeUnsafe:v,decode:_}}var Cwe=Iwe;const Dwe=Cwe,zwe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var Rwe=Dwe(zwe);const a$=Mc(Rwe);function ki(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function a(g){try{f(n.next(g))}catch(v){l(v)}}function p(g){try{f(n.throw(g))}catch(v){l(v)}}function f(g){g.done?s(g.value):i(g.value).then(a,p)}f((n=n.apply(e,t||[])).next())})}function Yt(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Aa(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}var Gb,Na,tm,_g,ate,ote,ste,s5;const Nwe=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,Lwe=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,Owe=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class Bwe{constructor(){Gb.add(this),Na.set(this,null),tm.set(this,{}),_g.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),Yt(this,Gb,"m",ote).call(this),Yt(this,Na,"f")&&(Yt(this,Na,"f").style.display="flex")},this.close=(t=void 0)=>{var r;console.debug("Modal close"),Yt(this,Gb,"m",ste).call(this),Yt(this,Na,"f")&&(Yt(this,Na,"f").style.display="none"),(r=Yt(this,tm,"f").close)===null||r===void 0||r.forEach(n=>n(t))},s5.set(this,t=>{t.key==="Escape"&&this.close(t)}),this.init=this.init.bind(this),Aa(this,Na,document.getElementById("mobile-wallet-adapter-embedded-root-ui"),"f")}init(){return ki(this,void 0,void 0,function*(){console.log("Injecting modal"),Yt(this,Gb,"m",ate).call(this)})}addEventListener(t,r){var n;return!((n=Yt(this,tm,"f")[t])===null||n===void 0)&&n.push(r)||(Yt(this,tm,"f")[t]=[r]),()=>this.removeEventListener(t,r)}removeEventListener(t,r){var n;Yt(this,tm,"f")[t]=(n=Yt(this,tm,"f")[t])===null||n===void 0?void 0:n.filter(i=>r!==i)}}Na=new WeakMap,tm=new WeakMap,_g=new WeakMap,s5=new WeakMap,Gb=new WeakSet,ate=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){Yt(this,Na,"f")||Aa(this,Na,document.getElementById("mobile-wallet-adapter-embedded-root-ui"),"f");return}Aa(this,Na,document.createElement("div"),"f"),Yt(this,Na,"f").id="mobile-wallet-adapter-embedded-root-ui",Yt(this,Na,"f").innerHTML=Nwe,Yt(this,Na,"f").style.display="none";const t=Yt(this,Na,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");t&&(t.innerHTML=this.contentHtml);const r=document.createElement("style");r.id="mobile-wallet-adapter-embedded-modal-styles",r.textContent=Lwe+this.contentStyles;const n=document.createElement("div");n.innerHTML=Owe,this.dom=n.attachShadow({mode:"closed"}),this.dom.appendChild(r),this.dom.appendChild(Yt(this,Na,"f")),document.body.appendChild(n)},ote=function(){if(!Yt(this,Na,"f")||Yt(this,_g,"f"))return;[...Yt(this,Na,"f").querySelectorAll("[data-modal-close]")].forEach(r=>r==null?void 0:r.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",Yt(this,s5,"f")),Aa(this,_g,!0,"f")},ste=function(){if(!Yt(this,_g,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",Yt(this,s5,"f")),!Yt(this,Na,"f")))return;[...Yt(this,Na,"f").querySelectorAll("[data-modal-close]")].forEach(r=>r==null?void 0:r.removeEventListener("click",this.close)),Aa(this,_g,!1,"f")};const Fwe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function jwe(e){return"version"in e}function Vwe(e){return window.btoa(String.fromCharCode.call(null,...e))}function a3(e){return new Uint8Array(window.atob(e).split("").map(t=>t.charCodeAt(0)))}var bg,mm,uk,dk,pk,hk,Hb,Qo,td,Pp,xg,wg,l5,Zb,c5,fk,u5,lte,mk,d5,Sg,gk,Yb,p5,Eg,Xb,h5,yk,vk,f5,_k,bk,xk,m5;const Uwe="Mobile Wallet Adapter",Wwe=64,$we=[ns,Ki,gd,Mm];class Kwe{constructor(t){bg.add(this),mm.set(this,{}),uk.set(this,"1.0.0"),dk.set(this,Uwe),pk.set(this,"https://solanamobile.com/wallets"),hk.set(this,Fwe),Hb.set(this,void 0),Qo.set(this,void 0),td.set(this,void 0),Pp.set(this,!1),xg.set(this,0),wg.set(this,[]),l5.set(this,void 0),Zb.set(this,void 0),c5.set(this,void 0),fk.set(this,(r,n)=>{var i;return!((i=Yt(this,mm,"f")[r])===null||i===void 0)&&i.push(n)||(Yt(this,mm,"f")[r]=[n]),()=>Yt(this,bg,"m",lte).call(this,r,n)}),mk.set(this,({silent:r}={})=>ki(this,void 0,void 0,function*(){if(Yt(this,Pp,"f")||this.connected)return{accounts:this.accounts};Aa(this,Pp,!0,"f");try{if(r){const n=yield Yt(this,td,"f").get();if(n)yield Yt(this,Sg,"f").call(this,n);else return{accounts:this.accounts}}else yield Yt(this,d5,"f").call(this)}catch(n){throw new Error(n instanceof Error&&n.message||"Unknown error")}finally{Aa(this,Pp,!1,"f")}return{accounts:this.accounts}})),d5.set(this,r=>ki(this,void 0,void 0,function*(){try{const n=yield Yt(this,td,"f").get();if(n)return Yt(this,Sg,"f").call(this,n),n;const i=yield Yt(this,l5,"f").select(Yt(this,wg,"f"));return yield Yt(this,Eg,"f").call(this,s=>ki(this,void 0,void 0,function*(){const[l,a]=yield Promise.all([s.getCapabilities(),s.authorize({chain:i,identity:Yt(this,Hb,"f"),sign_in_payload:r})]),p=Yt(this,h5,"f").call(this,a.accounts),f=Object.assign(Object.assign({},a),{accounts:p,chain:i});return Promise.all([Yt(this,gk,"f").call(this,l),Yt(this,td,"f").set(f),Yt(this,Sg,"f").call(this,f)]),f}))}catch(n){throw new Error(n instanceof Error&&n.message||"Unknown error")}})),Sg.set(this,r=>ki(this,void 0,void 0,function*(){var n;const i=Yt(this,Qo,"f")==null||((n=Yt(this,Qo,"f"))===null||n===void 0?void 0:n.accounts.length)!==r.accounts.length||Yt(this,Qo,"f").accounts.some((s,l)=>s.address!==r.accounts[l].address);Aa(this,Qo,r,"f"),i&&Yt(this,bg,"m",u5).call(this,"change",{accounts:this.accounts})})),gk.set(this,r=>ki(this,void 0,void 0,function*(){const n=r.features.includes("solana:signTransactions"),i=r.supports_sign_and_send_transactions,s=ns in this.features!==i||Ki in this.features!==n;Aa(this,Zb,Object.assign(Object.assign({},(i||!i&&!n)&&{[ns]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Yt(this,f5,"f")}}),n&&{[Ki]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Yt(this,_k,"f")}}),"f"),s&&Yt(this,bg,"m",u5).call(this,"change",{features:this.features})})),Yb.set(this,(r,n,i)=>ki(this,void 0,void 0,function*(){try{const s=yield r.authorize({auth_token:n,identity:Yt(this,Hb,"f"),chain:i}),l=Yt(this,h5,"f").call(this,s.accounts),a=Object.assign(Object.assign({},s),{accounts:l,chain:i});Promise.all([Yt(this,td,"f").set(a),Yt(this,Sg,"f").call(this,a)])}catch(s){throw Yt(this,p5,"f").call(this),new Error(s instanceof Error&&s.message||"Unknown error")}})),p5.set(this,()=>ki(this,void 0,void 0,function*(){var r;Yt(this,td,"f").clear(),Aa(this,Pp,!1,"f"),Aa(this,xg,(r=Yt(this,xg,"f"),r++,r),"f"),Aa(this,Qo,void 0,"f"),Yt(this,bg,"m",u5).call(this,"change",{accounts:this.accounts})})),Eg.set(this,r=>ki(this,void 0,void 0,function*(){var n;const i=(n=Yt(this,Qo,"f"))===null||n===void 0?void 0:n.wallet_uri_base,s=i?{baseUri:i}:void 0,l=Yt(this,xg,"f");try{return yield Pwe(r,s)}catch(a){throw Yt(this,xg,"f")!==l&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield Yt(this,c5,"f").call(this,this)),a}})),Xb.set(this,()=>{if(!Yt(this,Qo,"f"))throw new Error("Wallet not connected");return{authToken:Yt(this,Qo,"f").auth_token,chain:Yt(this,Qo,"f").chain}}),h5.set(this,r=>r.map(n=>{var i,s;const l=a3(n.address);return{address:a$.encode(l),publicKey:l,label:n.label,icon:n.icon,chains:(i=n.chains)!==null&&i!==void 0?i:Yt(this,wg,"f"),features:(s=n.features)!==null&&s!==void 0?s:$we}})),yk.set(this,r=>ki(this,void 0,void 0,function*(){const{authToken:n,chain:i}=Yt(this,Xb,"f").call(this);try{return yield Yt(this,Eg,"f").call(this,s=>ki(this,void 0,void 0,function*(){return yield Yt(this,Yb,"f").call(this,s,n,i),yield s.signTransactions({transactions:r})}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),vk.set(this,(r,n)=>ki(this,void 0,void 0,function*(){const{authToken:i,chain:s}=Yt(this,Xb,"f").call(this);try{return yield Yt(this,Eg,"f").call(this,l=>ki(this,void 0,void 0,function*(){const[a,p]=yield Promise.all([l.getCapabilities(),Yt(this,Yb,"f").call(this,l,i,s)]);if(a.supports_sign_and_send_transactions)return(yield l.signAndSendTransactions(Object.assign(Object.assign({},n),{transactions:[r]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(l){throw new Error(l instanceof Error&&l.message||"Unknown error")}})),f5.set(this,(...r)=>ki(this,void 0,void 0,function*(){const n=[];for(const i of r){const s=du.deserialize(i.transaction),l=yield Yt(this,vk,"f").call(this,s,i.options);n.push({signature:a$.decode(l)})}return n})),_k.set(this,(...r)=>ki(this,void 0,void 0,function*(){const n=r.map(({transaction:s})=>du.deserialize(s));return(yield Yt(this,yk,"f").call(this,n)).map(s=>({signedTransaction:jwe(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),bk.set(this,(...r)=>ki(this,void 0,void 0,function*(){const{authToken:n,chain:i}=Yt(this,Xb,"f").call(this),s=r.map(({account:a})=>Vwe(a.publicKey)),l=r.map(({message:a})=>a);try{return yield Yt(this,Eg,"f").call(this,a=>ki(this,void 0,void 0,function*(){return yield Yt(this,Yb,"f").call(this,a,n,i),(yield a.signMessages({addresses:s,payloads:l})).map(f=>({signedMessage:f,signature:f.slice(-Wwe)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),xk.set(this,(...r)=>ki(this,void 0,void 0,function*(){const n=[];if(r.length>1)for(const i of r)n.push(yield Yt(this,m5,"f").call(this,i));else return[yield Yt(this,m5,"f").call(this,r[0])];return n})),m5.set(this,r=>ki(this,void 0,void 0,function*(){var n,i;Aa(this,Pp,!0,"f");try{const s=yield Yt(this,d5,"f").call(this,Object.assign(Object.assign({},r),{domain:(n=r==null?void 0:r.domain)!==null&&n!==void 0?n:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const l=s.sign_in_result.address;return{account:Object.assign(Object.assign({},(i=s.accounts.find(p=>p.address==l))!==null&&i!==void 0?i:{address:l}),{publicKey:a3(l)}),signedMessage:a3(s.sign_in_result.signed_message),signature:a3(s.sign_in_result.signature)}}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}finally{Aa(this,Pp,!1,"f")}})),Aa(this,td,t.authorizationCache,"f"),Aa(this,Hb,t.appIdentity,"f"),Aa(this,wg,t.chains,"f"),Aa(this,l5,t.chainSelector,"f"),Aa(this,c5,t.onWalletNotFound,"f"),Aa(this,Zb,{[ns]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Yt(this,f5,"f")}},"f")}get version(){return Yt(this,uk,"f")}get name(){return Yt(this,dk,"f")}get url(){return Yt(this,pk,"f")}get icon(){return Yt(this,hk,"f")}get chains(){return Yt(this,wg,"f")}get features(){return Object.assign({[L9]:{version:"1.0.0",connect:Yt(this,mk,"f")},[_8]:{version:"1.0.0",disconnect:Yt(this,p5,"f")},[O9]:{version:"1.0.0",on:Yt(this,fk,"f")},[gd]:{version:"1.0.0",signMessage:Yt(this,bk,"f")},[Mm]:{version:"1.0.0",signIn:Yt(this,xk,"f")}},Yt(this,Zb,"f"))}get accounts(){var t,r;return(r=(t=Yt(this,Qo,"f"))===null||t===void 0?void 0:t.accounts)!==null&&r!==void 0?r:[]}get connected(){return!!Yt(this,Qo,"f")}get isAuthorized(){return!!Yt(this,Qo,"f")}get currentAuthorization(){return Yt(this,Qo,"f")}get cachedAuthorizationResult(){return Yt(this,td,"f").get()}}mm=new WeakMap,uk=new WeakMap,dk=new WeakMap,pk=new WeakMap,hk=new WeakMap,Hb=new WeakMap,Qo=new WeakMap,td=new WeakMap,Pp=new WeakMap,xg=new WeakMap,wg=new WeakMap,l5=new WeakMap,Zb=new WeakMap,c5=new WeakMap,fk=new WeakMap,mk=new WeakMap,d5=new WeakMap,Sg=new WeakMap,gk=new WeakMap,Yb=new WeakMap,p5=new WeakMap,Eg=new WeakMap,Xb=new WeakMap,h5=new WeakMap,yk=new WeakMap,vk=new WeakMap,f5=new WeakMap,_k=new WeakMap,bk=new WeakMap,xk=new WeakMap,m5=new WeakMap,bg=new WeakSet,u5=function(t,...r){var n;(n=Yt(this,mm,"f")[t])===null||n===void 0||n.forEach(i=>i.apply(null,r))},lte=function(t,r){var n;Yt(this,mm,"f")[t]=(n=Yt(this,mm,"f")[t])===null||n===void 0?void 0:n.filter(i=>r!==i)};const qwe="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",Gwe="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class Hwe extends Bwe{constructor(){super(...arguments),this.contentStyles=Ywe,this.contentHtml=Zwe}initWithError(t){super.init(),this.populateError(t)}populateError(t){var r,n;const i=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-message"),s=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-action");if(i){if(t.name==="SolanaMobileWalletAdapterError")switch(t.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=qwe,s&&s.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=Gwe,s&&(s.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${t.message}`}else console.log("Failed to locate error dialog element")}}const Zwe=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,Ywe=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function Xwe(){return ki(this,void 0,void 0,function*(){if(typeof window<"u"){const e=window.navigator.userAgent.toLowerCase(),t=new Hwe;e.includes("wv")?t.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):t.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),t.open()}})}const jA="SolanaMobileWalletAdapterDefaultAuthorizationCache";function Qwe(){let e;try{e=window.localStorage}catch{}return{clear(){return ki(this,void 0,void 0,function*(){if(e)try{e.removeItem(jA)}catch{}})},get(){return ki(this,void 0,void 0,function*(){if(e)try{const t=JSON.parse(e.getItem(jA));if(t&&t.accounts){const r=t.accounts.map(n=>Object.assign(Object.assign({},n),{publicKey:"publicKey"in n?new Uint8Array(Object.values(n.publicKey)):new Ir(n.address).toBytes()}));return Object.assign(Object.assign({},t),{accounts:r})}else return t||void 0}catch{}})},set(t){return ki(this,void 0,void 0,function*(){if(e)try{e.setItem(jA,JSON.stringify(t))}catch{}})}}}function Jwe(){return{select(e){return ki(this,void 0,void 0,function*(){return e.length===1?e[0]:e.includes(r4)?r4:e[0]})}}}function hi(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function a(g){try{f(n.next(g))}catch(v){l(v)}}function p(g){try{f(n.throw(g))}catch(v){l(v)}}function f(g){g.done?s(g.value):i(g.value).then(a,p)}f((n=n.apply(e,t||[])).next())})}function Ur(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function js(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}const wk="standard:connect",e3e="standard:disconnect",t3e="standard:events";function VA(e){return window.btoa(String.fromCharCode.call(null,...e))}function r3e(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var Wa,Wi,jp,yd,g5,sd,rm,Sk,Ek,cte,S8,y5,Np;const v5="Mobile Wallet Adapter",n3e=64;function i3e(e){return"version"in e}function ute(e){switch(e){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return e}}class a3e extends H4e{constructor(t,r){super(),Wa.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Wi.set(this,void 0),jp.set(this,!1),yd.set(this,r3e()?vn.Loadable:vn.Unsupported),g5.set(this,void 0),sd.set(this,void 0),rm.set(this,void 0),Sk.set(this,n=>hi(this,void 0,void 0,function*(){if(n.accounts&&n.accounts.length>0){Ur(this,Wa,"m",cte).call(this);const i=yield Ur(this,g5,"f").call(this,n.accounts);i!==Ur(this,sd,"f")&&(js(this,sd,i,"f"),js(this,rm,void 0,"f"),this.emit("connect",this.publicKey))}})),js(this,g5,n=>hi(this,void 0,void 0,function*(){var i;const s=yield r.addressSelector.select(n.map(({publicKey:l})=>VA(l)));return(i=n.find(({publicKey:l})=>VA(l)===s))!==null&&i!==void 0?i:n[0]}),"f"),js(this,Wi,t,"f"),Ur(this,Wi,"f").features[t3e].on("change",Ur(this,Sk,"f")),this.name=Ur(this,Wi,"f").name,this.icon=Ur(this,Wi,"f").icon,this.url=Ur(this,Wi,"f").url}get publicKey(){var t;if(!Ur(this,rm,"f")&&Ur(this,sd,"f"))try{js(this,rm,new Ir(Ur(this,sd,"f").publicKey),"f")}catch(r){throw new ky(r instanceof Error&&(r==null?void 0:r.message)||"Unknown error",r)}return(t=Ur(this,rm,"f"))!==null&&t!==void 0?t:null}get connected(){return Ur(this,Wi,"f").connected}get connecting(){return Ur(this,jp,"f")}get readyState(){return Ur(this,yd,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return hi(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return hi(this,void 0,void 0,function*(){Ur(this,Wa,"m",Ek).call(this,!0)})}connect(){return hi(this,void 0,void 0,function*(){Ur(this,Wa,"m",Ek).call(this)})}performAuthorization(t){return hi(this,void 0,void 0,function*(){try{const r=yield Ur(this,Wi,"f").cachedAuthorizationResult;return r?(yield Ur(this,Wi,"f").features[wk].connect({silent:!0}),r):(t?yield Ur(this,Wi,"f").features[Mm].signIn(t):yield Ur(this,Wi,"f").features[wk].connect(),yield yield Ur(this,Wi,"f").cachedAuthorizationResult)}catch(r){throw new Fm(r instanceof Error&&r.message||"Unknown error",r)}})}disconnect(){return hi(this,void 0,void 0,function*(){return yield Ur(this,Wa,"m",Np).call(this,()=>hi(this,void 0,void 0,function*(){js(this,jp,!1,"f"),js(this,rm,void 0,"f"),js(this,sd,void 0,"f"),yield Ur(this,Wi,"f").features[e3e].disconnect(),this.emit("disconnect")}))})}signIn(t){return hi(this,void 0,void 0,function*(){return Ur(this,Wa,"m",Np).call(this,()=>hi(this,void 0,void 0,function*(){var r;if(Ur(this,yd,"f")!==vn.Installed&&Ur(this,yd,"f")!==vn.Loadable)throw new Bm;js(this,jp,!0,"f");try{const n=yield Ur(this,Wi,"f").features[Mm].signIn(Object.assign(Object.assign({},t),{domain:(r=t==null?void 0:t.domain)!==null&&r!==void 0?r:window.location.host}));if(n.length>0)return n[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(n){throw new Fm(n instanceof Error&&n.message||"Unknown error",n)}finally{js(this,jp,!1,"f")}}))})}signMessage(t){return hi(this,void 0,void 0,function*(){return yield Ur(this,Wa,"m",Np).call(this,()=>hi(this,void 0,void 0,function*(){const r=Ur(this,Wa,"m",S8).call(this);try{return(yield Ur(this,Wi,"f").features[gd].signMessage({account:r,message:t}))[0].signature}catch(n){throw new N9(n==null?void 0:n.message,n)}}))})}sendTransaction(t,r,n){return hi(this,void 0,void 0,function*(){return yield Ur(this,Wa,"m",Np).call(this,()=>hi(this,void 0,void 0,function*(){const i=Ur(this,Wa,"m",S8).call(this);try{let s=function(){let l;switch(r.commitment){case"confirmed":case"finalized":case"processed":l=r.commitment;break;default:l="finalized"}let a;switch(n==null?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":a=n.preflightCommitment;break;case void 0:a=l;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(l==="finalized"?2:l==="confirmed"?1:0)?a:l};if(ns in Ur(this,Wi,"f").features){const l=ute(Ur(this,Wi,"f").currentAuthorization.chain),[a]=(yield Ur(this,Wi,"f").features[ns].signAndSendTransaction({account:i,transaction:t.serialize(),chain:l,options:n?{skipPreflight:n.skipPreflight,maxRetries:n.maxRetries}:void 0})).map(p=>VA(p.signature));return a}else{const[l]=yield Ur(this,Wa,"m",y5).call(this,[t]);if(i3e(l))return yield r.sendTransaction(l);{const a=l.serialize();return yield r.sendRawTransaction(a,Object.assign(Object.assign({},n),{preflightCommitment:s()}))}}}catch(s){throw new bd(s==null?void 0:s.message,s)}}))})}signTransaction(t){return hi(this,void 0,void 0,function*(){return yield Ur(this,Wa,"m",Np).call(this,()=>hi(this,void 0,void 0,function*(){const[r]=yield Ur(this,Wa,"m",y5).call(this,[t]);return r}))})}signAllTransactions(t){return hi(this,void 0,void 0,function*(){return yield Ur(this,Wa,"m",Np).call(this,()=>hi(this,void 0,void 0,function*(){return yield Ur(this,Wa,"m",y5).call(this,t)}))})}}Wi=new WeakMap,jp=new WeakMap,yd=new WeakMap,g5=new WeakMap,sd=new WeakMap,rm=new WeakMap,Sk=new WeakMap,Wa=new WeakSet,Ek=function(t=!1){return hi(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield Ur(this,Wa,"m",Np).call(this,()=>hi(this,void 0,void 0,function*(){if(Ur(this,yd,"f")!==vn.Installed&&Ur(this,yd,"f")!==vn.Loadable)throw new Bm;js(this,jp,!0,"f");try{yield Ur(this,Wi,"f").features[wk].connect({silent:t})}catch(r){throw new Fm(r instanceof Error&&r.message||"Unknown error",r)}finally{js(this,jp,!1,"f")}}))})},cte=function(){Ur(this,yd,"f")!==vn.Installed&&this.emit("readyStateChange",js(this,yd,vn.Installed,"f"))},S8=function(){if(!Ur(this,Wi,"f").isAuthorized||!Ur(this,sd,"f"))throw new ya;return Ur(this,sd,"f")},y5=function(t){return hi(this,void 0,void 0,function*(){const r=Ur(this,Wa,"m",S8).call(this);try{if(Ki in Ur(this,Wi,"f").features)return Ur(this,Wi,"f").features[Ki].signTransaction(...t.map(n=>({account:r,transaction:n.serialize()}))).then(n=>n.map(i=>{const s=i.signedTransaction,a=s[0]*n3e+1;return D9.deserializeMessageVersion(s.slice(a,s.length))==="legacy"?wl.from(s):du.deserialize(s)}));throw new Error("Connected wallet does not support signing transactions")}catch(n){throw new hc(n==null?void 0:n.message,n)}})},Np=function(t){return hi(this,void 0,void 0,function*(){try{return yield t()}catch(r){throw this.emit("error",r),r}})};class o3e extends a3e{constructor(t){var r;const n=ute((r=t.chain)!==null&&r!==void 0?r:t.cluster);super(new Kwe({appIdentity:t.appIdentity,authorizationCache:{set:t.authorizationResultCache.set,get:()=>hi(this,void 0,void 0,function*(){const i=yield t.authorizationResultCache.get();return i&&"chain"in i?i:i?Object.assign(Object.assign({},i),{chain:n}):void 0}),clear:t.authorizationResultCache.clear},chains:[n],chainSelector:Jwe(),onWalletNotFound:()=>hi(this,void 0,void 0,function*(){t.onWalletNotFound(this)})}),{addressSelector:t.addressSelector,chain:n})}}class s3e extends o3e{}function l3e(){return{select(e){return hi(this,void 0,void 0,function*(){return e[0]})}}}function c3e(){return Qwe()}function u3e(e){return hi(this,void 0,void 0,function*(){return Xwe()})}function d3e(){return u3e}var p3e=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},h3e=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},_5;function f3e(e){const t=({register:r})=>r(e);try{window.dispatchEvent(new m3e(t))}catch(r){console.error(`wallet-standard:register-wallet event could not be dispatched
`,r)}try{window.addEventListener("wallet-standard:app-ready",({detail:r})=>t(r))}catch(r){console.error(`wallet-standard:app-ready event listener could not be added
`,r)}}class m3e extends Event{get detail(){return p3e(this,_5,"f")}get type(){return"wallet-standard:register-wallet"}constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),_5.set(this,void 0),h3e(this,_5,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}_5=new WeakMap;globalThis&&globalThis.__classPrivateFieldGet;globalThis&&globalThis.__classPrivateFieldSet;function g3e(e,t){if(e===t)return!0;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function y3e(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let f=0;f<t.length;f++)t[f]=255;for(let f=0;f<e.length;f++){const g=e.charAt(f),v=g.charCodeAt(0);if(t[v]!==255)throw new TypeError(g+" is ambiguous");t[v]=f}const r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function l(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";let g=0,v=0,_=0;const T=f.length;for(;_!==T&&f[_]===0;)_++,g++;const z=(T-_)*s+1>>>0,I=new Uint8Array(z);for(;_!==T;){let L=f[_],N=0;for(let $=z-1;(L!==0||N<v)&&$!==-1;$--,N++)L+=256*I[$]>>>0,I[$]=L%r>>>0,L=L/r>>>0;if(L!==0)throw new Error("Non-zero carry");v=N,_++}let k=z-v;for(;k!==z&&I[k]===0;)k++;let C=n.repeat(g);for(;k<z;++k)C+=e.charAt(I[k]);return C}function a(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;let g=0,v=0,_=0;for(;f[g]===n;)v++,g++;const T=(f.length-g)*i+1>>>0,z=new Uint8Array(T);for(;g<f.length;){const L=f.charCodeAt(g);if(L>255)return;let N=t[L];if(N===255)return;let $=0;for(let ee=T-1;(N!==0||$<_)&&ee!==-1;ee--,$++)N+=r*z[ee]>>>0,z[ee]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");_=$,g++}let I=T-_;for(;I!==T&&z[I]===0;)I++;const k=new Uint8Array(v+(T-I));let C=v;for(;I!==T;)k[C++]=z[I++];return k}function p(f){const g=a(f);if(g)return g;throw new Error("Non-base"+r+" character")}return{encode:l,decodeUnsafe:a,decode:p}}var v3e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const _3e=y3e(v3e);var Cr=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Ta=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},oo,Ss,gm,ym,nm,Qb,E8,Un,A8,Ak,b5,Tk,gx,Mk,o$,s$,l$,c$;class b3e extends Cee{get name(){return Cr(this,Un,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return Cr(this,Un,"f").icon}get readyState(){return Cr(this,A8,"f")}get publicKey(){return Cr(this,gm,"f")}get connecting(){return Cr(this,ym,"f")}get supportedTransactionVersions(){return Cr(this,E8,"f")}get wallet(){return Cr(this,Un,"f")}get standard(){return!0}constructor({wallet:t}){super(),oo.add(this),Ss.set(this,void 0),gm.set(this,void 0),ym.set(this,void 0),nm.set(this,void 0),Qb.set(this,void 0),E8.set(this,void 0),Un.set(this,void 0),A8.set(this,typeof window>"u"||typeof document>"u"?vn.Unsupported:vn.Installed),Mk.set(this,r=>{if("accounts"in r){const n=Cr(this,Un,"f").accounts[0];Cr(this,Ss,"f")&&!Cr(this,nm,"f")&&n!==Cr(this,Ss,"f")&&(n?Cr(this,oo,"m",b5).call(this,n):(this.emit("error",new bD),Cr(this,oo,"m",Tk).call(this)))}"features"in r&&Cr(this,oo,"m",gx).call(this)}),Ta(this,Un,t,"f"),Ta(this,Ss,null,"f"),Ta(this,gm,null,"f"),Ta(this,ym,!1,"f"),Ta(this,nm,!1,"f"),Ta(this,Qb,Cr(this,Un,"f").features[O9].on("change",Cr(this,Mk,"f")),"f"),Cr(this,oo,"m",gx).call(this)}destroy(){Ta(this,Ss,null,"f"),Ta(this,gm,null,"f"),Ta(this,ym,!1,"f"),Ta(this,nm,!1,"f");const t=Cr(this,Qb,"f");t&&(Ta(this,Qb,null,"f"),t())}async autoConnect(){return Cr(this,oo,"m",Ak).call(this,{silent:!0})}async connect(){return Cr(this,oo,"m",Ak).call(this)}async disconnect(){if(_8 in Cr(this,Un,"f").features)try{Ta(this,nm,!0,"f"),await Cr(this,Un,"f").features[_8].disconnect()}catch(t){this.emit("error",new xD(t==null?void 0:t.message,t))}finally{Ta(this,nm,!1,"f")}Cr(this,oo,"m",Tk).call(this)}async sendTransaction(t,r,n={}){try{const i=Cr(this,Ss,"f");if(!i)throw new ya;let s;if(ns in Cr(this,Un,"f").features)if(i.features.includes(ns))s=ns;else if(Ki in Cr(this,Un,"f").features&&i.features.includes(Ki))s=Ki;else throw new hm;else if(Ki in Cr(this,Un,"f").features){if(!i.features.includes(Ki))throw new hm;s=Ki}else throw new jg;const l=U6e(r.rpcEndpoint);if(!i.chains.includes(l))throw new bd;try{const{signers:a,...p}=n;let f;if(xd(t)?(a!=null&&a.length&&t.sign(a),f=t.serialize()):(t=await this.prepareTransaction(t,r,p),a!=null&&a.length&&t.partialSign(...a),f=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s===ns){const[g]=await Cr(this,Un,"f").features[ns].signAndSendTransaction({account:i,chain:l,transaction:f,options:{preflightCommitment:RA(p.preflightCommitment||r.commitment),skipPreflight:p.skipPreflight,maxRetries:p.maxRetries,minContextSlot:p.minContextSlot}});return _3e.encode(g.signature)}else{const[g]=await Cr(this,Un,"f").features[Ki].signTransaction({account:i,chain:l,transaction:f,options:{preflightCommitment:RA(p.preflightCommitment||r.commitment),minContextSlot:p.minContextSlot}});return await r.sendRawTransaction(g.signedTransaction,{...p,preflightCommitment:RA(p.preflightCommitment||r.commitment)})}}catch(a){throw a instanceof eo?a:new bd(a==null?void 0:a.message,a)}}catch(i){throw this.emit("error",i),i}}}Ss=new WeakMap,gm=new WeakMap,ym=new WeakMap,nm=new WeakMap,Qb=new WeakMap,E8=new WeakMap,Un=new WeakMap,A8=new WeakMap,Mk=new WeakMap,oo=new WeakSet,Ak=async function(t){try{if(this.connected||this.connecting)return;if(Cr(this,A8,"f")!==vn.Installed)throw new Bm;if(Ta(this,ym,!0,"f"),!Cr(this,Un,"f").accounts.length)try{await Cr(this,Un,"f").features[L9].connect(t)}catch(n){throw new Fm(n==null?void 0:n.message,n)}const r=Cr(this,Un,"f").accounts[0];if(!r)throw new hm;Cr(this,oo,"m",b5).call(this,r)}catch(r){throw this.emit("error",r),r}finally{Ta(this,ym,!1,"f")}},b5=function(t){let r;try{r=new Ir(t.address)}catch(n){throw new ky(n==null?void 0:n.message,n)}Ta(this,Ss,t,"f"),Ta(this,gm,r,"f"),Cr(this,oo,"m",gx).call(this),this.emit("connect",r)},Tk=function(){Ta(this,Ss,null,"f"),Ta(this,gm,null,"f"),Cr(this,oo,"m",gx).call(this),this.emit("disconnect")},gx=function(){var r,n;const t=ns in Cr(this,Un,"f").features?Cr(this,Un,"f").features[ns].supportedTransactionVersions:Cr(this,Un,"f").features[Ki].supportedTransactionVersions;Ta(this,E8,g3e(t,["legacy"])?null:new Set(t),"f"),Ki in Cr(this,Un,"f").features&&((r=Cr(this,Ss,"f"))!=null&&r.features.includes(Ki))?(this.signTransaction=Cr(this,oo,"m",o$),this.signAllTransactions=Cr(this,oo,"m",s$)):(delete this.signTransaction,delete this.signAllTransactions),gd in Cr(this,Un,"f").features&&((n=Cr(this,Ss,"f"))!=null&&n.features.includes(gd))?this.signMessage=Cr(this,oo,"m",l$):delete this.signMessage,Mm in Cr(this,Un,"f").features?this.signIn=Cr(this,oo,"m",c$):delete this.signIn},o$=async function(t){try{const r=Cr(this,Ss,"f");if(!r)throw new ya;if(!(Ki in Cr(this,Un,"f").features))throw new jg;if(!r.features.includes(Ki))throw new hm;try{const i=(await Cr(this,Un,"f").features[Ki].signTransaction({account:r,transaction:xd(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return xd(t)?du.deserialize(i):wl.from(i)}catch(n){throw n instanceof eo?n:new hc(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}},s$=async function(t){try{const r=Cr(this,Ss,"f");if(!r)throw new ya;if(!(Ki in Cr(this,Un,"f").features))throw new jg;if(!r.features.includes(Ki))throw new hm;try{const n=await Cr(this,Un,"f").features[Ki].signTransaction(...t.map(i=>({account:r,transaction:xd(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((i,s)=>{const l=n[s].signedTransaction;return xd(i)?du.deserialize(l):wl.from(l)})}catch(n){throw new hc(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}},l$=async function(t){try{const r=Cr(this,Ss,"f");if(!r)throw new ya;if(!(gd in Cr(this,Un,"f").features))throw new jg;if(!r.features.includes(gd))throw new hm;try{return(await Cr(this,Un,"f").features[gd].signMessage({account:r,message:t}))[0].signature}catch(n){throw new N9(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}},c$=async function(t={}){try{if(!(Mm in Cr(this,Un,"f").features))throw new jg;let r;try{[r]=await Cr(this,Un,"f").features[Mm].signIn(t)}catch(n){throw new ZW(n==null?void 0:n.message,n)}if(!r)throw new ZW;return Cr(this,oo,"m",b5).call(this,r.account),r}catch(r){throw this.emit("error",r),r}};const x3e=Z4e;var w3e=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},S3e=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},x5;let Us;const $9=new Set;function E3e(e){yx=void 0,$9.add(e)}function A3e(e){yx=void 0,$9.delete(e)}const Vg={};function T3e(){if(Us||(Us=Object.freeze({register:u$,get:M3e,on:P3e}),typeof window>"u"))return Us;const e=Object.freeze({register:u$});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new k3e(e))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return Us}function u$(...e){var t;return e=e.filter(r=>!$9.has(r)),e.length?(e.forEach(r=>E3e(r)),(t=Vg.register)==null||t.forEach(r=>Pk(()=>r(...e))),function(){var n;e.forEach(i=>A3e(i)),(n=Vg.unregister)==null||n.forEach(i=>Pk(()=>i(...e)))}):()=>{}}let yx;function M3e(){return yx||(yx=[...$9]),yx}function P3e(e,t){var r;return(r=Vg[e])!=null&&r.push(t)||(Vg[e]=[t]),function(){var i;Vg[e]=(i=Vg[e])==null?void 0:i.filter(s=>t!==s)}}function Pk(e){try{e()}catch(t){console.error(t)}}class k3e extends Event{get detail(){return w3e(this,x5,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),x5.set(this,void 0),S3e(this,x5,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}x5=new WeakMap;function I3e(){if(Us||(Us=T3e(),typeof window>"u"))return Us;const e=window.navigator.wallets||[];if(!Array.isArray(e))return console.error("window.navigator.wallets is not an array"),Us;const{register:t}=Us,r=(...n)=>n.forEach(i=>Pk(()=>i({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:r})})}catch{return console.error("window.navigator.wallets could not be set"),Us}return r(...e),Us}function C3e(e){const t=d$(()=>new Set),{get:r,on:n}=d$(()=>I3e()),[i,s]=R.useState(()=>p$(r()));R.useEffect(()=>{const a=[n("register",(...p)=>s(f=>[...f,...p$(p)])),n("unregister",(...p)=>s(f=>f.filter(g=>p.some(v=>v===g.wallet))))];return()=>a.forEach(p=>p())},[n]);const l=D3e(i);return R.useEffect(()=>{if(!l)return;const a=new Set(i);new Set(l.filter(f=>!a.has(f))).forEach(f=>f.destroy())},[l,i]),R.useEffect(()=>()=>i.forEach(a=>a.destroy()),[]),R.useMemo(()=>[...i,...e.filter(({name:a})=>i.some(p=>p.name===a)?(t.has(a)||(t.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[i,e,t])}function d$(e){const t=R.useRef(void 0);return t.current===void 0&&(t.current={value:e()}),t.current.value}function D3e(e){const t=R.useRef(void 0);return R.useEffect(()=>{t.current=e}),t.current}function p$(e){return e.filter(x3e).map(t=>new b3e({wallet:t}))}var iy;(function(e){e[e.DESKTOP_WEB=0]="DESKTOP_WEB",e[e.MOBILE_WEB=1]="MOBILE_WEB"})(iy||(iy={}));function z3e(e){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(e)}function R3e({adapters:e,userAgentString:t}){return e.some(r=>r.name!==v5&&r.readyState===vn.Installed)?iy.DESKTOP_WEB:t&&/android/i.test(t)&&!z3e(t)?iy.MOBILE_WEB:iy.DESKTOP_WEB}function N3e(e){return e?/devnet/i.test(e)?"devnet":/testnet/i.test(e)?"testnet":"mainnet-beta":"mainnet-beta"}function L3e({children:e,wallets:t,adapter:r,isUnloadingRef:n,onAutoConnectRequest:i,onConnectError:s,onError:l,onSelectWallet:a}){const p=R.useRef(!1),[f,g]=R.useState(!1),v=R.useRef(!1),[_,T]=R.useState(!1),[z,I]=R.useState(()=>(r==null?void 0:r.publicKey)??null),[k,C]=R.useState(()=>(r==null?void 0:r.connected)??!1),L=R.useRef(l);R.useEffect(()=>(L.current=l,()=>{L.current=void 0}),[l]);const N=R.useRef((Z,oe)=>(n.current||(L.current?L.current(Z,oe):(console.error(Z,oe),Z instanceof Bm&&typeof window<"u"&&oe&&window.open(oe.url,"_blank"))),Z)),[$,ee]=R.useState(()=>t.map(Z=>({adapter:Z,readyState:Z.readyState})).filter(({readyState:Z})=>Z!==vn.Unsupported));R.useEffect(()=>{ee(oe=>t.map((le,Q)=>{const ce=oe[Q];return ce&&ce.adapter===le&&ce.readyState===le.readyState?ce:{adapter:le,readyState:le.readyState}}).filter(({readyState:le})=>le!==vn.Unsupported));function Z(oe){ee(le=>{const Q=le.findIndex(({adapter:Ee})=>Ee===this);if(Q===-1)return le;const{adapter:ce}=le[Q];return[...le.slice(0,Q),{adapter:ce,readyState:oe},...le.slice(Q+1)].filter(({readyState:Ee})=>Ee!==vn.Unsupported)})}return t.forEach(oe=>oe.on("readyStateChange",Z,oe)),()=>{t.forEach(oe=>oe.off("readyStateChange",Z,oe))}},[r,t]);const re=R.useMemo(()=>$.find(Z=>Z.adapter===r)??null,[r,$]);R.useEffect(()=>{if(!r)return;const Z=Q=>{I(Q),p.current=!1,g(!1),C(!0),v.current=!1,T(!1)},oe=()=>{n.current||(I(null),p.current=!1,g(!1),C(!1),v.current=!1,T(!1))},le=Q=>{N.current(Q,r)};return r.on("connect",Z),r.on("disconnect",oe),r.on("error",le),()=>{r.off("connect",Z),r.off("disconnect",oe),r.off("error",le),oe()}},[r,n]);const ne=R.useRef(!1);R.useEffect(()=>()=>{ne.current=!1},[r]),R.useEffect(()=>{ne.current||p.current||k||!i||!((re==null?void 0:re.readyState)===vn.Installed||(re==null?void 0:re.readyState)===vn.Loadable)||(p.current=!0,g(!0),ne.current=!0,async function(){try{await i()}catch{s()}finally{g(!1),p.current=!1}}())},[k,i,s,re]);const ie=R.useCallback(async(Z,oe,le)=>{if(!r)throw N.current(new YW);if(!k)throw N.current(new ya,r);return await r.sendTransaction(Z,oe,le)},[r,k]),me=R.useMemo(()=>r&&"signTransaction"in r?async Z=>{if(!k)throw N.current(new ya,r);return await r.signTransaction(Z)}:void 0,[r,k]),Ze=R.useMemo(()=>r&&"signAllTransactions"in r?async Z=>{if(!k)throw N.current(new ya,r);return await r.signAllTransactions(Z)}:void 0,[r,k]),et=R.useMemo(()=>r&&"signMessage"in r?async Z=>{if(!k)throw N.current(new ya,r);return await r.signMessage(Z)}:void 0,[r,k]),Ke=R.useMemo(()=>r&&"signIn"in r?async Z=>await r.signIn(Z):void 0,[r]),ye=R.useCallback(async()=>{if(p.current||v.current||re!=null&&re.adapter.connected)return;if(!re)throw N.current(new YW);const{adapter:Z,readyState:oe}=re;if(!(oe===vn.Installed||oe===vn.Loadable))throw N.current(new Bm,Z);p.current=!0,g(!0);try{await Z.connect()}catch(le){throw s(),le}finally{g(!1),p.current=!1}},[s,re]),j=R.useCallback(async()=>{if(!v.current&&r){v.current=!0,T(!0);try{await r.disconnect()}finally{T(!1),v.current=!1}}},[r]);return dt.createElement(Ree.Provider,{value:{autoConnect:!!i,wallets:$,wallet:re,publicKey:z,connected:k,connecting:f,disconnecting:_,select:a,connect:ye,disconnect:j,sendTransaction:ie,signTransaction:me,signAllTransactions:Ze,signMessage:et,signIn:Ke}},e)}let UA;function O3e(){var e;return UA===void 0&&(UA=((e=globalThis.navigator)==null?void 0:e.userAgent)??null),UA}function h$(e){const t=O3e();return R3e({adapters:e,userAgentString:t})===iy.MOBILE_WEB}function B3e(){const e=globalThis.location;if(e)return`${e.protocol}//${e.host}`}function F3e({children:e,wallets:t,autoConnect:r,localStorageKey:n="walletName",onError:i}){const{connection:s}=B9(),l=C3e(t),a=R.useMemo(()=>{if(!h$(l))return null;const L=l.find(N=>N.name===v5);return L||new s3e({addressSelector:l3e(),appIdentity:{uri:B3e()},authorizationResultCache:c3e(),cluster:N3e(s==null?void 0:s.rpcEndpoint),onWalletNotFound:d3e()})},[l,s==null?void 0:s.rpcEndpoint]),p=R.useMemo(()=>a==null||l.indexOf(a)!==-1?l:[a,...l],[l,a]),[f,g]=Q4e(n,null),v=R.useMemo(()=>p.find(L=>L.name===f)??null,[p,f]),_=R.useCallback(L=>{f!==L&&(v&&v.name!==v5&&v.disconnect(),g(L))},[v,g,f]);R.useEffect(()=>{if(!v)return;function L(){I.current||g(null)}return v.on("disconnect",L),()=>{v.off("disconnect",L)}},[v,l,g,f]);const T=R.useRef(!1),z=R.useMemo(()=>{if(!(!r||!v))return async()=>{(r===!0||await r(v))&&(T.current?await v.connect():await v.autoConnect())}},[r,v]),I=R.useRef(!1);R.useEffect(()=>{if(f===v5&&h$(l)){I.current=!1;return}function L(){I.current=!0}return window.addEventListener("beforeunload",L),()=>{window.removeEventListener("beforeunload",L)}},[l,f]);const k=R.useCallback(()=>{v&&_(null)},[v,_]),C=R.useCallback(L=>{T.current=!0,_(L)},[_]);return dt.createElement(L3e,{wallets:p,adapter:v,isUnloadingRef:I,onAutoConnectRequest:z,onConnectError:k,onError:i,onSelectWallet:C},e)}const dte={setVisible(e){console.error(pte("call","setVisible"))},visible:!1};Object.defineProperty(dte,"visible",{get(){return console.error(pte("read","visible")),!1}});function pte(e,t){return`You have tried to  ${e} "${t}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const hte=R.createContext(dte);function PD(){return R.useContext(hte)}function j3e({onSelectWallet:e}){const{connect:t,connected:r,connecting:n,disconnect:i,disconnecting:s,publicKey:l,select:a,wallet:p,wallets:f}=Iy();let g;n?g="connecting":r?g="connected":s?g="disconnecting":p?g="has-wallet":g="no-wallet";const v=R.useCallback(()=>{t().catch(()=>{})},[t]),_=R.useCallback(()=>{i().catch(()=>{})},[i]),T=R.useCallback(()=>{e({onSelectWallet:a,wallets:f})},[e,a,f]);return{buttonState:g,onConnect:g==="has-wallet"?v:void 0,onDisconnect:g!=="disconnecting"&&g!=="no-wallet"?_:void 0,onSelectWallet:T,publicKey:l??void 0,walletIcon:p==null?void 0:p.adapter.icon,walletName:p==null?void 0:p.adapter.name}}const fte=e=>dt.createElement("button",{className:`wallet-adapter-button ${e.className||""}`,disabled:e.disabled,style:e.style,onClick:e.onClick,tabIndex:e.tabIndex||0,type:"button"},e.startIcon&&dt.createElement("i",{className:"wallet-adapter-button-start-icon"},e.startIcon),e.children,e.endIcon&&dt.createElement("i",{className:"wallet-adapter-button-end-icon"},e.endIcon)),mte=({wallet:e,...t})=>e&&dt.createElement("img",{src:e.adapter.icon,alt:`${e.adapter.name} icon`,...t});function V3e({walletIcon:e,walletName:t,...r}){return dt.createElement(fte,{...r,className:"wallet-adapter-button-trigger",startIcon:e&&t?dt.createElement(mte,{wallet:{adapter:{icon:e,name:t}}}):void 0})}function U3e({children:e,labels:t,...r}){const{setVisible:n}=PD(),{buttonState:i,onConnect:s,onDisconnect:l,publicKey:a,walletIcon:p,walletName:f}=j3e({onSelectWallet(){n(!0)}}),[g,v]=R.useState(!1),[_,T]=R.useState(!1),z=R.useRef(null);R.useEffect(()=>{const k=C=>{const L=z.current;!L||L.contains(C.target)||T(!1)};return document.addEventListener("mousedown",k),document.addEventListener("touchstart",k),()=>{document.removeEventListener("mousedown",k),document.removeEventListener("touchstart",k)}},[]);const I=R.useMemo(()=>{if(e)return e;if(a){const k=a.toBase58();return k.slice(0,4)+".."+k.slice(-4)}else return i==="connecting"||i==="has-wallet"?t[i]:t["no-wallet"]},[i,e,t,a]);return dt.createElement("div",{className:"wallet-adapter-dropdown"},dt.createElement(V3e,{...r,"aria-expanded":_,style:{pointerEvents:_?"none":"auto",...r.style},onClick:()=>{switch(i){case"no-wallet":n(!0);break;case"has-wallet":s&&s();break;case"connected":T(!0);break}},walletIcon:p,walletName:f},I),dt.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${_&&"wallet-adapter-dropdown-list-active"}`,ref:z,role:"menu"},a?dt.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),v(!0),setTimeout(()=>v(!1),400)},role:"menuitem"},g?t.copied:t["copy-address"]):null,dt.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{n(!0),T(!1)},role:"menuitem"},t["change-wallet"]),l?dt.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{l(),T(!1)},role:"menuitem"},t.disconnect):null))}const f$=({id:e,children:t,expanded:r=!1})=>{const n=R.useRef(null),i=R.useRef(!0),s="height 250ms ease-out",l=()=>{const p=n.current;p&&requestAnimationFrame(()=>{p.style.height=p.scrollHeight+"px"})},a=()=>{const p=n.current;p&&requestAnimationFrame(()=>{p.style.height=p.offsetHeight+"px",p.style.overflow="hidden",requestAnimationFrame(()=>{p.style.height="0"})})};return R.useLayoutEffect(()=>{r?l():a()},[r]),R.useLayoutEffect(()=>{const p=n.current;if(!p)return;function f(){p&&(p.style.overflow=r?"initial":"hidden",r&&(p.style.height="auto"))}function g(v){p&&v.target===p&&v.propertyName==="height"&&f()}return i.current&&(f(),i.current=!1),p.addEventListener("transitionend",g),()=>p.removeEventListener("transitionend",g)},[r]),dt.createElement("div",{className:"wallet-adapter-collapse",id:e,ref:n,role:"region",style:{height:0,transition:i.current?void 0:s}},t)},WA=({handleClick:e,tabIndex:t,wallet:r})=>dt.createElement("li",null,dt.createElement(fte,{onClick:e,startIcon:dt.createElement(mte,{wallet:r}),tabIndex:t},r.adapter.name,r.readyState===vn.Installed&&dt.createElement("span",null,"Detected"))),W3e=()=>dt.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},dt.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),dt.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),dt.createElement("g",{clipPath:"url(#clip0_880_5115)"},dt.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),dt.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),dt.createElement("defs",null,dt.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},dt.createElement("stop",{stopColor:"#9945FF"}),dt.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),dt.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),dt.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),dt.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),dt.createElement("stop",{offset:"1",stopColor:"#00D18C"})),dt.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},dt.createElement("stop",{stopColor:"#9945FF"}),dt.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),dt.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),dt.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),dt.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),dt.createElement("stop",{offset:"1",stopColor:"#00D18C"})),dt.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},dt.createElement("stop",{stopColor:"#9945FF"}),dt.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),dt.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),dt.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),dt.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),dt.createElement("stop",{offset:"1",stopColor:"#00D18C"})),dt.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},dt.createElement("stop",{stopColor:"#9945FF"}),dt.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),dt.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),dt.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),dt.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),dt.createElement("stop",{offset:"1",stopColor:"#00D18C"})),dt.createElement("clipPath",{id:"clip0_880_5115"},dt.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),$3e=({className:e="",container:t="body"})=>{const r=R.useRef(null),{wallets:n,select:i}=Iy(),{setVisible:s}=PD(),[l,a]=R.useState(!1),[p,f]=R.useState(!1),[g,v]=R.useState(null),[_,T]=R.useMemo(()=>{const N=[],$=[];for(const ee of n)ee.readyState===vn.Installed?N.push(ee):$.push(ee);return N.length?[N,$]:[$,[]]},[n]),z=R.useCallback(()=>{f(!1),setTimeout(()=>s(!1),150)},[s]),I=R.useCallback(N=>{N.preventDefault(),z()},[z]),k=R.useCallback((N,$)=>{i($),I(N)},[i,I]),C=R.useCallback(()=>a(!l),[l]),L=R.useCallback(N=>{const $=r.current;if(!$)return;const ee=$.querySelectorAll("button"),re=ee[0],ne=ee[ee.length-1];N.shiftKey?document.activeElement===re&&(ne.focus(),N.preventDefault()):document.activeElement===ne&&(re.focus(),N.preventDefault())},[r]);return R.useLayoutEffect(()=>{const N=ee=>{ee.key==="Escape"?z():ee.key==="Tab"&&L(ee)},{overflow:$}=window.getComputedStyle(document.body);return setTimeout(()=>f(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",N,!1),()=>{document.body.style.overflow=$,window.removeEventListener("keydown",N,!1)}},[z,L]),R.useLayoutEffect(()=>v(document.querySelector(t)),[t]),g&&Pc.createPortal(dt.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${p&&"wallet-adapter-modal-fade-in"} ${e}`,ref:r,role:"dialog"},dt.createElement("div",{className:"wallet-adapter-modal-container"},dt.createElement("div",{className:"wallet-adapter-modal-wrapper"},dt.createElement("button",{onClick:I,className:"wallet-adapter-modal-button-close"},dt.createElement("svg",{width:"14",height:"14"},dt.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),_.length?dt.createElement(dt.Fragment,null,dt.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),dt.createElement("ul",{className:"wallet-adapter-modal-list"},_.map(N=>dt.createElement(WA,{key:N.adapter.name,handleClick:$=>k($,N.adapter.name),wallet:N})),T.length?dt.createElement(f$,{expanded:l,id:"wallet-adapter-modal-collapse"},T.map(N=>dt.createElement(WA,{key:N.adapter.name,handleClick:$=>k($,N.adapter.name),tabIndex:l?0:-1,wallet:N}))):null),T.length?dt.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:C,tabIndex:0},dt.createElement("span",null,l?"Less ":"More ","options"),dt.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${l?"wallet-adapter-modal-list-more-icon-rotate":""}`},dt.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):dt.createElement(dt.Fragment,null,dt.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),dt.createElement("div",{className:"wallet-adapter-modal-middle"},dt.createElement(W3e,null)),T.length?dt.createElement(dt.Fragment,null,dt.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:C,tabIndex:0},dt.createElement("span",null,l?"Hide ":"Already have a wallet? View ","options"),dt.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${l?"wallet-adapter-modal-list-more-icon-rotate":""}`},dt.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),dt.createElement(f$,{expanded:l,id:"wallet-adapter-modal-collapse"},dt.createElement("ul",{className:"wallet-adapter-modal-list"},T.map(N=>dt.createElement(WA,{key:N.adapter.name,handleClick:$=>k($,N.adapter.name),tabIndex:l?0:-1,wallet:N}))))):null))),dt.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:I})),g)},K3e=({children:e,...t})=>{const[r,n]=R.useState(!1);return dt.createElement(hte.Provider,{value:{visible:r,setVisible:n}},e,r&&dt.createElement($3e,{...t}))},q3e={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function G3e(e){return dt.createElement(U3e,{...e,labels:q3e})}const H3e="modulepreload",Z3e=function(e){return"/"+e},m$={},kD=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=Z3e(s),s in m$)return;m$[s]=!0;const l=s.endsWith(".css"),a=l?'[rel="stylesheet"]':"";if(!!n)for(let g=i.length-1;g>=0;g--){const v=i[g];if(v.href===s&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":H3e,l||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),l)return new Promise((g,v)=>{f.addEventListener("load",g),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s})};var ID={exports:{}},ay=typeof Reflect=="object"?Reflect:null,g$=ay&&typeof ay.apply=="function"?ay.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},w5;ay&&typeof ay.ownKeys=="function"?w5=ay.ownKeys:Object.getOwnPropertySymbols?w5=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:w5=function(t){return Object.getOwnPropertyNames(t)};function Y3e(e){console&&console.warn&&console.warn(e)}var gte=Number.isNaN||function(t){return t!==t};function oi(){oi.init.call(this)}ID.exports=oi;ID.exports.once=e5e;oi.EventEmitter=oi;oi.prototype._events=void 0;oi.prototype._eventsCount=0;oi.prototype._maxListeners=void 0;var y$=10;function K9(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(oi,"defaultMaxListeners",{enumerable:!0,get:function(){return y$},set:function(e){if(typeof e!="number"||e<0||gte(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");y$=e}});oi.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};oi.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||gte(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function yte(e){return e._maxListeners===void 0?oi.defaultMaxListeners:e._maxListeners}oi.prototype.getMaxListeners=function(){return yte(this)};oi.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var l;if(r.length>0&&(l=r[0]),l instanceof Error)throw l;var a=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw a.context=l,a}var p=s[t];if(p===void 0)return!1;if(typeof p=="function")g$(p,this,r);else for(var f=p.length,g=wte(p,f),n=0;n<f;++n)g$(g[n],this,r);return!0};function vte(e,t,r,n){var i,s,l;if(K9(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),l=s[t]),l===void 0)l=s[t]=r,++e._eventsCount;else if(typeof l=="function"?l=s[t]=n?[r,l]:[l,r]:n?l.unshift(r):l.push(r),i=yte(e),i>0&&l.length>i&&!l.warned){l.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=l.length,Y3e(a)}return e}oi.prototype.addListener=function(t,r){return vte(this,t,r,!1)};oi.prototype.on=oi.prototype.addListener;oi.prototype.prependListener=function(t,r){return vte(this,t,r,!0)};function X3e(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _te(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=X3e.bind(n);return i.listener=r,n.wrapFn=i,i}oi.prototype.once=function(t,r){return K9(r),this.on(t,_te(this,t,r)),this};oi.prototype.prependOnceListener=function(t,r){return K9(r),this.prependListener(t,_te(this,t,r)),this};oi.prototype.removeListener=function(t,r){var n,i,s,l,a;if(K9(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,l=n.length-1;l>=0;l--)if(n[l]===r||n[l].listener===r){a=n[l].listener,s=l;break}if(s<0)return this;s===0?n.shift():Q3e(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this};oi.prototype.off=oi.prototype.removeListener;oi.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),l;for(i=0;i<s.length;++i)l=s[i],l!=="removeListener"&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function bte(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?J3e(i):wte(i,i.length)}oi.prototype.listeners=function(t){return bte(this,t,!0)};oi.prototype.rawListeners=function(t){return bte(this,t,!1)};oi.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):xte.call(e,t)};oi.prototype.listenerCount=xte;function xte(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}oi.prototype.eventNames=function(){return this._eventsCount>0?w5(this._events):[]};function wte(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function Q3e(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function J3e(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function e5e(e,t){return new Promise(function(r,n){function i(l){e.removeListener(t,s),n(l)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}Ste(e,t,s,{once:!0}),t!=="error"&&t5e(e,i,{once:!0})})}function t5e(e,t,r){typeof e.on=="function"&&Ste(e,"error",t,r)}function Ste(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var CD=ID.exports;const r5e="Phantom";class n5e extends wD{constructor(t={}){super(),this.name=r5e,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?vn.Unsupported:vn.NotDetected,this._disconnected=()=>{const r=this._wallet;r&&(r.off("disconnect",this._disconnected),r.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new bD),this.emit("disconnect"))},this._accountChanged=r=>{const n=this._publicKey;if(n){try{r=new Ir(r.toBytes())}catch(i){this.emit("error",new ky(i==null?void 0:i.message,i));return}n.equals(r)||(this._publicKey=r,this.emit("connect",r))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==vn.Unsupported&&(nk()?(this._readyState=vn.Loadable,this.emit("readyStateChange",this._readyState)):Dee(()=>{var r,n,i;return(n=(r=window.phantom)==null?void 0:r.solana)!=null&&n.isPhantom||(i=window.solana)!=null&&i.isPhantom?(this._readyState=vn.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===vn.Installed&&await this.connect()}async connect(){var t;try{if(this.connected||this.connecting)return;if(this.readyState===vn.Loadable){const i=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${s}`;return}if(this.readyState!==vn.Installed)throw new Bm;this._connecting=!0;const r=((t=window.phantom)==null?void 0:t.solana)||window.solana;if(!r.isConnected)try{await r.connect()}catch(i){throw new Fm(i==null?void 0:i.message,i)}if(!r.publicKey)throw new hm;let n;try{n=new Ir(r.publicKey.toBytes())}catch(i){throw new ky(i==null?void 0:i.message,i)}r.on("disconnect",this._disconnected),r.on("accountChanged",this._accountChanged),this._wallet=r,this._publicKey=n,this.emit("connect",n)}catch(r){throw this.emit("error",r),r}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(r){this.emit("error",new xD(r==null?void 0:r.message,r))}}this.emit("disconnect")}async sendTransaction(t,r,n={}){try{const i=this._wallet;if(!i)throw new ya;try{const{signers:s,...l}=n;xd(t)?s!=null&&s.length&&t.sign(s):(t=await this.prepareTransaction(t,r,l),s!=null&&s.length&&t.partialSign(...s)),l.preflightCommitment=l.preflightCommitment||r.commitment;const{signature:a}=await i.signAndSendTransaction(t,l);return a}catch(s){throw s instanceof eo?s:new bd(s==null?void 0:s.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(t){try{const r=this._wallet;if(!r)throw new ya;try{return await r.signTransaction(t)||t}catch(n){throw new hc(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}}async signAllTransactions(t){try{const r=this._wallet;if(!r)throw new ya;try{return await r.signAllTransactions(t)||t}catch(n){throw new hc(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}}async signMessage(t){try{const r=this._wallet;if(!r)throw new ya;try{const{signature:n}=await r.signMessage(t);return n}catch(n){throw new N9(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}}}const i5e="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var ei=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},a5e=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},S5,vm,kk,Ik,Ck,ko,Dk,Ete,Ate,zk,Rk,Nk,Lk,Ok;class o5e{constructor(){S5.add(this),vm.set(this,{}),kk.set(this,"1.0.0"),Ik.set(this,"MetaMask"),Ck.set(this,i5e),ko.set(this,null),Dk.set(this,(t,r)=>{var n;return(n=ei(this,vm,"f")[t])!=null&&n.push(r)||(ei(this,vm,"f")[t]=[r]),()=>ei(this,S5,"m",Ate).call(this,t,r)}),zk.set(this,async()=>{if(!ei(this,ko,"f")){let t;try{t=(await kD(()=>import("./index-11d392ab.js"),[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}a5e(this,ko,new t,"f"),ei(this,ko,"f").on("standard_change",r=>ei(this,S5,"m",Ete).call(this,"change",r))}return this.accounts.length||await ei(this,ko,"f").connect(),{accounts:this.accounts}}),Rk.set(this,async()=>{ei(this,ko,"f")&&await ei(this,ko,"f").disconnect()}),Nk.set(this,async(...t)=>{if(!ei(this,ko,"f"))throw new ya;return await ei(this,ko,"f").standardSignAndSendTransaction(...t)}),Lk.set(this,async(...t)=>{if(!ei(this,ko,"f"))throw new ya;return await ei(this,ko,"f").standardSignTransaction(...t)}),Ok.set(this,async(...t)=>{if(!ei(this,ko,"f"))throw new ya;return await ei(this,ko,"f").standardSignMessage(...t)})}get version(){return ei(this,kk,"f")}get name(){return ei(this,Ik,"f")}get icon(){return ei(this,Ck,"f")}get chains(){return[r4,Xee,Qee]}get features(){return{[L9]:{version:"1.0.0",connect:ei(this,zk,"f")},[_8]:{version:"1.0.0",disconnect:ei(this,Rk,"f")},[O9]:{version:"1.0.0",on:ei(this,Dk,"f")},[ns]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:ei(this,Nk,"f")},[Ki]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:ei(this,Lk,"f")},[gd]:{version:"1.0.0",signMessage:ei(this,Ok,"f")}}}get accounts(){return ei(this,ko,"f")?ei(this,ko,"f").standardAccounts:[]}}vm=new WeakMap,kk=new WeakMap,Ik=new WeakMap,Ck=new WeakMap,ko=new WeakMap,Dk=new WeakMap,zk=new WeakMap,Rk=new WeakMap,Nk=new WeakMap,Lk=new WeakMap,Ok=new WeakMap,S5=new WeakSet,Ete=function(t,...r){var n;(n=ei(this,vm,"f")[t])==null||n.forEach(i=>i.apply(null,r))},Ate=function(t,r){var n;ei(this,vm,"f")[t]=(n=ei(this,vm,"f")[t])==null?void 0:n.filter(i=>r!==i)};let v$=!1;function s5e(){v$||(f3e(new o5e),v$=!0)}async function l5e(){const e="solflare-detect-metamask";function t(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:e,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function r(n){var s,l;const i=n.data;(i==null?void 0:i.target)==="metamask-inpage"&&((s=i.data)==null?void 0:s.name)==="metamask-provider"&&(((l=i.data.data)==null?void 0:l.id)===e?(window.removeEventListener("message",r),i.data.data.error||s5e()):t())}window.addEventListener("message",r),window.setTimeout(()=>window.removeEventListener("message",r),5e3),t()}const c5e="Solflare";class u5e extends wD{constructor(t={}){super(),this.name=c5e,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?vn.Unsupported:vn.Loadable,this._disconnected=()=>{const r=this._wallet;r&&(r.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new bD),this.emit("disconnect"))},this._accountChanged=r=>{if(!r)return;const n=this._publicKey;if(n){try{r=new Ir(r.toBytes())}catch(i){this.emit("error",new ky(i==null?void 0:i.message,i));return}n.equals(r)||(this._publicKey=r,this.emit("connect",r))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=t,this._readyState!==vn.Unsupported&&(Dee(()=>{var r;return(r=window.solflare)!=null&&r.isSolflare||window.SolflareApp?(this._readyState=vn.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),l5e())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var t;return!!((t=this._wallet)!=null&&t.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===vn.Loadable&&nk()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==vn.Loadable&&this._readyState!==vn.Installed)throw new Bm;if(this.readyState===vn.Loadable&&nk()){const i=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${i}?ref=${s}`;return}let t;try{t=(await kD(()=>import("./index-88980d50.js"),[])).default}catch(i){throw new q4e(i==null?void 0:i.message,i)}let r;try{r=new t({network:this._config.network})}catch(i){throw new jg(i==null?void 0:i.message,i)}if(this._connecting=!0,!r.connected)try{await r.connect()}catch(i){throw new Fm(i==null?void 0:i.message,i)}if(!r.publicKey)throw new Fm;let n;try{n=new Ir(r.publicKey.toBytes())}catch(i){throw new ky(i==null?void 0:i.message,i)}r.on("disconnect",this._disconnected),r.on("accountChanged",this._accountChanged),this._wallet=r,this._publicKey=n,this.emit("connect",n)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(r){this.emit("error",new xD(r==null?void 0:r.message,r))}}this.emit("disconnect")}async sendTransaction(t,r,n={}){try{const i=this._wallet;if(!i)throw new ya;try{const{signers:s,...l}=n;return xd(t)?s!=null&&s.length&&t.sign(s):(t=await this.prepareTransaction(t,r,l),s!=null&&s.length&&t.partialSign(...s)),l.preflightCommitment=l.preflightCommitment||r.commitment,await i.signAndSendTransaction(t,l)}catch(s){throw s instanceof eo?s:new bd(s==null?void 0:s.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(t){try{const r=this._wallet;if(!r)throw new ya;try{return await r.signTransaction(t)||t}catch(n){throw new hc(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}}async signAllTransactions(t){try{const r=this._wallet;if(!r)throw new ya;try{return await r.signAllTransactions(t)||t}catch(n){throw new hc(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}}async signMessage(t){try{const r=this._wallet;if(!r)throw new ya;try{return await r.signMessage(t,"utf8")}catch(n){throw new N9(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}}}var Bk={exports:{}};typeof Object.create=="function"?Bk.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Bk.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var h2=Bk.exports;const q9=e=>({__option:"Some",value:e}),n4=()=>({__option:"None"}),DD=e=>e&&typeof e=="object"&&"__option"in e&&(e.__option==="Some"&&"value"in e||e.__option==="None"),sh=e=>e.__option==="Some",d5e=e=>e.__option==="None";function p5e(e,t){return sh(e)?e.value:t?t():null}const Tte=e=>e!==null?q9(e):n4(),h5e=e=>e!=null?q9(e):n4(),f5e=e=>sh(e)?e.value:null,m5e=(e,t)=>sh(e)?e.value:t();function Fk(e,t){if(!e||ArrayBuffer.isView(e))return e;const r=n=>t?Fk(n,t):Fk(n);return DD(e)?sh(e)?r(e.value):t?t():null:Array.isArray(e)?e.map(r):typeof e=="object"?Object.fromEntries(Object.entries(e).map(([n,i])=>[n,r(i)])):e}let G9=class extends Error{constructor(r,n,i){const s=`Expected a string of base ${n}, got [${r}].`;super(s);nn(this,"name","InvalidBaseStringError");this.cause=i}};const H9=e=>{const t=e.length,r=BigInt(t);return{description:`base${t}`,fixedSize:null,maxSize:null,serialize(n){if(!n.match(new RegExp(`^[${e}]*$`)))throw new G9(n,t);if(n==="")return new Uint8Array;const i=[...n];let s=i.findIndex(v=>v!==e[0]);s=s===-1?i.length:s;const l=Array(s).fill(0);if(s===i.length)return Uint8Array.from(l);const a=i.slice(s);let p=0n,f=1n;for(let v=a.length-1;v>=0;v-=1)p+=f*BigInt(e.indexOf(a[v])),f*=r;const g=[];for(;p>0n;)g.unshift(Number(p%256n)),p/=256n;return Uint8Array.from(l.concat(g))},deserialize(n,i=0){if(n.length===0)return["",0];const s=n.slice(i);let l=s.findIndex(g=>g!==0);l=l===-1?s.length:l;const a=e[0].repeat(l);if(l===s.length)return[a,n.length];let p=s.slice(l).reduce((g,v)=>g*256n+BigInt(v),0n);const f=[];for(;p>0n;)f.unshift(e[Number(p%r)]),p/=r;return[a+f.join(""),n.length]}}},zD=H9("0123456789"),Mte={description:"base16",fixedSize:null,maxSize:null,serialize(e){const t=e.toLowerCase();if(!t.match(/^[0123456789abcdef]*$/))throw new G9(e,16);const r=t.match(/.{1,2}/g);return Uint8Array.from(r?r.map(n=>parseInt(n,16)):[])},deserialize(e,t=0){return[e.slice(t).reduce((n,i)=>n+i.toString(16).padStart(2,"0"),""),e.length]}},B4=H9("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Uo=e=>{const t=e.reduce((i,s)=>i+s.length,0),r=new Uint8Array(t);let n=0;return e.forEach(i=>{r.set(i,n),n+=i.length}),r},RD=(e,t)=>{if(e.length>=t)return e;const r=new Uint8Array(t).fill(0);return r.set(e),r},T8=(e,t)=>RD(e.slice(0,t),t);class qh extends Error{constructor(r){super(`Serializer [${r}] cannot deserialize empty buffers.`);nn(this,"name","DeserializingEmptyBufferError")}}class Ym extends Error{constructor(r,n,i){super(`Serializer [${r}] expected ${n} bytes, got ${i}.`);nn(this,"name","NotEnoughBytesError")}}class F4 extends Error{constructor(r){r??(r="Expected a fixed-size serializer, got a variable-size one.");super(r);nn(this,"name","ExpectedFixedSizeSerializerError")}}function Z9(e,t,r){return{description:r??`fixed(${t}, ${e.description})`,fixedSize:t,maxSize:t,serialize:n=>T8(e.serialize(n),t),deserialize:(n,i=0)=>{if(n=n.slice(i,i+t),n.length<t)throw new Ym("fixSerializer",t,n.length);e.fixedSize!==null&&(n=T8(n,e.fixedSize));const[s]=e.deserialize(n,0);return[s,i+t]}}}function j4(e,t,r){return{description:e.description,fixedSize:e.fixedSize,maxSize:e.maxSize,serialize:n=>e.serialize(t(n)),deserialize:(n,i=0)=>{const[s,l]=e.deserialize(n,i);return r?[r(s,n,i),l]:[s,l]}}}function Pte(e){if(e.fixedSize===null)throw new F4("Cannot reverse a serializer of variable size.");return{...e,serialize:t=>e.serialize(t).reverse(),deserialize:(t,r=0)=>{const n=e.fixedSize,i=Uo([t.slice(0,r),t.slice(r,r+n).reverse(),t.slice(r+n)]);return e.deserialize(i,r)}}}const kte=(e,t)=>{const r=e.length,n=(i,s,l,a)=>{const p=[];let f=0,g=0;const v=(1<<l)-1;for(const _ of i)for(f=f<<s|_,g+=s;g>=l;)g-=l,p.push(f>>g&v);return a&&g>0&&p.push(f<<l-g&v),p};return{description:`base${r}`,fixedSize:null,maxSize:null,serialize(i){if(!i.match(new RegExp(`^[${e}]*$`)))throw new G9(i,r);if(i==="")return new Uint8Array;const s=[...i].map(a=>e.indexOf(a)),l=n(s,t,8,!1);return Uint8Array.from(l)},deserialize(i,s=0){if(i.length===0)return["",0];const l=[...i.slice(s)];return[n(l,8,t,!0).map(p=>e[p]).join(""),i.length]}}},ND=j4(kte("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",6),e=>e.replace(/=/g,""),e=>e.padEnd(Math.ceil(e.length/4)*4,"=")),LD=e=>e.replace(/\u0000/g,""),Ite=(e,t)=>e.padEnd(t,"\0"),Y9={description:"utf8",fixedSize:null,maxSize:null,serialize(e){return new TextEncoder().encode(e)},deserialize(e,t=0){const r=new TextDecoder().decode(e.slice(t));return[LD(r),e.length]}};class vx extends Error{constructor(r,n){n=n?`. ${n}`:"";super(`The provided public key is invalid: ${r}${n}`);nn(this,"name","InvalidPublicKeyError");this.invalidPublicKey=r}}const i4=32;function Ec(e,t=!0){const r=(()=>typeof e=="string"?e:typeof e=="object"&&"publicKey"in e?e.publicKey:typeof e=="object"&&"toBase58"in e?e.toBase58():Array.isArray(e)?e[0]:B4.deserialize(e)[0])();return t&&OD(r),r}const g5e=()=>"11111111111111111111111111111111",oy=e=>{try{return OD(e),!0}catch{return!1}},y5e=e=>Array.isArray(e)&&e.length===2&&typeof e[1]=="number"&&oy(e[0]);function OD(e){if(typeof e!="string")throw new vx(e,"Public keys must be strings.");X9(e)}const v5e=e=>[...new Set(e)],X9=e=>{if(e.length<32||e.length>44)throw new vx(e,"Public keys must be between 32 and 44 characters.");let t;try{t=B4.serialize(e)}catch{throw new vx(e,"Public keys must be base58 encoded.")}if(t.length!==i4)throw new vx(e,`Public keys must be ${i4} bytes.`);return t},_5e=e=>Ec(e),b5e=(e,t)=>Ec(e)===Ec(t);let a4;(function(e){e.Little="le",e.Big="be"})(a4||(a4={}));class Cte extends RangeError{constructor(r,n,i,s){super(`Serializer [${r}] expected number to be between ${n} and ${i}, got ${s}.`);nn(this,"name","NumberOutOfRangeError")}}function Rl(e){let t,r=e.name;return e.size>1&&(t=!("endian"in e.options)||e.options.endian===a4.Little,r+=t?"(le)":"(be)"),{description:e.options.description??r,fixedSize:e.size,maxSize:e.size,serialize(n){e.range&&Dte(e.name,e.range[0],e.range[1],n);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),n,t),new Uint8Array(i)},deserialize(n,i=0){const s=n.slice(i,i+e.size);S5e("i8",s,e.size);const l=w5e(s);return[e.get(l,t),i+e.size]}}}const x5e=e=>e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset),w5e=e=>new DataView(x5e(e)),Dte=(e,t,r,n)=>{if(n<t||n>r)throw new Cte(e,t,r,n)},S5e=(e,t,r)=>{if(t.length===0)throw new qh(e);if(t.length<r)throw new Ym(e,r,t.length)},E5e=(e={})=>Rl({name:"f32",size:4,set:(t,r,n)=>t.setFloat32(0,Number(r),n),get:(t,r)=>t.getFloat32(0,r),options:e}),A5e=(e={})=>Rl({name:"f64",size:8,set:(t,r,n)=>t.setFloat64(0,Number(r),n),get:(t,r)=>t.getFloat64(0,r),options:e}),T5e=(e={})=>Rl({name:"i8",size:1,range:[-+"0x7f"-1,+"0x7f"],set:(t,r)=>t.setInt8(0,Number(r)),get:t=>t.getInt8(0),options:e}),M5e=(e={})=>Rl({name:"i16",size:2,range:[-+"0x7fff"-1,+"0x7fff"],set:(t,r,n)=>t.setInt16(0,Number(r),n),get:(t,r)=>t.getInt16(0,r),options:e}),P5e=(e={})=>Rl({name:"i32",size:4,range:[-+"0x7fffffff"-1,+"0x7fffffff"],set:(t,r,n)=>t.setInt32(0,Number(r),n),get:(t,r)=>t.getInt32(0,r),options:e}),k5e=(e={})=>Rl({name:"i64",size:8,range:[-BigInt("0x7fffffffffffffff")-1n,BigInt("0x7fffffffffffffff")],set:(t,r,n)=>t.setBigInt64(0,BigInt(r),n),get:(t,r)=>t.getBigInt64(0,r),options:e}),I5e=(e={})=>Rl({name:"i128",size:16,range:[-BigInt("0x7fffffffffffffffffffffffffffffff")-1n,BigInt("0x7fffffffffffffffffffffffffffffff")],set:(t,r,n)=>{const i=n?8:0,s=n?0:8,l=0xffffffffffffffffn;t.setBigInt64(i,BigInt(r)>>64n,n),t.setBigUint64(s,BigInt(r)&l,n)},get:(t,r)=>{const n=r?8:0,i=r?0:8,s=t.getBigInt64(n,r),l=t.getBigUint64(i,r);return(s<<64n)+l},options:e}),f2=(e={})=>Rl({name:"u8",size:1,range:[0,+"0xff"],set:(t,r)=>t.setUint8(0,Number(r)),get:t=>t.getUint8(0),options:e}),C5e=(e={})=>Rl({name:"u16",size:2,range:[0,+"0xffff"],set:(t,r,n)=>t.setUint16(0,Number(r),n),get:(t,r)=>t.getUint16(0,r),options:e}),V4=(e={})=>Rl({name:"u32",size:4,range:[0,+"0xffffffff"],set:(t,r,n)=>t.setUint32(0,Number(r),n),get:(t,r)=>t.getUint32(0,r),options:e}),D5e=(e={})=>Rl({name:"u64",size:8,range:[0,BigInt("0xffffffffffffffff")],set:(t,r,n)=>t.setBigUint64(0,BigInt(r),n),get:(t,r)=>t.getBigUint64(0,r),options:e}),z5e=(e={})=>Rl({name:"u128",size:16,range:[0,BigInt("0xffffffffffffffffffffffffffffffff")],set:(t,r,n)=>{const i=n?8:0,s=n?0:8,l=0xffffffffffffffffn;t.setBigUint64(i,BigInt(r)>>64n,n),t.setBigUint64(s,BigInt(r)&l,n)},get:(t,r)=>{const n=r?8:0,i=r?0:8,s=t.getBigUint64(n,r),l=t.getBigUint64(i,r);return(s<<64n)+l},options:e}),R5e=(e={})=>({description:e.description??"shortU16",fixedSize:null,maxSize:3,serialize:t=>{Dte("shortU16",0,65535,t);const r=[0];for(let n=0;;n+=1){const i=t>>n*7;if(i===0)break;const s=127&i;r[n]=s,n>0&&(r[n-1]|=128)}return new Uint8Array(r)},deserialize:(t,r=0)=>{let n=0,i=0;for(;++i;){const s=i-1,l=t[r+s],a=127&l;if(n|=a<<s*7,!(l&128))break}return[n,r+i]}});class U4 extends Error{constructor(r,n,i){super(`Expected [${r}] to have ${n} items, got ${i}.`);nn(this,"name","InvalidNumberOfItemsError")}}class N5e extends Error{constructor(r,n){super(`The remainder of the buffer (${r} bytes) cannot be split into chunks of ${n} bytes. Serializers of "remainder" size must have a remainder that is a multiple of its item size. In other words, ${r} modulo ${n} should be equal to zero.`);nn(this,"name","InvalidArrayLikeRemainderSizeError")}}class zte extends Error{constructor(r){super(`Unrecognized array-like serializer size: ${JSON.stringify(r)}`);nn(this,"name","UnrecognizedArrayLikeSerializerSizeError")}}class Rte extends Error{constructor(r,n){super(`Invalid data enum variant. Expected one of [${n.join(", ")}], got "${r}".`);nn(this,"name","InvalidDataEnumVariantError")}}class Nte extends Error{constructor(r,n,i,s){super(`Invalid scalar enum variant. Expected one of [${n.join(", ")}] or a number between ${i} and ${s}, got "${r}".`);nn(this,"name","InvalidScalarEnumVariantError")}}class BD extends RangeError{constructor(r,n,i){super(`Enum discriminator out of range. Expected a number between ${n} and ${i}, got ${r}.`);nn(this,"name","EnumDiscriminatorOutOfRangeError")}}function pu(e){return e.reduce((t,r)=>t===null||r===null?null:t+r,0)}function FD(e,t,r){if(typeof e=="number")return[e,r];if(typeof e=="object")return e.deserialize(t,r);throw new zte(e)}function Xm(e){return typeof e=="object"?e.description:`${e}`}function Ny(e,t){if(typeof e!="number")return null;if(e===0)return 0;const r=pu(t);return r===null?null:r*e}function jD(e,t){return typeof e=="object"?e.serialize(t):new Uint8Array}function L5e(e,t={}){const r=t.size??V4();return{description:t.description??`array(${e.description}; ${Xm(r)})`,fixedSize:Ny(r,[e.fixedSize]),maxSize:Ny(r,[e.maxSize]),serialize:n=>{if(typeof r=="number"&&n.length!==r)throw new U4("array",r,n.length);return Uo([jD(r,n.length),...n.map(i=>e.serialize(i))])},deserialize:(n,i=0)=>{const s=[];if(typeof r=="object"&&n.slice(i).length===0)return[s,i];if(r==="remainder"){for(;i<n.length;){const[p,f]=e.deserialize(n,i);s.push(p),i=f}return[s,i]}const[l,a]=FD(r,n,i);i=a;for(let p=0;p<l;p+=1){const[f,g]=e.deserialize(n,i);s.push(f),i=g}return[s,i]}}}const Lte=(e,t={})=>{const r=typeof t=="boolean"?{backward:t}:t,n=r.backward??!1,i=n?"; backward":"";return{description:r.description??`bitArray(${e}${i})`,fixedSize:e,maxSize:e,serialize(s){const l=[];for(let a=0;a<e;a+=1){let p=0;for(let f=0;f<8;f+=1){const g=Number(s[a*8+f]??0);p|=g<<(n?f:7-f)}n?l.unshift(p):l.push(p)}return new Uint8Array(l)},deserialize(s,l=0){const a=[];let p=s.slice(l,l+e);if(p=n?p.reverse():p,p.length!==e)throw new Ym("bitArray",e,p.length);return p.forEach(f=>{for(let g=0;g<8;g+=1)n?(a.push(!!(f&1)),f>>=1):(a.push(!!(f&128)),f<<=1)}),[a,l+e]}}};function O5e(e={}){const t=e.size??f2();if(t.fixedSize===null)throw new F4("Serializer [bool] requires a fixed size.");return{description:e.description??`bool(${t.description})`,fixedSize:t.fixedSize,maxSize:t.fixedSize,serialize:r=>t.serialize(r?1:0),deserialize:(r,n=0)=>{if(r.slice(n).length===0)throw new qh("bool");const[i,s]=t.deserialize(r,n);return[i===1,s]}}}function B5e(e={}){const t=e.size??"variable",r=e.description??`bytes(${Xm(t)})`,n={description:r,fixedSize:null,maxSize:null,serialize:i=>new Uint8Array(i),deserialize:(i,s=0)=>{const l=i.slice(s);return[l,s+l.length]}};return t==="variable"?n:typeof t=="number"?Z9(n,t,r):{description:r,fixedSize:null,maxSize:null,serialize:i=>{const s=n.serialize(i),l=t.serialize(s.length);return Uo([l,s])},deserialize:(i,s=0)=>{if(i.slice(s).length===0)throw new qh("bytes");const[l,a]=t.deserialize(i,s),p=Number(l);s=a;const f=i.slice(s,s+p);if(f.length<p)throw new Ym("bytes",p,f.length);const[g,v]=n.deserialize(f);return s+=v,[g,s]}}}function Ote(e){return e.reduce((t,r)=>t===null||r===null?null:Math.max(t,r),0)}function F5e(e,t={}){const r=t.size??f2(),n=e.map(([a,p])=>`${String(a)}${p?`: ${p.description}`:""}`).join(", "),s=e.every((a,p,f)=>a[1].fixedSize===f[0][1].fixedSize)?e[0][1].fixedSize:null,l=Ote(e.map(([,a])=>a.maxSize));return{description:t.description??`dataEnum(${n}; ${r.description})`,fixedSize:e.length===0?r.fixedSize:pu([r.fixedSize,s]),maxSize:e.length===0?r.maxSize:pu([r.maxSize,l]),serialize:a=>{const p=e.findIndex(([_])=>a.__kind===_);if(p<0)throw new Rte(a.__kind,e.map(([_])=>_));const f=r.serialize(p),v=e[p][1].serialize(a);return Uo([f,v])},deserialize:(a,p=0)=>{if(a.slice(p).length===0)throw new qh("dataEnum");const[f,g]=r.deserialize(a,p);p=g;const v=e[Number(f)]??null;if(!v)throw new BD(f,0,e.length-1);const[_,T]=v[1].deserialize(a,p);return p=T,[{__kind:v[0],..._??{}},p]}}}function j5e(e,t,r={}){const n=r.size??V4();return{description:r.description??`map(${e.description}, ${t.description}; ${Xm(n)})`,fixedSize:Ny(n,[e.fixedSize,t.fixedSize]),maxSize:Ny(n,[e.maxSize,t.maxSize]),serialize:i=>{if(typeof n=="number"&&i.size!==n)throw new U4("map",n,i.size);const s=Array.from(i,([l,a])=>Uo([e.serialize(l),t.serialize(a)]));return Uo([jD(n,i.size),...s])},deserialize:(i,s=0)=>{const l=new Map;if(typeof n=="object"&&i.slice(s).length===0)return[l,s];if(n==="remainder"){for(;s<i.length;){const[f,g]=e.deserialize(i,s);s=g;const[v,_]=t.deserialize(i,s);s=_,l.set(f,v)}return[l,s]}const[a,p]=FD(n,i,s);s=p;for(let f=0;f<a;f+=1){const[g,v]=e.deserialize(i,s);s=v;const[_,T]=t.deserialize(i,s);s=T,l.set(g,_)}return[l,s]}}}function V5e(e,t={}){const r=t.prefix??f2(),n=t.fixed??!1;let i=`; ${Xm(r)}`,s=e.fixedSize===0?r.fixedSize:null;if(n){if(e.fixedSize===null||r.fixedSize===null)throw new F4("Fixed nullables can only be used with fixed-size serializers");i+="; fixed",s=r.fixedSize+e.fixedSize}return{description:t.description??`nullable(${e.description+i})`,fixedSize:s,maxSize:pu([r.maxSize,e.maxSize]),serialize:l=>{const a=r.serialize(+(l!==null));if(n){const f=e.fixedSize,g=l!==null?e.serialize(l).slice(0,f):new Uint8Array(f).fill(0);return Uo([a,g])}const p=l!==null?e.serialize(l):new Uint8Array;return Uo([a,p])},deserialize:(l,a=0)=>{if(l.slice(a).length===0)return[null,a];const p=a+(r.fixedSize??0)+(e.fixedSize??0),[f,g]=r.deserialize(l,a);if(a=g,f===0)return[null,n?p:a];const[v,_]=e.deserialize(l,a);return a=_,[v,n?p:a]}}}function U5e(e,t={}){const r=t.prefix??f2(),n=t.fixed??!1;let i=`; ${Xm(r)}`,s=e.fixedSize===0?r.fixedSize:null;if(n){if(e.fixedSize===null||r.fixedSize===null)throw new F4("Fixed options can only be used with fixed-size serializers");i+="; fixed",s=r.fixedSize+e.fixedSize}return{description:t.description??`option(${e.description+i})`,fixedSize:s,maxSize:pu([r.maxSize,e.maxSize]),serialize:l=>{const a=DD(l)?l:Tte(l),p=r.serialize(Number(sh(a)));if(n){const g=e.fixedSize,v=sh(a)?e.serialize(a.value).slice(0,g):new Uint8Array(g).fill(0);return Uo([p,v])}const f=sh(a)?e.serialize(a.value):new Uint8Array;return Uo([p,f])},deserialize:(l,a=0)=>{if(l.slice(a).length===0)return[n4(),a];const p=a+(r.fixedSize??0)+(e.fixedSize??0),[f,g]=r.deserialize(l,a);if(a=g,f===0)return[n4(),n?p:a];const[v,_]=e.deserialize(l,a);return a=_,[q9(v),n?p:a]}}}function W5e(e={}){return{description:e.description??"publicKey",fixedSize:32,maxSize:32,serialize:t=>X9(Ec(t)),deserialize:(t,r=0)=>{const n=t.slice(r,r+32);if(n.length===0)throw new qh("publicKey");if(n.length<i4)throw new Ym("publicKey",i4,n.length);return[Ec(n),r+32]}}}function $5e(e,t={}){const r=t.size??f2(),n=Object.keys(e),i=Object.values(e),s=i.some(v=>typeof v=="number"),l=i.filter(v=>typeof v=="string").join(", "),a=0,p=s?i.length/2-1:i.length-1,f=s?[...n]:[...new Set([...n,...i])];function g(v){const _=typeof v=="number"&&(v<a||v>p),T=typeof v=="string"&&!f.includes(v);if(_||T)throw new Nte(v,f,a,p)}return{description:t.description??`enum(${l}; ${r.description})`,fixedSize:r.fixedSize,maxSize:r.maxSize,serialize:v=>{if(g(v),typeof v=="number")return r.serialize(v);const _=i.indexOf(v);return _>=0?r.serialize(_):r.serialize(n.indexOf(v))},deserialize:(v,_=0)=>{if(v.slice(_).length===0)throw new qh("enum");const[T,z]=r.deserialize(v,_),I=Number(T);if(_=z,I<a||I>p)throw new BD(I,a,p);return[s?I:i[I],_]}}}function K5e(e,t={}){const r=t.size??V4();return{description:t.description??`set(${e.description}; ${Xm(r)})`,fixedSize:Ny(r,[e.fixedSize]),maxSize:Ny(r,[e.maxSize]),serialize:n=>{if(typeof r=="number"&&n.size!==r)throw new U4("set",r,n.size);const i=Array.from(n,s=>e.serialize(s));return Uo([jD(r,n.size),...i])},deserialize:(n,i=0)=>{const s=new Set;if(typeof r=="object"&&n.slice(i).length===0)return[s,i];if(r==="remainder"){for(;i<n.length;){const[p,f]=e.deserialize(n,i);s.add(p),i=f}return[s,i]}const[l,a]=FD(r,n,i);i=a;for(let p=0;p<l;p+=1){const[f,g]=e.deserialize(n,i);s.add(f),i=g}return[s,i]}}}function q5e(e={}){const t=e.size??V4(),r=e.encoding??Y9,n=e.description??`string(${r.description}; ${Xm(t)})`;return t==="variable"?{...r,description:n}:typeof t=="number"?Z9(r,t,n):{description:n,fixedSize:null,maxSize:null,serialize:i=>{const s=r.serialize(i),l=t.serialize(s.length);return Uo([l,s])},deserialize:(i,s=0)=>{if(i.slice(s).length===0)throw new qh("string");const[l,a]=t.deserialize(i,s),p=Number(l);s=a;const f=i.slice(s,s+p);if(f.length<p)throw new Ym("string",p,f.length);const[g,v]=r.deserialize(f);return s+=v,[g,s]}}}function G5e(e,t={}){const r=e.map(([n,i])=>`${String(n)}: ${i.description}`).join(", ");return{description:t.description??`struct(${r})`,fixedSize:pu(e.map(([,n])=>n.fixedSize)),maxSize:pu(e.map(([,n])=>n.maxSize)),serialize:n=>{const i=e.map(([s,l])=>l.serialize(n[s]));return Uo(i)},deserialize:(n,i=0)=>{const s={};return e.forEach(([l,a])=>{const[p,f]=a.deserialize(n,i);i=f,s[l]=p}),[s,i]}}}function H5e(e,t={}){const r=e.map(n=>n.description).join(", ");return{description:t.description??`tuple(${r})`,fixedSize:pu(e.map(n=>n.fixedSize)),maxSize:pu(e.map(n=>n.maxSize)),serialize:n=>{if(n.length!==e.length)throw new U4("tuple",e.length,n.length);return Uo(e.map((i,s)=>i.serialize(n[s])))},deserialize:(n,i=0)=>{const s=[];return e.forEach(l=>{const[a,p]=l.deserialize(n,i);s.push(a),i=p}),[s,i]}}}function Z5e(e={}){return{description:e.description??"unit",fixedSize:0,maxSize:0,serialize:()=>new Uint8Array,deserialize:(t,r=0)=>[void 0,r]}}const Y5e=Object.freeze(Object.defineProperty({__proto__:null,DeserializingEmptyBufferError:qh,get Endian(){return a4},EnumDiscriminatorOutOfRangeError:BD,ExpectedFixedSizeSerializerError:F4,InvalidArrayLikeRemainderSizeError:N5e,InvalidBaseStringError:G9,InvalidDataEnumVariantError:Rte,InvalidNumberOfItemsError:U4,InvalidScalarEnumVariantError:Nte,NotEnoughBytesError:Ym,NumberOutOfRangeError:Cte,UnrecognizedArrayLikeSerializerSizeError:zte,array:L5e,base10:zD,base16:Mte,base58:B4,base64:ND,baseX:H9,baseXReslice:kte,bitArray:Lte,bool:O5e,bytes:B5e,dataEnum:F5e,f32:E5e,f64:A5e,fixBytes:T8,fixSerializer:Z9,i128:I5e,i16:M5e,i32:P5e,i64:k5e,i8:T5e,map:j5e,mapSerializer:j4,maxSerializerSizes:Ote,mergeBytes:Uo,nullable:V5e,option:U5e,padBytes:RD,padNullCharacters:Ite,publicKey:W5e,removeNullCharacters:LD,reverseSerializer:Pte,scalarEnum:$5e,set:K5e,shortU16:R5e,string:q5e,struct:G5e,sumSerializerSizes:pu,tuple:H5e,u128:z5e,u16:C5e,u32:V4,u64:D5e,u8:f2,unit:Z5e,utf8:Y9},Symbol.toStringTag,{value:"Module"})),X5e=j4,Q5e=Z9,J5e=Pte,e8e=Uo,t8e=RD,r8e=T8,n8e=Y9,i8e=H9,a8e=zD,Bte=B4,o8e=ND,s8e=Mte,l8e=Lte,c8e=LD,u8e=Ite,d8e=a4;class Q9 extends Error{constructor(r,n,i,s){super(r);nn(this,"name","UmiError");this.source=n,this.sourceDetails=i,this.cause=s,this.message=`${this.message}

Source: ${this.getFullSource()}${this.cause?`

Caused By: ${this.cause}`:""}
`}getCapitalizedSource(){return this.source==="sdk"||this.source==="rpc"?this.source.toUpperCase():this.source[0].toUpperCase()+this.source.slice(1)}getFullSource(){const r=this.getCapitalizedSource(),n=this.sourceDetails?` > ${this.sourceDetails}`:"";return r+n}toString(){return`[${this.name}] ${this.message}`}}class is extends Q9{constructor(r,n){super(r,"sdk",void 0,n);nn(this,"name","SdkError")}}class Fte extends is{constructor(r,n,i){const s=`The account at the provided address [${r}] is not of the expected type [${n}].`;super(s,i);nn(this,"name","UnexpectedAccountError")}}class jte extends is{constructor(r,n,i){const s=`${n?`The account of type [${n}] was not found`:"No account was found"} at the provided address [${r}].${i?` ${i}`:""}`;super(s);nn(this,"name","AccountNotFoundError")}}const Vte=128;function p8e(e,t){const{data:r,publicKey:n,...i}=e;try{const[s]=t.deserialize(r);return{publicKey:n,header:i,...s}}catch(s){throw new Fte(n,t.description,s)}}function h8e(e,t,r){if(!e.exists)throw new jte(e.publicKey,t,r)}const M8=e=>(e=typeof e=="object"?e.toString():e,BigInt(e));class Ute extends is{constructor(r,n,i){const s=`Expected amount of type [${n} with ${i} decimals] but got [${r.identifier} with ${r.decimals} decimals]. Ensure the provided Amount is of the expected type.`;super(s);nn(this,"name","UnexpectedAmountError");this.amount=r,this.expectedIdentifier=n,this.expectedDecimals=i}}class Wte extends is{constructor(r,n,i){const l=`The SDK tried to execute an operation${i?` [${i}]`:""} on two amounts of different types: [${r.identifier} with ${r.decimals} decimals] and [${n.identifier} with ${n.decimals} decimals]. Provide both amounts in the same type to perform this operation.`;super(l);nn(this,"name","AmountMismatchError");this.left=r,this.right=n,this.operation=i}}const m2=(e,t,r)=>({basisPoints:M8(e),identifier:t,decimals:r}),W4=(e,t,r)=>{const n=m2(BigInt(10)**BigInt(r??0),t,r);return Hte(n,e)},$te=(e,t=2)=>W4(e,"%",t),f8e=(e,t,r)=>W4(e,t??"splToken",r??0),Lp=e=>m2(e,"SOL",9),m8e=e=>W4(e,"SOL",9),g8e=e=>W4(e,"USD",2),J9=(e,t,r)=>e.identifier===t&&e.decimals===r,y8e=e=>J9(e,"SOL",9),Kte=(e,t)=>J9(e,t.identifier,t.decimals);function qte(e,t,r){if(!J9(e,t,r))throw new Ute(e,t,r)}function v8e(e){qte(e,"SOL",9)}function Ly(e,t,r){if(!Kte(e,t))throw new Wte(e,t,r)}const _8e=(e,t)=>(Ly(e,t,"add"),{...e,basisPoints:e.basisPoints+t.basisPoints}),Gte=(e,t)=>(Ly(e,t,"subtract"),{...e,basisPoints:e.basisPoints-t.basisPoints}),Hte=(e,t)=>{if(typeof t=="bigint")return{...e,basisPoints:e.basisPoints*t};const[r,n]=t.toString().split("."),i=BigInt(r+(n??"")),s=BigInt(10)**BigInt((n==null?void 0:n.length)??0);return{...e,basisPoints:e.basisPoints*i/s}},b8e=(e,t)=>{if(typeof t=="bigint")return{...e,basisPoints:e.basisPoints/t};const[r,n]=t.toString().split("."),i=BigInt(r+(n??"")),s=BigInt(10)**BigInt((n==null?void 0:n.length)??0);return{...e,basisPoints:e.basisPoints*s/i}},Zte=e=>{const t=e.basisPoints;return{...e,basisPoints:t<0?-t:t}},$4=(e,t)=>(Ly(e,t,"compare"),e.basisPoints>t.basisPoints?1:e.basisPoints<t.basisPoints?-1:0),x8e=(e,t,r)=>{r=r??m2(0,e.identifier,e.decimals),Ly(e,t,"isEqualToAmount"),Ly(e,r,"isEqualToAmount");const n=Zte(Gte(e,t));return Yte(n,r)},w8e=(e,t)=>$4(e,t)<0,Yte=(e,t)=>$4(e,t)<=0,S8e=(e,t)=>$4(e,t)>0,E8e=(e,t)=>$4(e,t)>=0,Xte=e=>e.basisPoints===BigInt(0),A8e=e=>e.basisPoints>=BigInt(0),T8e=e=>e.basisPoints<BigInt(0),VD=(e,t)=>{let r=e.basisPoints.toString();if(e.decimals===0)return r;const n=r.startsWith("-")?"-":"";r=r.replace("-",""),r=r.padStart(e.decimals+1,"0");const i=r.slice(0,-e.decimals);let s=r.slice(-e.decimals);return t!==void 0&&(s=s.slice(0,t)),`${n+i}.${s}`},M8e=e=>parseFloat(VD(e)),P8e=(e,t)=>{const r=VD(e,t);switch(e.identifier){case"%":return`${r}%`;case"splToken":return/^1(\.0+)?$/.test(r)?`${r} Token`:`${r} Tokens`;default:if(e.identifier.startsWith("splToken.")){const[,n]=e.identifier.split(".");return`${n} ${r}`}return`${e.identifier} ${r}`}},k8e=(e,t,r)=>j4(e,n=>n.basisPoints>Number.MAX_SAFE_INTEGER?n.basisPoints:Number(n.basisPoints),n=>m2(n,t,r)),I8e=["api.mainnet-beta.solana.com","ssc-dao.genesysgo.net"],C8e=["api.devnet.solana.com","psytrbhymqlkfrhudd.dev.genesysgo.net"],D8e=["api.testnet.solana.com"],z8e=["localhost","127.0.0.1"],Qte=e=>{const t=new URL(e).hostname;return I8e.includes(t)?"mainnet-beta":C8e.includes(t)?"devnet":D8e.includes(t)?"testnet":z8e.includes(t)?"localnet":e.includes("mainnet")?"mainnet-beta":e.includes("devnet")?"devnet":e.includes("testnet")?"testnet":e.includes("local")?"localnet":"custom"};class Bd extends is{constructor(r,n){const i=r.replace(/Interface$/,""),s=`Tried using ${r} but no implementation of that interface was found. Make sure an implementation is registered, e.g. via "context.${n} = new My${i}();".`;super(s);nn(this,"name","InterfaceImplementationMissingError")}}function Jte(){const e=()=>{throw new Bd("DownloaderInterface","downloader")};return{download:e,downloadJson:e}}function ere(){const e=()=>{throw new Bd("EddsaInterface","eddsa")};return{generateKeypair:e,createKeypairFromSecretKey:e,createKeypairFromSeed:e,createKeypairFromFile:e,createKeypairFromSolanaConfig:e,isOnCurve:e,findPda:e,sign:e,verify:e}}function tre(){return{send:()=>{throw new Bd("HttpInterface","http")}}}function rre(){const e=()=>{throw new Bd("ProgramRepositoryInterface","programs")};return{has:e,get:e,getPublicKey:e,all:e,add:e,bind:e,unbind:e,clone:e,resolveError:e}}function nre(){const e=()=>{throw new Bd("RpcInterface","rpc")};return{getEndpoint:e,getCluster:e,getAccount:e,getAccounts:e,getProgramAccounts:e,getBlockTime:e,getBalance:e,getRent:e,getSlot:e,getGenesisHash:e,getLatestBlockhash:e,getTransaction:e,getSignatureStatuses:e,accountExists:e,airdrop:e,call:e,sendTransaction:e,simulateTransaction:e,confirmTransaction:e}}function ire(){const e=()=>{throw new Bd("SerializerInterface","serializer")};return{tuple:e,array:e,map:e,set:e,option:e,nullable:e,struct:e,enum:e,dataEnum:e,string:e,bool:e,unit:e,u8:e,u16:e,u32:e,u64:e,u128:e,i8:e,i16:e,i32:e,i64:e,i128:e,f32:e,f64:e,bytes:e,publicKey:e}}const are=(e,t)=>e.reduce((r,n,i)=>{const s=Math.floor(i/t);return r[s]||(r[s]=[]),r[s].push(n),r},[]),ore=(e,t,r)=>e.map((n,i)=>r(n,(t==null?void 0:t[i])??null,i)),sre=(e,t)=>e.reduce((r,n)=>(r.some(i=>t(n,i))||r.push(n),r),[]),lre=async(e,t)=>t.reduce(async(r,n)=>{const i=await r;return n.signTransaction(i)},Promise.resolve(e)),cre=async e=>{const t=e.map(n=>n.transaction);return e.reduce((n,{signers:i},s)=>(i.forEach(l=>{const a=n.find(p=>p.signer.publicKey===l.publicKey);a?a.indices.push(s):n.push({signer:l,indices:[s]})}),n),[]).reduce(async(n,{signer:i,indices:s})=>{const l=await n;if(s.length===1){const f=l[s[0]];return l[s[0]]=await i.signTransaction(f),l}const a=s.map(f=>l[f]),p=await i.signAllTransactions(a);return s.forEach((f,g)=>{l[f]=p[g]}),l},Promise.resolve(t))},R8e=e=>typeof e=="object"&&"publicKey"in e&&"signMessage"in e,ure=e=>sre(e,(t,r)=>t.publicKey===r.publicKey),N8e=e=>({publicKey:e,async signMessage(t){return t},async signTransaction(t){return t},async signAllTransactions(t){return t}});function jk(){const e=new Error("Trying to use a NullSigner. Did you forget to set a Signer on your Umi instance? See the `signerIdentity` method for more information."),t=()=>{throw e};return{get publicKey(){throw e},signMessage:t,signTransaction:t,signAllTransactions:t}}function dre(){const e=()=>{throw new Bd("TransactionFactoryInterface","transactions")};return{create:e,serialize:e,deserialize:e,serializeMessage:e,deserializeMessage:e}}function pre(){const e=()=>{throw new Bd("UploaderInterface","uploader")};return{upload:e,uploadJson:e,getUploadPrice:e}}const hre=()=>({downloader:Jte(),eddsa:ere(),http:tre(),identity:jk(),payer:jk(),programs:rre(),rpc:nre(),serializer:ire(),transactions:dre(),uploader:pre()}),o4=e=>{if(typeof e=="string"||O8e(e)){const t=new Date(e),r=Math.floor(t.getTime()/1e3);return M8(r)}return M8(e)},L8e=()=>o4(new Date(Date.now())),O8e=e=>Object.prototype.toString.call(e)==="[object Date]",B8e=(e,t="en-US",r={month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",timeZone:"UTC"})=>new Date(Number(e*1000n)).toLocaleDateString(t,r),F8e=e=>j4(e,t=>{const r=o4(t);return r>Number.MAX_SAFE_INTEGER?r:Number(r)},t=>o4(t)),fre=(e=20,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")=>{let r="";const n=t.length;for(let i=0;i<e;i+=1)r+=t.charAt(Math.floor(Math.random()*n));return r},eS=(e,t,r={})=>({buffer:typeof e=="string"?Y9.serialize(e):e,fileName:t,displayName:r.displayName??t,uniqueName:r.uniqueName??fre(),contentType:r.contentType??null,extension:r.extension??q8e(t),tags:r.tags??[]}),j8e=async(e,t={})=>eS(new Uint8Array(await e.arrayBuffer()),e.name,t),V8e=(e,t="inline.json",r={})=>eS(JSON.stringify(e),t,{contentType:"application/json",...r}),U8e=e=>new File([e.buffer],e.fileName),W8e=e=>JSON.parse(new TextDecoder().decode(e.buffer)),$8e=(...e)=>e.reduce((t,r)=>t+r.buffer.byteLength,0),K8e=e=>e!=null&&typeof e=="object"&&"buffer"in e&&"fileName"in e&&"displayName"in e&&"uniqueName"in e&&"contentType"in e&&"extension"in e&&"tags"in e,q8e=e=>{const t=e.lastIndexOf(".");return t<0?null:e.slice(t+1)};class ld{constructor(t,r,n={}){this.context=t,this.programId=r,this.options=n}reset(){return new ld(this.context,this.programId,{fields:this.options.fields,deserializeCallback:this.options.deserializeCallback})}registerFields(t){return new ld(this.context,this.programId,{...this.options,fields:t})}registerFieldsFromStruct(t){let r=0;const n=t.reduce((i,[s,l])=>(i[s]=[r,l],r=r===null||l.fixedSize===null?null:r+l.fixedSize,i),{});return this.registerFields(n)}deserializeUsing(t){return new ld(this.context,this.programId,{...this.options,deserializeCallback:t})}slice(t,r){return new ld(this.context,this.programId,{...this.options,dataSlice:{offset:t,length:r}})}sliceField(t,r){const[n,i]=this.getField(t,r);if(!i.fixedSize)throw new is(`Cannot slice field [${t}] because its size is variable.`);return this.slice(n,i.fixedSize)}withoutData(){return this.slice(0,0)}addFilter(...t){return new ld(this.context,this.programId,{...this.options,filters:[...this.options.filters??[],...t]})}where(t,r){let n;return typeof r=="string"?n=B4.serialize(r):typeof r=="number"||typeof r=="bigint"||typeof r=="boolean"?n=zD.serialize(BigInt(r).toString()):n=new Uint8Array(r),this.addFilter({memcmp:{offset:t,bytes:n}})}whereField(t,r,n){const[i,s]=this.getField(t,n);return this.where(i,s.serialize(r))}whereSize(t){return this.addFilter({dataSize:t})}sortUsing(t){return new ld(this.context,this.programId,{...this.options,sortCallback:t})}async get(t={}){const r=await this.context.rpc.getProgramAccounts(this.programId,{...t,dataSlice:t.dataSlice??this.options.dataSlice,filters:[...t.filters??[],...this.options.filters??[]]});return this.options.sortCallback&&r.sort(this.options.sortCallback),r}async getAndMap(t,r={}){return(await this.get(r)).map(t)}async getDeserialized(t={}){const r=await this.get(t);return this.options.deserializeCallback?r.map(this.options.deserializeCallback):r}async getPublicKeys(t={}){return this.getAndMap(r=>r.publicKey,t)}async getDataAsPublicKeys(t={}){return this.getAndMap(r=>{try{return Ec(r.data)}catch{const i=`Following a getProgramAccount call, you are trying to use an account's data (or a slice of it) as a public key. However, we encountered an account [${r.publicKey}] whose data [base64=${ND.deserialize(r.data)}] is not a valid public key.`;throw new is(i)}},t)}getField(t,r){if(!this.options.fields)throw new is("Fields are not defined in this GpaBuilder.");const n=this.options.fields[t];if(!n)throw new is(`Field [${t}] is not defined in this GpaBuilder.`);const[i,s]=n;if(r!==void 0)return[r,s];if(i===null)throw new is(`Field [${t}] does not have a fixed offset. This is likely because it is not in the fixed part of the account's data. In other words, it is located after a field of variable length which means we cannot find a fixed offset for the filter. You may go around this by providing an offset explicitly.`);return[i,s]}}const G8e=(e,t)=>new ld(e,t),Vk=()=>new Yc({method:"get",data:void 0,headers:{},url:""});class Yc{constructor(t){this.request=t}asJson(){return this.contentType("application/json")}asMultipart(){return this.contentType("multipart/form-data")}asForm(){return this.contentType("application/x-www-form-urlencoded")}accept(t){return this.withHeader("accept",t)}contentType(t){return this.withHeader("content-type",t)}userAgent(t){return this.withHeader("user-agent",t)}withToken(t,r="Bearer"){return this.withHeader("authorization",`${r} ${t}`)}withHeader(t,r){return this.withHeaders({[t]:r})}withHeaders(t){return new Yc({...this.request,headers:{...this.request.headers,...t}})}dontFollowRedirects(){return this.followRedirects(0)}followRedirects(t){return new Yc({...this.request,maxRedirects:t})}withoutTimeout(){return this.withTimeout(0)}withTimeout(t){return new Yc({...this.request,timeout:t})}withAbortSignal(t){return new Yc({...this.request,signal:t})}withEndpoint(t,r){return new Yc({...this.request,method:t,url:r})}withParams(t){const r=new URL(this.request.url),n=new URLSearchParams(t),i=new URLSearchParams(r.searchParams);return[...n.entries()].forEach(([s,l])=>{i.append(s,l)}),r.search=i.toString(),new Yc({...this.request,url:r.toString()})}withData(t){return new Yc({...this.request,data:t})}get(t){return this.withEndpoint("get",t)}post(t){return this.withEndpoint("post",t)}put(t){return this.withEndpoint("put",t)}patch(t){return this.withEndpoint("patch",t)}delete(t){return this.withEndpoint("delete",t)}get method(){return this.request.method}get url(){return this.request.url}get data(){return this.request.data}get headers(){return this.request.headers}get maxRedirects(){return this.request.maxRedirects}get timeout(){return this.request.timeout}get signal(){return this.request.signal}}const mre=1232,gre=(e,t,r)=>{const n=e.message.header.numRequiredSignatures,s=e.message.accounts.slice(0,n).findIndex(a=>a===r);if(s<0)throw new Error("The provided signer is not required to sign this transaction.");const l=[...e.signatures];return l[s]=t,{...e,signatures:l}},tS=e=>rS(e,e.eddsa.generateKeypair()),rS=(e,t)=>({publicKey:t.publicKey,secretKey:t.secretKey,async signMessage(r){return e.eddsa.sign(r,t)},async signTransaction(r){const n=r.serializedMessage,i=e.eddsa.sign(n,t);return gre(r,i,t.publicKey)},async signAllTransactions(r){return Promise.all(r.map(n=>this.signTransaction(n)))}}),H8e=e=>e.secretKey!==void 0,Z8e=e=>e instanceof Error&&"logs"in e,nS=(e,t=!0)=>({install(r){r.identity=e,t&&(r.payer=e)}}),UD=e=>({install(t){t.payer=e}}),Y8e=(e=!0)=>({install(t){const r=tS(t);t.use(nS(r,e))}}),X8e=()=>({install(e){const t=tS(e);e.use(UD(t))}}),Q8e=(e,t=!0)=>({install(r){const n=rS(r,e);r.use(nS(n,t))}}),J8e=e=>({install(t){const r=rS(t,e);t.use(UD(r))}});class Jo{constructor(t=[],r={}){this.items=t,this.options=r}empty(){return new Jo([],this.options)}setItems(t){return new Jo(this.parseItems(t),this.options)}prepend(t){return new Jo([...this.parseItems(t),...this.items],this.options)}append(t){return new Jo([...this.items,...this.parseItems(t)],this.options)}add(t){return this.append(t)}mapInstructions(t){return new Jo(this.items.map(t),this.options)}addRemainingAccounts(t,r){r=r??this.items.length-1;const n=Array.isArray(t)?t:[t],i=n.map(l=>"pubkey"in l?l:{pubkey:l.signer.publicKey,isSigner:!0,isWritable:l.isWritable}),s=n.flatMap(l=>"pubkey"in l?[]:[l.signer]);return this.mapInstructions((l,a)=>{if(a!==r)return l;const p=[...l.instruction.keys,...i];return{...l,instruction:{...l.instruction,keys:p},signers:[...l.signers,...s]}})}splitByIndex(t){return[new Jo(this.items.slice(0,t),this.options),new Jo(this.items.slice(t),this.options)]}unsafeSplitByTransactionSize(t){return this.items.reduce((r,n)=>{const i=r.pop(),s=i.add(n);return s.fitsInOneTransaction(t)?r.push(s):(r.push(i),r.push(i.empty().add(n))),r},[this.empty()])}setFeePayer(t){return new Jo(this.items,{...this.options,feePayer:t})}getFeePayer(t){return this.options.feePayer??t.payer}setVersion(t){return new Jo(this.items,{...this.options,version:t})}useLegacyVersion(){return this.setVersion("legacy")}useV0(){return this.setVersion(0)}setAddressLookupTables(t){return new Jo(this.items,{...this.options,addressLookupTables:t})}getBlockhash(){return typeof this.options.blockhash=="object"?this.options.blockhash.blockhash:this.options.blockhash}setBlockhash(t){return new Jo(this.items,{...this.options,blockhash:t})}async setLatestBlockhash(t,r={}){return this.setBlockhash(await t.rpc.getLatestBlockhash(r))}getInstructions(){return this.items.map(t=>t.instruction)}getSigners(t){return ure([this.getFeePayer(t),...this.items.flatMap(r=>r.signers)])}getBytesCreatedOnChain(){return this.items.reduce((t,r)=>t+r.bytesCreatedOnChain,0)}async getRentCreatedOnChain(t){return t.rpc.getRent(this.getBytesCreatedOnChain(),{includesHeaderBytes:!0})}getTransactionSize(t){return t.transactions.serialize(this.setBlockhash("11111111111111111111111111111111").build(t)).length}minimumTransactionsRequired(t){return Math.ceil(this.getTransactionSize(t)/mre)}fitsInOneTransaction(t){return this.minimumTransactionsRequired(t)===1}build(t){const r=this.getBlockhash();if(!r)throw new is("Setting a blockhash is required to build a transaction. Please use the `setBlockhash` or `setLatestBlockhash` methods.");const n={version:this.options.version??0,payer:this.getFeePayer(t).publicKey,instructions:this.getInstructions(),blockhash:r};return n.version===0&&this.options.addressLookupTables&&(n.addressLookupTables=this.options.addressLookupTables),t.transactions.create(n)}async buildWithLatestBlockhash(t,r={}){let n=this;return this.options.blockhash||(n=await this.setLatestBlockhash(t,r)),n.build(t)}async buildAndSign(t){return lre(await this.buildWithLatestBlockhash(t),this.getSigners(t))}async send(t,r={}){const n=await this.buildAndSign(t);return t.rpc.sendTransaction(n,r)}async confirm(t,r,n={}){let i=this;this.options.blockhash||(i=await this.setLatestBlockhash(t));let s;if(n.strategy)s=n.strategy;else{const l=typeof i.options.blockhash=="object"?i.options.blockhash:await t.rpc.getLatestBlockhash();s=n.strategy??{type:"blockhash",...l}}return t.rpc.confirmTransaction(r,{...n,strategy:s})}async sendAndConfirm(t,r={}){let n=this;this.options.blockhash||(n=await this.setLatestBlockhash(t));const i=await n.send(t,r.send),s=await n.confirm(t,i,r.confirm);return{signature:i,result:s}}parseItems(t){return(Array.isArray(t)?t:[t]).flatMap(r=>"items"in r?r.items:[r])}}const e9e=(e=[])=>new Jo(e);class cd{constructor(t=[],r={}){this.builders=t,this.options=r}prepend(t){const r=Array.isArray(t)?t:[t];return new cd([...r,...this.builders],this.options)}append(t){const r=Array.isArray(t)?t:[t];return new cd([...this.builders,...r],this.options)}add(t){return this.append(t)}sequential(){return new cd(this.builders,{...this.options,parallel:!1})}parallel(){return new cd(this.builders,{...this.options,parallel:!0})}isParallel(){return this.options.parallel??!1}merge(){return this.builders.length===0?new Jo:this.builders.reduce((t,r)=>t.add(r),this.builders[0].empty())}build(t){return this.builders.map(r=>r.build(t))}async setLatestBlockhash(t){if(!this.builders.some(i=>!i.options.blockhash))return this;const n=await t.rpc.getLatestBlockhash();return this.map(i=>i.options.blockhash?i:i.setBlockhash(n))}async buildWithLatestBlockhash(t){return(await this.setLatestBlockhash(t)).build(t)}async buildAndSign(t){const r=await this.buildWithLatestBlockhash(t),n=this.builders.map(i=>i.getSigners(t));return cre(ore(r,n,(i,s)=>({transaction:i,signers:s??[]})))}async send(t,r={}){return this.runAll(await this.buildAndSign(t),async n=>t.rpc.sendTransaction(n,r))}async sendAndConfirm(t,r={}){var s,l,a;const n=(s=this.builders.find(p=>typeof p.options.blockhash=="object"))==null?void 0:s.options.blockhash;let i;if((l=r.confirm)!=null&&l.strategy)i=r.confirm.strategy;else{const p=n??await t.rpc.getLatestBlockhash();i=((a=r.confirm)==null?void 0:a.strategy)??{type:"blockhash",...p}}return this.runAll(await this.buildAndSign(t),async p=>{const f=await t.rpc.sendTransaction(p,r.send),g=await t.rpc.confirmTransaction(f,{...r.confirm,strategy:i});return{signature:f,result:g}})}map(t){return new cd(this.builders.map(t))}filter(t){return new cd(this.builders.filter(t))}async runAll(t,r){return this.isParallel()?Promise.all(t.map(r)):t.reduce(async(n,...i)=>[...await n,await r(...i)],Promise.resolve([]))}}function t9e(e=[]){return new cd(e)}const yre=()=>({...hre(),use(e){return e.install(this),this}});class r9e extends is{constructor(r,n,i){const s=`Expected a string of base ${n}, got [${r}].`;super(s,i);nn(this,"name","InvalidBaseStringError")}}class vre extends Q9{constructor(r,n,i){super(r,"program",`${n.name} [${n.publicKey}]`,i);nn(this,"name","ProgramError");this.program=n,this.logs=i==null?void 0:i.logs,this.logs&&(this.message+=`
Program Logs:
${this.logs.map(s=>`| ${s}`).join(`
`)}
`)}}const n9e=Object.freeze(Object.defineProperty({__proto__:null,ACCOUNT_HEADER_SIZE:Vte,AccountNotFoundError:jte,AmountMismatchError:Wte,Endian:d8e,GpaBuilder:ld,HttpRequestBuilder:Yc,InterfaceImplementationMissingError:Bd,InvalidBaseStringError:r9e,InvalidPublicKeyError:vx,PUBLIC_KEY_LENGTH:i4,ProgramError:vre,SdkError:is,TRANSACTION_SIZE_LIMIT:mre,TransactionBuilder:Jo,TransactionBuilderGroup:cd,UmiError:Q9,UnexpectedAccountError:Fte,UnexpectedAmountError:Ute,absoluteAmount:Zte,addAmounts:_8e,addTransactionSignature:gre,amountToNumber:M8e,amountToString:VD,assertAccountExists:h8e,assertAmount:qte,assertPublicKey:OD,assertSameAmounts:Ly,assertSolAmount:v8e,base10:a8e,base16:s8e,base58:Bte,base58PublicKey:_5e,base64:o8e,baseX:i8e,bitArray:l8e,chunk:are,compareAmounts:$4,createAmount:m2,createAmountFromDecimals:W4,createBigInt:M8,createBrowserFileFromGenericFile:U8e,createGenericFile:eS,createGenericFileFromBrowserFile:j8e,createGenericFileFromJson:V8e,createNoopSigner:N8e,createNullContext:hre,createNullDownloader:Jte,createNullEddsa:ere,createNullHttp:tre,createNullProgramRepository:rre,createNullRpc:nre,createNullSerializer:ire,createNullSigner:jk,createNullTransactionFactory:dre,createNullUploader:pre,createSignerFromKeypair:rS,createUmi:yre,dateTime:o4,defaultPublicKey:g5e,deserializeAccount:p8e,displayAmount:P8e,divideAmount:b8e,fixBytes:r8e,fixSerializer:Q5e,formatDateTime:B8e,generateRandomString:fre,generateSigner:tS,generatedSignerIdentity:Y8e,generatedSignerPayer:X8e,getBytesFromGenericFiles:$8e,gpaBuilder:G8e,isAmount:J9,isEqualToAmount:x8e,isErrorWithLogs:Z8e,isGenericFile:K8e,isGreaterThanAmount:S8e,isGreaterThanOrEqualToAmount:E8e,isKeypairSigner:H8e,isLessThanAmount:w8e,isLessThanOrEqualToAmount:Yte,isNegativeAmount:T8e,isNone:d5e,isOption:DD,isPda:y5e,isPositiveAmount:A8e,isPublicKey:oy,isSigner:R8e,isSolAmount:y8e,isSome:sh,isZeroAmount:Xte,keypairIdentity:Q8e,keypairPayer:J8e,lamports:Lp,mapAmountSerializer:k8e,mapDateTimeSerializer:F8e,mapSerializer:X5e,mergeBytes:e8e,multiplyAmount:Hte,none:n4,now:L8e,padBytes:t8e,padNullCharacters:u8e,parseJsonFromGenericFile:W8e,percentAmount:$te,publicKey:Ec,publicKeyBytes:X9,removeNullCharacters:c8e,request:Vk,resolveClusterFromEndpoint:Qte,reverseSerializer:J5e,sameAmounts:Kte,samePublicKey:b5e,signAllTransactions:cre,signTransaction:lre,signerIdentity:nS,signerPayer:UD,sol:m8e,some:q9,subtractAmounts:Gte,tokenAmount:f8e,transactionBuilder:e9e,transactionBuilderGroup:t9e,uniqueBy:sre,uniquePublicKeys:v5e,uniqueSigners:ure,unwrapOption:p5e,unwrapOptionRecursively:Fk,unwrapSome:f5e,unwrapSomeOrElse:m5e,usd:g8e,utf8:n8e,wrapNullable:Tte,wrapNullish:h5e,zipMap:ore},Symbol.toStringTag,{value:"Module"}));function i9e(e){const t=async(i,s={})=>{const l=await e.http.send(Vk().get(i).withAbortSignal(s.signal));return eS(l.body,i)};return{download:async(i,s={})=>Promise.all(i.map(l=>t(l,s))),downloadJson:async(i,s={})=>(await e.http.send(Vk().get(i).withAbortSignal(s.signal))).data}}const a9e=()=>({install(e){e.downloader=i9e(e)}});function _re(e){return e.toBase58()}function _$(e){return new Ir(e)}function $A(e){return{publicKey:_re(e.publicKey),secretKey:e.secretKey}}function o9e(){return{generateKeypair:()=>$A(Tm.generate()),createKeypairFromSecretKey:a=>$A(Tm.fromSecretKey(a)),createKeypairFromSeed:a=>$A(Tm.fromSeed(a)),isOnCurve:a=>Ir.isOnCurve(_$(Ec(a))),findPda:(a,p)=>{const[f,g]=Ir.findProgramAddressSync(p,_$(Ec(a)));return[_re(f),g]},sign:(a,p)=>wh.sign(a,p.secretKey.slice(0,32)),verify:(a,p,f)=>wh.verify(p,a,X9(f))}}const s9e=()=>({install(e){e.eddsa=o9e()}});var KA,b$;function bre(){return b$||(b$=1,KA=CD.EventEmitter),KA}var qA,x$;function l9e(){if(x$)return qA;x$=1;function e(z,I){var k=Object.keys(z);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(z);I&&(C=C.filter(function(L){return Object.getOwnPropertyDescriptor(z,L).enumerable})),k.push.apply(k,C)}return k}function t(z){for(var I=1;I<arguments.length;I++){var k=arguments[I]!=null?arguments[I]:{};I%2?e(Object(k),!0).forEach(function(C){r(z,C,k[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(k)):e(Object(k)).forEach(function(C){Object.defineProperty(z,C,Object.getOwnPropertyDescriptor(k,C))})}return z}function r(z,I,k){return I=l(I),I in z?Object.defineProperty(z,I,{value:k,enumerable:!0,configurable:!0,writable:!0}):z[I]=k,z}function n(z,I){if(!(z instanceof I))throw new TypeError("Cannot call a class as a function")}function i(z,I){for(var k=0;k<I.length;k++){var C=I[k];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(z,l(C.key),C)}}function s(z,I,k){return I&&i(z.prototype,I),k&&i(z,k),Object.defineProperty(z,"prototype",{writable:!1}),z}function l(z){var I=a(z,"string");return typeof I=="symbol"?I:String(I)}function a(z,I){if(typeof z!="object"||z===null)return z;var k=z[Symbol.toPrimitive];if(k!==void 0){var C=k.call(z,I||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(z)}var p=tn,f=p.Buffer,g=tD,v=g.inspect,_=v&&v.custom||"inspect";function T(z,I,k){f.prototype.copy.call(z,I,k)}return qA=function(){function z(){n(this,z),this.head=null,this.tail=null,this.length=0}return s(z,[{key:"push",value:function(k){var C={data:k,next:null};this.length>0?this.tail.next=C:this.head=C,this.tail=C,++this.length}},{key:"unshift",value:function(k){var C={data:k,next:this.head};this.length===0&&(this.tail=C),this.head=C,++this.length}},{key:"shift",value:function(){if(this.length!==0){var k=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,k}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(k){if(this.length===0)return"";for(var C=this.head,L=""+C.data;C=C.next;)L+=k+C.data;return L}},{key:"concat",value:function(k){if(this.length===0)return f.alloc(0);for(var C=f.allocUnsafe(k>>>0),L=this.head,N=0;L;)T(L.data,C,N),N+=L.data.length,L=L.next;return C}},{key:"consume",value:function(k,C){var L;return k<this.head.data.length?(L=this.head.data.slice(0,k),this.head.data=this.head.data.slice(k)):k===this.head.data.length?L=this.shift():L=C?this._getString(k):this._getBuffer(k),L}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(k){var C=this.head,L=1,N=C.data;for(k-=N.length;C=C.next;){var $=C.data,ee=k>$.length?$.length:k;if(ee===$.length?N+=$:N+=$.slice(0,k),k-=ee,k===0){ee===$.length?(++L,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=$.slice(ee));break}++L}return this.length-=L,N}},{key:"_getBuffer",value:function(k){var C=f.allocUnsafe(k),L=this.head,N=1;for(L.data.copy(C),k-=L.data.length;L=L.next;){var $=L.data,ee=k>$.length?$.length:k;if($.copy(C,C.length-k,0,ee),k-=ee,k===0){ee===$.length?(++N,L.next?this.head=L.next:this.head=this.tail=null):(this.head=L,L.data=$.slice(ee));break}++N}return this.length-=N,C}},{key:_,value:function(k,C){return v(this,t(t({},C),{},{depth:0,customInspect:!1}))}}]),z}(),qA}var GA,w$;function xre(){if(w$)return GA;w$=1;function e(l,a){var p=this,f=this._readableState&&this._readableState.destroyed,g=this._writableState&&this._writableState.destroyed;return f||g?(a?a(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,l)):process.nextTick(i,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(v){!a&&v?p._writableState?p._writableState.errorEmitted?process.nextTick(r,p):(p._writableState.errorEmitted=!0,process.nextTick(t,p,v)):process.nextTick(t,p,v):a?(process.nextTick(r,p),a(v)):process.nextTick(r,p)}),this)}function t(l,a){i(l,a),r(l)}function r(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(l,a){l.emit("error",a)}function s(l,a){var p=l._readableState,f=l._writableState;p&&p.autoDestroy||f&&f.autoDestroy?l.destroy(a):l.emit("error",a)}return GA={destroy:e,undestroy:n,errorOrDestroy:s},GA}var HA={},S$;function g2(){if(S$)return HA;S$=1;function e(a,p){a.prototype=Object.create(p.prototype),a.prototype.constructor=a,a.__proto__=p}var t={};function r(a,p,f){f||(f=Error);function g(_,T,z){return typeof p=="string"?p:p(_,T,z)}var v=function(_){e(T,_);function T(z,I,k){return _.call(this,g(z,I,k))||this}return T}(f);v.prototype.name=f.name,v.prototype.code=a,t[a]=v}function n(a,p){if(Array.isArray(a)){var f=a.length;return a=a.map(function(g){return String(g)}),f>2?"one of ".concat(p," ").concat(a.slice(0,f-1).join(", "),", or ")+a[f-1]:f===2?"one of ".concat(p," ").concat(a[0]," or ").concat(a[1]):"of ".concat(p," ").concat(a[0])}else return"of ".concat(p," ").concat(String(a))}function i(a,p,f){return a.substr(!f||f<0?0:+f,p.length)===p}function s(a,p,f){return(f===void 0||f>a.length)&&(f=a.length),a.substring(f-p.length,f)===p}function l(a,p,f){return typeof f!="number"&&(f=0),f+p.length>a.length?!1:a.indexOf(p,f)!==-1}return r("ERR_INVALID_OPT_VALUE",function(a,p){return'The value "'+p+'" is invalid for option "'+a+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(a,p,f){var g;typeof p=="string"&&i(p,"not ")?(g="must not be",p=p.replace(/^not /,"")):g="must be";var v;if(s(a," argument"))v="The ".concat(a," ").concat(g," ").concat(n(p,"type"));else{var _=l(a,".")?"property":"argument";v='The "'.concat(a,'" ').concat(_," ").concat(g," ").concat(n(p,"type"))}return v+=". Received type ".concat(typeof f),v},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),HA.codes=t,HA}var ZA,E$;function wre(){if(E$)return ZA;E$=1;var e=g2().codes.ERR_INVALID_OPT_VALUE;function t(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,l){var a=t(i,l,s);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var p=l?s:"highWaterMark";throw new e(p,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return ZA={getHighWaterMark:r},ZA}var YA,A$;function c9e(){if(A$)return YA;A$=1,YA=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function s(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function t(r){try{if(!globalThis.localStorage)return!1}catch{return!1}var n=globalThis.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return YA}var XA,T$;function Sre(){if(T$)return XA;T$=1,XA=ie;function e(Ve){var Be=this;this.next=null,this.entry=null,this.finish=function(){zt(Be,Ve)}}var t;ie.WritableState=re;var r={deprecate:c9e()},n=bre(),i=tn.Buffer,s=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function l(Ve){return i.from(Ve)}function a(Ve){return i.isBuffer(Ve)||Ve instanceof s}var p=xre(),f=wre(),g=f.getHighWaterMark,v=g2().codes,_=v.ERR_INVALID_ARG_TYPE,T=v.ERR_METHOD_NOT_IMPLEMENTED,z=v.ERR_MULTIPLE_CALLBACK,I=v.ERR_STREAM_CANNOT_PIPE,k=v.ERR_STREAM_DESTROYED,C=v.ERR_STREAM_NULL_VALUES,L=v.ERR_STREAM_WRITE_AFTER_END,N=v.ERR_UNKNOWN_ENCODING,$=p.errorOrDestroy;h2(ie,n);function ee(){}function re(Ve,Be,ut){t=t||Oy(),Ve=Ve||{},typeof ut!="boolean"&&(ut=Be instanceof t),this.objectMode=!!Ve.objectMode,ut&&(this.objectMode=this.objectMode||!!Ve.writableObjectMode),this.highWaterMark=g(this,Ve,"writableHighWaterMark",ut),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var bt=Ve.decodeStrings===!1;this.decodeStrings=!bt,this.defaultEncoding=Ve.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ht){oe(Be,Ht)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ve.emitClose!==!1,this.autoDestroy=!!Ve.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}re.prototype.getBuffer=function(){for(var Be=this.bufferedRequest,ut=[];Be;)ut.push(Be),Be=Be.next;return ut},function(){try{Object.defineProperty(re.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ne;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ne=Function.prototype[Symbol.hasInstance],Object.defineProperty(ie,Symbol.hasInstance,{value:function(Be){return ne.call(this,Be)?!0:this!==ie?!1:Be&&Be._writableState instanceof re}})):ne=function(Be){return Be instanceof this};function ie(Ve){t=t||Oy();var Be=this instanceof t;if(!Be&&!ne.call(ie,this))return new ie(Ve);this._writableState=new re(Ve,this,Be),this.writable=!0,Ve&&(typeof Ve.write=="function"&&(this._write=Ve.write),typeof Ve.writev=="function"&&(this._writev=Ve.writev),typeof Ve.destroy=="function"&&(this._destroy=Ve.destroy),typeof Ve.final=="function"&&(this._final=Ve.final)),n.call(this)}ie.prototype.pipe=function(){$(this,new I)};function me(Ve,Be){var ut=new L;$(Ve,ut),process.nextTick(Be,ut)}function Ze(Ve,Be,ut,bt){var Ht;return ut===null?Ht=new C:typeof ut!="string"&&!Be.objectMode&&(Ht=new _("chunk",["string","Buffer"],ut)),Ht?($(Ve,Ht),process.nextTick(bt,Ht),!1):!0}ie.prototype.write=function(Ve,Be,ut){var bt=this._writableState,Ht=!1,_e=!bt.objectMode&&a(Ve);return _e&&!i.isBuffer(Ve)&&(Ve=l(Ve)),typeof Be=="function"&&(ut=Be,Be=null),_e?Be="buffer":Be||(Be=bt.defaultEncoding),typeof ut!="function"&&(ut=ee),bt.ending?me(this,ut):(_e||Ze(this,bt,Ve,ut))&&(bt.pendingcb++,Ht=Ke(this,bt,_e,Ve,Be,ut)),Ht},ie.prototype.cork=function(){this._writableState.corked++},ie.prototype.uncork=function(){var Ve=this._writableState;Ve.corked&&(Ve.corked--,!Ve.writing&&!Ve.corked&&!Ve.bufferProcessing&&Ve.bufferedRequest&&ce(this,Ve))},ie.prototype.setDefaultEncoding=function(Be){if(typeof Be=="string"&&(Be=Be.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Be+"").toLowerCase())>-1))throw new N(Be);return this._writableState.defaultEncoding=Be,this},Object.defineProperty(ie.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function et(Ve,Be,ut){return!Ve.objectMode&&Ve.decodeStrings!==!1&&typeof Be=="string"&&(Be=i.from(Be,ut)),Be}Object.defineProperty(ie.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ke(Ve,Be,ut,bt,Ht,_e){if(!ut){var Me=et(Be,bt,Ht);bt!==Me&&(ut=!0,Ht="buffer",bt=Me)}var we=Be.objectMode?1:bt.length;Be.length+=we;var be=Be.length<Be.highWaterMark;if(be||(Be.needDrain=!0),Be.writing||Be.corked){var rt=Be.lastBufferedRequest;Be.lastBufferedRequest={chunk:bt,encoding:Ht,isBuf:ut,callback:_e,next:null},rt?rt.next=Be.lastBufferedRequest:Be.bufferedRequest=Be.lastBufferedRequest,Be.bufferedRequestCount+=1}else ye(Ve,Be,!1,we,bt,Ht,_e);return be}function ye(Ve,Be,ut,bt,Ht,_e,Me){Be.writelen=bt,Be.writecb=Me,Be.writing=!0,Be.sync=!0,Be.destroyed?Be.onwrite(new k("write")):ut?Ve._writev(Ht,Be.onwrite):Ve._write(Ht,_e,Be.onwrite),Be.sync=!1}function j(Ve,Be,ut,bt,Ht){--Be.pendingcb,ut?(process.nextTick(Ht,bt),process.nextTick(pe,Ve,Be),Ve._writableState.errorEmitted=!0,$(Ve,bt)):(Ht(bt),Ve._writableState.errorEmitted=!0,$(Ve,bt),pe(Ve,Be))}function Z(Ve){Ve.writing=!1,Ve.writecb=null,Ve.length-=Ve.writelen,Ve.writelen=0}function oe(Ve,Be){var ut=Ve._writableState,bt=ut.sync,Ht=ut.writecb;if(typeof Ht!="function")throw new z;if(Z(ut),Be)j(Ve,ut,bt,Be,Ht);else{var _e=Ee(ut)||Ve.destroyed;!_e&&!ut.corked&&!ut.bufferProcessing&&ut.bufferedRequest&&ce(Ve,ut),bt?process.nextTick(le,Ve,ut,_e,Ht):le(Ve,ut,_e,Ht)}}function le(Ve,Be,ut,bt){ut||Q(Ve,Be),Be.pendingcb--,bt(),pe(Ve,Be)}function Q(Ve,Be){Be.length===0&&Be.needDrain&&(Be.needDrain=!1,Ve.emit("drain"))}function ce(Ve,Be){Be.bufferProcessing=!0;var ut=Be.bufferedRequest;if(Ve._writev&&ut&&ut.next){var bt=Be.bufferedRequestCount,Ht=new Array(bt),_e=Be.corkedRequestsFree;_e.entry=ut;for(var Me=0,we=!0;ut;)Ht[Me]=ut,ut.isBuf||(we=!1),ut=ut.next,Me+=1;Ht.allBuffers=we,ye(Ve,Be,!0,Be.length,Ht,"",_e.finish),Be.pendingcb++,Be.lastBufferedRequest=null,_e.next?(Be.corkedRequestsFree=_e.next,_e.next=null):Be.corkedRequestsFree=new e(Be),Be.bufferedRequestCount=0}else{for(;ut;){var be=ut.chunk,rt=ut.encoding,pt=ut.callback,Ct=Be.objectMode?1:be.length;if(ye(Ve,Be,!1,Ct,be,rt,pt),ut=ut.next,Be.bufferedRequestCount--,Be.writing)break}ut===null&&(Be.lastBufferedRequest=null)}Be.bufferedRequest=ut,Be.bufferProcessing=!1}ie.prototype._write=function(Ve,Be,ut){ut(new T("_write()"))},ie.prototype._writev=null,ie.prototype.end=function(Ve,Be,ut){var bt=this._writableState;return typeof Ve=="function"?(ut=Ve,Ve=null,Be=null):typeof Be=="function"&&(ut=Be,Be=null),Ve!=null&&this.write(Ve,Be),bt.corked&&(bt.corked=1,this.uncork()),bt.ending||Et(this,bt,ut),this},Object.defineProperty(ie.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ee(Ve){return Ve.ending&&Ve.length===0&&Ve.bufferedRequest===null&&!Ve.finished&&!Ve.writing}function fe(Ve,Be){Ve._final(function(ut){Be.pendingcb--,ut&&$(Ve,ut),Be.prefinished=!0,Ve.emit("prefinish"),pe(Ve,Be)})}function K(Ve,Be){!Be.prefinished&&!Be.finalCalled&&(typeof Ve._final=="function"&&!Be.destroyed?(Be.pendingcb++,Be.finalCalled=!0,process.nextTick(fe,Ve,Be)):(Be.prefinished=!0,Ve.emit("prefinish")))}function pe(Ve,Be){var ut=Ee(Be);if(ut&&(K(Ve,Be),Be.pendingcb===0&&(Be.finished=!0,Ve.emit("finish"),Be.autoDestroy))){var bt=Ve._readableState;(!bt||bt.autoDestroy&&bt.endEmitted)&&Ve.destroy()}return ut}function Et(Ve,Be,ut){Be.ending=!0,pe(Ve,Be),ut&&(Be.finished?process.nextTick(ut):Ve.once("finish",ut)),Be.ended=!0,Ve.writable=!1}function zt(Ve,Be,ut){var bt=Ve.entry;for(Ve.entry=null;bt;){var Ht=bt.callback;Be.pendingcb--,Ht(ut),bt=bt.next}Be.corkedRequestsFree.next=Ve}return Object.defineProperty(ie.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Be){this._writableState&&(this._writableState.destroyed=Be)}}),ie.prototype.destroy=p.destroy,ie.prototype._undestroy=p.undestroy,ie.prototype._destroy=function(Ve,Be){Be(Ve)},XA}var QA,M$;function Oy(){if(M$)return QA;M$=1;var e=Object.keys||function(f){var g=[];for(var v in f)g.push(v);return g};QA=l;var t=Ere(),r=Sre();h2(l,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var s=n[i];l.prototype[s]||(l.prototype[s]=r.prototype[s])}function l(f){if(!(this instanceof l))return new l(f);t.call(this,f),r.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(p,this)}function p(f){f.end()}return Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),QA}var Uk={},WD=EJ.Buffer,P$=WD.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u9e(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function d9e(e){var t=u9e(e);if(typeof t!="string"&&(WD.isEncoding===P$||!P$(e)))throw new Error("Unknown encoding: "+e);return t||e}Uk.StringDecoder=K4;function K4(e){this.encoding=d9e(e);var t;switch(this.encoding){case"utf16le":this.text=y9e,this.end=v9e,t=4;break;case"utf8":this.fillLast=f9e,t=4;break;case"base64":this.text=_9e,this.end=b9e,t=3;break;default:this.write=x9e,this.end=w9e;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=WD.allocUnsafe(t)}K4.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};K4.prototype.end=g9e;K4.prototype.text=m9e;K4.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function JA(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function p9e(e,t,r){var n=t.length-1;if(n<r)return 0;var i=JA(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=JA(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=JA(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function h9e(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,""}}function f9e(e){var t=this.lastTotal-this.lastNeed,r=h9e(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function m9e(e,t){var r=p9e(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function g9e(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function y9e(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function v9e(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function _9e(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function b9e(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function x9e(e){return e.toString(this.encoding)}function w9e(e){return e&&e.length?this.write(e):""}var eT,k$;function $D(){if(k$)return eT;k$=1;var e=g2().codes.ERR_STREAM_PREMATURE_CLOSE;function t(s){var l=!1;return function(){if(!l){l=!0;for(var a=arguments.length,p=new Array(a),f=0;f<a;f++)p[f]=arguments[f];s.apply(this,p)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,l,a){if(typeof l=="function")return i(s,null,l);l||(l={}),a=t(a||r);var p=l.readable||l.readable!==!1&&s.readable,f=l.writable||l.writable!==!1&&s.writable,g=function(){s.writable||_()},v=s._writableState&&s._writableState.finished,_=function(){f=!1,v=!0,p||a.call(s)},T=s._readableState&&s._readableState.endEmitted,z=function(){p=!1,T=!0,f||a.call(s)},I=function(N){a.call(s,N)},k=function(){var N;if(p&&!T)return(!s._readableState||!s._readableState.ended)&&(N=new e),a.call(s,N);if(f&&!v)return(!s._writableState||!s._writableState.ended)&&(N=new e),a.call(s,N)},C=function(){s.req.on("finish",_)};return n(s)?(s.on("complete",_),s.on("abort",k),s.req?C():s.on("request",C)):f&&!s._writableState&&(s.on("end",g),s.on("close",g)),s.on("end",z),s.on("finish",_),l.error!==!1&&s.on("error",I),s.on("close",k),function(){s.removeListener("complete",_),s.removeListener("abort",k),s.removeListener("request",C),s.req&&s.req.removeListener("finish",_),s.removeListener("end",g),s.removeListener("close",g),s.removeListener("finish",_),s.removeListener("end",z),s.removeListener("error",I),s.removeListener("close",k)}}return eT=i,eT}var tT,I$;function S9e(){if(I$)return tT;I$=1;var e;function t(N,$,ee){return $=r($),$ in N?Object.defineProperty(N,$,{value:ee,enumerable:!0,configurable:!0,writable:!0}):N[$]=ee,N}function r(N){var $=n(N,"string");return typeof $=="symbol"?$:String($)}function n(N,$){if(typeof N!="object"||N===null)return N;var ee=N[Symbol.toPrimitive];if(ee!==void 0){var re=ee.call(N,$||"default");if(typeof re!="object")return re;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(N)}var i=$D(),s=Symbol("lastResolve"),l=Symbol("lastReject"),a=Symbol("error"),p=Symbol("ended"),f=Symbol("lastPromise"),g=Symbol("handlePromise"),v=Symbol("stream");function _(N,$){return{value:N,done:$}}function T(N){var $=N[s];if($!==null){var ee=N[v].read();ee!==null&&(N[f]=null,N[s]=null,N[l]=null,$(_(ee,!1)))}}function z(N){process.nextTick(T,N)}function I(N,$){return function(ee,re){N.then(function(){if($[p]){ee(_(void 0,!0));return}$[g](ee,re)},re)}}var k=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((e={get stream(){return this[v]},next:function(){var $=this,ee=this[a];if(ee!==null)return Promise.reject(ee);if(this[p])return Promise.resolve(_(void 0,!0));if(this[v].destroyed)return new Promise(function(me,Ze){process.nextTick(function(){$[a]?Ze($[a]):me(_(void 0,!0))})});var re=this[f],ne;if(re)ne=new Promise(I(re,this));else{var ie=this[v].read();if(ie!==null)return Promise.resolve(_(ie,!1));ne=new Promise(this[g])}return this[f]=ne,ne}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var $=this;return new Promise(function(ee,re){$[v].destroy(null,function(ne){if(ne){re(ne);return}ee(_(void 0,!0))})})}),e),k),L=function($){var ee,re=Object.create(C,(ee={},t(ee,v,{value:$,writable:!0}),t(ee,s,{value:null,writable:!0}),t(ee,l,{value:null,writable:!0}),t(ee,a,{value:null,writable:!0}),t(ee,p,{value:$._readableState.endEmitted,writable:!0}),t(ee,g,{value:function(ie,me){var Ze=re[v].read();Ze?(re[f]=null,re[s]=null,re[l]=null,ie(_(Ze,!1))):(re[s]=ie,re[l]=me)},writable:!0}),ee));return re[f]=null,i($,function(ne){if(ne&&ne.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ie=re[l];ie!==null&&(re[f]=null,re[s]=null,re[l]=null,ie(ne)),re[a]=ne;return}var me=re[s];me!==null&&(re[f]=null,re[s]=null,re[l]=null,me(_(void 0,!0))),re[p]=!0}),$.on("readable",z.bind(null,re)),re};return tT=L,tT}var rT,C$;function E9e(){return C$||(C$=1,rT=function(){throw new Error("Readable.from is not available in the browser")}),rT}var nT,D$;function Ere(){if(D$)return nT;D$=1,nT=me;var e;me.ReadableState=ie,CD.EventEmitter;var t=function(Me,we){return Me.listeners(we).length},r=bre(),n=tn.Buffer,i=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(_e){return n.from(_e)}function l(_e){return n.isBuffer(_e)||_e instanceof i}var a=tD,p;a&&a.debuglog?p=a.debuglog("stream"):p=function(){};var f=l9e(),g=xre(),v=wre(),_=v.getHighWaterMark,T=g2().codes,z=T.ERR_INVALID_ARG_TYPE,I=T.ERR_STREAM_PUSH_AFTER_EOF,k=T.ERR_METHOD_NOT_IMPLEMENTED,C=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,L,N,$;h2(me,r);var ee=g.errorOrDestroy,re=["error","close","destroy","pause","resume"];function ne(_e,Me,we){if(typeof _e.prependListener=="function")return _e.prependListener(Me,we);!_e._events||!_e._events[Me]?_e.on(Me,we):Array.isArray(_e._events[Me])?_e._events[Me].unshift(we):_e._events[Me]=[we,_e._events[Me]]}function ie(_e,Me,we){e=e||Oy(),_e=_e||{},typeof we!="boolean"&&(we=Me instanceof e),this.objectMode=!!_e.objectMode,we&&(this.objectMode=this.objectMode||!!_e.readableObjectMode),this.highWaterMark=_(this,_e,"readableHighWaterMark",we),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=_e.emitClose!==!1,this.autoDestroy=!!_e.autoDestroy,this.destroyed=!1,this.defaultEncoding=_e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_e.encoding&&(L||(L=Uk.StringDecoder),this.decoder=new L(_e.encoding),this.encoding=_e.encoding)}function me(_e){if(e=e||Oy(),!(this instanceof me))return new me(_e);var Me=this instanceof e;this._readableState=new ie(_e,this,Me),this.readable=!0,_e&&(typeof _e.read=="function"&&(this._read=_e.read),typeof _e.destroy=="function"&&(this._destroy=_e.destroy)),r.call(this)}Object.defineProperty(me.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Me){this._readableState&&(this._readableState.destroyed=Me)}}),me.prototype.destroy=g.destroy,me.prototype._undestroy=g.undestroy,me.prototype._destroy=function(_e,Me){Me(_e)},me.prototype.push=function(_e,Me){var we=this._readableState,be;return we.objectMode?be=!0:typeof _e=="string"&&(Me=Me||we.defaultEncoding,Me!==we.encoding&&(_e=n.from(_e,Me),Me=""),be=!0),Ze(this,_e,Me,!1,be)},me.prototype.unshift=function(_e){return Ze(this,_e,null,!0,!1)};function Ze(_e,Me,we,be,rt){p("readableAddChunk",Me);var pt=_e._readableState;if(Me===null)pt.reading=!1,oe(_e,pt);else{var Ct;if(rt||(Ct=Ke(pt,Me)),Ct)ee(_e,Ct);else if(pt.objectMode||Me&&Me.length>0)if(typeof Me!="string"&&!pt.objectMode&&Object.getPrototypeOf(Me)!==n.prototype&&(Me=s(Me)),be)pt.endEmitted?ee(_e,new C):et(_e,pt,Me,!0);else if(pt.ended)ee(_e,new I);else{if(pt.destroyed)return!1;pt.reading=!1,pt.decoder&&!we?(Me=pt.decoder.write(Me),pt.objectMode||Me.length!==0?et(_e,pt,Me,!1):ce(_e,pt)):et(_e,pt,Me,!1)}else be||(pt.reading=!1,ce(_e,pt))}return!pt.ended&&(pt.length<pt.highWaterMark||pt.length===0)}function et(_e,Me,we,be){Me.flowing&&Me.length===0&&!Me.sync?(Me.awaitDrain=0,_e.emit("data",we)):(Me.length+=Me.objectMode?1:we.length,be?Me.buffer.unshift(we):Me.buffer.push(we),Me.needReadable&&le(_e)),ce(_e,Me)}function Ke(_e,Me){var we;return!l(Me)&&typeof Me!="string"&&Me!==void 0&&!_e.objectMode&&(we=new z("chunk",["string","Buffer","Uint8Array"],Me)),we}me.prototype.isPaused=function(){return this._readableState.flowing===!1},me.prototype.setEncoding=function(_e){L||(L=Uk.StringDecoder);var Me=new L(_e);this._readableState.decoder=Me,this._readableState.encoding=this._readableState.decoder.encoding;for(var we=this._readableState.buffer.head,be="";we!==null;)be+=Me.write(we.data),we=we.next;return this._readableState.buffer.clear(),be!==""&&this._readableState.buffer.push(be),this._readableState.length=be.length,this};var ye=1073741824;function j(_e){return _e>=ye?_e=ye:(_e--,_e|=_e>>>1,_e|=_e>>>2,_e|=_e>>>4,_e|=_e>>>8,_e|=_e>>>16,_e++),_e}function Z(_e,Me){return _e<=0||Me.length===0&&Me.ended?0:Me.objectMode?1:_e!==_e?Me.flowing&&Me.length?Me.buffer.head.data.length:Me.length:(_e>Me.highWaterMark&&(Me.highWaterMark=j(_e)),_e<=Me.length?_e:Me.ended?Me.length:(Me.needReadable=!0,0))}me.prototype.read=function(_e){p("read",_e),_e=parseInt(_e,10);var Me=this._readableState,we=_e;if(_e!==0&&(Me.emittedReadable=!1),_e===0&&Me.needReadable&&((Me.highWaterMark!==0?Me.length>=Me.highWaterMark:Me.length>0)||Me.ended))return p("read: emitReadable",Me.length,Me.ended),Me.length===0&&Me.ended?ut(this):le(this),null;if(_e=Z(_e,Me),_e===0&&Me.ended)return Me.length===0&&ut(this),null;var be=Me.needReadable;p("need readable",be),(Me.length===0||Me.length-_e<Me.highWaterMark)&&(be=!0,p("length less than watermark",be)),Me.ended||Me.reading?(be=!1,p("reading or ended",be)):be&&(p("do read"),Me.reading=!0,Me.sync=!0,Me.length===0&&(Me.needReadable=!0),this._read(Me.highWaterMark),Me.sync=!1,Me.reading||(_e=Z(we,Me)));var rt;return _e>0?rt=Be(_e,Me):rt=null,rt===null?(Me.needReadable=Me.length<=Me.highWaterMark,_e=0):(Me.length-=_e,Me.awaitDrain=0),Me.length===0&&(Me.ended||(Me.needReadable=!0),we!==_e&&Me.ended&&ut(this)),rt!==null&&this.emit("data",rt),rt};function oe(_e,Me){if(p("onEofChunk"),!Me.ended){if(Me.decoder){var we=Me.decoder.end();we&&we.length&&(Me.buffer.push(we),Me.length+=Me.objectMode?1:we.length)}Me.ended=!0,Me.sync?le(_e):(Me.needReadable=!1,Me.emittedReadable||(Me.emittedReadable=!0,Q(_e)))}}function le(_e){var Me=_e._readableState;p("emitReadable",Me.needReadable,Me.emittedReadable),Me.needReadable=!1,Me.emittedReadable||(p("emitReadable",Me.flowing),Me.emittedReadable=!0,process.nextTick(Q,_e))}function Q(_e){var Me=_e._readableState;p("emitReadable_",Me.destroyed,Me.length,Me.ended),!Me.destroyed&&(Me.length||Me.ended)&&(_e.emit("readable"),Me.emittedReadable=!1),Me.needReadable=!Me.flowing&&!Me.ended&&Me.length<=Me.highWaterMark,Ve(_e)}function ce(_e,Me){Me.readingMore||(Me.readingMore=!0,process.nextTick(Ee,_e,Me))}function Ee(_e,Me){for(;!Me.reading&&!Me.ended&&(Me.length<Me.highWaterMark||Me.flowing&&Me.length===0);){var we=Me.length;if(p("maybeReadMore read 0"),_e.read(0),we===Me.length)break}Me.readingMore=!1}me.prototype._read=function(_e){ee(this,new k("_read()"))},me.prototype.pipe=function(_e,Me){var we=this,be=this._readableState;switch(be.pipesCount){case 0:be.pipes=_e;break;case 1:be.pipes=[be.pipes,_e];break;default:be.pipes.push(_e);break}be.pipesCount+=1,p("pipe count=%d opts=%j",be.pipesCount,Me);var rt=(!Me||Me.end!==!1)&&_e!==process.stdout&&_e!==process.stderr,pt=rt?Jt:Xr;be.endEmitted?process.nextTick(pt):we.once("end",pt),_e.on("unpipe",Ct);function Ct(ve,Y){p("onunpipe"),ve===we&&Y&&Y.hasUnpiped===!1&&(Y.hasUnpiped=!0,Fr())}function Jt(){p("onend"),_e.end()}var Rr=fe(we);_e.on("drain",Rr);var Br=!1;function Fr(){p("cleanup"),_e.removeListener("close",Sn),_e.removeListener("finish",Ei),_e.removeListener("drain",Rr),_e.removeListener("error",en),_e.removeListener("unpipe",Ct),we.removeListener("end",Jt),we.removeListener("end",Xr),we.removeListener("data",Zn),Br=!0,be.awaitDrain&&(!_e._writableState||_e._writableState.needDrain)&&Rr()}we.on("data",Zn);function Zn(ve){p("ondata");var Y=_e.write(ve);p("dest.write",Y),Y===!1&&((be.pipesCount===1&&be.pipes===_e||be.pipesCount>1&&Ht(be.pipes,_e)!==-1)&&!Br&&(p("false write response, pause",be.awaitDrain),be.awaitDrain++),we.pause())}function en(ve){p("onerror",ve),Xr(),_e.removeListener("error",en),t(_e,"error")===0&&ee(_e,ve)}ne(_e,"error",en);function Sn(){_e.removeListener("finish",Ei),Xr()}_e.once("close",Sn);function Ei(){p("onfinish"),_e.removeListener("close",Sn),Xr()}_e.once("finish",Ei);function Xr(){p("unpipe"),we.unpipe(_e)}return _e.emit("pipe",we),be.flowing||(p("pipe resume"),we.resume()),_e};function fe(_e){return function(){var we=_e._readableState;p("pipeOnDrain",we.awaitDrain),we.awaitDrain&&we.awaitDrain--,we.awaitDrain===0&&t(_e,"data")&&(we.flowing=!0,Ve(_e))}}me.prototype.unpipe=function(_e){var Me=this._readableState,we={hasUnpiped:!1};if(Me.pipesCount===0)return this;if(Me.pipesCount===1)return _e&&_e!==Me.pipes?this:(_e||(_e=Me.pipes),Me.pipes=null,Me.pipesCount=0,Me.flowing=!1,_e&&_e.emit("unpipe",this,we),this);if(!_e){var be=Me.pipes,rt=Me.pipesCount;Me.pipes=null,Me.pipesCount=0,Me.flowing=!1;for(var pt=0;pt<rt;pt++)be[pt].emit("unpipe",this,{hasUnpiped:!1});return this}var Ct=Ht(Me.pipes,_e);return Ct===-1?this:(Me.pipes.splice(Ct,1),Me.pipesCount-=1,Me.pipesCount===1&&(Me.pipes=Me.pipes[0]),_e.emit("unpipe",this,we),this)},me.prototype.on=function(_e,Me){var we=r.prototype.on.call(this,_e,Me),be=this._readableState;return _e==="data"?(be.readableListening=this.listenerCount("readable")>0,be.flowing!==!1&&this.resume()):_e==="readable"&&!be.endEmitted&&!be.readableListening&&(be.readableListening=be.needReadable=!0,be.flowing=!1,be.emittedReadable=!1,p("on readable",be.length,be.reading),be.length?le(this):be.reading||process.nextTick(pe,this)),we},me.prototype.addListener=me.prototype.on,me.prototype.removeListener=function(_e,Me){var we=r.prototype.removeListener.call(this,_e,Me);return _e==="readable"&&process.nextTick(K,this),we},me.prototype.removeAllListeners=function(_e){var Me=r.prototype.removeAllListeners.apply(this,arguments);return(_e==="readable"||_e===void 0)&&process.nextTick(K,this),Me};function K(_e){var Me=_e._readableState;Me.readableListening=_e.listenerCount("readable")>0,Me.resumeScheduled&&!Me.paused?Me.flowing=!0:_e.listenerCount("data")>0&&_e.resume()}function pe(_e){p("readable nexttick read 0"),_e.read(0)}me.prototype.resume=function(){var _e=this._readableState;return _e.flowing||(p("resume"),_e.flowing=!_e.readableListening,Et(this,_e)),_e.paused=!1,this};function Et(_e,Me){Me.resumeScheduled||(Me.resumeScheduled=!0,process.nextTick(zt,_e,Me))}function zt(_e,Me){p("resume",Me.reading),Me.reading||_e.read(0),Me.resumeScheduled=!1,_e.emit("resume"),Ve(_e),Me.flowing&&!Me.reading&&_e.read(0)}me.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Ve(_e){var Me=_e._readableState;for(p("flow",Me.flowing);Me.flowing&&_e.read()!==null;);}me.prototype.wrap=function(_e){var Me=this,we=this._readableState,be=!1;_e.on("end",function(){if(p("wrapped end"),we.decoder&&!we.ended){var Ct=we.decoder.end();Ct&&Ct.length&&Me.push(Ct)}Me.push(null)}),_e.on("data",function(Ct){if(p("wrapped data"),we.decoder&&(Ct=we.decoder.write(Ct)),!(we.objectMode&&Ct==null)&&!(!we.objectMode&&(!Ct||!Ct.length))){var Jt=Me.push(Ct);Jt||(be=!0,_e.pause())}});for(var rt in _e)this[rt]===void 0&&typeof _e[rt]=="function"&&(this[rt]=function(Jt){return function(){return _e[Jt].apply(_e,arguments)}}(rt));for(var pt=0;pt<re.length;pt++)_e.on(re[pt],this.emit.bind(this,re[pt]));return this._read=function(Ct){p("wrapped _read",Ct),be&&(be=!1,_e.resume())},this},typeof Symbol=="function"&&(me.prototype[Symbol.asyncIterator]=function(){return N===void 0&&(N=S9e()),N(this)}),Object.defineProperty(me.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(me.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(me.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Me){this._readableState&&(this._readableState.flowing=Me)}}),me._fromList=Be,Object.defineProperty(me.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Be(_e,Me){if(Me.length===0)return null;var we;return Me.objectMode?we=Me.buffer.shift():!_e||_e>=Me.length?(Me.decoder?we=Me.buffer.join(""):Me.buffer.length===1?we=Me.buffer.first():we=Me.buffer.concat(Me.length),Me.buffer.clear()):we=Me.buffer.consume(_e,Me.decoder),we}function ut(_e){var Me=_e._readableState;p("endReadable",Me.endEmitted),Me.endEmitted||(Me.ended=!0,process.nextTick(bt,Me,_e))}function bt(_e,Me){if(p("endReadableNT",_e.endEmitted,_e.length),!_e.endEmitted&&_e.length===0&&(_e.endEmitted=!0,Me.readable=!1,Me.emit("end"),_e.autoDestroy)){var we=Me._writableState;(!we||we.autoDestroy&&we.finished)&&Me.destroy()}}typeof Symbol=="function"&&(me.from=function(_e,Me){return $===void 0&&($=E9e()),$(me,_e,Me)});function Ht(_e,Me){for(var we=0,be=_e.length;we<be;we++)if(_e[we]===Me)return we;return-1}return nT}var iT,z$;function Are(){if(z$)return iT;z$=1,iT=a;var e=g2().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,s=Oy();h2(a,s);function l(g,v){var _=this._transformState;_.transforming=!1;var T=_.writecb;if(T===null)return this.emit("error",new r);_.writechunk=null,_.writecb=null,v!=null&&this.push(v),T(g);var z=this._readableState;z.reading=!1,(z.needReadable||z.length<z.highWaterMark)&&this._read(z.highWaterMark)}function a(g){if(!(this instanceof a))return new a(g);s.call(this,g),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",p)}function p(){var g=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(v,_){f(g,v,_)}):f(this,null,null)}a.prototype.push=function(g,v){return this._transformState.needTransform=!1,s.prototype.push.call(this,g,v)},a.prototype._transform=function(g,v,_){_(new t("_transform()"))},a.prototype._write=function(g,v,_){var T=this._transformState;if(T.writecb=_,T.writechunk=g,T.writeencoding=v,!T.transforming){var z=this._readableState;(T.needTransform||z.needReadable||z.length<z.highWaterMark)&&this._read(z.highWaterMark)}},a.prototype._read=function(g){var v=this._transformState;v.writechunk!==null&&!v.transforming?(v.transforming=!0,this._transform(v.writechunk,v.writeencoding,v.afterTransform)):v.needTransform=!0},a.prototype._destroy=function(g,v){s.prototype._destroy.call(this,g,function(_){v(_)})};function f(g,v,_){if(v)return g.emit("error",v);if(_!=null&&g.push(_),g._writableState.length)throw new i;if(g._transformState.transforming)throw new n;return g.push(null)}return iT}var aT,R$;function A9e(){if(R$)return aT;R$=1,aT=t;var e=Are();h2(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},aT}var oT,N$;function T9e(){if(N$)return oT;N$=1;var e;function t(_){var T=!1;return function(){T||(T=!0,_.apply(void 0,arguments))}}var r=g2().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(_){if(_)throw _}function l(_){return _.setHeader&&typeof _.abort=="function"}function a(_,T,z,I){I=t(I);var k=!1;_.on("close",function(){k=!0}),e===void 0&&(e=$D()),e(_,{readable:T,writable:z},function(L){if(L)return I(L);k=!0,I()});var C=!1;return function(L){if(!k&&!C){if(C=!0,l(_))return _.abort();if(typeof _.destroy=="function")return _.destroy();I(L||new i("pipe"))}}}function p(_){_()}function f(_,T){return _.pipe(T)}function g(_){return!_.length||typeof _[_.length-1]!="function"?s:_.pop()}function v(){for(var _=arguments.length,T=new Array(_),z=0;z<_;z++)T[z]=arguments[z];var I=g(T);if(Array.isArray(T[0])&&(T=T[0]),T.length<2)throw new n("streams");var k,C=T.map(function(L,N){var $=N<T.length-1,ee=N>0;return a(L,$,ee,function(re){k||(k=re),re&&C.forEach(p),!$&&(C.forEach(p),I(k))})});return T.reduce(f)}return oT=v,oT}var M9e=Cl,KD=CD.EventEmitter,P9e=h2;P9e(Cl,KD);Cl.Readable=Ere();Cl.Writable=Sre();Cl.Duplex=Oy();Cl.Transform=Are();Cl.PassThrough=A9e();Cl.finished=$D();Cl.pipeline=T9e();Cl.Stream=Cl;function Cl(){KD.call(this)}Cl.prototype.pipe=function(e,t){var r=this;function n(g){e.writable&&e.write(g)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",l),r.on("close",a));var s=!1;function l(){s||(s=!0,e.end())}function a(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function p(g){if(f(),KD.listenerCount(this,"error")===0)throw g}r.on("error",p),e.on("error",p);function f(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",l),r.removeListener("close",a),r.removeListener("error",p),e.removeListener("error",p),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e};const Ac=Mc(M9e);var kc={},Tre={exports:{}},pa={},k9e=pa;function L$(e){return e<0?-1:1}function I9e(e){return e%1===.5&&!(e&1)?Math.floor(e):Math.round(e)}function Gh(e,t){t.unsigned||--e;const r=t.unsigned?0:-Math.pow(2,e),n=Math.pow(2,e)-1,i=t.moduloBitLength?Math.pow(2,t.moduloBitLength):Math.pow(2,e),s=t.moduloBitLength?Math.pow(2,t.moduloBitLength-1):Math.pow(2,e-1);return function(l,a){a||(a={});let p=+l;if(a.enforceRange){if(!Number.isFinite(p))throw new TypeError("Argument is not a finite number");if(p=L$(p)*Math.floor(Math.abs(p)),p<r||p>n)throw new TypeError("Argument is not in byte range");return p}if(!isNaN(p)&&a.clamp)return p=I9e(p),p<r&&(p=r),p>n&&(p=n),p;if(!Number.isFinite(p)||p===0)return 0;if(p=L$(p)*Math.floor(Math.abs(p)),p=p%i,!t.unsigned&&p>=s)return p-i;if(t.unsigned){if(p<0)p+=i;else if(p===-0)return 0}return p}}pa.void=function(){};pa.boolean=function(e){return!!e};pa.byte=Gh(8,{unsigned:!1});pa.octet=Gh(8,{unsigned:!0});pa.short=Gh(16,{unsigned:!1});pa["unsigned short"]=Gh(16,{unsigned:!0});pa.long=Gh(32,{unsigned:!1});pa["unsigned long"]=Gh(32,{unsigned:!0});pa["long long"]=Gh(32,{unsigned:!1,moduloBitLength:64});pa["unsigned long long"]=Gh(32,{unsigned:!0,moduloBitLength:64});pa.double=function(e){const t=+e;if(!Number.isFinite(t))throw new TypeError("Argument is not a finite floating-point value");return t};pa["unrestricted double"]=function(e){const t=+e;if(isNaN(t))throw new TypeError("Argument is NaN");return t};pa.float=pa.double;pa["unrestricted float"]=pa["unrestricted double"];pa.DOMString=function(e,t){return t||(t={}),t.treatNullAsEmptyString&&e===null?"":String(e)};pa.ByteString=function(e,t){const r=String(e);let n;for(let i=0;(n=r.codePointAt(i))!==void 0;++i)if(n>255)throw new TypeError("Argument is not a valid bytestring");return r};pa.USVString=function(e){const t=String(e),r=t.length,n=[];for(let i=0;i<r;++i){const s=t.charCodeAt(i);if(s<55296||s>57343)n.push(String.fromCodePoint(s));else if(56320<=s&&s<=57343)n.push(String.fromCodePoint(65533));else if(i===r-1)n.push(String.fromCodePoint(65533));else{const l=t.charCodeAt(i+1);if(56320<=l&&l<=57343){const a=s&1023,p=l&1023;n.push(String.fromCodePoint(65536+1024*a+p)),++i}else n.push(String.fromCodePoint(65533))}}return n.join("")};pa.Date=function(e,t){if(!(e instanceof Date))throw new TypeError("Argument is not a Date object");if(!isNaN(e))return e};pa.RegExp=function(e,t){return e instanceof RegExp||(e=new RegExp(e)),e};var Mre={exports:{}};(function(e){e.exports.mixin=function(r,n){const i=Object.getOwnPropertyNames(n);for(let s=0;s<i.length;++s)Object.defineProperty(r,i[s],Object.getOwnPropertyDescriptor(n,i[s]))},e.exports.wrapperSymbol=Symbol("wrapper"),e.exports.implSymbol=Symbol("impl"),e.exports.wrapperForImpl=function(t){return t[e.exports.wrapperSymbol]},e.exports.implForWrapper=function(t){return t[e.exports.implSymbol]}})(Mre);var C9e=Mre.exports,Pre={},kre={exports:{}};const sy=2147483647,eu=36,qD=1,s4=26,D9e=38,z9e=700,Ire=72,Cre=128,Dre="-",R9e=/^xn--/,N9e=/[^\0-\x7F]/,L9e=/[\x2E\u3002\uFF0E\uFF61]/g,O9e={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},sT=eu-qD,tu=Math.floor,lT=String.fromCharCode;function Op(e){throw new RangeError(O9e[e])}function B9e(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function zre(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(L9e,".");const i=e.split("."),s=B9e(i,t).join(".");return n+s}function GD(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const s=e.charCodeAt(r++);(s&64512)==56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}const Rre=e=>String.fromCodePoint(...e),F9e=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:eu},O$=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},Nre=function(e,t,r){let n=0;for(e=r?tu(e/z9e):e>>1,e+=tu(e/t);e>sT*s4>>1;n+=eu)e=tu(e/sT);return tu(n+(sT+1)*e/(e+D9e))},HD=function(e){const t=[],r=e.length;let n=0,i=Cre,s=Ire,l=e.lastIndexOf(Dre);l<0&&(l=0);for(let a=0;a<l;++a)e.charCodeAt(a)>=128&&Op("not-basic"),t.push(e.charCodeAt(a));for(let a=l>0?l+1:0;a<r;){const p=n;for(let g=1,v=eu;;v+=eu){a>=r&&Op("invalid-input");const _=F9e(e.charCodeAt(a++));_>=eu&&Op("invalid-input"),_>tu((sy-n)/g)&&Op("overflow"),n+=_*g;const T=v<=s?qD:v>=s+s4?s4:v-s;if(_<T)break;const z=eu-T;g>tu(sy/z)&&Op("overflow"),g*=z}const f=t.length+1;s=Nre(n-p,f,p==0),tu(n/f)>sy-i&&Op("overflow"),i+=tu(n/f),n%=f,t.splice(n++,0,i)}return String.fromCodePoint(...t)},ZD=function(e){const t=[];e=GD(e);const r=e.length;let n=Cre,i=0,s=Ire;for(const p of e)p<128&&t.push(lT(p));const l=t.length;let a=l;for(l&&t.push(Dre);a<r;){let p=sy;for(const g of e)g>=n&&g<p&&(p=g);const f=a+1;p-n>tu((sy-i)/f)&&Op("overflow"),i+=(p-n)*f,n=p;for(const g of e)if(g<n&&++i>sy&&Op("overflow"),g===n){let v=i;for(let _=eu;;_+=eu){const T=_<=s?qD:_>=s+s4?s4:_-s;if(v<T)break;const z=v-T,I=eu-T;t.push(lT(O$(T+z%I,0))),v=tu(z/I)}t.push(lT(O$(v,0))),s=Nre(i,f,a===l),i=0,++a}++i,++n}return t.join("")},Lre=function(e){return zre(e,function(t){return R9e.test(t)?HD(t.slice(4).toLowerCase()):t})},Ore=function(e){return zre(e,function(t){return N9e.test(t)?"xn--"+ZD(t):t})},j9e={version:"2.3.1",ucs2:{decode:GD,encode:Rre},decode:HD,encode:ZD,toASCII:Ore,toUnicode:Lre},V9e=Object.freeze(Object.defineProperty({__proto__:null,decode:HD,default:j9e,encode:ZD,toASCII:Ore,toUnicode:Lre,ucs2decode:GD,ucs2encode:Rre},Symbol.toStringTag,{value:"Module"})),Bre=Jv(V9e);var iS={};const U9e=[[[0,44],"disallowed_STD3_valid"],[[45,46],"valid"],[[47,47],"disallowed_STD3_valid"],[[48,57],"valid"],[[58,64],"disallowed_STD3_valid"],[[65,65],"mapped",[97]],[[66,66],"mapped",[98]],[[67,67],"mapped",[99]],[[68,68],"mapped",[100]],[[69,69],"mapped",[101]],[[70,70],"mapped",[102]],[[71,71],"mapped",[103]],[[72,72],"mapped",[104]],[[73,73],"mapped",[105]],[[74,74],"mapped",[106]],[[75,75],"mapped",[107]],[[76,76],"mapped",[108]],[[77,77],"mapped",[109]],[[78,78],"mapped",[110]],[[79,79],"mapped",[111]],[[80,80],"mapped",[112]],[[81,81],"mapped",[113]],[[82,82],"mapped",[114]],[[83,83],"mapped",[115]],[[84,84],"mapped",[116]],[[85,85],"mapped",[117]],[[86,86],"mapped",[118]],[[87,87],"mapped",[119]],[[88,88],"mapped",[120]],[[89,89],"mapped",[121]],[[90,90],"mapped",[122]],[[91,96],"disallowed_STD3_valid"],[[97,122],"valid"],[[123,127],"disallowed_STD3_valid"],[[128,159],"disallowed"],[[160,160],"disallowed_STD3_mapped",[32]],[[161,167],"valid",[],"NV8"],[[168,168],"disallowed_STD3_mapped",[32,776]],[[169,169],"valid",[],"NV8"],[[170,170],"mapped",[97]],[[171,172],"valid",[],"NV8"],[[173,173],"ignored"],[[174,174],"valid",[],"NV8"],[[175,175],"disallowed_STD3_mapped",[32,772]],[[176,177],"valid",[],"NV8"],[[178,178],"mapped",[50]],[[179,179],"mapped",[51]],[[180,180],"disallowed_STD3_mapped",[32,769]],[[181,181],"mapped",[956]],[[182,182],"valid",[],"NV8"],[[183,183],"valid"],[[184,184],"disallowed_STD3_mapped",[32,807]],[[185,185],"mapped",[49]],[[186,186],"mapped",[111]],[[187,187],"valid",[],"NV8"],[[188,188],"mapped",[49,8260,52]],[[189,189],"mapped",[49,8260,50]],[[190,190],"mapped",[51,8260,52]],[[191,191],"valid",[],"NV8"],[[192,192],"mapped",[224]],[[193,193],"mapped",[225]],[[194,194],"mapped",[226]],[[195,195],"mapped",[227]],[[196,196],"mapped",[228]],[[197,197],"mapped",[229]],[[198,198],"mapped",[230]],[[199,199],"mapped",[231]],[[200,200],"mapped",[232]],[[201,201],"mapped",[233]],[[202,202],"mapped",[234]],[[203,203],"mapped",[235]],[[204,204],"mapped",[236]],[[205,205],"mapped",[237]],[[206,206],"mapped",[238]],[[207,207],"mapped",[239]],[[208,208],"mapped",[240]],[[209,209],"mapped",[241]],[[210,210],"mapped",[242]],[[211,211],"mapped",[243]],[[212,212],"mapped",[244]],[[213,213],"mapped",[245]],[[214,214],"mapped",[246]],[[215,215],"valid",[],"NV8"],[[216,216],"mapped",[248]],[[217,217],"mapped",[249]],[[218,218],"mapped",[250]],[[219,219],"mapped",[251]],[[220,220],"mapped",[252]],[[221,221],"mapped",[253]],[[222,222],"mapped",[254]],[[223,223],"deviation",[115,115]],[[224,246],"valid"],[[247,247],"valid",[],"NV8"],[[248,255],"valid"],[[256,256],"mapped",[257]],[[257,257],"valid"],[[258,258],"mapped",[259]],[[259,259],"valid"],[[260,260],"mapped",[261]],[[261,261],"valid"],[[262,262],"mapped",[263]],[[263,263],"valid"],[[264,264],"mapped",[265]],[[265,265],"valid"],[[266,266],"mapped",[267]],[[267,267],"valid"],[[268,268],"mapped",[269]],[[269,269],"valid"],[[270,270],"mapped",[271]],[[271,271],"valid"],[[272,272],"mapped",[273]],[[273,273],"valid"],[[274,274],"mapped",[275]],[[275,275],"valid"],[[276,276],"mapped",[277]],[[277,277],"valid"],[[278,278],"mapped",[279]],[[279,279],"valid"],[[280,280],"mapped",[281]],[[281,281],"valid"],[[282,282],"mapped",[283]],[[283,283],"valid"],[[284,284],"mapped",[285]],[[285,285],"valid"],[[286,286],"mapped",[287]],[[287,287],"valid"],[[288,288],"mapped",[289]],[[289,289],"valid"],[[290,290],"mapped",[291]],[[291,291],"valid"],[[292,292],"mapped",[293]],[[293,293],"valid"],[[294,294],"mapped",[295]],[[295,295],"valid"],[[296,296],"mapped",[297]],[[297,297],"valid"],[[298,298],"mapped",[299]],[[299,299],"valid"],[[300,300],"mapped",[301]],[[301,301],"valid"],[[302,302],"mapped",[303]],[[303,303],"valid"],[[304,304],"mapped",[105,775]],[[305,305],"valid"],[[306,307],"mapped",[105,106]],[[308,308],"mapped",[309]],[[309,309],"valid"],[[310,310],"mapped",[311]],[[311,312],"valid"],[[313,313],"mapped",[314]],[[314,314],"valid"],[[315,315],"mapped",[316]],[[316,316],"valid"],[[317,317],"mapped",[318]],[[318,318],"valid"],[[319,320],"mapped",[108,183]],[[321,321],"mapped",[322]],[[322,322],"valid"],[[323,323],"mapped",[324]],[[324,324],"valid"],[[325,325],"mapped",[326]],[[326,326],"valid"],[[327,327],"mapped",[328]],[[328,328],"valid"],[[329,329],"mapped",[700,110]],[[330,330],"mapped",[331]],[[331,331],"valid"],[[332,332],"mapped",[333]],[[333,333],"valid"],[[334,334],"mapped",[335]],[[335,335],"valid"],[[336,336],"mapped",[337]],[[337,337],"valid"],[[338,338],"mapped",[339]],[[339,339],"valid"],[[340,340],"mapped",[341]],[[341,341],"valid"],[[342,342],"mapped",[343]],[[343,343],"valid"],[[344,344],"mapped",[345]],[[345,345],"valid"],[[346,346],"mapped",[347]],[[347,347],"valid"],[[348,348],"mapped",[349]],[[349,349],"valid"],[[350,350],"mapped",[351]],[[351,351],"valid"],[[352,352],"mapped",[353]],[[353,353],"valid"],[[354,354],"mapped",[355]],[[355,355],"valid"],[[356,356],"mapped",[357]],[[357,357],"valid"],[[358,358],"mapped",[359]],[[359,359],"valid"],[[360,360],"mapped",[361]],[[361,361],"valid"],[[362,362],"mapped",[363]],[[363,363],"valid"],[[364,364],"mapped",[365]],[[365,365],"valid"],[[366,366],"mapped",[367]],[[367,367],"valid"],[[368,368],"mapped",[369]],[[369,369],"valid"],[[370,370],"mapped",[371]],[[371,371],"valid"],[[372,372],"mapped",[373]],[[373,373],"valid"],[[374,374],"mapped",[375]],[[375,375],"valid"],[[376,376],"mapped",[255]],[[377,377],"mapped",[378]],[[378,378],"valid"],[[379,379],"mapped",[380]],[[380,380],"valid"],[[381,381],"mapped",[382]],[[382,382],"valid"],[[383,383],"mapped",[115]],[[384,384],"valid"],[[385,385],"mapped",[595]],[[386,386],"mapped",[387]],[[387,387],"valid"],[[388,388],"mapped",[389]],[[389,389],"valid"],[[390,390],"mapped",[596]],[[391,391],"mapped",[392]],[[392,392],"valid"],[[393,393],"mapped",[598]],[[394,394],"mapped",[599]],[[395,395],"mapped",[396]],[[396,397],"valid"],[[398,398],"mapped",[477]],[[399,399],"mapped",[601]],[[400,400],"mapped",[603]],[[401,401],"mapped",[402]],[[402,402],"valid"],[[403,403],"mapped",[608]],[[404,404],"mapped",[611]],[[405,405],"valid"],[[406,406],"mapped",[617]],[[407,407],"mapped",[616]],[[408,408],"mapped",[409]],[[409,411],"valid"],[[412,412],"mapped",[623]],[[413,413],"mapped",[626]],[[414,414],"valid"],[[415,415],"mapped",[629]],[[416,416],"mapped",[417]],[[417,417],"valid"],[[418,418],"mapped",[419]],[[419,419],"valid"],[[420,420],"mapped",[421]],[[421,421],"valid"],[[422,422],"mapped",[640]],[[423,423],"mapped",[424]],[[424,424],"valid"],[[425,425],"mapped",[643]],[[426,427],"valid"],[[428,428],"mapped",[429]],[[429,429],"valid"],[[430,430],"mapped",[648]],[[431,431],"mapped",[432]],[[432,432],"valid"],[[433,433],"mapped",[650]],[[434,434],"mapped",[651]],[[435,435],"mapped",[436]],[[436,436],"valid"],[[437,437],"mapped",[438]],[[438,438],"valid"],[[439,439],"mapped",[658]],[[440,440],"mapped",[441]],[[441,443],"valid"],[[444,444],"mapped",[445]],[[445,451],"valid"],[[452,454],"mapped",[100,382]],[[455,457],"mapped",[108,106]],[[458,460],"mapped",[110,106]],[[461,461],"mapped",[462]],[[462,462],"valid"],[[463,463],"mapped",[464]],[[464,464],"valid"],[[465,465],"mapped",[466]],[[466,466],"valid"],[[467,467],"mapped",[468]],[[468,468],"valid"],[[469,469],"mapped",[470]],[[470,470],"valid"],[[471,471],"mapped",[472]],[[472,472],"valid"],[[473,473],"mapped",[474]],[[474,474],"valid"],[[475,475],"mapped",[476]],[[476,477],"valid"],[[478,478],"mapped",[479]],[[479,479],"valid"],[[480,480],"mapped",[481]],[[481,481],"valid"],[[482,482],"mapped",[483]],[[483,483],"valid"],[[484,484],"mapped",[485]],[[485,485],"valid"],[[486,486],"mapped",[487]],[[487,487],"valid"],[[488,488],"mapped",[489]],[[489,489],"valid"],[[490,490],"mapped",[491]],[[491,491],"valid"],[[492,492],"mapped",[493]],[[493,493],"valid"],[[494,494],"mapped",[495]],[[495,496],"valid"],[[497,499],"mapped",[100,122]],[[500,500],"mapped",[501]],[[501,501],"valid"],[[502,502],"mapped",[405]],[[503,503],"mapped",[447]],[[504,504],"mapped",[505]],[[505,505],"valid"],[[506,506],"mapped",[507]],[[507,507],"valid"],[[508,508],"mapped",[509]],[[509,509],"valid"],[[510,510],"mapped",[511]],[[511,511],"valid"],[[512,512],"mapped",[513]],[[513,513],"valid"],[[514,514],"mapped",[515]],[[515,515],"valid"],[[516,516],"mapped",[517]],[[517,517],"valid"],[[518,518],"mapped",[519]],[[519,519],"valid"],[[520,520],"mapped",[521]],[[521,521],"valid"],[[522,522],"mapped",[523]],[[523,523],"valid"],[[524,524],"mapped",[525]],[[525,525],"valid"],[[526,526],"mapped",[527]],[[527,527],"valid"],[[528,528],"mapped",[529]],[[529,529],"valid"],[[530,530],"mapped",[531]],[[531,531],"valid"],[[532,532],"mapped",[533]],[[533,533],"valid"],[[534,534],"mapped",[535]],[[535,535],"valid"],[[536,536],"mapped",[537]],[[537,537],"valid"],[[538,538],"mapped",[539]],[[539,539],"valid"],[[540,540],"mapped",[541]],[[541,541],"valid"],[[542,542],"mapped",[543]],[[543,543],"valid"],[[544,544],"mapped",[414]],[[545,545],"valid"],[[546,546],"mapped",[547]],[[547,547],"valid"],[[548,548],"mapped",[549]],[[549,549],"valid"],[[550,550],"mapped",[551]],[[551,551],"valid"],[[552,552],"mapped",[553]],[[553,553],"valid"],[[554,554],"mapped",[555]],[[555,555],"valid"],[[556,556],"mapped",[557]],[[557,557],"valid"],[[558,558],"mapped",[559]],[[559,559],"valid"],[[560,560],"mapped",[561]],[[561,561],"valid"],[[562,562],"mapped",[563]],[[563,563],"valid"],[[564,566],"valid"],[[567,569],"valid"],[[570,570],"mapped",[11365]],[[571,571],"mapped",[572]],[[572,572],"valid"],[[573,573],"mapped",[410]],[[574,574],"mapped",[11366]],[[575,576],"valid"],[[577,577],"mapped",[578]],[[578,578],"valid"],[[579,579],"mapped",[384]],[[580,580],"mapped",[649]],[[581,581],"mapped",[652]],[[582,582],"mapped",[583]],[[583,583],"valid"],[[584,584],"mapped",[585]],[[585,585],"valid"],[[586,586],"mapped",[587]],[[587,587],"valid"],[[588,588],"mapped",[589]],[[589,589],"valid"],[[590,590],"mapped",[591]],[[591,591],"valid"],[[592,680],"valid"],[[681,685],"valid"],[[686,687],"valid"],[[688,688],"mapped",[104]],[[689,689],"mapped",[614]],[[690,690],"mapped",[106]],[[691,691],"mapped",[114]],[[692,692],"mapped",[633]],[[693,693],"mapped",[635]],[[694,694],"mapped",[641]],[[695,695],"mapped",[119]],[[696,696],"mapped",[121]],[[697,705],"valid"],[[706,709],"valid",[],"NV8"],[[710,721],"valid"],[[722,727],"valid",[],"NV8"],[[728,728],"disallowed_STD3_mapped",[32,774]],[[729,729],"disallowed_STD3_mapped",[32,775]],[[730,730],"disallowed_STD3_mapped",[32,778]],[[731,731],"disallowed_STD3_mapped",[32,808]],[[732,732],"disallowed_STD3_mapped",[32,771]],[[733,733],"disallowed_STD3_mapped",[32,779]],[[734,734],"valid",[],"NV8"],[[735,735],"valid",[],"NV8"],[[736,736],"mapped",[611]],[[737,737],"mapped",[108]],[[738,738],"mapped",[115]],[[739,739],"mapped",[120]],[[740,740],"mapped",[661]],[[741,745],"valid",[],"NV8"],[[746,747],"valid",[],"NV8"],[[748,748],"valid"],[[749,749],"valid",[],"NV8"],[[750,750],"valid"],[[751,767],"valid",[],"NV8"],[[768,831],"valid"],[[832,832],"mapped",[768]],[[833,833],"mapped",[769]],[[834,834],"valid"],[[835,835],"mapped",[787]],[[836,836],"mapped",[776,769]],[[837,837],"mapped",[953]],[[838,846],"valid"],[[847,847],"ignored"],[[848,855],"valid"],[[856,860],"valid"],[[861,863],"valid"],[[864,865],"valid"],[[866,866],"valid"],[[867,879],"valid"],[[880,880],"mapped",[881]],[[881,881],"valid"],[[882,882],"mapped",[883]],[[883,883],"valid"],[[884,884],"mapped",[697]],[[885,885],"valid"],[[886,886],"mapped",[887]],[[887,887],"valid"],[[888,889],"disallowed"],[[890,890],"disallowed_STD3_mapped",[32,953]],[[891,893],"valid"],[[894,894],"disallowed_STD3_mapped",[59]],[[895,895],"mapped",[1011]],[[896,899],"disallowed"],[[900,900],"disallowed_STD3_mapped",[32,769]],[[901,901],"disallowed_STD3_mapped",[32,776,769]],[[902,902],"mapped",[940]],[[903,903],"mapped",[183]],[[904,904],"mapped",[941]],[[905,905],"mapped",[942]],[[906,906],"mapped",[943]],[[907,907],"disallowed"],[[908,908],"mapped",[972]],[[909,909],"disallowed"],[[910,910],"mapped",[973]],[[911,911],"mapped",[974]],[[912,912],"valid"],[[913,913],"mapped",[945]],[[914,914],"mapped",[946]],[[915,915],"mapped",[947]],[[916,916],"mapped",[948]],[[917,917],"mapped",[949]],[[918,918],"mapped",[950]],[[919,919],"mapped",[951]],[[920,920],"mapped",[952]],[[921,921],"mapped",[953]],[[922,922],"mapped",[954]],[[923,923],"mapped",[955]],[[924,924],"mapped",[956]],[[925,925],"mapped",[957]],[[926,926],"mapped",[958]],[[927,927],"mapped",[959]],[[928,928],"mapped",[960]],[[929,929],"mapped",[961]],[[930,930],"disallowed"],[[931,931],"mapped",[963]],[[932,932],"mapped",[964]],[[933,933],"mapped",[965]],[[934,934],"mapped",[966]],[[935,935],"mapped",[967]],[[936,936],"mapped",[968]],[[937,937],"mapped",[969]],[[938,938],"mapped",[970]],[[939,939],"mapped",[971]],[[940,961],"valid"],[[962,962],"deviation",[963]],[[963,974],"valid"],[[975,975],"mapped",[983]],[[976,976],"mapped",[946]],[[977,977],"mapped",[952]],[[978,978],"mapped",[965]],[[979,979],"mapped",[973]],[[980,980],"mapped",[971]],[[981,981],"mapped",[966]],[[982,982],"mapped",[960]],[[983,983],"valid"],[[984,984],"mapped",[985]],[[985,985],"valid"],[[986,986],"mapped",[987]],[[987,987],"valid"],[[988,988],"mapped",[989]],[[989,989],"valid"],[[990,990],"mapped",[991]],[[991,991],"valid"],[[992,992],"mapped",[993]],[[993,993],"valid"],[[994,994],"mapped",[995]],[[995,995],"valid"],[[996,996],"mapped",[997]],[[997,997],"valid"],[[998,998],"mapped",[999]],[[999,999],"valid"],[[1e3,1e3],"mapped",[1001]],[[1001,1001],"valid"],[[1002,1002],"mapped",[1003]],[[1003,1003],"valid"],[[1004,1004],"mapped",[1005]],[[1005,1005],"valid"],[[1006,1006],"mapped",[1007]],[[1007,1007],"valid"],[[1008,1008],"mapped",[954]],[[1009,1009],"mapped",[961]],[[1010,1010],"mapped",[963]],[[1011,1011],"valid"],[[1012,1012],"mapped",[952]],[[1013,1013],"mapped",[949]],[[1014,1014],"valid",[],"NV8"],[[1015,1015],"mapped",[1016]],[[1016,1016],"valid"],[[1017,1017],"mapped",[963]],[[1018,1018],"mapped",[1019]],[[1019,1019],"valid"],[[1020,1020],"valid"],[[1021,1021],"mapped",[891]],[[1022,1022],"mapped",[892]],[[1023,1023],"mapped",[893]],[[1024,1024],"mapped",[1104]],[[1025,1025],"mapped",[1105]],[[1026,1026],"mapped",[1106]],[[1027,1027],"mapped",[1107]],[[1028,1028],"mapped",[1108]],[[1029,1029],"mapped",[1109]],[[1030,1030],"mapped",[1110]],[[1031,1031],"mapped",[1111]],[[1032,1032],"mapped",[1112]],[[1033,1033],"mapped",[1113]],[[1034,1034],"mapped",[1114]],[[1035,1035],"mapped",[1115]],[[1036,1036],"mapped",[1116]],[[1037,1037],"mapped",[1117]],[[1038,1038],"mapped",[1118]],[[1039,1039],"mapped",[1119]],[[1040,1040],"mapped",[1072]],[[1041,1041],"mapped",[1073]],[[1042,1042],"mapped",[1074]],[[1043,1043],"mapped",[1075]],[[1044,1044],"mapped",[1076]],[[1045,1045],"mapped",[1077]],[[1046,1046],"mapped",[1078]],[[1047,1047],"mapped",[1079]],[[1048,1048],"mapped",[1080]],[[1049,1049],"mapped",[1081]],[[1050,1050],"mapped",[1082]],[[1051,1051],"mapped",[1083]],[[1052,1052],"mapped",[1084]],[[1053,1053],"mapped",[1085]],[[1054,1054],"mapped",[1086]],[[1055,1055],"mapped",[1087]],[[1056,1056],"mapped",[1088]],[[1057,1057],"mapped",[1089]],[[1058,1058],"mapped",[1090]],[[1059,1059],"mapped",[1091]],[[1060,1060],"mapped",[1092]],[[1061,1061],"mapped",[1093]],[[1062,1062],"mapped",[1094]],[[1063,1063],"mapped",[1095]],[[1064,1064],"mapped",[1096]],[[1065,1065],"mapped",[1097]],[[1066,1066],"mapped",[1098]],[[1067,1067],"mapped",[1099]],[[1068,1068],"mapped",[1100]],[[1069,1069],"mapped",[1101]],[[1070,1070],"mapped",[1102]],[[1071,1071],"mapped",[1103]],[[1072,1103],"valid"],[[1104,1104],"valid"],[[1105,1116],"valid"],[[1117,1117],"valid"],[[1118,1119],"valid"],[[1120,1120],"mapped",[1121]],[[1121,1121],"valid"],[[1122,1122],"mapped",[1123]],[[1123,1123],"valid"],[[1124,1124],"mapped",[1125]],[[1125,1125],"valid"],[[1126,1126],"mapped",[1127]],[[1127,1127],"valid"],[[1128,1128],"mapped",[1129]],[[1129,1129],"valid"],[[1130,1130],"mapped",[1131]],[[1131,1131],"valid"],[[1132,1132],"mapped",[1133]],[[1133,1133],"valid"],[[1134,1134],"mapped",[1135]],[[1135,1135],"valid"],[[1136,1136],"mapped",[1137]],[[1137,1137],"valid"],[[1138,1138],"mapped",[1139]],[[1139,1139],"valid"],[[1140,1140],"mapped",[1141]],[[1141,1141],"valid"],[[1142,1142],"mapped",[1143]],[[1143,1143],"valid"],[[1144,1144],"mapped",[1145]],[[1145,1145],"valid"],[[1146,1146],"mapped",[1147]],[[1147,1147],"valid"],[[1148,1148],"mapped",[1149]],[[1149,1149],"valid"],[[1150,1150],"mapped",[1151]],[[1151,1151],"valid"],[[1152,1152],"mapped",[1153]],[[1153,1153],"valid"],[[1154,1154],"valid",[],"NV8"],[[1155,1158],"valid"],[[1159,1159],"valid"],[[1160,1161],"valid",[],"NV8"],[[1162,1162],"mapped",[1163]],[[1163,1163],"valid"],[[1164,1164],"mapped",[1165]],[[1165,1165],"valid"],[[1166,1166],"mapped",[1167]],[[1167,1167],"valid"],[[1168,1168],"mapped",[1169]],[[1169,1169],"valid"],[[1170,1170],"mapped",[1171]],[[1171,1171],"valid"],[[1172,1172],"mapped",[1173]],[[1173,1173],"valid"],[[1174,1174],"mapped",[1175]],[[1175,1175],"valid"],[[1176,1176],"mapped",[1177]],[[1177,1177],"valid"],[[1178,1178],"mapped",[1179]],[[1179,1179],"valid"],[[1180,1180],"mapped",[1181]],[[1181,1181],"valid"],[[1182,1182],"mapped",[1183]],[[1183,1183],"valid"],[[1184,1184],"mapped",[1185]],[[1185,1185],"valid"],[[1186,1186],"mapped",[1187]],[[1187,1187],"valid"],[[1188,1188],"mapped",[1189]],[[1189,1189],"valid"],[[1190,1190],"mapped",[1191]],[[1191,1191],"valid"],[[1192,1192],"mapped",[1193]],[[1193,1193],"valid"],[[1194,1194],"mapped",[1195]],[[1195,1195],"valid"],[[1196,1196],"mapped",[1197]],[[1197,1197],"valid"],[[1198,1198],"mapped",[1199]],[[1199,1199],"valid"],[[1200,1200],"mapped",[1201]],[[1201,1201],"valid"],[[1202,1202],"mapped",[1203]],[[1203,1203],"valid"],[[1204,1204],"mapped",[1205]],[[1205,1205],"valid"],[[1206,1206],"mapped",[1207]],[[1207,1207],"valid"],[[1208,1208],"mapped",[1209]],[[1209,1209],"valid"],[[1210,1210],"mapped",[1211]],[[1211,1211],"valid"],[[1212,1212],"mapped",[1213]],[[1213,1213],"valid"],[[1214,1214],"mapped",[1215]],[[1215,1215],"valid"],[[1216,1216],"disallowed"],[[1217,1217],"mapped",[1218]],[[1218,1218],"valid"],[[1219,1219],"mapped",[1220]],[[1220,1220],"valid"],[[1221,1221],"mapped",[1222]],[[1222,1222],"valid"],[[1223,1223],"mapped",[1224]],[[1224,1224],"valid"],[[1225,1225],"mapped",[1226]],[[1226,1226],"valid"],[[1227,1227],"mapped",[1228]],[[1228,1228],"valid"],[[1229,1229],"mapped",[1230]],[[1230,1230],"valid"],[[1231,1231],"valid"],[[1232,1232],"mapped",[1233]],[[1233,1233],"valid"],[[1234,1234],"mapped",[1235]],[[1235,1235],"valid"],[[1236,1236],"mapped",[1237]],[[1237,1237],"valid"],[[1238,1238],"mapped",[1239]],[[1239,1239],"valid"],[[1240,1240],"mapped",[1241]],[[1241,1241],"valid"],[[1242,1242],"mapped",[1243]],[[1243,1243],"valid"],[[1244,1244],"mapped",[1245]],[[1245,1245],"valid"],[[1246,1246],"mapped",[1247]],[[1247,1247],"valid"],[[1248,1248],"mapped",[1249]],[[1249,1249],"valid"],[[1250,1250],"mapped",[1251]],[[1251,1251],"valid"],[[1252,1252],"mapped",[1253]],[[1253,1253],"valid"],[[1254,1254],"mapped",[1255]],[[1255,1255],"valid"],[[1256,1256],"mapped",[1257]],[[1257,1257],"valid"],[[1258,1258],"mapped",[1259]],[[1259,1259],"valid"],[[1260,1260],"mapped",[1261]],[[1261,1261],"valid"],[[1262,1262],"mapped",[1263]],[[1263,1263],"valid"],[[1264,1264],"mapped",[1265]],[[1265,1265],"valid"],[[1266,1266],"mapped",[1267]],[[1267,1267],"valid"],[[1268,1268],"mapped",[1269]],[[1269,1269],"valid"],[[1270,1270],"mapped",[1271]],[[1271,1271],"valid"],[[1272,1272],"mapped",[1273]],[[1273,1273],"valid"],[[1274,1274],"mapped",[1275]],[[1275,1275],"valid"],[[1276,1276],"mapped",[1277]],[[1277,1277],"valid"],[[1278,1278],"mapped",[1279]],[[1279,1279],"valid"],[[1280,1280],"mapped",[1281]],[[1281,1281],"valid"],[[1282,1282],"mapped",[1283]],[[1283,1283],"valid"],[[1284,1284],"mapped",[1285]],[[1285,1285],"valid"],[[1286,1286],"mapped",[1287]],[[1287,1287],"valid"],[[1288,1288],"mapped",[1289]],[[1289,1289],"valid"],[[1290,1290],"mapped",[1291]],[[1291,1291],"valid"],[[1292,1292],"mapped",[1293]],[[1293,1293],"valid"],[[1294,1294],"mapped",[1295]],[[1295,1295],"valid"],[[1296,1296],"mapped",[1297]],[[1297,1297],"valid"],[[1298,1298],"mapped",[1299]],[[1299,1299],"valid"],[[1300,1300],"mapped",[1301]],[[1301,1301],"valid"],[[1302,1302],"mapped",[1303]],[[1303,1303],"valid"],[[1304,1304],"mapped",[1305]],[[1305,1305],"valid"],[[1306,1306],"mapped",[1307]],[[1307,1307],"valid"],[[1308,1308],"mapped",[1309]],[[1309,1309],"valid"],[[1310,1310],"mapped",[1311]],[[1311,1311],"valid"],[[1312,1312],"mapped",[1313]],[[1313,1313],"valid"],[[1314,1314],"mapped",[1315]],[[1315,1315],"valid"],[[1316,1316],"mapped",[1317]],[[1317,1317],"valid"],[[1318,1318],"mapped",[1319]],[[1319,1319],"valid"],[[1320,1320],"mapped",[1321]],[[1321,1321],"valid"],[[1322,1322],"mapped",[1323]],[[1323,1323],"valid"],[[1324,1324],"mapped",[1325]],[[1325,1325],"valid"],[[1326,1326],"mapped",[1327]],[[1327,1327],"valid"],[[1328,1328],"disallowed"],[[1329,1329],"mapped",[1377]],[[1330,1330],"mapped",[1378]],[[1331,1331],"mapped",[1379]],[[1332,1332],"mapped",[1380]],[[1333,1333],"mapped",[1381]],[[1334,1334],"mapped",[1382]],[[1335,1335],"mapped",[1383]],[[1336,1336],"mapped",[1384]],[[1337,1337],"mapped",[1385]],[[1338,1338],"mapped",[1386]],[[1339,1339],"mapped",[1387]],[[1340,1340],"mapped",[1388]],[[1341,1341],"mapped",[1389]],[[1342,1342],"mapped",[1390]],[[1343,1343],"mapped",[1391]],[[1344,1344],"mapped",[1392]],[[1345,1345],"mapped",[1393]],[[1346,1346],"mapped",[1394]],[[1347,1347],"mapped",[1395]],[[1348,1348],"mapped",[1396]],[[1349,1349],"mapped",[1397]],[[1350,1350],"mapped",[1398]],[[1351,1351],"mapped",[1399]],[[1352,1352],"mapped",[1400]],[[1353,1353],"mapped",[1401]],[[1354,1354],"mapped",[1402]],[[1355,1355],"mapped",[1403]],[[1356,1356],"mapped",[1404]],[[1357,1357],"mapped",[1405]],[[1358,1358],"mapped",[1406]],[[1359,1359],"mapped",[1407]],[[1360,1360],"mapped",[1408]],[[1361,1361],"mapped",[1409]],[[1362,1362],"mapped",[1410]],[[1363,1363],"mapped",[1411]],[[1364,1364],"mapped",[1412]],[[1365,1365],"mapped",[1413]],[[1366,1366],"mapped",[1414]],[[1367,1368],"disallowed"],[[1369,1369],"valid"],[[1370,1375],"valid",[],"NV8"],[[1376,1376],"disallowed"],[[1377,1414],"valid"],[[1415,1415],"mapped",[1381,1410]],[[1416,1416],"disallowed"],[[1417,1417],"valid",[],"NV8"],[[1418,1418],"valid",[],"NV8"],[[1419,1420],"disallowed"],[[1421,1422],"valid",[],"NV8"],[[1423,1423],"valid",[],"NV8"],[[1424,1424],"disallowed"],[[1425,1441],"valid"],[[1442,1442],"valid"],[[1443,1455],"valid"],[[1456,1465],"valid"],[[1466,1466],"valid"],[[1467,1469],"valid"],[[1470,1470],"valid",[],"NV8"],[[1471,1471],"valid"],[[1472,1472],"valid",[],"NV8"],[[1473,1474],"valid"],[[1475,1475],"valid",[],"NV8"],[[1476,1476],"valid"],[[1477,1477],"valid"],[[1478,1478],"valid",[],"NV8"],[[1479,1479],"valid"],[[1480,1487],"disallowed"],[[1488,1514],"valid"],[[1515,1519],"disallowed"],[[1520,1524],"valid"],[[1525,1535],"disallowed"],[[1536,1539],"disallowed"],[[1540,1540],"disallowed"],[[1541,1541],"disallowed"],[[1542,1546],"valid",[],"NV8"],[[1547,1547],"valid",[],"NV8"],[[1548,1548],"valid",[],"NV8"],[[1549,1551],"valid",[],"NV8"],[[1552,1557],"valid"],[[1558,1562],"valid"],[[1563,1563],"valid",[],"NV8"],[[1564,1564],"disallowed"],[[1565,1565],"disallowed"],[[1566,1566],"valid",[],"NV8"],[[1567,1567],"valid",[],"NV8"],[[1568,1568],"valid"],[[1569,1594],"valid"],[[1595,1599],"valid"],[[1600,1600],"valid",[],"NV8"],[[1601,1618],"valid"],[[1619,1621],"valid"],[[1622,1624],"valid"],[[1625,1630],"valid"],[[1631,1631],"valid"],[[1632,1641],"valid"],[[1642,1645],"valid",[],"NV8"],[[1646,1647],"valid"],[[1648,1652],"valid"],[[1653,1653],"mapped",[1575,1652]],[[1654,1654],"mapped",[1608,1652]],[[1655,1655],"mapped",[1735,1652]],[[1656,1656],"mapped",[1610,1652]],[[1657,1719],"valid"],[[1720,1721],"valid"],[[1722,1726],"valid"],[[1727,1727],"valid"],[[1728,1742],"valid"],[[1743,1743],"valid"],[[1744,1747],"valid"],[[1748,1748],"valid",[],"NV8"],[[1749,1756],"valid"],[[1757,1757],"disallowed"],[[1758,1758],"valid",[],"NV8"],[[1759,1768],"valid"],[[1769,1769],"valid",[],"NV8"],[[1770,1773],"valid"],[[1774,1775],"valid"],[[1776,1785],"valid"],[[1786,1790],"valid"],[[1791,1791],"valid"],[[1792,1805],"valid",[],"NV8"],[[1806,1806],"disallowed"],[[1807,1807],"disallowed"],[[1808,1836],"valid"],[[1837,1839],"valid"],[[1840,1866],"valid"],[[1867,1868],"disallowed"],[[1869,1871],"valid"],[[1872,1901],"valid"],[[1902,1919],"valid"],[[1920,1968],"valid"],[[1969,1969],"valid"],[[1970,1983],"disallowed"],[[1984,2037],"valid"],[[2038,2042],"valid",[],"NV8"],[[2043,2047],"disallowed"],[[2048,2093],"valid"],[[2094,2095],"disallowed"],[[2096,2110],"valid",[],"NV8"],[[2111,2111],"disallowed"],[[2112,2139],"valid"],[[2140,2141],"disallowed"],[[2142,2142],"valid",[],"NV8"],[[2143,2207],"disallowed"],[[2208,2208],"valid"],[[2209,2209],"valid"],[[2210,2220],"valid"],[[2221,2226],"valid"],[[2227,2228],"valid"],[[2229,2274],"disallowed"],[[2275,2275],"valid"],[[2276,2302],"valid"],[[2303,2303],"valid"],[[2304,2304],"valid"],[[2305,2307],"valid"],[[2308,2308],"valid"],[[2309,2361],"valid"],[[2362,2363],"valid"],[[2364,2381],"valid"],[[2382,2382],"valid"],[[2383,2383],"valid"],[[2384,2388],"valid"],[[2389,2389],"valid"],[[2390,2391],"valid"],[[2392,2392],"mapped",[2325,2364]],[[2393,2393],"mapped",[2326,2364]],[[2394,2394],"mapped",[2327,2364]],[[2395,2395],"mapped",[2332,2364]],[[2396,2396],"mapped",[2337,2364]],[[2397,2397],"mapped",[2338,2364]],[[2398,2398],"mapped",[2347,2364]],[[2399,2399],"mapped",[2351,2364]],[[2400,2403],"valid"],[[2404,2405],"valid",[],"NV8"],[[2406,2415],"valid"],[[2416,2416],"valid",[],"NV8"],[[2417,2418],"valid"],[[2419,2423],"valid"],[[2424,2424],"valid"],[[2425,2426],"valid"],[[2427,2428],"valid"],[[2429,2429],"valid"],[[2430,2431],"valid"],[[2432,2432],"valid"],[[2433,2435],"valid"],[[2436,2436],"disallowed"],[[2437,2444],"valid"],[[2445,2446],"disallowed"],[[2447,2448],"valid"],[[2449,2450],"disallowed"],[[2451,2472],"valid"],[[2473,2473],"disallowed"],[[2474,2480],"valid"],[[2481,2481],"disallowed"],[[2482,2482],"valid"],[[2483,2485],"disallowed"],[[2486,2489],"valid"],[[2490,2491],"disallowed"],[[2492,2492],"valid"],[[2493,2493],"valid"],[[2494,2500],"valid"],[[2501,2502],"disallowed"],[[2503,2504],"valid"],[[2505,2506],"disallowed"],[[2507,2509],"valid"],[[2510,2510],"valid"],[[2511,2518],"disallowed"],[[2519,2519],"valid"],[[2520,2523],"disallowed"],[[2524,2524],"mapped",[2465,2492]],[[2525,2525],"mapped",[2466,2492]],[[2526,2526],"disallowed"],[[2527,2527],"mapped",[2479,2492]],[[2528,2531],"valid"],[[2532,2533],"disallowed"],[[2534,2545],"valid"],[[2546,2554],"valid",[],"NV8"],[[2555,2555],"valid",[],"NV8"],[[2556,2560],"disallowed"],[[2561,2561],"valid"],[[2562,2562],"valid"],[[2563,2563],"valid"],[[2564,2564],"disallowed"],[[2565,2570],"valid"],[[2571,2574],"disallowed"],[[2575,2576],"valid"],[[2577,2578],"disallowed"],[[2579,2600],"valid"],[[2601,2601],"disallowed"],[[2602,2608],"valid"],[[2609,2609],"disallowed"],[[2610,2610],"valid"],[[2611,2611],"mapped",[2610,2620]],[[2612,2612],"disallowed"],[[2613,2613],"valid"],[[2614,2614],"mapped",[2616,2620]],[[2615,2615],"disallowed"],[[2616,2617],"valid"],[[2618,2619],"disallowed"],[[2620,2620],"valid"],[[2621,2621],"disallowed"],[[2622,2626],"valid"],[[2627,2630],"disallowed"],[[2631,2632],"valid"],[[2633,2634],"disallowed"],[[2635,2637],"valid"],[[2638,2640],"disallowed"],[[2641,2641],"valid"],[[2642,2648],"disallowed"],[[2649,2649],"mapped",[2582,2620]],[[2650,2650],"mapped",[2583,2620]],[[2651,2651],"mapped",[2588,2620]],[[2652,2652],"valid"],[[2653,2653],"disallowed"],[[2654,2654],"mapped",[2603,2620]],[[2655,2661],"disallowed"],[[2662,2676],"valid"],[[2677,2677],"valid"],[[2678,2688],"disallowed"],[[2689,2691],"valid"],[[2692,2692],"disallowed"],[[2693,2699],"valid"],[[2700,2700],"valid"],[[2701,2701],"valid"],[[2702,2702],"disallowed"],[[2703,2705],"valid"],[[2706,2706],"disallowed"],[[2707,2728],"valid"],[[2729,2729],"disallowed"],[[2730,2736],"valid"],[[2737,2737],"disallowed"],[[2738,2739],"valid"],[[2740,2740],"disallowed"],[[2741,2745],"valid"],[[2746,2747],"disallowed"],[[2748,2757],"valid"],[[2758,2758],"disallowed"],[[2759,2761],"valid"],[[2762,2762],"disallowed"],[[2763,2765],"valid"],[[2766,2767],"disallowed"],[[2768,2768],"valid"],[[2769,2783],"disallowed"],[[2784,2784],"valid"],[[2785,2787],"valid"],[[2788,2789],"disallowed"],[[2790,2799],"valid"],[[2800,2800],"valid",[],"NV8"],[[2801,2801],"valid",[],"NV8"],[[2802,2808],"disallowed"],[[2809,2809],"valid"],[[2810,2816],"disallowed"],[[2817,2819],"valid"],[[2820,2820],"disallowed"],[[2821,2828],"valid"],[[2829,2830],"disallowed"],[[2831,2832],"valid"],[[2833,2834],"disallowed"],[[2835,2856],"valid"],[[2857,2857],"disallowed"],[[2858,2864],"valid"],[[2865,2865],"disallowed"],[[2866,2867],"valid"],[[2868,2868],"disallowed"],[[2869,2869],"valid"],[[2870,2873],"valid"],[[2874,2875],"disallowed"],[[2876,2883],"valid"],[[2884,2884],"valid"],[[2885,2886],"disallowed"],[[2887,2888],"valid"],[[2889,2890],"disallowed"],[[2891,2893],"valid"],[[2894,2901],"disallowed"],[[2902,2903],"valid"],[[2904,2907],"disallowed"],[[2908,2908],"mapped",[2849,2876]],[[2909,2909],"mapped",[2850,2876]],[[2910,2910],"disallowed"],[[2911,2913],"valid"],[[2914,2915],"valid"],[[2916,2917],"disallowed"],[[2918,2927],"valid"],[[2928,2928],"valid",[],"NV8"],[[2929,2929],"valid"],[[2930,2935],"valid",[],"NV8"],[[2936,2945],"disallowed"],[[2946,2947],"valid"],[[2948,2948],"disallowed"],[[2949,2954],"valid"],[[2955,2957],"disallowed"],[[2958,2960],"valid"],[[2961,2961],"disallowed"],[[2962,2965],"valid"],[[2966,2968],"disallowed"],[[2969,2970],"valid"],[[2971,2971],"disallowed"],[[2972,2972],"valid"],[[2973,2973],"disallowed"],[[2974,2975],"valid"],[[2976,2978],"disallowed"],[[2979,2980],"valid"],[[2981,2983],"disallowed"],[[2984,2986],"valid"],[[2987,2989],"disallowed"],[[2990,2997],"valid"],[[2998,2998],"valid"],[[2999,3001],"valid"],[[3002,3005],"disallowed"],[[3006,3010],"valid"],[[3011,3013],"disallowed"],[[3014,3016],"valid"],[[3017,3017],"disallowed"],[[3018,3021],"valid"],[[3022,3023],"disallowed"],[[3024,3024],"valid"],[[3025,3030],"disallowed"],[[3031,3031],"valid"],[[3032,3045],"disallowed"],[[3046,3046],"valid"],[[3047,3055],"valid"],[[3056,3058],"valid",[],"NV8"],[[3059,3066],"valid",[],"NV8"],[[3067,3071],"disallowed"],[[3072,3072],"valid"],[[3073,3075],"valid"],[[3076,3076],"disallowed"],[[3077,3084],"valid"],[[3085,3085],"disallowed"],[[3086,3088],"valid"],[[3089,3089],"disallowed"],[[3090,3112],"valid"],[[3113,3113],"disallowed"],[[3114,3123],"valid"],[[3124,3124],"valid"],[[3125,3129],"valid"],[[3130,3132],"disallowed"],[[3133,3133],"valid"],[[3134,3140],"valid"],[[3141,3141],"disallowed"],[[3142,3144],"valid"],[[3145,3145],"disallowed"],[[3146,3149],"valid"],[[3150,3156],"disallowed"],[[3157,3158],"valid"],[[3159,3159],"disallowed"],[[3160,3161],"valid"],[[3162,3162],"valid"],[[3163,3167],"disallowed"],[[3168,3169],"valid"],[[3170,3171],"valid"],[[3172,3173],"disallowed"],[[3174,3183],"valid"],[[3184,3191],"disallowed"],[[3192,3199],"valid",[],"NV8"],[[3200,3200],"disallowed"],[[3201,3201],"valid"],[[3202,3203],"valid"],[[3204,3204],"disallowed"],[[3205,3212],"valid"],[[3213,3213],"disallowed"],[[3214,3216],"valid"],[[3217,3217],"disallowed"],[[3218,3240],"valid"],[[3241,3241],"disallowed"],[[3242,3251],"valid"],[[3252,3252],"disallowed"],[[3253,3257],"valid"],[[3258,3259],"disallowed"],[[3260,3261],"valid"],[[3262,3268],"valid"],[[3269,3269],"disallowed"],[[3270,3272],"valid"],[[3273,3273],"disallowed"],[[3274,3277],"valid"],[[3278,3284],"disallowed"],[[3285,3286],"valid"],[[3287,3293],"disallowed"],[[3294,3294],"valid"],[[3295,3295],"disallowed"],[[3296,3297],"valid"],[[3298,3299],"valid"],[[3300,3301],"disallowed"],[[3302,3311],"valid"],[[3312,3312],"disallowed"],[[3313,3314],"valid"],[[3315,3328],"disallowed"],[[3329,3329],"valid"],[[3330,3331],"valid"],[[3332,3332],"disallowed"],[[3333,3340],"valid"],[[3341,3341],"disallowed"],[[3342,3344],"valid"],[[3345,3345],"disallowed"],[[3346,3368],"valid"],[[3369,3369],"valid"],[[3370,3385],"valid"],[[3386,3386],"valid"],[[3387,3388],"disallowed"],[[3389,3389],"valid"],[[3390,3395],"valid"],[[3396,3396],"valid"],[[3397,3397],"disallowed"],[[3398,3400],"valid"],[[3401,3401],"disallowed"],[[3402,3405],"valid"],[[3406,3406],"valid"],[[3407,3414],"disallowed"],[[3415,3415],"valid"],[[3416,3422],"disallowed"],[[3423,3423],"valid"],[[3424,3425],"valid"],[[3426,3427],"valid"],[[3428,3429],"disallowed"],[[3430,3439],"valid"],[[3440,3445],"valid",[],"NV8"],[[3446,3448],"disallowed"],[[3449,3449],"valid",[],"NV8"],[[3450,3455],"valid"],[[3456,3457],"disallowed"],[[3458,3459],"valid"],[[3460,3460],"disallowed"],[[3461,3478],"valid"],[[3479,3481],"disallowed"],[[3482,3505],"valid"],[[3506,3506],"disallowed"],[[3507,3515],"valid"],[[3516,3516],"disallowed"],[[3517,3517],"valid"],[[3518,3519],"disallowed"],[[3520,3526],"valid"],[[3527,3529],"disallowed"],[[3530,3530],"valid"],[[3531,3534],"disallowed"],[[3535,3540],"valid"],[[3541,3541],"disallowed"],[[3542,3542],"valid"],[[3543,3543],"disallowed"],[[3544,3551],"valid"],[[3552,3557],"disallowed"],[[3558,3567],"valid"],[[3568,3569],"disallowed"],[[3570,3571],"valid"],[[3572,3572],"valid",[],"NV8"],[[3573,3584],"disallowed"],[[3585,3634],"valid"],[[3635,3635],"mapped",[3661,3634]],[[3636,3642],"valid"],[[3643,3646],"disallowed"],[[3647,3647],"valid",[],"NV8"],[[3648,3662],"valid"],[[3663,3663],"valid",[],"NV8"],[[3664,3673],"valid"],[[3674,3675],"valid",[],"NV8"],[[3676,3712],"disallowed"],[[3713,3714],"valid"],[[3715,3715],"disallowed"],[[3716,3716],"valid"],[[3717,3718],"disallowed"],[[3719,3720],"valid"],[[3721,3721],"disallowed"],[[3722,3722],"valid"],[[3723,3724],"disallowed"],[[3725,3725],"valid"],[[3726,3731],"disallowed"],[[3732,3735],"valid"],[[3736,3736],"disallowed"],[[3737,3743],"valid"],[[3744,3744],"disallowed"],[[3745,3747],"valid"],[[3748,3748],"disallowed"],[[3749,3749],"valid"],[[3750,3750],"disallowed"],[[3751,3751],"valid"],[[3752,3753],"disallowed"],[[3754,3755],"valid"],[[3756,3756],"disallowed"],[[3757,3762],"valid"],[[3763,3763],"mapped",[3789,3762]],[[3764,3769],"valid"],[[3770,3770],"disallowed"],[[3771,3773],"valid"],[[3774,3775],"disallowed"],[[3776,3780],"valid"],[[3781,3781],"disallowed"],[[3782,3782],"valid"],[[3783,3783],"disallowed"],[[3784,3789],"valid"],[[3790,3791],"disallowed"],[[3792,3801],"valid"],[[3802,3803],"disallowed"],[[3804,3804],"mapped",[3755,3737]],[[3805,3805],"mapped",[3755,3745]],[[3806,3807],"valid"],[[3808,3839],"disallowed"],[[3840,3840],"valid"],[[3841,3850],"valid",[],"NV8"],[[3851,3851],"valid"],[[3852,3852],"mapped",[3851]],[[3853,3863],"valid",[],"NV8"],[[3864,3865],"valid"],[[3866,3871],"valid",[],"NV8"],[[3872,3881],"valid"],[[3882,3892],"valid",[],"NV8"],[[3893,3893],"valid"],[[3894,3894],"valid",[],"NV8"],[[3895,3895],"valid"],[[3896,3896],"valid",[],"NV8"],[[3897,3897],"valid"],[[3898,3901],"valid",[],"NV8"],[[3902,3906],"valid"],[[3907,3907],"mapped",[3906,4023]],[[3908,3911],"valid"],[[3912,3912],"disallowed"],[[3913,3916],"valid"],[[3917,3917],"mapped",[3916,4023]],[[3918,3921],"valid"],[[3922,3922],"mapped",[3921,4023]],[[3923,3926],"valid"],[[3927,3927],"mapped",[3926,4023]],[[3928,3931],"valid"],[[3932,3932],"mapped",[3931,4023]],[[3933,3944],"valid"],[[3945,3945],"mapped",[3904,4021]],[[3946,3946],"valid"],[[3947,3948],"valid"],[[3949,3952],"disallowed"],[[3953,3954],"valid"],[[3955,3955],"mapped",[3953,3954]],[[3956,3956],"valid"],[[3957,3957],"mapped",[3953,3956]],[[3958,3958],"mapped",[4018,3968]],[[3959,3959],"mapped",[4018,3953,3968]],[[3960,3960],"mapped",[4019,3968]],[[3961,3961],"mapped",[4019,3953,3968]],[[3962,3968],"valid"],[[3969,3969],"mapped",[3953,3968]],[[3970,3972],"valid"],[[3973,3973],"valid",[],"NV8"],[[3974,3979],"valid"],[[3980,3983],"valid"],[[3984,3986],"valid"],[[3987,3987],"mapped",[3986,4023]],[[3988,3989],"valid"],[[3990,3990],"valid"],[[3991,3991],"valid"],[[3992,3992],"disallowed"],[[3993,3996],"valid"],[[3997,3997],"mapped",[3996,4023]],[[3998,4001],"valid"],[[4002,4002],"mapped",[4001,4023]],[[4003,4006],"valid"],[[4007,4007],"mapped",[4006,4023]],[[4008,4011],"valid"],[[4012,4012],"mapped",[4011,4023]],[[4013,4013],"valid"],[[4014,4016],"valid"],[[4017,4023],"valid"],[[4024,4024],"valid"],[[4025,4025],"mapped",[3984,4021]],[[4026,4028],"valid"],[[4029,4029],"disallowed"],[[4030,4037],"valid",[],"NV8"],[[4038,4038],"valid"],[[4039,4044],"valid",[],"NV8"],[[4045,4045],"disallowed"],[[4046,4046],"valid",[],"NV8"],[[4047,4047],"valid",[],"NV8"],[[4048,4049],"valid",[],"NV8"],[[4050,4052],"valid",[],"NV8"],[[4053,4056],"valid",[],"NV8"],[[4057,4058],"valid",[],"NV8"],[[4059,4095],"disallowed"],[[4096,4129],"valid"],[[4130,4130],"valid"],[[4131,4135],"valid"],[[4136,4136],"valid"],[[4137,4138],"valid"],[[4139,4139],"valid"],[[4140,4146],"valid"],[[4147,4149],"valid"],[[4150,4153],"valid"],[[4154,4159],"valid"],[[4160,4169],"valid"],[[4170,4175],"valid",[],"NV8"],[[4176,4185],"valid"],[[4186,4249],"valid"],[[4250,4253],"valid"],[[4254,4255],"valid",[],"NV8"],[[4256,4293],"disallowed"],[[4294,4294],"disallowed"],[[4295,4295],"mapped",[11559]],[[4296,4300],"disallowed"],[[4301,4301],"mapped",[11565]],[[4302,4303],"disallowed"],[[4304,4342],"valid"],[[4343,4344],"valid"],[[4345,4346],"valid"],[[4347,4347],"valid",[],"NV8"],[[4348,4348],"mapped",[4316]],[[4349,4351],"valid"],[[4352,4441],"valid",[],"NV8"],[[4442,4446],"valid",[],"NV8"],[[4447,4448],"disallowed"],[[4449,4514],"valid",[],"NV8"],[[4515,4519],"valid",[],"NV8"],[[4520,4601],"valid",[],"NV8"],[[4602,4607],"valid",[],"NV8"],[[4608,4614],"valid"],[[4615,4615],"valid"],[[4616,4678],"valid"],[[4679,4679],"valid"],[[4680,4680],"valid"],[[4681,4681],"disallowed"],[[4682,4685],"valid"],[[4686,4687],"disallowed"],[[4688,4694],"valid"],[[4695,4695],"disallowed"],[[4696,4696],"valid"],[[4697,4697],"disallowed"],[[4698,4701],"valid"],[[4702,4703],"disallowed"],[[4704,4742],"valid"],[[4743,4743],"valid"],[[4744,4744],"valid"],[[4745,4745],"disallowed"],[[4746,4749],"valid"],[[4750,4751],"disallowed"],[[4752,4782],"valid"],[[4783,4783],"valid"],[[4784,4784],"valid"],[[4785,4785],"disallowed"],[[4786,4789],"valid"],[[4790,4791],"disallowed"],[[4792,4798],"valid"],[[4799,4799],"disallowed"],[[4800,4800],"valid"],[[4801,4801],"disallowed"],[[4802,4805],"valid"],[[4806,4807],"disallowed"],[[4808,4814],"valid"],[[4815,4815],"valid"],[[4816,4822],"valid"],[[4823,4823],"disallowed"],[[4824,4846],"valid"],[[4847,4847],"valid"],[[4848,4878],"valid"],[[4879,4879],"valid"],[[4880,4880],"valid"],[[4881,4881],"disallowed"],[[4882,4885],"valid"],[[4886,4887],"disallowed"],[[4888,4894],"valid"],[[4895,4895],"valid"],[[4896,4934],"valid"],[[4935,4935],"valid"],[[4936,4954],"valid"],[[4955,4956],"disallowed"],[[4957,4958],"valid"],[[4959,4959],"valid"],[[4960,4960],"valid",[],"NV8"],[[4961,4988],"valid",[],"NV8"],[[4989,4991],"disallowed"],[[4992,5007],"valid"],[[5008,5017],"valid",[],"NV8"],[[5018,5023],"disallowed"],[[5024,5108],"valid"],[[5109,5109],"valid"],[[5110,5111],"disallowed"],[[5112,5112],"mapped",[5104]],[[5113,5113],"mapped",[5105]],[[5114,5114],"mapped",[5106]],[[5115,5115],"mapped",[5107]],[[5116,5116],"mapped",[5108]],[[5117,5117],"mapped",[5109]],[[5118,5119],"disallowed"],[[5120,5120],"valid",[],"NV8"],[[5121,5740],"valid"],[[5741,5742],"valid",[],"NV8"],[[5743,5750],"valid"],[[5751,5759],"valid"],[[5760,5760],"disallowed"],[[5761,5786],"valid"],[[5787,5788],"valid",[],"NV8"],[[5789,5791],"disallowed"],[[5792,5866],"valid"],[[5867,5872],"valid",[],"NV8"],[[5873,5880],"valid"],[[5881,5887],"disallowed"],[[5888,5900],"valid"],[[5901,5901],"disallowed"],[[5902,5908],"valid"],[[5909,5919],"disallowed"],[[5920,5940],"valid"],[[5941,5942],"valid",[],"NV8"],[[5943,5951],"disallowed"],[[5952,5971],"valid"],[[5972,5983],"disallowed"],[[5984,5996],"valid"],[[5997,5997],"disallowed"],[[5998,6e3],"valid"],[[6001,6001],"disallowed"],[[6002,6003],"valid"],[[6004,6015],"disallowed"],[[6016,6067],"valid"],[[6068,6069],"disallowed"],[[6070,6099],"valid"],[[6100,6102],"valid",[],"NV8"],[[6103,6103],"valid"],[[6104,6107],"valid",[],"NV8"],[[6108,6108],"valid"],[[6109,6109],"valid"],[[6110,6111],"disallowed"],[[6112,6121],"valid"],[[6122,6127],"disallowed"],[[6128,6137],"valid",[],"NV8"],[[6138,6143],"disallowed"],[[6144,6149],"valid",[],"NV8"],[[6150,6150],"disallowed"],[[6151,6154],"valid",[],"NV8"],[[6155,6157],"ignored"],[[6158,6158],"disallowed"],[[6159,6159],"disallowed"],[[6160,6169],"valid"],[[6170,6175],"disallowed"],[[6176,6263],"valid"],[[6264,6271],"disallowed"],[[6272,6313],"valid"],[[6314,6314],"valid"],[[6315,6319],"disallowed"],[[6320,6389],"valid"],[[6390,6399],"disallowed"],[[6400,6428],"valid"],[[6429,6430],"valid"],[[6431,6431],"disallowed"],[[6432,6443],"valid"],[[6444,6447],"disallowed"],[[6448,6459],"valid"],[[6460,6463],"disallowed"],[[6464,6464],"valid",[],"NV8"],[[6465,6467],"disallowed"],[[6468,6469],"valid",[],"NV8"],[[6470,6509],"valid"],[[6510,6511],"disallowed"],[[6512,6516],"valid"],[[6517,6527],"disallowed"],[[6528,6569],"valid"],[[6570,6571],"valid"],[[6572,6575],"disallowed"],[[6576,6601],"valid"],[[6602,6607],"disallowed"],[[6608,6617],"valid"],[[6618,6618],"valid",[],"XV8"],[[6619,6621],"disallowed"],[[6622,6623],"valid",[],"NV8"],[[6624,6655],"valid",[],"NV8"],[[6656,6683],"valid"],[[6684,6685],"disallowed"],[[6686,6687],"valid",[],"NV8"],[[6688,6750],"valid"],[[6751,6751],"disallowed"],[[6752,6780],"valid"],[[6781,6782],"disallowed"],[[6783,6793],"valid"],[[6794,6799],"disallowed"],[[6800,6809],"valid"],[[6810,6815],"disallowed"],[[6816,6822],"valid",[],"NV8"],[[6823,6823],"valid"],[[6824,6829],"valid",[],"NV8"],[[6830,6831],"disallowed"],[[6832,6845],"valid"],[[6846,6846],"valid",[],"NV8"],[[6847,6911],"disallowed"],[[6912,6987],"valid"],[[6988,6991],"disallowed"],[[6992,7001],"valid"],[[7002,7018],"valid",[],"NV8"],[[7019,7027],"valid"],[[7028,7036],"valid",[],"NV8"],[[7037,7039],"disallowed"],[[7040,7082],"valid"],[[7083,7085],"valid"],[[7086,7097],"valid"],[[7098,7103],"valid"],[[7104,7155],"valid"],[[7156,7163],"disallowed"],[[7164,7167],"valid",[],"NV8"],[[7168,7223],"valid"],[[7224,7226],"disallowed"],[[7227,7231],"valid",[],"NV8"],[[7232,7241],"valid"],[[7242,7244],"disallowed"],[[7245,7293],"valid"],[[7294,7295],"valid",[],"NV8"],[[7296,7359],"disallowed"],[[7360,7367],"valid",[],"NV8"],[[7368,7375],"disallowed"],[[7376,7378],"valid"],[[7379,7379],"valid",[],"NV8"],[[7380,7410],"valid"],[[7411,7414],"valid"],[[7415,7415],"disallowed"],[[7416,7417],"valid"],[[7418,7423],"disallowed"],[[7424,7467],"valid"],[[7468,7468],"mapped",[97]],[[7469,7469],"mapped",[230]],[[7470,7470],"mapped",[98]],[[7471,7471],"valid"],[[7472,7472],"mapped",[100]],[[7473,7473],"mapped",[101]],[[7474,7474],"mapped",[477]],[[7475,7475],"mapped",[103]],[[7476,7476],"mapped",[104]],[[7477,7477],"mapped",[105]],[[7478,7478],"mapped",[106]],[[7479,7479],"mapped",[107]],[[7480,7480],"mapped",[108]],[[7481,7481],"mapped",[109]],[[7482,7482],"mapped",[110]],[[7483,7483],"valid"],[[7484,7484],"mapped",[111]],[[7485,7485],"mapped",[547]],[[7486,7486],"mapped",[112]],[[7487,7487],"mapped",[114]],[[7488,7488],"mapped",[116]],[[7489,7489],"mapped",[117]],[[7490,7490],"mapped",[119]],[[7491,7491],"mapped",[97]],[[7492,7492],"mapped",[592]],[[7493,7493],"mapped",[593]],[[7494,7494],"mapped",[7426]],[[7495,7495],"mapped",[98]],[[7496,7496],"mapped",[100]],[[7497,7497],"mapped",[101]],[[7498,7498],"mapped",[601]],[[7499,7499],"mapped",[603]],[[7500,7500],"mapped",[604]],[[7501,7501],"mapped",[103]],[[7502,7502],"valid"],[[7503,7503],"mapped",[107]],[[7504,7504],"mapped",[109]],[[7505,7505],"mapped",[331]],[[7506,7506],"mapped",[111]],[[7507,7507],"mapped",[596]],[[7508,7508],"mapped",[7446]],[[7509,7509],"mapped",[7447]],[[7510,7510],"mapped",[112]],[[7511,7511],"mapped",[116]],[[7512,7512],"mapped",[117]],[[7513,7513],"mapped",[7453]],[[7514,7514],"mapped",[623]],[[7515,7515],"mapped",[118]],[[7516,7516],"mapped",[7461]],[[7517,7517],"mapped",[946]],[[7518,7518],"mapped",[947]],[[7519,7519],"mapped",[948]],[[7520,7520],"mapped",[966]],[[7521,7521],"mapped",[967]],[[7522,7522],"mapped",[105]],[[7523,7523],"mapped",[114]],[[7524,7524],"mapped",[117]],[[7525,7525],"mapped",[118]],[[7526,7526],"mapped",[946]],[[7527,7527],"mapped",[947]],[[7528,7528],"mapped",[961]],[[7529,7529],"mapped",[966]],[[7530,7530],"mapped",[967]],[[7531,7531],"valid"],[[7532,7543],"valid"],[[7544,7544],"mapped",[1085]],[[7545,7578],"valid"],[[7579,7579],"mapped",[594]],[[7580,7580],"mapped",[99]],[[7581,7581],"mapped",[597]],[[7582,7582],"mapped",[240]],[[7583,7583],"mapped",[604]],[[7584,7584],"mapped",[102]],[[7585,7585],"mapped",[607]],[[7586,7586],"mapped",[609]],[[7587,7587],"mapped",[613]],[[7588,7588],"mapped",[616]],[[7589,7589],"mapped",[617]],[[7590,7590],"mapped",[618]],[[7591,7591],"mapped",[7547]],[[7592,7592],"mapped",[669]],[[7593,7593],"mapped",[621]],[[7594,7594],"mapped",[7557]],[[7595,7595],"mapped",[671]],[[7596,7596],"mapped",[625]],[[7597,7597],"mapped",[624]],[[7598,7598],"mapped",[626]],[[7599,7599],"mapped",[627]],[[7600,7600],"mapped",[628]],[[7601,7601],"mapped",[629]],[[7602,7602],"mapped",[632]],[[7603,7603],"mapped",[642]],[[7604,7604],"mapped",[643]],[[7605,7605],"mapped",[427]],[[7606,7606],"mapped",[649]],[[7607,7607],"mapped",[650]],[[7608,7608],"mapped",[7452]],[[7609,7609],"mapped",[651]],[[7610,7610],"mapped",[652]],[[7611,7611],"mapped",[122]],[[7612,7612],"mapped",[656]],[[7613,7613],"mapped",[657]],[[7614,7614],"mapped",[658]],[[7615,7615],"mapped",[952]],[[7616,7619],"valid"],[[7620,7626],"valid"],[[7627,7654],"valid"],[[7655,7669],"valid"],[[7670,7675],"disallowed"],[[7676,7676],"valid"],[[7677,7677],"valid"],[[7678,7679],"valid"],[[7680,7680],"mapped",[7681]],[[7681,7681],"valid"],[[7682,7682],"mapped",[7683]],[[7683,7683],"valid"],[[7684,7684],"mapped",[7685]],[[7685,7685],"valid"],[[7686,7686],"mapped",[7687]],[[7687,7687],"valid"],[[7688,7688],"mapped",[7689]],[[7689,7689],"valid"],[[7690,7690],"mapped",[7691]],[[7691,7691],"valid"],[[7692,7692],"mapped",[7693]],[[7693,7693],"valid"],[[7694,7694],"mapped",[7695]],[[7695,7695],"valid"],[[7696,7696],"mapped",[7697]],[[7697,7697],"valid"],[[7698,7698],"mapped",[7699]],[[7699,7699],"valid"],[[7700,7700],"mapped",[7701]],[[7701,7701],"valid"],[[7702,7702],"mapped",[7703]],[[7703,7703],"valid"],[[7704,7704],"mapped",[7705]],[[7705,7705],"valid"],[[7706,7706],"mapped",[7707]],[[7707,7707],"valid"],[[7708,7708],"mapped",[7709]],[[7709,7709],"valid"],[[7710,7710],"mapped",[7711]],[[7711,7711],"valid"],[[7712,7712],"mapped",[7713]],[[7713,7713],"valid"],[[7714,7714],"mapped",[7715]],[[7715,7715],"valid"],[[7716,7716],"mapped",[7717]],[[7717,7717],"valid"],[[7718,7718],"mapped",[7719]],[[7719,7719],"valid"],[[7720,7720],"mapped",[7721]],[[7721,7721],"valid"],[[7722,7722],"mapped",[7723]],[[7723,7723],"valid"],[[7724,7724],"mapped",[7725]],[[7725,7725],"valid"],[[7726,7726],"mapped",[7727]],[[7727,7727],"valid"],[[7728,7728],"mapped",[7729]],[[7729,7729],"valid"],[[7730,7730],"mapped",[7731]],[[7731,7731],"valid"],[[7732,7732],"mapped",[7733]],[[7733,7733],"valid"],[[7734,7734],"mapped",[7735]],[[7735,7735],"valid"],[[7736,7736],"mapped",[7737]],[[7737,7737],"valid"],[[7738,7738],"mapped",[7739]],[[7739,7739],"valid"],[[7740,7740],"mapped",[7741]],[[7741,7741],"valid"],[[7742,7742],"mapped",[7743]],[[7743,7743],"valid"],[[7744,7744],"mapped",[7745]],[[7745,7745],"valid"],[[7746,7746],"mapped",[7747]],[[7747,7747],"valid"],[[7748,7748],"mapped",[7749]],[[7749,7749],"valid"],[[7750,7750],"mapped",[7751]],[[7751,7751],"valid"],[[7752,7752],"mapped",[7753]],[[7753,7753],"valid"],[[7754,7754],"mapped",[7755]],[[7755,7755],"valid"],[[7756,7756],"mapped",[7757]],[[7757,7757],"valid"],[[7758,7758],"mapped",[7759]],[[7759,7759],"valid"],[[7760,7760],"mapped",[7761]],[[7761,7761],"valid"],[[7762,7762],"mapped",[7763]],[[7763,7763],"valid"],[[7764,7764],"mapped",[7765]],[[7765,7765],"valid"],[[7766,7766],"mapped",[7767]],[[7767,7767],"valid"],[[7768,7768],"mapped",[7769]],[[7769,7769],"valid"],[[7770,7770],"mapped",[7771]],[[7771,7771],"valid"],[[7772,7772],"mapped",[7773]],[[7773,7773],"valid"],[[7774,7774],"mapped",[7775]],[[7775,7775],"valid"],[[7776,7776],"mapped",[7777]],[[7777,7777],"valid"],[[7778,7778],"mapped",[7779]],[[7779,7779],"valid"],[[7780,7780],"mapped",[7781]],[[7781,7781],"valid"],[[7782,7782],"mapped",[7783]],[[7783,7783],"valid"],[[7784,7784],"mapped",[7785]],[[7785,7785],"valid"],[[7786,7786],"mapped",[7787]],[[7787,7787],"valid"],[[7788,7788],"mapped",[7789]],[[7789,7789],"valid"],[[7790,7790],"mapped",[7791]],[[7791,7791],"valid"],[[7792,7792],"mapped",[7793]],[[7793,7793],"valid"],[[7794,7794],"mapped",[7795]],[[7795,7795],"valid"],[[7796,7796],"mapped",[7797]],[[7797,7797],"valid"],[[7798,7798],"mapped",[7799]],[[7799,7799],"valid"],[[7800,7800],"mapped",[7801]],[[7801,7801],"valid"],[[7802,7802],"mapped",[7803]],[[7803,7803],"valid"],[[7804,7804],"mapped",[7805]],[[7805,7805],"valid"],[[7806,7806],"mapped",[7807]],[[7807,7807],"valid"],[[7808,7808],"mapped",[7809]],[[7809,7809],"valid"],[[7810,7810],"mapped",[7811]],[[7811,7811],"valid"],[[7812,7812],"mapped",[7813]],[[7813,7813],"valid"],[[7814,7814],"mapped",[7815]],[[7815,7815],"valid"],[[7816,7816],"mapped",[7817]],[[7817,7817],"valid"],[[7818,7818],"mapped",[7819]],[[7819,7819],"valid"],[[7820,7820],"mapped",[7821]],[[7821,7821],"valid"],[[7822,7822],"mapped",[7823]],[[7823,7823],"valid"],[[7824,7824],"mapped",[7825]],[[7825,7825],"valid"],[[7826,7826],"mapped",[7827]],[[7827,7827],"valid"],[[7828,7828],"mapped",[7829]],[[7829,7833],"valid"],[[7834,7834],"mapped",[97,702]],[[7835,7835],"mapped",[7777]],[[7836,7837],"valid"],[[7838,7838],"mapped",[115,115]],[[7839,7839],"valid"],[[7840,7840],"mapped",[7841]],[[7841,7841],"valid"],[[7842,7842],"mapped",[7843]],[[7843,7843],"valid"],[[7844,7844],"mapped",[7845]],[[7845,7845],"valid"],[[7846,7846],"mapped",[7847]],[[7847,7847],"valid"],[[7848,7848],"mapped",[7849]],[[7849,7849],"valid"],[[7850,7850],"mapped",[7851]],[[7851,7851],"valid"],[[7852,7852],"mapped",[7853]],[[7853,7853],"valid"],[[7854,7854],"mapped",[7855]],[[7855,7855],"valid"],[[7856,7856],"mapped",[7857]],[[7857,7857],"valid"],[[7858,7858],"mapped",[7859]],[[7859,7859],"valid"],[[7860,7860],"mapped",[7861]],[[7861,7861],"valid"],[[7862,7862],"mapped",[7863]],[[7863,7863],"valid"],[[7864,7864],"mapped",[7865]],[[7865,7865],"valid"],[[7866,7866],"mapped",[7867]],[[7867,7867],"valid"],[[7868,7868],"mapped",[7869]],[[7869,7869],"valid"],[[7870,7870],"mapped",[7871]],[[7871,7871],"valid"],[[7872,7872],"mapped",[7873]],[[7873,7873],"valid"],[[7874,7874],"mapped",[7875]],[[7875,7875],"valid"],[[7876,7876],"mapped",[7877]],[[7877,7877],"valid"],[[7878,7878],"mapped",[7879]],[[7879,7879],"valid"],[[7880,7880],"mapped",[7881]],[[7881,7881],"valid"],[[7882,7882],"mapped",[7883]],[[7883,7883],"valid"],[[7884,7884],"mapped",[7885]],[[7885,7885],"valid"],[[7886,7886],"mapped",[7887]],[[7887,7887],"valid"],[[7888,7888],"mapped",[7889]],[[7889,7889],"valid"],[[7890,7890],"mapped",[7891]],[[7891,7891],"valid"],[[7892,7892],"mapped",[7893]],[[7893,7893],"valid"],[[7894,7894],"mapped",[7895]],[[7895,7895],"valid"],[[7896,7896],"mapped",[7897]],[[7897,7897],"valid"],[[7898,7898],"mapped",[7899]],[[7899,7899],"valid"],[[7900,7900],"mapped",[7901]],[[7901,7901],"valid"],[[7902,7902],"mapped",[7903]],[[7903,7903],"valid"],[[7904,7904],"mapped",[7905]],[[7905,7905],"valid"],[[7906,7906],"mapped",[7907]],[[7907,7907],"valid"],[[7908,7908],"mapped",[7909]],[[7909,7909],"valid"],[[7910,7910],"mapped",[7911]],[[7911,7911],"valid"],[[7912,7912],"mapped",[7913]],[[7913,7913],"valid"],[[7914,7914],"mapped",[7915]],[[7915,7915],"valid"],[[7916,7916],"mapped",[7917]],[[7917,7917],"valid"],[[7918,7918],"mapped",[7919]],[[7919,7919],"valid"],[[7920,7920],"mapped",[7921]],[[7921,7921],"valid"],[[7922,7922],"mapped",[7923]],[[7923,7923],"valid"],[[7924,7924],"mapped",[7925]],[[7925,7925],"valid"],[[7926,7926],"mapped",[7927]],[[7927,7927],"valid"],[[7928,7928],"mapped",[7929]],[[7929,7929],"valid"],[[7930,7930],"mapped",[7931]],[[7931,7931],"valid"],[[7932,7932],"mapped",[7933]],[[7933,7933],"valid"],[[7934,7934],"mapped",[7935]],[[7935,7935],"valid"],[[7936,7943],"valid"],[[7944,7944],"mapped",[7936]],[[7945,7945],"mapped",[7937]],[[7946,7946],"mapped",[7938]],[[7947,7947],"mapped",[7939]],[[7948,7948],"mapped",[7940]],[[7949,7949],"mapped",[7941]],[[7950,7950],"mapped",[7942]],[[7951,7951],"mapped",[7943]],[[7952,7957],"valid"],[[7958,7959],"disallowed"],[[7960,7960],"mapped",[7952]],[[7961,7961],"mapped",[7953]],[[7962,7962],"mapped",[7954]],[[7963,7963],"mapped",[7955]],[[7964,7964],"mapped",[7956]],[[7965,7965],"mapped",[7957]],[[7966,7967],"disallowed"],[[7968,7975],"valid"],[[7976,7976],"mapped",[7968]],[[7977,7977],"mapped",[7969]],[[7978,7978],"mapped",[7970]],[[7979,7979],"mapped",[7971]],[[7980,7980],"mapped",[7972]],[[7981,7981],"mapped",[7973]],[[7982,7982],"mapped",[7974]],[[7983,7983],"mapped",[7975]],[[7984,7991],"valid"],[[7992,7992],"mapped",[7984]],[[7993,7993],"mapped",[7985]],[[7994,7994],"mapped",[7986]],[[7995,7995],"mapped",[7987]],[[7996,7996],"mapped",[7988]],[[7997,7997],"mapped",[7989]],[[7998,7998],"mapped",[7990]],[[7999,7999],"mapped",[7991]],[[8e3,8005],"valid"],[[8006,8007],"disallowed"],[[8008,8008],"mapped",[8e3]],[[8009,8009],"mapped",[8001]],[[8010,8010],"mapped",[8002]],[[8011,8011],"mapped",[8003]],[[8012,8012],"mapped",[8004]],[[8013,8013],"mapped",[8005]],[[8014,8015],"disallowed"],[[8016,8023],"valid"],[[8024,8024],"disallowed"],[[8025,8025],"mapped",[8017]],[[8026,8026],"disallowed"],[[8027,8027],"mapped",[8019]],[[8028,8028],"disallowed"],[[8029,8029],"mapped",[8021]],[[8030,8030],"disallowed"],[[8031,8031],"mapped",[8023]],[[8032,8039],"valid"],[[8040,8040],"mapped",[8032]],[[8041,8041],"mapped",[8033]],[[8042,8042],"mapped",[8034]],[[8043,8043],"mapped",[8035]],[[8044,8044],"mapped",[8036]],[[8045,8045],"mapped",[8037]],[[8046,8046],"mapped",[8038]],[[8047,8047],"mapped",[8039]],[[8048,8048],"valid"],[[8049,8049],"mapped",[940]],[[8050,8050],"valid"],[[8051,8051],"mapped",[941]],[[8052,8052],"valid"],[[8053,8053],"mapped",[942]],[[8054,8054],"valid"],[[8055,8055],"mapped",[943]],[[8056,8056],"valid"],[[8057,8057],"mapped",[972]],[[8058,8058],"valid"],[[8059,8059],"mapped",[973]],[[8060,8060],"valid"],[[8061,8061],"mapped",[974]],[[8062,8063],"disallowed"],[[8064,8064],"mapped",[7936,953]],[[8065,8065],"mapped",[7937,953]],[[8066,8066],"mapped",[7938,953]],[[8067,8067],"mapped",[7939,953]],[[8068,8068],"mapped",[7940,953]],[[8069,8069],"mapped",[7941,953]],[[8070,8070],"mapped",[7942,953]],[[8071,8071],"mapped",[7943,953]],[[8072,8072],"mapped",[7936,953]],[[8073,8073],"mapped",[7937,953]],[[8074,8074],"mapped",[7938,953]],[[8075,8075],"mapped",[7939,953]],[[8076,8076],"mapped",[7940,953]],[[8077,8077],"mapped",[7941,953]],[[8078,8078],"mapped",[7942,953]],[[8079,8079],"mapped",[7943,953]],[[8080,8080],"mapped",[7968,953]],[[8081,8081],"mapped",[7969,953]],[[8082,8082],"mapped",[7970,953]],[[8083,8083],"mapped",[7971,953]],[[8084,8084],"mapped",[7972,953]],[[8085,8085],"mapped",[7973,953]],[[8086,8086],"mapped",[7974,953]],[[8087,8087],"mapped",[7975,953]],[[8088,8088],"mapped",[7968,953]],[[8089,8089],"mapped",[7969,953]],[[8090,8090],"mapped",[7970,953]],[[8091,8091],"mapped",[7971,953]],[[8092,8092],"mapped",[7972,953]],[[8093,8093],"mapped",[7973,953]],[[8094,8094],"mapped",[7974,953]],[[8095,8095],"mapped",[7975,953]],[[8096,8096],"mapped",[8032,953]],[[8097,8097],"mapped",[8033,953]],[[8098,8098],"mapped",[8034,953]],[[8099,8099],"mapped",[8035,953]],[[8100,8100],"mapped",[8036,953]],[[8101,8101],"mapped",[8037,953]],[[8102,8102],"mapped",[8038,953]],[[8103,8103],"mapped",[8039,953]],[[8104,8104],"mapped",[8032,953]],[[8105,8105],"mapped",[8033,953]],[[8106,8106],"mapped",[8034,953]],[[8107,8107],"mapped",[8035,953]],[[8108,8108],"mapped",[8036,953]],[[8109,8109],"mapped",[8037,953]],[[8110,8110],"mapped",[8038,953]],[[8111,8111],"mapped",[8039,953]],[[8112,8113],"valid"],[[8114,8114],"mapped",[8048,953]],[[8115,8115],"mapped",[945,953]],[[8116,8116],"mapped",[940,953]],[[8117,8117],"disallowed"],[[8118,8118],"valid"],[[8119,8119],"mapped",[8118,953]],[[8120,8120],"mapped",[8112]],[[8121,8121],"mapped",[8113]],[[8122,8122],"mapped",[8048]],[[8123,8123],"mapped",[940]],[[8124,8124],"mapped",[945,953]],[[8125,8125],"disallowed_STD3_mapped",[32,787]],[[8126,8126],"mapped",[953]],[[8127,8127],"disallowed_STD3_mapped",[32,787]],[[8128,8128],"disallowed_STD3_mapped",[32,834]],[[8129,8129],"disallowed_STD3_mapped",[32,776,834]],[[8130,8130],"mapped",[8052,953]],[[8131,8131],"mapped",[951,953]],[[8132,8132],"mapped",[942,953]],[[8133,8133],"disallowed"],[[8134,8134],"valid"],[[8135,8135],"mapped",[8134,953]],[[8136,8136],"mapped",[8050]],[[8137,8137],"mapped",[941]],[[8138,8138],"mapped",[8052]],[[8139,8139],"mapped",[942]],[[8140,8140],"mapped",[951,953]],[[8141,8141],"disallowed_STD3_mapped",[32,787,768]],[[8142,8142],"disallowed_STD3_mapped",[32,787,769]],[[8143,8143],"disallowed_STD3_mapped",[32,787,834]],[[8144,8146],"valid"],[[8147,8147],"mapped",[912]],[[8148,8149],"disallowed"],[[8150,8151],"valid"],[[8152,8152],"mapped",[8144]],[[8153,8153],"mapped",[8145]],[[8154,8154],"mapped",[8054]],[[8155,8155],"mapped",[943]],[[8156,8156],"disallowed"],[[8157,8157],"disallowed_STD3_mapped",[32,788,768]],[[8158,8158],"disallowed_STD3_mapped",[32,788,769]],[[8159,8159],"disallowed_STD3_mapped",[32,788,834]],[[8160,8162],"valid"],[[8163,8163],"mapped",[944]],[[8164,8167],"valid"],[[8168,8168],"mapped",[8160]],[[8169,8169],"mapped",[8161]],[[8170,8170],"mapped",[8058]],[[8171,8171],"mapped",[973]],[[8172,8172],"mapped",[8165]],[[8173,8173],"disallowed_STD3_mapped",[32,776,768]],[[8174,8174],"disallowed_STD3_mapped",[32,776,769]],[[8175,8175],"disallowed_STD3_mapped",[96]],[[8176,8177],"disallowed"],[[8178,8178],"mapped",[8060,953]],[[8179,8179],"mapped",[969,953]],[[8180,8180],"mapped",[974,953]],[[8181,8181],"disallowed"],[[8182,8182],"valid"],[[8183,8183],"mapped",[8182,953]],[[8184,8184],"mapped",[8056]],[[8185,8185],"mapped",[972]],[[8186,8186],"mapped",[8060]],[[8187,8187],"mapped",[974]],[[8188,8188],"mapped",[969,953]],[[8189,8189],"disallowed_STD3_mapped",[32,769]],[[8190,8190],"disallowed_STD3_mapped",[32,788]],[[8191,8191],"disallowed"],[[8192,8202],"disallowed_STD3_mapped",[32]],[[8203,8203],"ignored"],[[8204,8205],"deviation",[]],[[8206,8207],"disallowed"],[[8208,8208],"valid",[],"NV8"],[[8209,8209],"mapped",[8208]],[[8210,8214],"valid",[],"NV8"],[[8215,8215],"disallowed_STD3_mapped",[32,819]],[[8216,8227],"valid",[],"NV8"],[[8228,8230],"disallowed"],[[8231,8231],"valid",[],"NV8"],[[8232,8238],"disallowed"],[[8239,8239],"disallowed_STD3_mapped",[32]],[[8240,8242],"valid",[],"NV8"],[[8243,8243],"mapped",[8242,8242]],[[8244,8244],"mapped",[8242,8242,8242]],[[8245,8245],"valid",[],"NV8"],[[8246,8246],"mapped",[8245,8245]],[[8247,8247],"mapped",[8245,8245,8245]],[[8248,8251],"valid",[],"NV8"],[[8252,8252],"disallowed_STD3_mapped",[33,33]],[[8253,8253],"valid",[],"NV8"],[[8254,8254],"disallowed_STD3_mapped",[32,773]],[[8255,8262],"valid",[],"NV8"],[[8263,8263],"disallowed_STD3_mapped",[63,63]],[[8264,8264],"disallowed_STD3_mapped",[63,33]],[[8265,8265],"disallowed_STD3_mapped",[33,63]],[[8266,8269],"valid",[],"NV8"],[[8270,8274],"valid",[],"NV8"],[[8275,8276],"valid",[],"NV8"],[[8277,8278],"valid",[],"NV8"],[[8279,8279],"mapped",[8242,8242,8242,8242]],[[8280,8286],"valid",[],"NV8"],[[8287,8287],"disallowed_STD3_mapped",[32]],[[8288,8288],"ignored"],[[8289,8291],"disallowed"],[[8292,8292],"ignored"],[[8293,8293],"disallowed"],[[8294,8297],"disallowed"],[[8298,8303],"disallowed"],[[8304,8304],"mapped",[48]],[[8305,8305],"mapped",[105]],[[8306,8307],"disallowed"],[[8308,8308],"mapped",[52]],[[8309,8309],"mapped",[53]],[[8310,8310],"mapped",[54]],[[8311,8311],"mapped",[55]],[[8312,8312],"mapped",[56]],[[8313,8313],"mapped",[57]],[[8314,8314],"disallowed_STD3_mapped",[43]],[[8315,8315],"mapped",[8722]],[[8316,8316],"disallowed_STD3_mapped",[61]],[[8317,8317],"disallowed_STD3_mapped",[40]],[[8318,8318],"disallowed_STD3_mapped",[41]],[[8319,8319],"mapped",[110]],[[8320,8320],"mapped",[48]],[[8321,8321],"mapped",[49]],[[8322,8322],"mapped",[50]],[[8323,8323],"mapped",[51]],[[8324,8324],"mapped",[52]],[[8325,8325],"mapped",[53]],[[8326,8326],"mapped",[54]],[[8327,8327],"mapped",[55]],[[8328,8328],"mapped",[56]],[[8329,8329],"mapped",[57]],[[8330,8330],"disallowed_STD3_mapped",[43]],[[8331,8331],"mapped",[8722]],[[8332,8332],"disallowed_STD3_mapped",[61]],[[8333,8333],"disallowed_STD3_mapped",[40]],[[8334,8334],"disallowed_STD3_mapped",[41]],[[8335,8335],"disallowed"],[[8336,8336],"mapped",[97]],[[8337,8337],"mapped",[101]],[[8338,8338],"mapped",[111]],[[8339,8339],"mapped",[120]],[[8340,8340],"mapped",[601]],[[8341,8341],"mapped",[104]],[[8342,8342],"mapped",[107]],[[8343,8343],"mapped",[108]],[[8344,8344],"mapped",[109]],[[8345,8345],"mapped",[110]],[[8346,8346],"mapped",[112]],[[8347,8347],"mapped",[115]],[[8348,8348],"mapped",[116]],[[8349,8351],"disallowed"],[[8352,8359],"valid",[],"NV8"],[[8360,8360],"mapped",[114,115]],[[8361,8362],"valid",[],"NV8"],[[8363,8363],"valid",[],"NV8"],[[8364,8364],"valid",[],"NV8"],[[8365,8367],"valid",[],"NV8"],[[8368,8369],"valid",[],"NV8"],[[8370,8373],"valid",[],"NV8"],[[8374,8376],"valid",[],"NV8"],[[8377,8377],"valid",[],"NV8"],[[8378,8378],"valid",[],"NV8"],[[8379,8381],"valid",[],"NV8"],[[8382,8382],"valid",[],"NV8"],[[8383,8399],"disallowed"],[[8400,8417],"valid",[],"NV8"],[[8418,8419],"valid",[],"NV8"],[[8420,8426],"valid",[],"NV8"],[[8427,8427],"valid",[],"NV8"],[[8428,8431],"valid",[],"NV8"],[[8432,8432],"valid",[],"NV8"],[[8433,8447],"disallowed"],[[8448,8448],"disallowed_STD3_mapped",[97,47,99]],[[8449,8449],"disallowed_STD3_mapped",[97,47,115]],[[8450,8450],"mapped",[99]],[[8451,8451],"mapped",[176,99]],[[8452,8452],"valid",[],"NV8"],[[8453,8453],"disallowed_STD3_mapped",[99,47,111]],[[8454,8454],"disallowed_STD3_mapped",[99,47,117]],[[8455,8455],"mapped",[603]],[[8456,8456],"valid",[],"NV8"],[[8457,8457],"mapped",[176,102]],[[8458,8458],"mapped",[103]],[[8459,8462],"mapped",[104]],[[8463,8463],"mapped",[295]],[[8464,8465],"mapped",[105]],[[8466,8467],"mapped",[108]],[[8468,8468],"valid",[],"NV8"],[[8469,8469],"mapped",[110]],[[8470,8470],"mapped",[110,111]],[[8471,8472],"valid",[],"NV8"],[[8473,8473],"mapped",[112]],[[8474,8474],"mapped",[113]],[[8475,8477],"mapped",[114]],[[8478,8479],"valid",[],"NV8"],[[8480,8480],"mapped",[115,109]],[[8481,8481],"mapped",[116,101,108]],[[8482,8482],"mapped",[116,109]],[[8483,8483],"valid",[],"NV8"],[[8484,8484],"mapped",[122]],[[8485,8485],"valid",[],"NV8"],[[8486,8486],"mapped",[969]],[[8487,8487],"valid",[],"NV8"],[[8488,8488],"mapped",[122]],[[8489,8489],"valid",[],"NV8"],[[8490,8490],"mapped",[107]],[[8491,8491],"mapped",[229]],[[8492,8492],"mapped",[98]],[[8493,8493],"mapped",[99]],[[8494,8494],"valid",[],"NV8"],[[8495,8496],"mapped",[101]],[[8497,8497],"mapped",[102]],[[8498,8498],"disallowed"],[[8499,8499],"mapped",[109]],[[8500,8500],"mapped",[111]],[[8501,8501],"mapped",[1488]],[[8502,8502],"mapped",[1489]],[[8503,8503],"mapped",[1490]],[[8504,8504],"mapped",[1491]],[[8505,8505],"mapped",[105]],[[8506,8506],"valid",[],"NV8"],[[8507,8507],"mapped",[102,97,120]],[[8508,8508],"mapped",[960]],[[8509,8510],"mapped",[947]],[[8511,8511],"mapped",[960]],[[8512,8512],"mapped",[8721]],[[8513,8516],"valid",[],"NV8"],[[8517,8518],"mapped",[100]],[[8519,8519],"mapped",[101]],[[8520,8520],"mapped",[105]],[[8521,8521],"mapped",[106]],[[8522,8523],"valid",[],"NV8"],[[8524,8524],"valid",[],"NV8"],[[8525,8525],"valid",[],"NV8"],[[8526,8526],"valid"],[[8527,8527],"valid",[],"NV8"],[[8528,8528],"mapped",[49,8260,55]],[[8529,8529],"mapped",[49,8260,57]],[[8530,8530],"mapped",[49,8260,49,48]],[[8531,8531],"mapped",[49,8260,51]],[[8532,8532],"mapped",[50,8260,51]],[[8533,8533],"mapped",[49,8260,53]],[[8534,8534],"mapped",[50,8260,53]],[[8535,8535],"mapped",[51,8260,53]],[[8536,8536],"mapped",[52,8260,53]],[[8537,8537],"mapped",[49,8260,54]],[[8538,8538],"mapped",[53,8260,54]],[[8539,8539],"mapped",[49,8260,56]],[[8540,8540],"mapped",[51,8260,56]],[[8541,8541],"mapped",[53,8260,56]],[[8542,8542],"mapped",[55,8260,56]],[[8543,8543],"mapped",[49,8260]],[[8544,8544],"mapped",[105]],[[8545,8545],"mapped",[105,105]],[[8546,8546],"mapped",[105,105,105]],[[8547,8547],"mapped",[105,118]],[[8548,8548],"mapped",[118]],[[8549,8549],"mapped",[118,105]],[[8550,8550],"mapped",[118,105,105]],[[8551,8551],"mapped",[118,105,105,105]],[[8552,8552],"mapped",[105,120]],[[8553,8553],"mapped",[120]],[[8554,8554],"mapped",[120,105]],[[8555,8555],"mapped",[120,105,105]],[[8556,8556],"mapped",[108]],[[8557,8557],"mapped",[99]],[[8558,8558],"mapped",[100]],[[8559,8559],"mapped",[109]],[[8560,8560],"mapped",[105]],[[8561,8561],"mapped",[105,105]],[[8562,8562],"mapped",[105,105,105]],[[8563,8563],"mapped",[105,118]],[[8564,8564],"mapped",[118]],[[8565,8565],"mapped",[118,105]],[[8566,8566],"mapped",[118,105,105]],[[8567,8567],"mapped",[118,105,105,105]],[[8568,8568],"mapped",[105,120]],[[8569,8569],"mapped",[120]],[[8570,8570],"mapped",[120,105]],[[8571,8571],"mapped",[120,105,105]],[[8572,8572],"mapped",[108]],[[8573,8573],"mapped",[99]],[[8574,8574],"mapped",[100]],[[8575,8575],"mapped",[109]],[[8576,8578],"valid",[],"NV8"],[[8579,8579],"disallowed"],[[8580,8580],"valid"],[[8581,8584],"valid",[],"NV8"],[[8585,8585],"mapped",[48,8260,51]],[[8586,8587],"valid",[],"NV8"],[[8588,8591],"disallowed"],[[8592,8682],"valid",[],"NV8"],[[8683,8691],"valid",[],"NV8"],[[8692,8703],"valid",[],"NV8"],[[8704,8747],"valid",[],"NV8"],[[8748,8748],"mapped",[8747,8747]],[[8749,8749],"mapped",[8747,8747,8747]],[[8750,8750],"valid",[],"NV8"],[[8751,8751],"mapped",[8750,8750]],[[8752,8752],"mapped",[8750,8750,8750]],[[8753,8799],"valid",[],"NV8"],[[8800,8800],"disallowed_STD3_valid"],[[8801,8813],"valid",[],"NV8"],[[8814,8815],"disallowed_STD3_valid"],[[8816,8945],"valid",[],"NV8"],[[8946,8959],"valid",[],"NV8"],[[8960,8960],"valid",[],"NV8"],[[8961,8961],"valid",[],"NV8"],[[8962,9e3],"valid",[],"NV8"],[[9001,9001],"mapped",[12296]],[[9002,9002],"mapped",[12297]],[[9003,9082],"valid",[],"NV8"],[[9083,9083],"valid",[],"NV8"],[[9084,9084],"valid",[],"NV8"],[[9085,9114],"valid",[],"NV8"],[[9115,9166],"valid",[],"NV8"],[[9167,9168],"valid",[],"NV8"],[[9169,9179],"valid",[],"NV8"],[[9180,9191],"valid",[],"NV8"],[[9192,9192],"valid",[],"NV8"],[[9193,9203],"valid",[],"NV8"],[[9204,9210],"valid",[],"NV8"],[[9211,9215],"disallowed"],[[9216,9252],"valid",[],"NV8"],[[9253,9254],"valid",[],"NV8"],[[9255,9279],"disallowed"],[[9280,9290],"valid",[],"NV8"],[[9291,9311],"disallowed"],[[9312,9312],"mapped",[49]],[[9313,9313],"mapped",[50]],[[9314,9314],"mapped",[51]],[[9315,9315],"mapped",[52]],[[9316,9316],"mapped",[53]],[[9317,9317],"mapped",[54]],[[9318,9318],"mapped",[55]],[[9319,9319],"mapped",[56]],[[9320,9320],"mapped",[57]],[[9321,9321],"mapped",[49,48]],[[9322,9322],"mapped",[49,49]],[[9323,9323],"mapped",[49,50]],[[9324,9324],"mapped",[49,51]],[[9325,9325],"mapped",[49,52]],[[9326,9326],"mapped",[49,53]],[[9327,9327],"mapped",[49,54]],[[9328,9328],"mapped",[49,55]],[[9329,9329],"mapped",[49,56]],[[9330,9330],"mapped",[49,57]],[[9331,9331],"mapped",[50,48]],[[9332,9332],"disallowed_STD3_mapped",[40,49,41]],[[9333,9333],"disallowed_STD3_mapped",[40,50,41]],[[9334,9334],"disallowed_STD3_mapped",[40,51,41]],[[9335,9335],"disallowed_STD3_mapped",[40,52,41]],[[9336,9336],"disallowed_STD3_mapped",[40,53,41]],[[9337,9337],"disallowed_STD3_mapped",[40,54,41]],[[9338,9338],"disallowed_STD3_mapped",[40,55,41]],[[9339,9339],"disallowed_STD3_mapped",[40,56,41]],[[9340,9340],"disallowed_STD3_mapped",[40,57,41]],[[9341,9341],"disallowed_STD3_mapped",[40,49,48,41]],[[9342,9342],"disallowed_STD3_mapped",[40,49,49,41]],[[9343,9343],"disallowed_STD3_mapped",[40,49,50,41]],[[9344,9344],"disallowed_STD3_mapped",[40,49,51,41]],[[9345,9345],"disallowed_STD3_mapped",[40,49,52,41]],[[9346,9346],"disallowed_STD3_mapped",[40,49,53,41]],[[9347,9347],"disallowed_STD3_mapped",[40,49,54,41]],[[9348,9348],"disallowed_STD3_mapped",[40,49,55,41]],[[9349,9349],"disallowed_STD3_mapped",[40,49,56,41]],[[9350,9350],"disallowed_STD3_mapped",[40,49,57,41]],[[9351,9351],"disallowed_STD3_mapped",[40,50,48,41]],[[9352,9371],"disallowed"],[[9372,9372],"disallowed_STD3_mapped",[40,97,41]],[[9373,9373],"disallowed_STD3_mapped",[40,98,41]],[[9374,9374],"disallowed_STD3_mapped",[40,99,41]],[[9375,9375],"disallowed_STD3_mapped",[40,100,41]],[[9376,9376],"disallowed_STD3_mapped",[40,101,41]],[[9377,9377],"disallowed_STD3_mapped",[40,102,41]],[[9378,9378],"disallowed_STD3_mapped",[40,103,41]],[[9379,9379],"disallowed_STD3_mapped",[40,104,41]],[[9380,9380],"disallowed_STD3_mapped",[40,105,41]],[[9381,9381],"disallowed_STD3_mapped",[40,106,41]],[[9382,9382],"disallowed_STD3_mapped",[40,107,41]],[[9383,9383],"disallowed_STD3_mapped",[40,108,41]],[[9384,9384],"disallowed_STD3_mapped",[40,109,41]],[[9385,9385],"disallowed_STD3_mapped",[40,110,41]],[[9386,9386],"disallowed_STD3_mapped",[40,111,41]],[[9387,9387],"disallowed_STD3_mapped",[40,112,41]],[[9388,9388],"disallowed_STD3_mapped",[40,113,41]],[[9389,9389],"disallowed_STD3_mapped",[40,114,41]],[[9390,9390],"disallowed_STD3_mapped",[40,115,41]],[[9391,9391],"disallowed_STD3_mapped",[40,116,41]],[[9392,9392],"disallowed_STD3_mapped",[40,117,41]],[[9393,9393],"disallowed_STD3_mapped",[40,118,41]],[[9394,9394],"disallowed_STD3_mapped",[40,119,41]],[[9395,9395],"disallowed_STD3_mapped",[40,120,41]],[[9396,9396],"disallowed_STD3_mapped",[40,121,41]],[[9397,9397],"disallowed_STD3_mapped",[40,122,41]],[[9398,9398],"mapped",[97]],[[9399,9399],"mapped",[98]],[[9400,9400],"mapped",[99]],[[9401,9401],"mapped",[100]],[[9402,9402],"mapped",[101]],[[9403,9403],"mapped",[102]],[[9404,9404],"mapped",[103]],[[9405,9405],"mapped",[104]],[[9406,9406],"mapped",[105]],[[9407,9407],"mapped",[106]],[[9408,9408],"mapped",[107]],[[9409,9409],"mapped",[108]],[[9410,9410],"mapped",[109]],[[9411,9411],"mapped",[110]],[[9412,9412],"mapped",[111]],[[9413,9413],"mapped",[112]],[[9414,9414],"mapped",[113]],[[9415,9415],"mapped",[114]],[[9416,9416],"mapped",[115]],[[9417,9417],"mapped",[116]],[[9418,9418],"mapped",[117]],[[9419,9419],"mapped",[118]],[[9420,9420],"mapped",[119]],[[9421,9421],"mapped",[120]],[[9422,9422],"mapped",[121]],[[9423,9423],"mapped",[122]],[[9424,9424],"mapped",[97]],[[9425,9425],"mapped",[98]],[[9426,9426],"mapped",[99]],[[9427,9427],"mapped",[100]],[[9428,9428],"mapped",[101]],[[9429,9429],"mapped",[102]],[[9430,9430],"mapped",[103]],[[9431,9431],"mapped",[104]],[[9432,9432],"mapped",[105]],[[9433,9433],"mapped",[106]],[[9434,9434],"mapped",[107]],[[9435,9435],"mapped",[108]],[[9436,9436],"mapped",[109]],[[9437,9437],"mapped",[110]],[[9438,9438],"mapped",[111]],[[9439,9439],"mapped",[112]],[[9440,9440],"mapped",[113]],[[9441,9441],"mapped",[114]],[[9442,9442],"mapped",[115]],[[9443,9443],"mapped",[116]],[[9444,9444],"mapped",[117]],[[9445,9445],"mapped",[118]],[[9446,9446],"mapped",[119]],[[9447,9447],"mapped",[120]],[[9448,9448],"mapped",[121]],[[9449,9449],"mapped",[122]],[[9450,9450],"mapped",[48]],[[9451,9470],"valid",[],"NV8"],[[9471,9471],"valid",[],"NV8"],[[9472,9621],"valid",[],"NV8"],[[9622,9631],"valid",[],"NV8"],[[9632,9711],"valid",[],"NV8"],[[9712,9719],"valid",[],"NV8"],[[9720,9727],"valid",[],"NV8"],[[9728,9747],"valid",[],"NV8"],[[9748,9749],"valid",[],"NV8"],[[9750,9751],"valid",[],"NV8"],[[9752,9752],"valid",[],"NV8"],[[9753,9753],"valid",[],"NV8"],[[9754,9839],"valid",[],"NV8"],[[9840,9841],"valid",[],"NV8"],[[9842,9853],"valid",[],"NV8"],[[9854,9855],"valid",[],"NV8"],[[9856,9865],"valid",[],"NV8"],[[9866,9873],"valid",[],"NV8"],[[9874,9884],"valid",[],"NV8"],[[9885,9885],"valid",[],"NV8"],[[9886,9887],"valid",[],"NV8"],[[9888,9889],"valid",[],"NV8"],[[9890,9905],"valid",[],"NV8"],[[9906,9906],"valid",[],"NV8"],[[9907,9916],"valid",[],"NV8"],[[9917,9919],"valid",[],"NV8"],[[9920,9923],"valid",[],"NV8"],[[9924,9933],"valid",[],"NV8"],[[9934,9934],"valid",[],"NV8"],[[9935,9953],"valid",[],"NV8"],[[9954,9954],"valid",[],"NV8"],[[9955,9955],"valid",[],"NV8"],[[9956,9959],"valid",[],"NV8"],[[9960,9983],"valid",[],"NV8"],[[9984,9984],"valid",[],"NV8"],[[9985,9988],"valid",[],"NV8"],[[9989,9989],"valid",[],"NV8"],[[9990,9993],"valid",[],"NV8"],[[9994,9995],"valid",[],"NV8"],[[9996,10023],"valid",[],"NV8"],[[10024,10024],"valid",[],"NV8"],[[10025,10059],"valid",[],"NV8"],[[10060,10060],"valid",[],"NV8"],[[10061,10061],"valid",[],"NV8"],[[10062,10062],"valid",[],"NV8"],[[10063,10066],"valid",[],"NV8"],[[10067,10069],"valid",[],"NV8"],[[10070,10070],"valid",[],"NV8"],[[10071,10071],"valid",[],"NV8"],[[10072,10078],"valid",[],"NV8"],[[10079,10080],"valid",[],"NV8"],[[10081,10087],"valid",[],"NV8"],[[10088,10101],"valid",[],"NV8"],[[10102,10132],"valid",[],"NV8"],[[10133,10135],"valid",[],"NV8"],[[10136,10159],"valid",[],"NV8"],[[10160,10160],"valid",[],"NV8"],[[10161,10174],"valid",[],"NV8"],[[10175,10175],"valid",[],"NV8"],[[10176,10182],"valid",[],"NV8"],[[10183,10186],"valid",[],"NV8"],[[10187,10187],"valid",[],"NV8"],[[10188,10188],"valid",[],"NV8"],[[10189,10189],"valid",[],"NV8"],[[10190,10191],"valid",[],"NV8"],[[10192,10219],"valid",[],"NV8"],[[10220,10223],"valid",[],"NV8"],[[10224,10239],"valid",[],"NV8"],[[10240,10495],"valid",[],"NV8"],[[10496,10763],"valid",[],"NV8"],[[10764,10764],"mapped",[8747,8747,8747,8747]],[[10765,10867],"valid",[],"NV8"],[[10868,10868],"disallowed_STD3_mapped",[58,58,61]],[[10869,10869],"disallowed_STD3_mapped",[61,61]],[[10870,10870],"disallowed_STD3_mapped",[61,61,61]],[[10871,10971],"valid",[],"NV8"],[[10972,10972],"mapped",[10973,824]],[[10973,11007],"valid",[],"NV8"],[[11008,11021],"valid",[],"NV8"],[[11022,11027],"valid",[],"NV8"],[[11028,11034],"valid",[],"NV8"],[[11035,11039],"valid",[],"NV8"],[[11040,11043],"valid",[],"NV8"],[[11044,11084],"valid",[],"NV8"],[[11085,11087],"valid",[],"NV8"],[[11088,11092],"valid",[],"NV8"],[[11093,11097],"valid",[],"NV8"],[[11098,11123],"valid",[],"NV8"],[[11124,11125],"disallowed"],[[11126,11157],"valid",[],"NV8"],[[11158,11159],"disallowed"],[[11160,11193],"valid",[],"NV8"],[[11194,11196],"disallowed"],[[11197,11208],"valid",[],"NV8"],[[11209,11209],"disallowed"],[[11210,11217],"valid",[],"NV8"],[[11218,11243],"disallowed"],[[11244,11247],"valid",[],"NV8"],[[11248,11263],"disallowed"],[[11264,11264],"mapped",[11312]],[[11265,11265],"mapped",[11313]],[[11266,11266],"mapped",[11314]],[[11267,11267],"mapped",[11315]],[[11268,11268],"mapped",[11316]],[[11269,11269],"mapped",[11317]],[[11270,11270],"mapped",[11318]],[[11271,11271],"mapped",[11319]],[[11272,11272],"mapped",[11320]],[[11273,11273],"mapped",[11321]],[[11274,11274],"mapped",[11322]],[[11275,11275],"mapped",[11323]],[[11276,11276],"mapped",[11324]],[[11277,11277],"mapped",[11325]],[[11278,11278],"mapped",[11326]],[[11279,11279],"mapped",[11327]],[[11280,11280],"mapped",[11328]],[[11281,11281],"mapped",[11329]],[[11282,11282],"mapped",[11330]],[[11283,11283],"mapped",[11331]],[[11284,11284],"mapped",[11332]],[[11285,11285],"mapped",[11333]],[[11286,11286],"mapped",[11334]],[[11287,11287],"mapped",[11335]],[[11288,11288],"mapped",[11336]],[[11289,11289],"mapped",[11337]],[[11290,11290],"mapped",[11338]],[[11291,11291],"mapped",[11339]],[[11292,11292],"mapped",[11340]],[[11293,11293],"mapped",[11341]],[[11294,11294],"mapped",[11342]],[[11295,11295],"mapped",[11343]],[[11296,11296],"mapped",[11344]],[[11297,11297],"mapped",[11345]],[[11298,11298],"mapped",[11346]],[[11299,11299],"mapped",[11347]],[[11300,11300],"mapped",[11348]],[[11301,11301],"mapped",[11349]],[[11302,11302],"mapped",[11350]],[[11303,11303],"mapped",[11351]],[[11304,11304],"mapped",[11352]],[[11305,11305],"mapped",[11353]],[[11306,11306],"mapped",[11354]],[[11307,11307],"mapped",[11355]],[[11308,11308],"mapped",[11356]],[[11309,11309],"mapped",[11357]],[[11310,11310],"mapped",[11358]],[[11311,11311],"disallowed"],[[11312,11358],"valid"],[[11359,11359],"disallowed"],[[11360,11360],"mapped",[11361]],[[11361,11361],"valid"],[[11362,11362],"mapped",[619]],[[11363,11363],"mapped",[7549]],[[11364,11364],"mapped",[637]],[[11365,11366],"valid"],[[11367,11367],"mapped",[11368]],[[11368,11368],"valid"],[[11369,11369],"mapped",[11370]],[[11370,11370],"valid"],[[11371,11371],"mapped",[11372]],[[11372,11372],"valid"],[[11373,11373],"mapped",[593]],[[11374,11374],"mapped",[625]],[[11375,11375],"mapped",[592]],[[11376,11376],"mapped",[594]],[[11377,11377],"valid"],[[11378,11378],"mapped",[11379]],[[11379,11379],"valid"],[[11380,11380],"valid"],[[11381,11381],"mapped",[11382]],[[11382,11383],"valid"],[[11384,11387],"valid"],[[11388,11388],"mapped",[106]],[[11389,11389],"mapped",[118]],[[11390,11390],"mapped",[575]],[[11391,11391],"mapped",[576]],[[11392,11392],"mapped",[11393]],[[11393,11393],"valid"],[[11394,11394],"mapped",[11395]],[[11395,11395],"valid"],[[11396,11396],"mapped",[11397]],[[11397,11397],"valid"],[[11398,11398],"mapped",[11399]],[[11399,11399],"valid"],[[11400,11400],"mapped",[11401]],[[11401,11401],"valid"],[[11402,11402],"mapped",[11403]],[[11403,11403],"valid"],[[11404,11404],"mapped",[11405]],[[11405,11405],"valid"],[[11406,11406],"mapped",[11407]],[[11407,11407],"valid"],[[11408,11408],"mapped",[11409]],[[11409,11409],"valid"],[[11410,11410],"mapped",[11411]],[[11411,11411],"valid"],[[11412,11412],"mapped",[11413]],[[11413,11413],"valid"],[[11414,11414],"mapped",[11415]],[[11415,11415],"valid"],[[11416,11416],"mapped",[11417]],[[11417,11417],"valid"],[[11418,11418],"mapped",[11419]],[[11419,11419],"valid"],[[11420,11420],"mapped",[11421]],[[11421,11421],"valid"],[[11422,11422],"mapped",[11423]],[[11423,11423],"valid"],[[11424,11424],"mapped",[11425]],[[11425,11425],"valid"],[[11426,11426],"mapped",[11427]],[[11427,11427],"valid"],[[11428,11428],"mapped",[11429]],[[11429,11429],"valid"],[[11430,11430],"mapped",[11431]],[[11431,11431],"valid"],[[11432,11432],"mapped",[11433]],[[11433,11433],"valid"],[[11434,11434],"mapped",[11435]],[[11435,11435],"valid"],[[11436,11436],"mapped",[11437]],[[11437,11437],"valid"],[[11438,11438],"mapped",[11439]],[[11439,11439],"valid"],[[11440,11440],"mapped",[11441]],[[11441,11441],"valid"],[[11442,11442],"mapped",[11443]],[[11443,11443],"valid"],[[11444,11444],"mapped",[11445]],[[11445,11445],"valid"],[[11446,11446],"mapped",[11447]],[[11447,11447],"valid"],[[11448,11448],"mapped",[11449]],[[11449,11449],"valid"],[[11450,11450],"mapped",[11451]],[[11451,11451],"valid"],[[11452,11452],"mapped",[11453]],[[11453,11453],"valid"],[[11454,11454],"mapped",[11455]],[[11455,11455],"valid"],[[11456,11456],"mapped",[11457]],[[11457,11457],"valid"],[[11458,11458],"mapped",[11459]],[[11459,11459],"valid"],[[11460,11460],"mapped",[11461]],[[11461,11461],"valid"],[[11462,11462],"mapped",[11463]],[[11463,11463],"valid"],[[11464,11464],"mapped",[11465]],[[11465,11465],"valid"],[[11466,11466],"mapped",[11467]],[[11467,11467],"valid"],[[11468,11468],"mapped",[11469]],[[11469,11469],"valid"],[[11470,11470],"mapped",[11471]],[[11471,11471],"valid"],[[11472,11472],"mapped",[11473]],[[11473,11473],"valid"],[[11474,11474],"mapped",[11475]],[[11475,11475],"valid"],[[11476,11476],"mapped",[11477]],[[11477,11477],"valid"],[[11478,11478],"mapped",[11479]],[[11479,11479],"valid"],[[11480,11480],"mapped",[11481]],[[11481,11481],"valid"],[[11482,11482],"mapped",[11483]],[[11483,11483],"valid"],[[11484,11484],"mapped",[11485]],[[11485,11485],"valid"],[[11486,11486],"mapped",[11487]],[[11487,11487],"valid"],[[11488,11488],"mapped",[11489]],[[11489,11489],"valid"],[[11490,11490],"mapped",[11491]],[[11491,11492],"valid"],[[11493,11498],"valid",[],"NV8"],[[11499,11499],"mapped",[11500]],[[11500,11500],"valid"],[[11501,11501],"mapped",[11502]],[[11502,11505],"valid"],[[11506,11506],"mapped",[11507]],[[11507,11507],"valid"],[[11508,11512],"disallowed"],[[11513,11519],"valid",[],"NV8"],[[11520,11557],"valid"],[[11558,11558],"disallowed"],[[11559,11559],"valid"],[[11560,11564],"disallowed"],[[11565,11565],"valid"],[[11566,11567],"disallowed"],[[11568,11621],"valid"],[[11622,11623],"valid"],[[11624,11630],"disallowed"],[[11631,11631],"mapped",[11617]],[[11632,11632],"valid",[],"NV8"],[[11633,11646],"disallowed"],[[11647,11647],"valid"],[[11648,11670],"valid"],[[11671,11679],"disallowed"],[[11680,11686],"valid"],[[11687,11687],"disallowed"],[[11688,11694],"valid"],[[11695,11695],"disallowed"],[[11696,11702],"valid"],[[11703,11703],"disallowed"],[[11704,11710],"valid"],[[11711,11711],"disallowed"],[[11712,11718],"valid"],[[11719,11719],"disallowed"],[[11720,11726],"valid"],[[11727,11727],"disallowed"],[[11728,11734],"valid"],[[11735,11735],"disallowed"],[[11736,11742],"valid"],[[11743,11743],"disallowed"],[[11744,11775],"valid"],[[11776,11799],"valid",[],"NV8"],[[11800,11803],"valid",[],"NV8"],[[11804,11805],"valid",[],"NV8"],[[11806,11822],"valid",[],"NV8"],[[11823,11823],"valid"],[[11824,11824],"valid",[],"NV8"],[[11825,11825],"valid",[],"NV8"],[[11826,11835],"valid",[],"NV8"],[[11836,11842],"valid",[],"NV8"],[[11843,11903],"disallowed"],[[11904,11929],"valid",[],"NV8"],[[11930,11930],"disallowed"],[[11931,11934],"valid",[],"NV8"],[[11935,11935],"mapped",[27597]],[[11936,12018],"valid",[],"NV8"],[[12019,12019],"mapped",[40863]],[[12020,12031],"disallowed"],[[12032,12032],"mapped",[19968]],[[12033,12033],"mapped",[20008]],[[12034,12034],"mapped",[20022]],[[12035,12035],"mapped",[20031]],[[12036,12036],"mapped",[20057]],[[12037,12037],"mapped",[20101]],[[12038,12038],"mapped",[20108]],[[12039,12039],"mapped",[20128]],[[12040,12040],"mapped",[20154]],[[12041,12041],"mapped",[20799]],[[12042,12042],"mapped",[20837]],[[12043,12043],"mapped",[20843]],[[12044,12044],"mapped",[20866]],[[12045,12045],"mapped",[20886]],[[12046,12046],"mapped",[20907]],[[12047,12047],"mapped",[20960]],[[12048,12048],"mapped",[20981]],[[12049,12049],"mapped",[20992]],[[12050,12050],"mapped",[21147]],[[12051,12051],"mapped",[21241]],[[12052,12052],"mapped",[21269]],[[12053,12053],"mapped",[21274]],[[12054,12054],"mapped",[21304]],[[12055,12055],"mapped",[21313]],[[12056,12056],"mapped",[21340]],[[12057,12057],"mapped",[21353]],[[12058,12058],"mapped",[21378]],[[12059,12059],"mapped",[21430]],[[12060,12060],"mapped",[21448]],[[12061,12061],"mapped",[21475]],[[12062,12062],"mapped",[22231]],[[12063,12063],"mapped",[22303]],[[12064,12064],"mapped",[22763]],[[12065,12065],"mapped",[22786]],[[12066,12066],"mapped",[22794]],[[12067,12067],"mapped",[22805]],[[12068,12068],"mapped",[22823]],[[12069,12069],"mapped",[22899]],[[12070,12070],"mapped",[23376]],[[12071,12071],"mapped",[23424]],[[12072,12072],"mapped",[23544]],[[12073,12073],"mapped",[23567]],[[12074,12074],"mapped",[23586]],[[12075,12075],"mapped",[23608]],[[12076,12076],"mapped",[23662]],[[12077,12077],"mapped",[23665]],[[12078,12078],"mapped",[24027]],[[12079,12079],"mapped",[24037]],[[12080,12080],"mapped",[24049]],[[12081,12081],"mapped",[24062]],[[12082,12082],"mapped",[24178]],[[12083,12083],"mapped",[24186]],[[12084,12084],"mapped",[24191]],[[12085,12085],"mapped",[24308]],[[12086,12086],"mapped",[24318]],[[12087,12087],"mapped",[24331]],[[12088,12088],"mapped",[24339]],[[12089,12089],"mapped",[24400]],[[12090,12090],"mapped",[24417]],[[12091,12091],"mapped",[24435]],[[12092,12092],"mapped",[24515]],[[12093,12093],"mapped",[25096]],[[12094,12094],"mapped",[25142]],[[12095,12095],"mapped",[25163]],[[12096,12096],"mapped",[25903]],[[12097,12097],"mapped",[25908]],[[12098,12098],"mapped",[25991]],[[12099,12099],"mapped",[26007]],[[12100,12100],"mapped",[26020]],[[12101,12101],"mapped",[26041]],[[12102,12102],"mapped",[26080]],[[12103,12103],"mapped",[26085]],[[12104,12104],"mapped",[26352]],[[12105,12105],"mapped",[26376]],[[12106,12106],"mapped",[26408]],[[12107,12107],"mapped",[27424]],[[12108,12108],"mapped",[27490]],[[12109,12109],"mapped",[27513]],[[12110,12110],"mapped",[27571]],[[12111,12111],"mapped",[27595]],[[12112,12112],"mapped",[27604]],[[12113,12113],"mapped",[27611]],[[12114,12114],"mapped",[27663]],[[12115,12115],"mapped",[27668]],[[12116,12116],"mapped",[27700]],[[12117,12117],"mapped",[28779]],[[12118,12118],"mapped",[29226]],[[12119,12119],"mapped",[29238]],[[12120,12120],"mapped",[29243]],[[12121,12121],"mapped",[29247]],[[12122,12122],"mapped",[29255]],[[12123,12123],"mapped",[29273]],[[12124,12124],"mapped",[29275]],[[12125,12125],"mapped",[29356]],[[12126,12126],"mapped",[29572]],[[12127,12127],"mapped",[29577]],[[12128,12128],"mapped",[29916]],[[12129,12129],"mapped",[29926]],[[12130,12130],"mapped",[29976]],[[12131,12131],"mapped",[29983]],[[12132,12132],"mapped",[29992]],[[12133,12133],"mapped",[3e4]],[[12134,12134],"mapped",[30091]],[[12135,12135],"mapped",[30098]],[[12136,12136],"mapped",[30326]],[[12137,12137],"mapped",[30333]],[[12138,12138],"mapped",[30382]],[[12139,12139],"mapped",[30399]],[[12140,12140],"mapped",[30446]],[[12141,12141],"mapped",[30683]],[[12142,12142],"mapped",[30690]],[[12143,12143],"mapped",[30707]],[[12144,12144],"mapped",[31034]],[[12145,12145],"mapped",[31160]],[[12146,12146],"mapped",[31166]],[[12147,12147],"mapped",[31348]],[[12148,12148],"mapped",[31435]],[[12149,12149],"mapped",[31481]],[[12150,12150],"mapped",[31859]],[[12151,12151],"mapped",[31992]],[[12152,12152],"mapped",[32566]],[[12153,12153],"mapped",[32593]],[[12154,12154],"mapped",[32650]],[[12155,12155],"mapped",[32701]],[[12156,12156],"mapped",[32769]],[[12157,12157],"mapped",[32780]],[[12158,12158],"mapped",[32786]],[[12159,12159],"mapped",[32819]],[[12160,12160],"mapped",[32895]],[[12161,12161],"mapped",[32905]],[[12162,12162],"mapped",[33251]],[[12163,12163],"mapped",[33258]],[[12164,12164],"mapped",[33267]],[[12165,12165],"mapped",[33276]],[[12166,12166],"mapped",[33292]],[[12167,12167],"mapped",[33307]],[[12168,12168],"mapped",[33311]],[[12169,12169],"mapped",[33390]],[[12170,12170],"mapped",[33394]],[[12171,12171],"mapped",[33400]],[[12172,12172],"mapped",[34381]],[[12173,12173],"mapped",[34411]],[[12174,12174],"mapped",[34880]],[[12175,12175],"mapped",[34892]],[[12176,12176],"mapped",[34915]],[[12177,12177],"mapped",[35198]],[[12178,12178],"mapped",[35211]],[[12179,12179],"mapped",[35282]],[[12180,12180],"mapped",[35328]],[[12181,12181],"mapped",[35895]],[[12182,12182],"mapped",[35910]],[[12183,12183],"mapped",[35925]],[[12184,12184],"mapped",[35960]],[[12185,12185],"mapped",[35997]],[[12186,12186],"mapped",[36196]],[[12187,12187],"mapped",[36208]],[[12188,12188],"mapped",[36275]],[[12189,12189],"mapped",[36523]],[[12190,12190],"mapped",[36554]],[[12191,12191],"mapped",[36763]],[[12192,12192],"mapped",[36784]],[[12193,12193],"mapped",[36789]],[[12194,12194],"mapped",[37009]],[[12195,12195],"mapped",[37193]],[[12196,12196],"mapped",[37318]],[[12197,12197],"mapped",[37324]],[[12198,12198],"mapped",[37329]],[[12199,12199],"mapped",[38263]],[[12200,12200],"mapped",[38272]],[[12201,12201],"mapped",[38428]],[[12202,12202],"mapped",[38582]],[[12203,12203],"mapped",[38585]],[[12204,12204],"mapped",[38632]],[[12205,12205],"mapped",[38737]],[[12206,12206],"mapped",[38750]],[[12207,12207],"mapped",[38754]],[[12208,12208],"mapped",[38761]],[[12209,12209],"mapped",[38859]],[[12210,12210],"mapped",[38893]],[[12211,12211],"mapped",[38899]],[[12212,12212],"mapped",[38913]],[[12213,12213],"mapped",[39080]],[[12214,12214],"mapped",[39131]],[[12215,12215],"mapped",[39135]],[[12216,12216],"mapped",[39318]],[[12217,12217],"mapped",[39321]],[[12218,12218],"mapped",[39340]],[[12219,12219],"mapped",[39592]],[[12220,12220],"mapped",[39640]],[[12221,12221],"mapped",[39647]],[[12222,12222],"mapped",[39717]],[[12223,12223],"mapped",[39727]],[[12224,12224],"mapped",[39730]],[[12225,12225],"mapped",[39740]],[[12226,12226],"mapped",[39770]],[[12227,12227],"mapped",[40165]],[[12228,12228],"mapped",[40565]],[[12229,12229],"mapped",[40575]],[[12230,12230],"mapped",[40613]],[[12231,12231],"mapped",[40635]],[[12232,12232],"mapped",[40643]],[[12233,12233],"mapped",[40653]],[[12234,12234],"mapped",[40657]],[[12235,12235],"mapped",[40697]],[[12236,12236],"mapped",[40701]],[[12237,12237],"mapped",[40718]],[[12238,12238],"mapped",[40723]],[[12239,12239],"mapped",[40736]],[[12240,12240],"mapped",[40763]],[[12241,12241],"mapped",[40778]],[[12242,12242],"mapped",[40786]],[[12243,12243],"mapped",[40845]],[[12244,12244],"mapped",[40860]],[[12245,12245],"mapped",[40864]],[[12246,12271],"disallowed"],[[12272,12283],"disallowed"],[[12284,12287],"disallowed"],[[12288,12288],"disallowed_STD3_mapped",[32]],[[12289,12289],"valid",[],"NV8"],[[12290,12290],"mapped",[46]],[[12291,12292],"valid",[],"NV8"],[[12293,12295],"valid"],[[12296,12329],"valid",[],"NV8"],[[12330,12333],"valid"],[[12334,12341],"valid",[],"NV8"],[[12342,12342],"mapped",[12306]],[[12343,12343],"valid",[],"NV8"],[[12344,12344],"mapped",[21313]],[[12345,12345],"mapped",[21316]],[[12346,12346],"mapped",[21317]],[[12347,12347],"valid",[],"NV8"],[[12348,12348],"valid"],[[12349,12349],"valid",[],"NV8"],[[12350,12350],"valid",[],"NV8"],[[12351,12351],"valid",[],"NV8"],[[12352,12352],"disallowed"],[[12353,12436],"valid"],[[12437,12438],"valid"],[[12439,12440],"disallowed"],[[12441,12442],"valid"],[[12443,12443],"disallowed_STD3_mapped",[32,12441]],[[12444,12444],"disallowed_STD3_mapped",[32,12442]],[[12445,12446],"valid"],[[12447,12447],"mapped",[12424,12426]],[[12448,12448],"valid",[],"NV8"],[[12449,12542],"valid"],[[12543,12543],"mapped",[12467,12488]],[[12544,12548],"disallowed"],[[12549,12588],"valid"],[[12589,12589],"valid"],[[12590,12592],"disallowed"],[[12593,12593],"mapped",[4352]],[[12594,12594],"mapped",[4353]],[[12595,12595],"mapped",[4522]],[[12596,12596],"mapped",[4354]],[[12597,12597],"mapped",[4524]],[[12598,12598],"mapped",[4525]],[[12599,12599],"mapped",[4355]],[[12600,12600],"mapped",[4356]],[[12601,12601],"mapped",[4357]],[[12602,12602],"mapped",[4528]],[[12603,12603],"mapped",[4529]],[[12604,12604],"mapped",[4530]],[[12605,12605],"mapped",[4531]],[[12606,12606],"mapped",[4532]],[[12607,12607],"mapped",[4533]],[[12608,12608],"mapped",[4378]],[[12609,12609],"mapped",[4358]],[[12610,12610],"mapped",[4359]],[[12611,12611],"mapped",[4360]],[[12612,12612],"mapped",[4385]],[[12613,12613],"mapped",[4361]],[[12614,12614],"mapped",[4362]],[[12615,12615],"mapped",[4363]],[[12616,12616],"mapped",[4364]],[[12617,12617],"mapped",[4365]],[[12618,12618],"mapped",[4366]],[[12619,12619],"mapped",[4367]],[[12620,12620],"mapped",[4368]],[[12621,12621],"mapped",[4369]],[[12622,12622],"mapped",[4370]],[[12623,12623],"mapped",[4449]],[[12624,12624],"mapped",[4450]],[[12625,12625],"mapped",[4451]],[[12626,12626],"mapped",[4452]],[[12627,12627],"mapped",[4453]],[[12628,12628],"mapped",[4454]],[[12629,12629],"mapped",[4455]],[[12630,12630],"mapped",[4456]],[[12631,12631],"mapped",[4457]],[[12632,12632],"mapped",[4458]],[[12633,12633],"mapped",[4459]],[[12634,12634],"mapped",[4460]],[[12635,12635],"mapped",[4461]],[[12636,12636],"mapped",[4462]],[[12637,12637],"mapped",[4463]],[[12638,12638],"mapped",[4464]],[[12639,12639],"mapped",[4465]],[[12640,12640],"mapped",[4466]],[[12641,12641],"mapped",[4467]],[[12642,12642],"mapped",[4468]],[[12643,12643],"mapped",[4469]],[[12644,12644],"disallowed"],[[12645,12645],"mapped",[4372]],[[12646,12646],"mapped",[4373]],[[12647,12647],"mapped",[4551]],[[12648,12648],"mapped",[4552]],[[12649,12649],"mapped",[4556]],[[12650,12650],"mapped",[4558]],[[12651,12651],"mapped",[4563]],[[12652,12652],"mapped",[4567]],[[12653,12653],"mapped",[4569]],[[12654,12654],"mapped",[4380]],[[12655,12655],"mapped",[4573]],[[12656,12656],"mapped",[4575]],[[12657,12657],"mapped",[4381]],[[12658,12658],"mapped",[4382]],[[12659,12659],"mapped",[4384]],[[12660,12660],"mapped",[4386]],[[12661,12661],"mapped",[4387]],[[12662,12662],"mapped",[4391]],[[12663,12663],"mapped",[4393]],[[12664,12664],"mapped",[4395]],[[12665,12665],"mapped",[4396]],[[12666,12666],"mapped",[4397]],[[12667,12667],"mapped",[4398]],[[12668,12668],"mapped",[4399]],[[12669,12669],"mapped",[4402]],[[12670,12670],"mapped",[4406]],[[12671,12671],"mapped",[4416]],[[12672,12672],"mapped",[4423]],[[12673,12673],"mapped",[4428]],[[12674,12674],"mapped",[4593]],[[12675,12675],"mapped",[4594]],[[12676,12676],"mapped",[4439]],[[12677,12677],"mapped",[4440]],[[12678,12678],"mapped",[4441]],[[12679,12679],"mapped",[4484]],[[12680,12680],"mapped",[4485]],[[12681,12681],"mapped",[4488]],[[12682,12682],"mapped",[4497]],[[12683,12683],"mapped",[4498]],[[12684,12684],"mapped",[4500]],[[12685,12685],"mapped",[4510]],[[12686,12686],"mapped",[4513]],[[12687,12687],"disallowed"],[[12688,12689],"valid",[],"NV8"],[[12690,12690],"mapped",[19968]],[[12691,12691],"mapped",[20108]],[[12692,12692],"mapped",[19977]],[[12693,12693],"mapped",[22235]],[[12694,12694],"mapped",[19978]],[[12695,12695],"mapped",[20013]],[[12696,12696],"mapped",[19979]],[[12697,12697],"mapped",[30002]],[[12698,12698],"mapped",[20057]],[[12699,12699],"mapped",[19993]],[[12700,12700],"mapped",[19969]],[[12701,12701],"mapped",[22825]],[[12702,12702],"mapped",[22320]],[[12703,12703],"mapped",[20154]],[[12704,12727],"valid"],[[12728,12730],"valid"],[[12731,12735],"disallowed"],[[12736,12751],"valid",[],"NV8"],[[12752,12771],"valid",[],"NV8"],[[12772,12783],"disallowed"],[[12784,12799],"valid"],[[12800,12800],"disallowed_STD3_mapped",[40,4352,41]],[[12801,12801],"disallowed_STD3_mapped",[40,4354,41]],[[12802,12802],"disallowed_STD3_mapped",[40,4355,41]],[[12803,12803],"disallowed_STD3_mapped",[40,4357,41]],[[12804,12804],"disallowed_STD3_mapped",[40,4358,41]],[[12805,12805],"disallowed_STD3_mapped",[40,4359,41]],[[12806,12806],"disallowed_STD3_mapped",[40,4361,41]],[[12807,12807],"disallowed_STD3_mapped",[40,4363,41]],[[12808,12808],"disallowed_STD3_mapped",[40,4364,41]],[[12809,12809],"disallowed_STD3_mapped",[40,4366,41]],[[12810,12810],"disallowed_STD3_mapped",[40,4367,41]],[[12811,12811],"disallowed_STD3_mapped",[40,4368,41]],[[12812,12812],"disallowed_STD3_mapped",[40,4369,41]],[[12813,12813],"disallowed_STD3_mapped",[40,4370,41]],[[12814,12814],"disallowed_STD3_mapped",[40,44032,41]],[[12815,12815],"disallowed_STD3_mapped",[40,45208,41]],[[12816,12816],"disallowed_STD3_mapped",[40,45796,41]],[[12817,12817],"disallowed_STD3_mapped",[40,46972,41]],[[12818,12818],"disallowed_STD3_mapped",[40,47560,41]],[[12819,12819],"disallowed_STD3_mapped",[40,48148,41]],[[12820,12820],"disallowed_STD3_mapped",[40,49324,41]],[[12821,12821],"disallowed_STD3_mapped",[40,50500,41]],[[12822,12822],"disallowed_STD3_mapped",[40,51088,41]],[[12823,12823],"disallowed_STD3_mapped",[40,52264,41]],[[12824,12824],"disallowed_STD3_mapped",[40,52852,41]],[[12825,12825],"disallowed_STD3_mapped",[40,53440,41]],[[12826,12826],"disallowed_STD3_mapped",[40,54028,41]],[[12827,12827],"disallowed_STD3_mapped",[40,54616,41]],[[12828,12828],"disallowed_STD3_mapped",[40,51452,41]],[[12829,12829],"disallowed_STD3_mapped",[40,50724,51204,41]],[[12830,12830],"disallowed_STD3_mapped",[40,50724,54980,41]],[[12831,12831],"disallowed"],[[12832,12832],"disallowed_STD3_mapped",[40,19968,41]],[[12833,12833],"disallowed_STD3_mapped",[40,20108,41]],[[12834,12834],"disallowed_STD3_mapped",[40,19977,41]],[[12835,12835],"disallowed_STD3_mapped",[40,22235,41]],[[12836,12836],"disallowed_STD3_mapped",[40,20116,41]],[[12837,12837],"disallowed_STD3_mapped",[40,20845,41]],[[12838,12838],"disallowed_STD3_mapped",[40,19971,41]],[[12839,12839],"disallowed_STD3_mapped",[40,20843,41]],[[12840,12840],"disallowed_STD3_mapped",[40,20061,41]],[[12841,12841],"disallowed_STD3_mapped",[40,21313,41]],[[12842,12842],"disallowed_STD3_mapped",[40,26376,41]],[[12843,12843],"disallowed_STD3_mapped",[40,28779,41]],[[12844,12844],"disallowed_STD3_mapped",[40,27700,41]],[[12845,12845],"disallowed_STD3_mapped",[40,26408,41]],[[12846,12846],"disallowed_STD3_mapped",[40,37329,41]],[[12847,12847],"disallowed_STD3_mapped",[40,22303,41]],[[12848,12848],"disallowed_STD3_mapped",[40,26085,41]],[[12849,12849],"disallowed_STD3_mapped",[40,26666,41]],[[12850,12850],"disallowed_STD3_mapped",[40,26377,41]],[[12851,12851],"disallowed_STD3_mapped",[40,31038,41]],[[12852,12852],"disallowed_STD3_mapped",[40,21517,41]],[[12853,12853],"disallowed_STD3_mapped",[40,29305,41]],[[12854,12854],"disallowed_STD3_mapped",[40,36001,41]],[[12855,12855],"disallowed_STD3_mapped",[40,31069,41]],[[12856,12856],"disallowed_STD3_mapped",[40,21172,41]],[[12857,12857],"disallowed_STD3_mapped",[40,20195,41]],[[12858,12858],"disallowed_STD3_mapped",[40,21628,41]],[[12859,12859],"disallowed_STD3_mapped",[40,23398,41]],[[12860,12860],"disallowed_STD3_mapped",[40,30435,41]],[[12861,12861],"disallowed_STD3_mapped",[40,20225,41]],[[12862,12862],"disallowed_STD3_mapped",[40,36039,41]],[[12863,12863],"disallowed_STD3_mapped",[40,21332,41]],[[12864,12864],"disallowed_STD3_mapped",[40,31085,41]],[[12865,12865],"disallowed_STD3_mapped",[40,20241,41]],[[12866,12866],"disallowed_STD3_mapped",[40,33258,41]],[[12867,12867],"disallowed_STD3_mapped",[40,33267,41]],[[12868,12868],"mapped",[21839]],[[12869,12869],"mapped",[24188]],[[12870,12870],"mapped",[25991]],[[12871,12871],"mapped",[31631]],[[12872,12879],"valid",[],"NV8"],[[12880,12880],"mapped",[112,116,101]],[[12881,12881],"mapped",[50,49]],[[12882,12882],"mapped",[50,50]],[[12883,12883],"mapped",[50,51]],[[12884,12884],"mapped",[50,52]],[[12885,12885],"mapped",[50,53]],[[12886,12886],"mapped",[50,54]],[[12887,12887],"mapped",[50,55]],[[12888,12888],"mapped",[50,56]],[[12889,12889],"mapped",[50,57]],[[12890,12890],"mapped",[51,48]],[[12891,12891],"mapped",[51,49]],[[12892,12892],"mapped",[51,50]],[[12893,12893],"mapped",[51,51]],[[12894,12894],"mapped",[51,52]],[[12895,12895],"mapped",[51,53]],[[12896,12896],"mapped",[4352]],[[12897,12897],"mapped",[4354]],[[12898,12898],"mapped",[4355]],[[12899,12899],"mapped",[4357]],[[12900,12900],"mapped",[4358]],[[12901,12901],"mapped",[4359]],[[12902,12902],"mapped",[4361]],[[12903,12903],"mapped",[4363]],[[12904,12904],"mapped",[4364]],[[12905,12905],"mapped",[4366]],[[12906,12906],"mapped",[4367]],[[12907,12907],"mapped",[4368]],[[12908,12908],"mapped",[4369]],[[12909,12909],"mapped",[4370]],[[12910,12910],"mapped",[44032]],[[12911,12911],"mapped",[45208]],[[12912,12912],"mapped",[45796]],[[12913,12913],"mapped",[46972]],[[12914,12914],"mapped",[47560]],[[12915,12915],"mapped",[48148]],[[12916,12916],"mapped",[49324]],[[12917,12917],"mapped",[50500]],[[12918,12918],"mapped",[51088]],[[12919,12919],"mapped",[52264]],[[12920,12920],"mapped",[52852]],[[12921,12921],"mapped",[53440]],[[12922,12922],"mapped",[54028]],[[12923,12923],"mapped",[54616]],[[12924,12924],"mapped",[52280,44256]],[[12925,12925],"mapped",[51452,51032]],[[12926,12926],"mapped",[50864]],[[12927,12927],"valid",[],"NV8"],[[12928,12928],"mapped",[19968]],[[12929,12929],"mapped",[20108]],[[12930,12930],"mapped",[19977]],[[12931,12931],"mapped",[22235]],[[12932,12932],"mapped",[20116]],[[12933,12933],"mapped",[20845]],[[12934,12934],"mapped",[19971]],[[12935,12935],"mapped",[20843]],[[12936,12936],"mapped",[20061]],[[12937,12937],"mapped",[21313]],[[12938,12938],"mapped",[26376]],[[12939,12939],"mapped",[28779]],[[12940,12940],"mapped",[27700]],[[12941,12941],"mapped",[26408]],[[12942,12942],"mapped",[37329]],[[12943,12943],"mapped",[22303]],[[12944,12944],"mapped",[26085]],[[12945,12945],"mapped",[26666]],[[12946,12946],"mapped",[26377]],[[12947,12947],"mapped",[31038]],[[12948,12948],"mapped",[21517]],[[12949,12949],"mapped",[29305]],[[12950,12950],"mapped",[36001]],[[12951,12951],"mapped",[31069]],[[12952,12952],"mapped",[21172]],[[12953,12953],"mapped",[31192]],[[12954,12954],"mapped",[30007]],[[12955,12955],"mapped",[22899]],[[12956,12956],"mapped",[36969]],[[12957,12957],"mapped",[20778]],[[12958,12958],"mapped",[21360]],[[12959,12959],"mapped",[27880]],[[12960,12960],"mapped",[38917]],[[12961,12961],"mapped",[20241]],[[12962,12962],"mapped",[20889]],[[12963,12963],"mapped",[27491]],[[12964,12964],"mapped",[19978]],[[12965,12965],"mapped",[20013]],[[12966,12966],"mapped",[19979]],[[12967,12967],"mapped",[24038]],[[12968,12968],"mapped",[21491]],[[12969,12969],"mapped",[21307]],[[12970,12970],"mapped",[23447]],[[12971,12971],"mapped",[23398]],[[12972,12972],"mapped",[30435]],[[12973,12973],"mapped",[20225]],[[12974,12974],"mapped",[36039]],[[12975,12975],"mapped",[21332]],[[12976,12976],"mapped",[22812]],[[12977,12977],"mapped",[51,54]],[[12978,12978],"mapped",[51,55]],[[12979,12979],"mapped",[51,56]],[[12980,12980],"mapped",[51,57]],[[12981,12981],"mapped",[52,48]],[[12982,12982],"mapped",[52,49]],[[12983,12983],"mapped",[52,50]],[[12984,12984],"mapped",[52,51]],[[12985,12985],"mapped",[52,52]],[[12986,12986],"mapped",[52,53]],[[12987,12987],"mapped",[52,54]],[[12988,12988],"mapped",[52,55]],[[12989,12989],"mapped",[52,56]],[[12990,12990],"mapped",[52,57]],[[12991,12991],"mapped",[53,48]],[[12992,12992],"mapped",[49,26376]],[[12993,12993],"mapped",[50,26376]],[[12994,12994],"mapped",[51,26376]],[[12995,12995],"mapped",[52,26376]],[[12996,12996],"mapped",[53,26376]],[[12997,12997],"mapped",[54,26376]],[[12998,12998],"mapped",[55,26376]],[[12999,12999],"mapped",[56,26376]],[[13e3,13e3],"mapped",[57,26376]],[[13001,13001],"mapped",[49,48,26376]],[[13002,13002],"mapped",[49,49,26376]],[[13003,13003],"mapped",[49,50,26376]],[[13004,13004],"mapped",[104,103]],[[13005,13005],"mapped",[101,114,103]],[[13006,13006],"mapped",[101,118]],[[13007,13007],"mapped",[108,116,100]],[[13008,13008],"mapped",[12450]],[[13009,13009],"mapped",[12452]],[[13010,13010],"mapped",[12454]],[[13011,13011],"mapped",[12456]],[[13012,13012],"mapped",[12458]],[[13013,13013],"mapped",[12459]],[[13014,13014],"mapped",[12461]],[[13015,13015],"mapped",[12463]],[[13016,13016],"mapped",[12465]],[[13017,13017],"mapped",[12467]],[[13018,13018],"mapped",[12469]],[[13019,13019],"mapped",[12471]],[[13020,13020],"mapped",[12473]],[[13021,13021],"mapped",[12475]],[[13022,13022],"mapped",[12477]],[[13023,13023],"mapped",[12479]],[[13024,13024],"mapped",[12481]],[[13025,13025],"mapped",[12484]],[[13026,13026],"mapped",[12486]],[[13027,13027],"mapped",[12488]],[[13028,13028],"mapped",[12490]],[[13029,13029],"mapped",[12491]],[[13030,13030],"mapped",[12492]],[[13031,13031],"mapped",[12493]],[[13032,13032],"mapped",[12494]],[[13033,13033],"mapped",[12495]],[[13034,13034],"mapped",[12498]],[[13035,13035],"mapped",[12501]],[[13036,13036],"mapped",[12504]],[[13037,13037],"mapped",[12507]],[[13038,13038],"mapped",[12510]],[[13039,13039],"mapped",[12511]],[[13040,13040],"mapped",[12512]],[[13041,13041],"mapped",[12513]],[[13042,13042],"mapped",[12514]],[[13043,13043],"mapped",[12516]],[[13044,13044],"mapped",[12518]],[[13045,13045],"mapped",[12520]],[[13046,13046],"mapped",[12521]],[[13047,13047],"mapped",[12522]],[[13048,13048],"mapped",[12523]],[[13049,13049],"mapped",[12524]],[[13050,13050],"mapped",[12525]],[[13051,13051],"mapped",[12527]],[[13052,13052],"mapped",[12528]],[[13053,13053],"mapped",[12529]],[[13054,13054],"mapped",[12530]],[[13055,13055],"disallowed"],[[13056,13056],"mapped",[12450,12497,12540,12488]],[[13057,13057],"mapped",[12450,12523,12501,12449]],[[13058,13058],"mapped",[12450,12531,12506,12450]],[[13059,13059],"mapped",[12450,12540,12523]],[[13060,13060],"mapped",[12452,12491,12531,12464]],[[13061,13061],"mapped",[12452,12531,12481]],[[13062,13062],"mapped",[12454,12457,12531]],[[13063,13063],"mapped",[12456,12473,12463,12540,12489]],[[13064,13064],"mapped",[12456,12540,12459,12540]],[[13065,13065],"mapped",[12458,12531,12473]],[[13066,13066],"mapped",[12458,12540,12512]],[[13067,13067],"mapped",[12459,12452,12522]],[[13068,13068],"mapped",[12459,12521,12483,12488]],[[13069,13069],"mapped",[12459,12525,12522,12540]],[[13070,13070],"mapped",[12460,12525,12531]],[[13071,13071],"mapped",[12460,12531,12510]],[[13072,13072],"mapped",[12462,12460]],[[13073,13073],"mapped",[12462,12491,12540]],[[13074,13074],"mapped",[12461,12517,12522,12540]],[[13075,13075],"mapped",[12462,12523,12480,12540]],[[13076,13076],"mapped",[12461,12525]],[[13077,13077],"mapped",[12461,12525,12464,12521,12512]],[[13078,13078],"mapped",[12461,12525,12513,12540,12488,12523]],[[13079,13079],"mapped",[12461,12525,12527,12483,12488]],[[13080,13080],"mapped",[12464,12521,12512]],[[13081,13081],"mapped",[12464,12521,12512,12488,12531]],[[13082,13082],"mapped",[12463,12523,12476,12452,12525]],[[13083,13083],"mapped",[12463,12525,12540,12493]],[[13084,13084],"mapped",[12465,12540,12473]],[[13085,13085],"mapped",[12467,12523,12490]],[[13086,13086],"mapped",[12467,12540,12509]],[[13087,13087],"mapped",[12469,12452,12463,12523]],[[13088,13088],"mapped",[12469,12531,12481,12540,12512]],[[13089,13089],"mapped",[12471,12522,12531,12464]],[[13090,13090],"mapped",[12475,12531,12481]],[[13091,13091],"mapped",[12475,12531,12488]],[[13092,13092],"mapped",[12480,12540,12473]],[[13093,13093],"mapped",[12487,12471]],[[13094,13094],"mapped",[12489,12523]],[[13095,13095],"mapped",[12488,12531]],[[13096,13096],"mapped",[12490,12494]],[[13097,13097],"mapped",[12494,12483,12488]],[[13098,13098],"mapped",[12495,12452,12484]],[[13099,13099],"mapped",[12497,12540,12475,12531,12488]],[[13100,13100],"mapped",[12497,12540,12484]],[[13101,13101],"mapped",[12496,12540,12524,12523]],[[13102,13102],"mapped",[12500,12450,12473,12488,12523]],[[13103,13103],"mapped",[12500,12463,12523]],[[13104,13104],"mapped",[12500,12467]],[[13105,13105],"mapped",[12499,12523]],[[13106,13106],"mapped",[12501,12449,12521,12483,12489]],[[13107,13107],"mapped",[12501,12451,12540,12488]],[[13108,13108],"mapped",[12502,12483,12471,12455,12523]],[[13109,13109],"mapped",[12501,12521,12531]],[[13110,13110],"mapped",[12504,12463,12479,12540,12523]],[[13111,13111],"mapped",[12506,12477]],[[13112,13112],"mapped",[12506,12491,12498]],[[13113,13113],"mapped",[12504,12523,12484]],[[13114,13114],"mapped",[12506,12531,12473]],[[13115,13115],"mapped",[12506,12540,12472]],[[13116,13116],"mapped",[12505,12540,12479]],[[13117,13117],"mapped",[12509,12452,12531,12488]],[[13118,13118],"mapped",[12508,12523,12488]],[[13119,13119],"mapped",[12507,12531]],[[13120,13120],"mapped",[12509,12531,12489]],[[13121,13121],"mapped",[12507,12540,12523]],[[13122,13122],"mapped",[12507,12540,12531]],[[13123,13123],"mapped",[12510,12452,12463,12525]],[[13124,13124],"mapped",[12510,12452,12523]],[[13125,13125],"mapped",[12510,12483,12495]],[[13126,13126],"mapped",[12510,12523,12463]],[[13127,13127],"mapped",[12510,12531,12471,12519,12531]],[[13128,13128],"mapped",[12511,12463,12525,12531]],[[13129,13129],"mapped",[12511,12522]],[[13130,13130],"mapped",[12511,12522,12496,12540,12523]],[[13131,13131],"mapped",[12513,12460]],[[13132,13132],"mapped",[12513,12460,12488,12531]],[[13133,13133],"mapped",[12513,12540,12488,12523]],[[13134,13134],"mapped",[12516,12540,12489]],[[13135,13135],"mapped",[12516,12540,12523]],[[13136,13136],"mapped",[12518,12450,12531]],[[13137,13137],"mapped",[12522,12483,12488,12523]],[[13138,13138],"mapped",[12522,12521]],[[13139,13139],"mapped",[12523,12500,12540]],[[13140,13140],"mapped",[12523,12540,12502,12523]],[[13141,13141],"mapped",[12524,12512]],[[13142,13142],"mapped",[12524,12531,12488,12466,12531]],[[13143,13143],"mapped",[12527,12483,12488]],[[13144,13144],"mapped",[48,28857]],[[13145,13145],"mapped",[49,28857]],[[13146,13146],"mapped",[50,28857]],[[13147,13147],"mapped",[51,28857]],[[13148,13148],"mapped",[52,28857]],[[13149,13149],"mapped",[53,28857]],[[13150,13150],"mapped",[54,28857]],[[13151,13151],"mapped",[55,28857]],[[13152,13152],"mapped",[56,28857]],[[13153,13153],"mapped",[57,28857]],[[13154,13154],"mapped",[49,48,28857]],[[13155,13155],"mapped",[49,49,28857]],[[13156,13156],"mapped",[49,50,28857]],[[13157,13157],"mapped",[49,51,28857]],[[13158,13158],"mapped",[49,52,28857]],[[13159,13159],"mapped",[49,53,28857]],[[13160,13160],"mapped",[49,54,28857]],[[13161,13161],"mapped",[49,55,28857]],[[13162,13162],"mapped",[49,56,28857]],[[13163,13163],"mapped",[49,57,28857]],[[13164,13164],"mapped",[50,48,28857]],[[13165,13165],"mapped",[50,49,28857]],[[13166,13166],"mapped",[50,50,28857]],[[13167,13167],"mapped",[50,51,28857]],[[13168,13168],"mapped",[50,52,28857]],[[13169,13169],"mapped",[104,112,97]],[[13170,13170],"mapped",[100,97]],[[13171,13171],"mapped",[97,117]],[[13172,13172],"mapped",[98,97,114]],[[13173,13173],"mapped",[111,118]],[[13174,13174],"mapped",[112,99]],[[13175,13175],"mapped",[100,109]],[[13176,13176],"mapped",[100,109,50]],[[13177,13177],"mapped",[100,109,51]],[[13178,13178],"mapped",[105,117]],[[13179,13179],"mapped",[24179,25104]],[[13180,13180],"mapped",[26157,21644]],[[13181,13181],"mapped",[22823,27491]],[[13182,13182],"mapped",[26126,27835]],[[13183,13183],"mapped",[26666,24335,20250,31038]],[[13184,13184],"mapped",[112,97]],[[13185,13185],"mapped",[110,97]],[[13186,13186],"mapped",[956,97]],[[13187,13187],"mapped",[109,97]],[[13188,13188],"mapped",[107,97]],[[13189,13189],"mapped",[107,98]],[[13190,13190],"mapped",[109,98]],[[13191,13191],"mapped",[103,98]],[[13192,13192],"mapped",[99,97,108]],[[13193,13193],"mapped",[107,99,97,108]],[[13194,13194],"mapped",[112,102]],[[13195,13195],"mapped",[110,102]],[[13196,13196],"mapped",[956,102]],[[13197,13197],"mapped",[956,103]],[[13198,13198],"mapped",[109,103]],[[13199,13199],"mapped",[107,103]],[[13200,13200],"mapped",[104,122]],[[13201,13201],"mapped",[107,104,122]],[[13202,13202],"mapped",[109,104,122]],[[13203,13203],"mapped",[103,104,122]],[[13204,13204],"mapped",[116,104,122]],[[13205,13205],"mapped",[956,108]],[[13206,13206],"mapped",[109,108]],[[13207,13207],"mapped",[100,108]],[[13208,13208],"mapped",[107,108]],[[13209,13209],"mapped",[102,109]],[[13210,13210],"mapped",[110,109]],[[13211,13211],"mapped",[956,109]],[[13212,13212],"mapped",[109,109]],[[13213,13213],"mapped",[99,109]],[[13214,13214],"mapped",[107,109]],[[13215,13215],"mapped",[109,109,50]],[[13216,13216],"mapped",[99,109,50]],[[13217,13217],"mapped",[109,50]],[[13218,13218],"mapped",[107,109,50]],[[13219,13219],"mapped",[109,109,51]],[[13220,13220],"mapped",[99,109,51]],[[13221,13221],"mapped",[109,51]],[[13222,13222],"mapped",[107,109,51]],[[13223,13223],"mapped",[109,8725,115]],[[13224,13224],"mapped",[109,8725,115,50]],[[13225,13225],"mapped",[112,97]],[[13226,13226],"mapped",[107,112,97]],[[13227,13227],"mapped",[109,112,97]],[[13228,13228],"mapped",[103,112,97]],[[13229,13229],"mapped",[114,97,100]],[[13230,13230],"mapped",[114,97,100,8725,115]],[[13231,13231],"mapped",[114,97,100,8725,115,50]],[[13232,13232],"mapped",[112,115]],[[13233,13233],"mapped",[110,115]],[[13234,13234],"mapped",[956,115]],[[13235,13235],"mapped",[109,115]],[[13236,13236],"mapped",[112,118]],[[13237,13237],"mapped",[110,118]],[[13238,13238],"mapped",[956,118]],[[13239,13239],"mapped",[109,118]],[[13240,13240],"mapped",[107,118]],[[13241,13241],"mapped",[109,118]],[[13242,13242],"mapped",[112,119]],[[13243,13243],"mapped",[110,119]],[[13244,13244],"mapped",[956,119]],[[13245,13245],"mapped",[109,119]],[[13246,13246],"mapped",[107,119]],[[13247,13247],"mapped",[109,119]],[[13248,13248],"mapped",[107,969]],[[13249,13249],"mapped",[109,969]],[[13250,13250],"disallowed"],[[13251,13251],"mapped",[98,113]],[[13252,13252],"mapped",[99,99]],[[13253,13253],"mapped",[99,100]],[[13254,13254],"mapped",[99,8725,107,103]],[[13255,13255],"disallowed"],[[13256,13256],"mapped",[100,98]],[[13257,13257],"mapped",[103,121]],[[13258,13258],"mapped",[104,97]],[[13259,13259],"mapped",[104,112]],[[13260,13260],"mapped",[105,110]],[[13261,13261],"mapped",[107,107]],[[13262,13262],"mapped",[107,109]],[[13263,13263],"mapped",[107,116]],[[13264,13264],"mapped",[108,109]],[[13265,13265],"mapped",[108,110]],[[13266,13266],"mapped",[108,111,103]],[[13267,13267],"mapped",[108,120]],[[13268,13268],"mapped",[109,98]],[[13269,13269],"mapped",[109,105,108]],[[13270,13270],"mapped",[109,111,108]],[[13271,13271],"mapped",[112,104]],[[13272,13272],"disallowed"],[[13273,13273],"mapped",[112,112,109]],[[13274,13274],"mapped",[112,114]],[[13275,13275],"mapped",[115,114]],[[13276,13276],"mapped",[115,118]],[[13277,13277],"mapped",[119,98]],[[13278,13278],"mapped",[118,8725,109]],[[13279,13279],"mapped",[97,8725,109]],[[13280,13280],"mapped",[49,26085]],[[13281,13281],"mapped",[50,26085]],[[13282,13282],"mapped",[51,26085]],[[13283,13283],"mapped",[52,26085]],[[13284,13284],"mapped",[53,26085]],[[13285,13285],"mapped",[54,26085]],[[13286,13286],"mapped",[55,26085]],[[13287,13287],"mapped",[56,26085]],[[13288,13288],"mapped",[57,26085]],[[13289,13289],"mapped",[49,48,26085]],[[13290,13290],"mapped",[49,49,26085]],[[13291,13291],"mapped",[49,50,26085]],[[13292,13292],"mapped",[49,51,26085]],[[13293,13293],"mapped",[49,52,26085]],[[13294,13294],"mapped",[49,53,26085]],[[13295,13295],"mapped",[49,54,26085]],[[13296,13296],"mapped",[49,55,26085]],[[13297,13297],"mapped",[49,56,26085]],[[13298,13298],"mapped",[49,57,26085]],[[13299,13299],"mapped",[50,48,26085]],[[13300,13300],"mapped",[50,49,26085]],[[13301,13301],"mapped",[50,50,26085]],[[13302,13302],"mapped",[50,51,26085]],[[13303,13303],"mapped",[50,52,26085]],[[13304,13304],"mapped",[50,53,26085]],[[13305,13305],"mapped",[50,54,26085]],[[13306,13306],"mapped",[50,55,26085]],[[13307,13307],"mapped",[50,56,26085]],[[13308,13308],"mapped",[50,57,26085]],[[13309,13309],"mapped",[51,48,26085]],[[13310,13310],"mapped",[51,49,26085]],[[13311,13311],"mapped",[103,97,108]],[[13312,19893],"valid"],[[19894,19903],"disallowed"],[[19904,19967],"valid",[],"NV8"],[[19968,40869],"valid"],[[40870,40891],"valid"],[[40892,40899],"valid"],[[40900,40907],"valid"],[[40908,40908],"valid"],[[40909,40917],"valid"],[[40918,40959],"disallowed"],[[40960,42124],"valid"],[[42125,42127],"disallowed"],[[42128,42145],"valid",[],"NV8"],[[42146,42147],"valid",[],"NV8"],[[42148,42163],"valid",[],"NV8"],[[42164,42164],"valid",[],"NV8"],[[42165,42176],"valid",[],"NV8"],[[42177,42177],"valid",[],"NV8"],[[42178,42180],"valid",[],"NV8"],[[42181,42181],"valid",[],"NV8"],[[42182,42182],"valid",[],"NV8"],[[42183,42191],"disallowed"],[[42192,42237],"valid"],[[42238,42239],"valid",[],"NV8"],[[42240,42508],"valid"],[[42509,42511],"valid",[],"NV8"],[[42512,42539],"valid"],[[42540,42559],"disallowed"],[[42560,42560],"mapped",[42561]],[[42561,42561],"valid"],[[42562,42562],"mapped",[42563]],[[42563,42563],"valid"],[[42564,42564],"mapped",[42565]],[[42565,42565],"valid"],[[42566,42566],"mapped",[42567]],[[42567,42567],"valid"],[[42568,42568],"mapped",[42569]],[[42569,42569],"valid"],[[42570,42570],"mapped",[42571]],[[42571,42571],"valid"],[[42572,42572],"mapped",[42573]],[[42573,42573],"valid"],[[42574,42574],"mapped",[42575]],[[42575,42575],"valid"],[[42576,42576],"mapped",[42577]],[[42577,42577],"valid"],[[42578,42578],"mapped",[42579]],[[42579,42579],"valid"],[[42580,42580],"mapped",[42581]],[[42581,42581],"valid"],[[42582,42582],"mapped",[42583]],[[42583,42583],"valid"],[[42584,42584],"mapped",[42585]],[[42585,42585],"valid"],[[42586,42586],"mapped",[42587]],[[42587,42587],"valid"],[[42588,42588],"mapped",[42589]],[[42589,42589],"valid"],[[42590,42590],"mapped",[42591]],[[42591,42591],"valid"],[[42592,42592],"mapped",[42593]],[[42593,42593],"valid"],[[42594,42594],"mapped",[42595]],[[42595,42595],"valid"],[[42596,42596],"mapped",[42597]],[[42597,42597],"valid"],[[42598,42598],"mapped",[42599]],[[42599,42599],"valid"],[[42600,42600],"mapped",[42601]],[[42601,42601],"valid"],[[42602,42602],"mapped",[42603]],[[42603,42603],"valid"],[[42604,42604],"mapped",[42605]],[[42605,42607],"valid"],[[42608,42611],"valid",[],"NV8"],[[42612,42619],"valid"],[[42620,42621],"valid"],[[42622,42622],"valid",[],"NV8"],[[42623,42623],"valid"],[[42624,42624],"mapped",[42625]],[[42625,42625],"valid"],[[42626,42626],"mapped",[42627]],[[42627,42627],"valid"],[[42628,42628],"mapped",[42629]],[[42629,42629],"valid"],[[42630,42630],"mapped",[42631]],[[42631,42631],"valid"],[[42632,42632],"mapped",[42633]],[[42633,42633],"valid"],[[42634,42634],"mapped",[42635]],[[42635,42635],"valid"],[[42636,42636],"mapped",[42637]],[[42637,42637],"valid"],[[42638,42638],"mapped",[42639]],[[42639,42639],"valid"],[[42640,42640],"mapped",[42641]],[[42641,42641],"valid"],[[42642,42642],"mapped",[42643]],[[42643,42643],"valid"],[[42644,42644],"mapped",[42645]],[[42645,42645],"valid"],[[42646,42646],"mapped",[42647]],[[42647,42647],"valid"],[[42648,42648],"mapped",[42649]],[[42649,42649],"valid"],[[42650,42650],"mapped",[42651]],[[42651,42651],"valid"],[[42652,42652],"mapped",[1098]],[[42653,42653],"mapped",[1100]],[[42654,42654],"valid"],[[42655,42655],"valid"],[[42656,42725],"valid"],[[42726,42735],"valid",[],"NV8"],[[42736,42737],"valid"],[[42738,42743],"valid",[],"NV8"],[[42744,42751],"disallowed"],[[42752,42774],"valid",[],"NV8"],[[42775,42778],"valid"],[[42779,42783],"valid"],[[42784,42785],"valid",[],"NV8"],[[42786,42786],"mapped",[42787]],[[42787,42787],"valid"],[[42788,42788],"mapped",[42789]],[[42789,42789],"valid"],[[42790,42790],"mapped",[42791]],[[42791,42791],"valid"],[[42792,42792],"mapped",[42793]],[[42793,42793],"valid"],[[42794,42794],"mapped",[42795]],[[42795,42795],"valid"],[[42796,42796],"mapped",[42797]],[[42797,42797],"valid"],[[42798,42798],"mapped",[42799]],[[42799,42801],"valid"],[[42802,42802],"mapped",[42803]],[[42803,42803],"valid"],[[42804,42804],"mapped",[42805]],[[42805,42805],"valid"],[[42806,42806],"mapped",[42807]],[[42807,42807],"valid"],[[42808,42808],"mapped",[42809]],[[42809,42809],"valid"],[[42810,42810],"mapped",[42811]],[[42811,42811],"valid"],[[42812,42812],"mapped",[42813]],[[42813,42813],"valid"],[[42814,42814],"mapped",[42815]],[[42815,42815],"valid"],[[42816,42816],"mapped",[42817]],[[42817,42817],"valid"],[[42818,42818],"mapped",[42819]],[[42819,42819],"valid"],[[42820,42820],"mapped",[42821]],[[42821,42821],"valid"],[[42822,42822],"mapped",[42823]],[[42823,42823],"valid"],[[42824,42824],"mapped",[42825]],[[42825,42825],"valid"],[[42826,42826],"mapped",[42827]],[[42827,42827],"valid"],[[42828,42828],"mapped",[42829]],[[42829,42829],"valid"],[[42830,42830],"mapped",[42831]],[[42831,42831],"valid"],[[42832,42832],"mapped",[42833]],[[42833,42833],"valid"],[[42834,42834],"mapped",[42835]],[[42835,42835],"valid"],[[42836,42836],"mapped",[42837]],[[42837,42837],"valid"],[[42838,42838],"mapped",[42839]],[[42839,42839],"valid"],[[42840,42840],"mapped",[42841]],[[42841,42841],"valid"],[[42842,42842],"mapped",[42843]],[[42843,42843],"valid"],[[42844,42844],"mapped",[42845]],[[42845,42845],"valid"],[[42846,42846],"mapped",[42847]],[[42847,42847],"valid"],[[42848,42848],"mapped",[42849]],[[42849,42849],"valid"],[[42850,42850],"mapped",[42851]],[[42851,42851],"valid"],[[42852,42852],"mapped",[42853]],[[42853,42853],"valid"],[[42854,42854],"mapped",[42855]],[[42855,42855],"valid"],[[42856,42856],"mapped",[42857]],[[42857,42857],"valid"],[[42858,42858],"mapped",[42859]],[[42859,42859],"valid"],[[42860,42860],"mapped",[42861]],[[42861,42861],"valid"],[[42862,42862],"mapped",[42863]],[[42863,42863],"valid"],[[42864,42864],"mapped",[42863]],[[42865,42872],"valid"],[[42873,42873],"mapped",[42874]],[[42874,42874],"valid"],[[42875,42875],"mapped",[42876]],[[42876,42876],"valid"],[[42877,42877],"mapped",[7545]],[[42878,42878],"mapped",[42879]],[[42879,42879],"valid"],[[42880,42880],"mapped",[42881]],[[42881,42881],"valid"],[[42882,42882],"mapped",[42883]],[[42883,42883],"valid"],[[42884,42884],"mapped",[42885]],[[42885,42885],"valid"],[[42886,42886],"mapped",[42887]],[[42887,42888],"valid"],[[42889,42890],"valid",[],"NV8"],[[42891,42891],"mapped",[42892]],[[42892,42892],"valid"],[[42893,42893],"mapped",[613]],[[42894,42894],"valid"],[[42895,42895],"valid"],[[42896,42896],"mapped",[42897]],[[42897,42897],"valid"],[[42898,42898],"mapped",[42899]],[[42899,42899],"valid"],[[42900,42901],"valid"],[[42902,42902],"mapped",[42903]],[[42903,42903],"valid"],[[42904,42904],"mapped",[42905]],[[42905,42905],"valid"],[[42906,42906],"mapped",[42907]],[[42907,42907],"valid"],[[42908,42908],"mapped",[42909]],[[42909,42909],"valid"],[[42910,42910],"mapped",[42911]],[[42911,42911],"valid"],[[42912,42912],"mapped",[42913]],[[42913,42913],"valid"],[[42914,42914],"mapped",[42915]],[[42915,42915],"valid"],[[42916,42916],"mapped",[42917]],[[42917,42917],"valid"],[[42918,42918],"mapped",[42919]],[[42919,42919],"valid"],[[42920,42920],"mapped",[42921]],[[42921,42921],"valid"],[[42922,42922],"mapped",[614]],[[42923,42923],"mapped",[604]],[[42924,42924],"mapped",[609]],[[42925,42925],"mapped",[620]],[[42926,42927],"disallowed"],[[42928,42928],"mapped",[670]],[[42929,42929],"mapped",[647]],[[42930,42930],"mapped",[669]],[[42931,42931],"mapped",[43859]],[[42932,42932],"mapped",[42933]],[[42933,42933],"valid"],[[42934,42934],"mapped",[42935]],[[42935,42935],"valid"],[[42936,42998],"disallowed"],[[42999,42999],"valid"],[[43e3,43e3],"mapped",[295]],[[43001,43001],"mapped",[339]],[[43002,43002],"valid"],[[43003,43007],"valid"],[[43008,43047],"valid"],[[43048,43051],"valid",[],"NV8"],[[43052,43055],"disallowed"],[[43056,43065],"valid",[],"NV8"],[[43066,43071],"disallowed"],[[43072,43123],"valid"],[[43124,43127],"valid",[],"NV8"],[[43128,43135],"disallowed"],[[43136,43204],"valid"],[[43205,43213],"disallowed"],[[43214,43215],"valid",[],"NV8"],[[43216,43225],"valid"],[[43226,43231],"disallowed"],[[43232,43255],"valid"],[[43256,43258],"valid",[],"NV8"],[[43259,43259],"valid"],[[43260,43260],"valid",[],"NV8"],[[43261,43261],"valid"],[[43262,43263],"disallowed"],[[43264,43309],"valid"],[[43310,43311],"valid",[],"NV8"],[[43312,43347],"valid"],[[43348,43358],"disallowed"],[[43359,43359],"valid",[],"NV8"],[[43360,43388],"valid",[],"NV8"],[[43389,43391],"disallowed"],[[43392,43456],"valid"],[[43457,43469],"valid",[],"NV8"],[[43470,43470],"disallowed"],[[43471,43481],"valid"],[[43482,43485],"disallowed"],[[43486,43487],"valid",[],"NV8"],[[43488,43518],"valid"],[[43519,43519],"disallowed"],[[43520,43574],"valid"],[[43575,43583],"disallowed"],[[43584,43597],"valid"],[[43598,43599],"disallowed"],[[43600,43609],"valid"],[[43610,43611],"disallowed"],[[43612,43615],"valid",[],"NV8"],[[43616,43638],"valid"],[[43639,43641],"valid",[],"NV8"],[[43642,43643],"valid"],[[43644,43647],"valid"],[[43648,43714],"valid"],[[43715,43738],"disallowed"],[[43739,43741],"valid"],[[43742,43743],"valid",[],"NV8"],[[43744,43759],"valid"],[[43760,43761],"valid",[],"NV8"],[[43762,43766],"valid"],[[43767,43776],"disallowed"],[[43777,43782],"valid"],[[43783,43784],"disallowed"],[[43785,43790],"valid"],[[43791,43792],"disallowed"],[[43793,43798],"valid"],[[43799,43807],"disallowed"],[[43808,43814],"valid"],[[43815,43815],"disallowed"],[[43816,43822],"valid"],[[43823,43823],"disallowed"],[[43824,43866],"valid"],[[43867,43867],"valid",[],"NV8"],[[43868,43868],"mapped",[42791]],[[43869,43869],"mapped",[43831]],[[43870,43870],"mapped",[619]],[[43871,43871],"mapped",[43858]],[[43872,43875],"valid"],[[43876,43877],"valid"],[[43878,43887],"disallowed"],[[43888,43888],"mapped",[5024]],[[43889,43889],"mapped",[5025]],[[43890,43890],"mapped",[5026]],[[43891,43891],"mapped",[5027]],[[43892,43892],"mapped",[5028]],[[43893,43893],"mapped",[5029]],[[43894,43894],"mapped",[5030]],[[43895,43895],"mapped",[5031]],[[43896,43896],"mapped",[5032]],[[43897,43897],"mapped",[5033]],[[43898,43898],"mapped",[5034]],[[43899,43899],"mapped",[5035]],[[43900,43900],"mapped",[5036]],[[43901,43901],"mapped",[5037]],[[43902,43902],"mapped",[5038]],[[43903,43903],"mapped",[5039]],[[43904,43904],"mapped",[5040]],[[43905,43905],"mapped",[5041]],[[43906,43906],"mapped",[5042]],[[43907,43907],"mapped",[5043]],[[43908,43908],"mapped",[5044]],[[43909,43909],"mapped",[5045]],[[43910,43910],"mapped",[5046]],[[43911,43911],"mapped",[5047]],[[43912,43912],"mapped",[5048]],[[43913,43913],"mapped",[5049]],[[43914,43914],"mapped",[5050]],[[43915,43915],"mapped",[5051]],[[43916,43916],"mapped",[5052]],[[43917,43917],"mapped",[5053]],[[43918,43918],"mapped",[5054]],[[43919,43919],"mapped",[5055]],[[43920,43920],"mapped",[5056]],[[43921,43921],"mapped",[5057]],[[43922,43922],"mapped",[5058]],[[43923,43923],"mapped",[5059]],[[43924,43924],"mapped",[5060]],[[43925,43925],"mapped",[5061]],[[43926,43926],"mapped",[5062]],[[43927,43927],"mapped",[5063]],[[43928,43928],"mapped",[5064]],[[43929,43929],"mapped",[5065]],[[43930,43930],"mapped",[5066]],[[43931,43931],"mapped",[5067]],[[43932,43932],"mapped",[5068]],[[43933,43933],"mapped",[5069]],[[43934,43934],"mapped",[5070]],[[43935,43935],"mapped",[5071]],[[43936,43936],"mapped",[5072]],[[43937,43937],"mapped",[5073]],[[43938,43938],"mapped",[5074]],[[43939,43939],"mapped",[5075]],[[43940,43940],"mapped",[5076]],[[43941,43941],"mapped",[5077]],[[43942,43942],"mapped",[5078]],[[43943,43943],"mapped",[5079]],[[43944,43944],"mapped",[5080]],[[43945,43945],"mapped",[5081]],[[43946,43946],"mapped",[5082]],[[43947,43947],"mapped",[5083]],[[43948,43948],"mapped",[5084]],[[43949,43949],"mapped",[5085]],[[43950,43950],"mapped",[5086]],[[43951,43951],"mapped",[5087]],[[43952,43952],"mapped",[5088]],[[43953,43953],"mapped",[5089]],[[43954,43954],"mapped",[5090]],[[43955,43955],"mapped",[5091]],[[43956,43956],"mapped",[5092]],[[43957,43957],"mapped",[5093]],[[43958,43958],"mapped",[5094]],[[43959,43959],"mapped",[5095]],[[43960,43960],"mapped",[5096]],[[43961,43961],"mapped",[5097]],[[43962,43962],"mapped",[5098]],[[43963,43963],"mapped",[5099]],[[43964,43964],"mapped",[5100]],[[43965,43965],"mapped",[5101]],[[43966,43966],"mapped",[5102]],[[43967,43967],"mapped",[5103]],[[43968,44010],"valid"],[[44011,44011],"valid",[],"NV8"],[[44012,44013],"valid"],[[44014,44015],"disallowed"],[[44016,44025],"valid"],[[44026,44031],"disallowed"],[[44032,55203],"valid"],[[55204,55215],"disallowed"],[[55216,55238],"valid",[],"NV8"],[[55239,55242],"disallowed"],[[55243,55291],"valid",[],"NV8"],[[55292,55295],"disallowed"],[[55296,57343],"disallowed"],[[57344,63743],"disallowed"],[[63744,63744],"mapped",[35912]],[[63745,63745],"mapped",[26356]],[[63746,63746],"mapped",[36554]],[[63747,63747],"mapped",[36040]],[[63748,63748],"mapped",[28369]],[[63749,63749],"mapped",[20018]],[[63750,63750],"mapped",[21477]],[[63751,63752],"mapped",[40860]],[[63753,63753],"mapped",[22865]],[[63754,63754],"mapped",[37329]],[[63755,63755],"mapped",[21895]],[[63756,63756],"mapped",[22856]],[[63757,63757],"mapped",[25078]],[[63758,63758],"mapped",[30313]],[[63759,63759],"mapped",[32645]],[[63760,63760],"mapped",[34367]],[[63761,63761],"mapped",[34746]],[[63762,63762],"mapped",[35064]],[[63763,63763],"mapped",[37007]],[[63764,63764],"mapped",[27138]],[[63765,63765],"mapped",[27931]],[[63766,63766],"mapped",[28889]],[[63767,63767],"mapped",[29662]],[[63768,63768],"mapped",[33853]],[[63769,63769],"mapped",[37226]],[[63770,63770],"mapped",[39409]],[[63771,63771],"mapped",[20098]],[[63772,63772],"mapped",[21365]],[[63773,63773],"mapped",[27396]],[[63774,63774],"mapped",[29211]],[[63775,63775],"mapped",[34349]],[[63776,63776],"mapped",[40478]],[[63777,63777],"mapped",[23888]],[[63778,63778],"mapped",[28651]],[[63779,63779],"mapped",[34253]],[[63780,63780],"mapped",[35172]],[[63781,63781],"mapped",[25289]],[[63782,63782],"mapped",[33240]],[[63783,63783],"mapped",[34847]],[[63784,63784],"mapped",[24266]],[[63785,63785],"mapped",[26391]],[[63786,63786],"mapped",[28010]],[[63787,63787],"mapped",[29436]],[[63788,63788],"mapped",[37070]],[[63789,63789],"mapped",[20358]],[[63790,63790],"mapped",[20919]],[[63791,63791],"mapped",[21214]],[[63792,63792],"mapped",[25796]],[[63793,63793],"mapped",[27347]],[[63794,63794],"mapped",[29200]],[[63795,63795],"mapped",[30439]],[[63796,63796],"mapped",[32769]],[[63797,63797],"mapped",[34310]],[[63798,63798],"mapped",[34396]],[[63799,63799],"mapped",[36335]],[[63800,63800],"mapped",[38706]],[[63801,63801],"mapped",[39791]],[[63802,63802],"mapped",[40442]],[[63803,63803],"mapped",[30860]],[[63804,63804],"mapped",[31103]],[[63805,63805],"mapped",[32160]],[[63806,63806],"mapped",[33737]],[[63807,63807],"mapped",[37636]],[[63808,63808],"mapped",[40575]],[[63809,63809],"mapped",[35542]],[[63810,63810],"mapped",[22751]],[[63811,63811],"mapped",[24324]],[[63812,63812],"mapped",[31840]],[[63813,63813],"mapped",[32894]],[[63814,63814],"mapped",[29282]],[[63815,63815],"mapped",[30922]],[[63816,63816],"mapped",[36034]],[[63817,63817],"mapped",[38647]],[[63818,63818],"mapped",[22744]],[[63819,63819],"mapped",[23650]],[[63820,63820],"mapped",[27155]],[[63821,63821],"mapped",[28122]],[[63822,63822],"mapped",[28431]],[[63823,63823],"mapped",[32047]],[[63824,63824],"mapped",[32311]],[[63825,63825],"mapped",[38475]],[[63826,63826],"mapped",[21202]],[[63827,63827],"mapped",[32907]],[[63828,63828],"mapped",[20956]],[[63829,63829],"mapped",[20940]],[[63830,63830],"mapped",[31260]],[[63831,63831],"mapped",[32190]],[[63832,63832],"mapped",[33777]],[[63833,63833],"mapped",[38517]],[[63834,63834],"mapped",[35712]],[[63835,63835],"mapped",[25295]],[[63836,63836],"mapped",[27138]],[[63837,63837],"mapped",[35582]],[[63838,63838],"mapped",[20025]],[[63839,63839],"mapped",[23527]],[[63840,63840],"mapped",[24594]],[[63841,63841],"mapped",[29575]],[[63842,63842],"mapped",[30064]],[[63843,63843],"mapped",[21271]],[[63844,63844],"mapped",[30971]],[[63845,63845],"mapped",[20415]],[[63846,63846],"mapped",[24489]],[[63847,63847],"mapped",[19981]],[[63848,63848],"mapped",[27852]],[[63849,63849],"mapped",[25976]],[[63850,63850],"mapped",[32034]],[[63851,63851],"mapped",[21443]],[[63852,63852],"mapped",[22622]],[[63853,63853],"mapped",[30465]],[[63854,63854],"mapped",[33865]],[[63855,63855],"mapped",[35498]],[[63856,63856],"mapped",[27578]],[[63857,63857],"mapped",[36784]],[[63858,63858],"mapped",[27784]],[[63859,63859],"mapped",[25342]],[[63860,63860],"mapped",[33509]],[[63861,63861],"mapped",[25504]],[[63862,63862],"mapped",[30053]],[[63863,63863],"mapped",[20142]],[[63864,63864],"mapped",[20841]],[[63865,63865],"mapped",[20937]],[[63866,63866],"mapped",[26753]],[[63867,63867],"mapped",[31975]],[[63868,63868],"mapped",[33391]],[[63869,63869],"mapped",[35538]],[[63870,63870],"mapped",[37327]],[[63871,63871],"mapped",[21237]],[[63872,63872],"mapped",[21570]],[[63873,63873],"mapped",[22899]],[[63874,63874],"mapped",[24300]],[[63875,63875],"mapped",[26053]],[[63876,63876],"mapped",[28670]],[[63877,63877],"mapped",[31018]],[[63878,63878],"mapped",[38317]],[[63879,63879],"mapped",[39530]],[[63880,63880],"mapped",[40599]],[[63881,63881],"mapped",[40654]],[[63882,63882],"mapped",[21147]],[[63883,63883],"mapped",[26310]],[[63884,63884],"mapped",[27511]],[[63885,63885],"mapped",[36706]],[[63886,63886],"mapped",[24180]],[[63887,63887],"mapped",[24976]],[[63888,63888],"mapped",[25088]],[[63889,63889],"mapped",[25754]],[[63890,63890],"mapped",[28451]],[[63891,63891],"mapped",[29001]],[[63892,63892],"mapped",[29833]],[[63893,63893],"mapped",[31178]],[[63894,63894],"mapped",[32244]],[[63895,63895],"mapped",[32879]],[[63896,63896],"mapped",[36646]],[[63897,63897],"mapped",[34030]],[[63898,63898],"mapped",[36899]],[[63899,63899],"mapped",[37706]],[[63900,63900],"mapped",[21015]],[[63901,63901],"mapped",[21155]],[[63902,63902],"mapped",[21693]],[[63903,63903],"mapped",[28872]],[[63904,63904],"mapped",[35010]],[[63905,63905],"mapped",[35498]],[[63906,63906],"mapped",[24265]],[[63907,63907],"mapped",[24565]],[[63908,63908],"mapped",[25467]],[[63909,63909],"mapped",[27566]],[[63910,63910],"mapped",[31806]],[[63911,63911],"mapped",[29557]],[[63912,63912],"mapped",[20196]],[[63913,63913],"mapped",[22265]],[[63914,63914],"mapped",[23527]],[[63915,63915],"mapped",[23994]],[[63916,63916],"mapped",[24604]],[[63917,63917],"mapped",[29618]],[[63918,63918],"mapped",[29801]],[[63919,63919],"mapped",[32666]],[[63920,63920],"mapped",[32838]],[[63921,63921],"mapped",[37428]],[[63922,63922],"mapped",[38646]],[[63923,63923],"mapped",[38728]],[[63924,63924],"mapped",[38936]],[[63925,63925],"mapped",[20363]],[[63926,63926],"mapped",[31150]],[[63927,63927],"mapped",[37300]],[[63928,63928],"mapped",[38584]],[[63929,63929],"mapped",[24801]],[[63930,63930],"mapped",[20102]],[[63931,63931],"mapped",[20698]],[[63932,63932],"mapped",[23534]],[[63933,63933],"mapped",[23615]],[[63934,63934],"mapped",[26009]],[[63935,63935],"mapped",[27138]],[[63936,63936],"mapped",[29134]],[[63937,63937],"mapped",[30274]],[[63938,63938],"mapped",[34044]],[[63939,63939],"mapped",[36988]],[[63940,63940],"mapped",[40845]],[[63941,63941],"mapped",[26248]],[[63942,63942],"mapped",[38446]],[[63943,63943],"mapped",[21129]],[[63944,63944],"mapped",[26491]],[[63945,63945],"mapped",[26611]],[[63946,63946],"mapped",[27969]],[[63947,63947],"mapped",[28316]],[[63948,63948],"mapped",[29705]],[[63949,63949],"mapped",[30041]],[[63950,63950],"mapped",[30827]],[[63951,63951],"mapped",[32016]],[[63952,63952],"mapped",[39006]],[[63953,63953],"mapped",[20845]],[[63954,63954],"mapped",[25134]],[[63955,63955],"mapped",[38520]],[[63956,63956],"mapped",[20523]],[[63957,63957],"mapped",[23833]],[[63958,63958],"mapped",[28138]],[[63959,63959],"mapped",[36650]],[[63960,63960],"mapped",[24459]],[[63961,63961],"mapped",[24900]],[[63962,63962],"mapped",[26647]],[[63963,63963],"mapped",[29575]],[[63964,63964],"mapped",[38534]],[[63965,63965],"mapped",[21033]],[[63966,63966],"mapped",[21519]],[[63967,63967],"mapped",[23653]],[[63968,63968],"mapped",[26131]],[[63969,63969],"mapped",[26446]],[[63970,63970],"mapped",[26792]],[[63971,63971],"mapped",[27877]],[[63972,63972],"mapped",[29702]],[[63973,63973],"mapped",[30178]],[[63974,63974],"mapped",[32633]],[[63975,63975],"mapped",[35023]],[[63976,63976],"mapped",[35041]],[[63977,63977],"mapped",[37324]],[[63978,63978],"mapped",[38626]],[[63979,63979],"mapped",[21311]],[[63980,63980],"mapped",[28346]],[[63981,63981],"mapped",[21533]],[[63982,63982],"mapped",[29136]],[[63983,63983],"mapped",[29848]],[[63984,63984],"mapped",[34298]],[[63985,63985],"mapped",[38563]],[[63986,63986],"mapped",[40023]],[[63987,63987],"mapped",[40607]],[[63988,63988],"mapped",[26519]],[[63989,63989],"mapped",[28107]],[[63990,63990],"mapped",[33256]],[[63991,63991],"mapped",[31435]],[[63992,63992],"mapped",[31520]],[[63993,63993],"mapped",[31890]],[[63994,63994],"mapped",[29376]],[[63995,63995],"mapped",[28825]],[[63996,63996],"mapped",[35672]],[[63997,63997],"mapped",[20160]],[[63998,63998],"mapped",[33590]],[[63999,63999],"mapped",[21050]],[[64e3,64e3],"mapped",[20999]],[[64001,64001],"mapped",[24230]],[[64002,64002],"mapped",[25299]],[[64003,64003],"mapped",[31958]],[[64004,64004],"mapped",[23429]],[[64005,64005],"mapped",[27934]],[[64006,64006],"mapped",[26292]],[[64007,64007],"mapped",[36667]],[[64008,64008],"mapped",[34892]],[[64009,64009],"mapped",[38477]],[[64010,64010],"mapped",[35211]],[[64011,64011],"mapped",[24275]],[[64012,64012],"mapped",[20800]],[[64013,64013],"mapped",[21952]],[[64014,64015],"valid"],[[64016,64016],"mapped",[22618]],[[64017,64017],"valid"],[[64018,64018],"mapped",[26228]],[[64019,64020],"valid"],[[64021,64021],"mapped",[20958]],[[64022,64022],"mapped",[29482]],[[64023,64023],"mapped",[30410]],[[64024,64024],"mapped",[31036]],[[64025,64025],"mapped",[31070]],[[64026,64026],"mapped",[31077]],[[64027,64027],"mapped",[31119]],[[64028,64028],"mapped",[38742]],[[64029,64029],"mapped",[31934]],[[64030,64030],"mapped",[32701]],[[64031,64031],"valid"],[[64032,64032],"mapped",[34322]],[[64033,64033],"valid"],[[64034,64034],"mapped",[35576]],[[64035,64036],"valid"],[[64037,64037],"mapped",[36920]],[[64038,64038],"mapped",[37117]],[[64039,64041],"valid"],[[64042,64042],"mapped",[39151]],[[64043,64043],"mapped",[39164]],[[64044,64044],"mapped",[39208]],[[64045,64045],"mapped",[40372]],[[64046,64046],"mapped",[37086]],[[64047,64047],"mapped",[38583]],[[64048,64048],"mapped",[20398]],[[64049,64049],"mapped",[20711]],[[64050,64050],"mapped",[20813]],[[64051,64051],"mapped",[21193]],[[64052,64052],"mapped",[21220]],[[64053,64053],"mapped",[21329]],[[64054,64054],"mapped",[21917]],[[64055,64055],"mapped",[22022]],[[64056,64056],"mapped",[22120]],[[64057,64057],"mapped",[22592]],[[64058,64058],"mapped",[22696]],[[64059,64059],"mapped",[23652]],[[64060,64060],"mapped",[23662]],[[64061,64061],"mapped",[24724]],[[64062,64062],"mapped",[24936]],[[64063,64063],"mapped",[24974]],[[64064,64064],"mapped",[25074]],[[64065,64065],"mapped",[25935]],[[64066,64066],"mapped",[26082]],[[64067,64067],"mapped",[26257]],[[64068,64068],"mapped",[26757]],[[64069,64069],"mapped",[28023]],[[64070,64070],"mapped",[28186]],[[64071,64071],"mapped",[28450]],[[64072,64072],"mapped",[29038]],[[64073,64073],"mapped",[29227]],[[64074,64074],"mapped",[29730]],[[64075,64075],"mapped",[30865]],[[64076,64076],"mapped",[31038]],[[64077,64077],"mapped",[31049]],[[64078,64078],"mapped",[31048]],[[64079,64079],"mapped",[31056]],[[64080,64080],"mapped",[31062]],[[64081,64081],"mapped",[31069]],[[64082,64082],"mapped",[31117]],[[64083,64083],"mapped",[31118]],[[64084,64084],"mapped",[31296]],[[64085,64085],"mapped",[31361]],[[64086,64086],"mapped",[31680]],[[64087,64087],"mapped",[32244]],[[64088,64088],"mapped",[32265]],[[64089,64089],"mapped",[32321]],[[64090,64090],"mapped",[32626]],[[64091,64091],"mapped",[32773]],[[64092,64092],"mapped",[33261]],[[64093,64094],"mapped",[33401]],[[64095,64095],"mapped",[33879]],[[64096,64096],"mapped",[35088]],[[64097,64097],"mapped",[35222]],[[64098,64098],"mapped",[35585]],[[64099,64099],"mapped",[35641]],[[64100,64100],"mapped",[36051]],[[64101,64101],"mapped",[36104]],[[64102,64102],"mapped",[36790]],[[64103,64103],"mapped",[36920]],[[64104,64104],"mapped",[38627]],[[64105,64105],"mapped",[38911]],[[64106,64106],"mapped",[38971]],[[64107,64107],"mapped",[24693]],[[64108,64108],"mapped",[148206]],[[64109,64109],"mapped",[33304]],[[64110,64111],"disallowed"],[[64112,64112],"mapped",[20006]],[[64113,64113],"mapped",[20917]],[[64114,64114],"mapped",[20840]],[[64115,64115],"mapped",[20352]],[[64116,64116],"mapped",[20805]],[[64117,64117],"mapped",[20864]],[[64118,64118],"mapped",[21191]],[[64119,64119],"mapped",[21242]],[[64120,64120],"mapped",[21917]],[[64121,64121],"mapped",[21845]],[[64122,64122],"mapped",[21913]],[[64123,64123],"mapped",[21986]],[[64124,64124],"mapped",[22618]],[[64125,64125],"mapped",[22707]],[[64126,64126],"mapped",[22852]],[[64127,64127],"mapped",[22868]],[[64128,64128],"mapped",[23138]],[[64129,64129],"mapped",[23336]],[[64130,64130],"mapped",[24274]],[[64131,64131],"mapped",[24281]],[[64132,64132],"mapped",[24425]],[[64133,64133],"mapped",[24493]],[[64134,64134],"mapped",[24792]],[[64135,64135],"mapped",[24910]],[[64136,64136],"mapped",[24840]],[[64137,64137],"mapped",[24974]],[[64138,64138],"mapped",[24928]],[[64139,64139],"mapped",[25074]],[[64140,64140],"mapped",[25140]],[[64141,64141],"mapped",[25540]],[[64142,64142],"mapped",[25628]],[[64143,64143],"mapped",[25682]],[[64144,64144],"mapped",[25942]],[[64145,64145],"mapped",[26228]],[[64146,64146],"mapped",[26391]],[[64147,64147],"mapped",[26395]],[[64148,64148],"mapped",[26454]],[[64149,64149],"mapped",[27513]],[[64150,64150],"mapped",[27578]],[[64151,64151],"mapped",[27969]],[[64152,64152],"mapped",[28379]],[[64153,64153],"mapped",[28363]],[[64154,64154],"mapped",[28450]],[[64155,64155],"mapped",[28702]],[[64156,64156],"mapped",[29038]],[[64157,64157],"mapped",[30631]],[[64158,64158],"mapped",[29237]],[[64159,64159],"mapped",[29359]],[[64160,64160],"mapped",[29482]],[[64161,64161],"mapped",[29809]],[[64162,64162],"mapped",[29958]],[[64163,64163],"mapped",[30011]],[[64164,64164],"mapped",[30237]],[[64165,64165],"mapped",[30239]],[[64166,64166],"mapped",[30410]],[[64167,64167],"mapped",[30427]],[[64168,64168],"mapped",[30452]],[[64169,64169],"mapped",[30538]],[[64170,64170],"mapped",[30528]],[[64171,64171],"mapped",[30924]],[[64172,64172],"mapped",[31409]],[[64173,64173],"mapped",[31680]],[[64174,64174],"mapped",[31867]],[[64175,64175],"mapped",[32091]],[[64176,64176],"mapped",[32244]],[[64177,64177],"mapped",[32574]],[[64178,64178],"mapped",[32773]],[[64179,64179],"mapped",[33618]],[[64180,64180],"mapped",[33775]],[[64181,64181],"mapped",[34681]],[[64182,64182],"mapped",[35137]],[[64183,64183],"mapped",[35206]],[[64184,64184],"mapped",[35222]],[[64185,64185],"mapped",[35519]],[[64186,64186],"mapped",[35576]],[[64187,64187],"mapped",[35531]],[[64188,64188],"mapped",[35585]],[[64189,64189],"mapped",[35582]],[[64190,64190],"mapped",[35565]],[[64191,64191],"mapped",[35641]],[[64192,64192],"mapped",[35722]],[[64193,64193],"mapped",[36104]],[[64194,64194],"mapped",[36664]],[[64195,64195],"mapped",[36978]],[[64196,64196],"mapped",[37273]],[[64197,64197],"mapped",[37494]],[[64198,64198],"mapped",[38524]],[[64199,64199],"mapped",[38627]],[[64200,64200],"mapped",[38742]],[[64201,64201],"mapped",[38875]],[[64202,64202],"mapped",[38911]],[[64203,64203],"mapped",[38923]],[[64204,64204],"mapped",[38971]],[[64205,64205],"mapped",[39698]],[[64206,64206],"mapped",[40860]],[[64207,64207],"mapped",[141386]],[[64208,64208],"mapped",[141380]],[[64209,64209],"mapped",[144341]],[[64210,64210],"mapped",[15261]],[[64211,64211],"mapped",[16408]],[[64212,64212],"mapped",[16441]],[[64213,64213],"mapped",[152137]],[[64214,64214],"mapped",[154832]],[[64215,64215],"mapped",[163539]],[[64216,64216],"mapped",[40771]],[[64217,64217],"mapped",[40846]],[[64218,64255],"disallowed"],[[64256,64256],"mapped",[102,102]],[[64257,64257],"mapped",[102,105]],[[64258,64258],"mapped",[102,108]],[[64259,64259],"mapped",[102,102,105]],[[64260,64260],"mapped",[102,102,108]],[[64261,64262],"mapped",[115,116]],[[64263,64274],"disallowed"],[[64275,64275],"mapped",[1396,1398]],[[64276,64276],"mapped",[1396,1381]],[[64277,64277],"mapped",[1396,1387]],[[64278,64278],"mapped",[1406,1398]],[[64279,64279],"mapped",[1396,1389]],[[64280,64284],"disallowed"],[[64285,64285],"mapped",[1497,1460]],[[64286,64286],"valid"],[[64287,64287],"mapped",[1522,1463]],[[64288,64288],"mapped",[1506]],[[64289,64289],"mapped",[1488]],[[64290,64290],"mapped",[1491]],[[64291,64291],"mapped",[1492]],[[64292,64292],"mapped",[1499]],[[64293,64293],"mapped",[1500]],[[64294,64294],"mapped",[1501]],[[64295,64295],"mapped",[1512]],[[64296,64296],"mapped",[1514]],[[64297,64297],"disallowed_STD3_mapped",[43]],[[64298,64298],"mapped",[1513,1473]],[[64299,64299],"mapped",[1513,1474]],[[64300,64300],"mapped",[1513,1468,1473]],[[64301,64301],"mapped",[1513,1468,1474]],[[64302,64302],"mapped",[1488,1463]],[[64303,64303],"mapped",[1488,1464]],[[64304,64304],"mapped",[1488,1468]],[[64305,64305],"mapped",[1489,1468]],[[64306,64306],"mapped",[1490,1468]],[[64307,64307],"mapped",[1491,1468]],[[64308,64308],"mapped",[1492,1468]],[[64309,64309],"mapped",[1493,1468]],[[64310,64310],"mapped",[1494,1468]],[[64311,64311],"disallowed"],[[64312,64312],"mapped",[1496,1468]],[[64313,64313],"mapped",[1497,1468]],[[64314,64314],"mapped",[1498,1468]],[[64315,64315],"mapped",[1499,1468]],[[64316,64316],"mapped",[1500,1468]],[[64317,64317],"disallowed"],[[64318,64318],"mapped",[1502,1468]],[[64319,64319],"disallowed"],[[64320,64320],"mapped",[1504,1468]],[[64321,64321],"mapped",[1505,1468]],[[64322,64322],"disallowed"],[[64323,64323],"mapped",[1507,1468]],[[64324,64324],"mapped",[1508,1468]],[[64325,64325],"disallowed"],[[64326,64326],"mapped",[1510,1468]],[[64327,64327],"mapped",[1511,1468]],[[64328,64328],"mapped",[1512,1468]],[[64329,64329],"mapped",[1513,1468]],[[64330,64330],"mapped",[1514,1468]],[[64331,64331],"mapped",[1493,1465]],[[64332,64332],"mapped",[1489,1471]],[[64333,64333],"mapped",[1499,1471]],[[64334,64334],"mapped",[1508,1471]],[[64335,64335],"mapped",[1488,1500]],[[64336,64337],"mapped",[1649]],[[64338,64341],"mapped",[1659]],[[64342,64345],"mapped",[1662]],[[64346,64349],"mapped",[1664]],[[64350,64353],"mapped",[1658]],[[64354,64357],"mapped",[1663]],[[64358,64361],"mapped",[1657]],[[64362,64365],"mapped",[1700]],[[64366,64369],"mapped",[1702]],[[64370,64373],"mapped",[1668]],[[64374,64377],"mapped",[1667]],[[64378,64381],"mapped",[1670]],[[64382,64385],"mapped",[1671]],[[64386,64387],"mapped",[1677]],[[64388,64389],"mapped",[1676]],[[64390,64391],"mapped",[1678]],[[64392,64393],"mapped",[1672]],[[64394,64395],"mapped",[1688]],[[64396,64397],"mapped",[1681]],[[64398,64401],"mapped",[1705]],[[64402,64405],"mapped",[1711]],[[64406,64409],"mapped",[1715]],[[64410,64413],"mapped",[1713]],[[64414,64415],"mapped",[1722]],[[64416,64419],"mapped",[1723]],[[64420,64421],"mapped",[1728]],[[64422,64425],"mapped",[1729]],[[64426,64429],"mapped",[1726]],[[64430,64431],"mapped",[1746]],[[64432,64433],"mapped",[1747]],[[64434,64449],"valid",[],"NV8"],[[64450,64466],"disallowed"],[[64467,64470],"mapped",[1709]],[[64471,64472],"mapped",[1735]],[[64473,64474],"mapped",[1734]],[[64475,64476],"mapped",[1736]],[[64477,64477],"mapped",[1735,1652]],[[64478,64479],"mapped",[1739]],[[64480,64481],"mapped",[1733]],[[64482,64483],"mapped",[1737]],[[64484,64487],"mapped",[1744]],[[64488,64489],"mapped",[1609]],[[64490,64491],"mapped",[1574,1575]],[[64492,64493],"mapped",[1574,1749]],[[64494,64495],"mapped",[1574,1608]],[[64496,64497],"mapped",[1574,1735]],[[64498,64499],"mapped",[1574,1734]],[[64500,64501],"mapped",[1574,1736]],[[64502,64504],"mapped",[1574,1744]],[[64505,64507],"mapped",[1574,1609]],[[64508,64511],"mapped",[1740]],[[64512,64512],"mapped",[1574,1580]],[[64513,64513],"mapped",[1574,1581]],[[64514,64514],"mapped",[1574,1605]],[[64515,64515],"mapped",[1574,1609]],[[64516,64516],"mapped",[1574,1610]],[[64517,64517],"mapped",[1576,1580]],[[64518,64518],"mapped",[1576,1581]],[[64519,64519],"mapped",[1576,1582]],[[64520,64520],"mapped",[1576,1605]],[[64521,64521],"mapped",[1576,1609]],[[64522,64522],"mapped",[1576,1610]],[[64523,64523],"mapped",[1578,1580]],[[64524,64524],"mapped",[1578,1581]],[[64525,64525],"mapped",[1578,1582]],[[64526,64526],"mapped",[1578,1605]],[[64527,64527],"mapped",[1578,1609]],[[64528,64528],"mapped",[1578,1610]],[[64529,64529],"mapped",[1579,1580]],[[64530,64530],"mapped",[1579,1605]],[[64531,64531],"mapped",[1579,1609]],[[64532,64532],"mapped",[1579,1610]],[[64533,64533],"mapped",[1580,1581]],[[64534,64534],"mapped",[1580,1605]],[[64535,64535],"mapped",[1581,1580]],[[64536,64536],"mapped",[1581,1605]],[[64537,64537],"mapped",[1582,1580]],[[64538,64538],"mapped",[1582,1581]],[[64539,64539],"mapped",[1582,1605]],[[64540,64540],"mapped",[1587,1580]],[[64541,64541],"mapped",[1587,1581]],[[64542,64542],"mapped",[1587,1582]],[[64543,64543],"mapped",[1587,1605]],[[64544,64544],"mapped",[1589,1581]],[[64545,64545],"mapped",[1589,1605]],[[64546,64546],"mapped",[1590,1580]],[[64547,64547],"mapped",[1590,1581]],[[64548,64548],"mapped",[1590,1582]],[[64549,64549],"mapped",[1590,1605]],[[64550,64550],"mapped",[1591,1581]],[[64551,64551],"mapped",[1591,1605]],[[64552,64552],"mapped",[1592,1605]],[[64553,64553],"mapped",[1593,1580]],[[64554,64554],"mapped",[1593,1605]],[[64555,64555],"mapped",[1594,1580]],[[64556,64556],"mapped",[1594,1605]],[[64557,64557],"mapped",[1601,1580]],[[64558,64558],"mapped",[1601,1581]],[[64559,64559],"mapped",[1601,1582]],[[64560,64560],"mapped",[1601,1605]],[[64561,64561],"mapped",[1601,1609]],[[64562,64562],"mapped",[1601,1610]],[[64563,64563],"mapped",[1602,1581]],[[64564,64564],"mapped",[1602,1605]],[[64565,64565],"mapped",[1602,1609]],[[64566,64566],"mapped",[1602,1610]],[[64567,64567],"mapped",[1603,1575]],[[64568,64568],"mapped",[1603,1580]],[[64569,64569],"mapped",[1603,1581]],[[64570,64570],"mapped",[1603,1582]],[[64571,64571],"mapped",[1603,1604]],[[64572,64572],"mapped",[1603,1605]],[[64573,64573],"mapped",[1603,1609]],[[64574,64574],"mapped",[1603,1610]],[[64575,64575],"mapped",[1604,1580]],[[64576,64576],"mapped",[1604,1581]],[[64577,64577],"mapped",[1604,1582]],[[64578,64578],"mapped",[1604,1605]],[[64579,64579],"mapped",[1604,1609]],[[64580,64580],"mapped",[1604,1610]],[[64581,64581],"mapped",[1605,1580]],[[64582,64582],"mapped",[1605,1581]],[[64583,64583],"mapped",[1605,1582]],[[64584,64584],"mapped",[1605,1605]],[[64585,64585],"mapped",[1605,1609]],[[64586,64586],"mapped",[1605,1610]],[[64587,64587],"mapped",[1606,1580]],[[64588,64588],"mapped",[1606,1581]],[[64589,64589],"mapped",[1606,1582]],[[64590,64590],"mapped",[1606,1605]],[[64591,64591],"mapped",[1606,1609]],[[64592,64592],"mapped",[1606,1610]],[[64593,64593],"mapped",[1607,1580]],[[64594,64594],"mapped",[1607,1605]],[[64595,64595],"mapped",[1607,1609]],[[64596,64596],"mapped",[1607,1610]],[[64597,64597],"mapped",[1610,1580]],[[64598,64598],"mapped",[1610,1581]],[[64599,64599],"mapped",[1610,1582]],[[64600,64600],"mapped",[1610,1605]],[[64601,64601],"mapped",[1610,1609]],[[64602,64602],"mapped",[1610,1610]],[[64603,64603],"mapped",[1584,1648]],[[64604,64604],"mapped",[1585,1648]],[[64605,64605],"mapped",[1609,1648]],[[64606,64606],"disallowed_STD3_mapped",[32,1612,1617]],[[64607,64607],"disallowed_STD3_mapped",[32,1613,1617]],[[64608,64608],"disallowed_STD3_mapped",[32,1614,1617]],[[64609,64609],"disallowed_STD3_mapped",[32,1615,1617]],[[64610,64610],"disallowed_STD3_mapped",[32,1616,1617]],[[64611,64611],"disallowed_STD3_mapped",[32,1617,1648]],[[64612,64612],"mapped",[1574,1585]],[[64613,64613],"mapped",[1574,1586]],[[64614,64614],"mapped",[1574,1605]],[[64615,64615],"mapped",[1574,1606]],[[64616,64616],"mapped",[1574,1609]],[[64617,64617],"mapped",[1574,1610]],[[64618,64618],"mapped",[1576,1585]],[[64619,64619],"mapped",[1576,1586]],[[64620,64620],"mapped",[1576,1605]],[[64621,64621],"mapped",[1576,1606]],[[64622,64622],"mapped",[1576,1609]],[[64623,64623],"mapped",[1576,1610]],[[64624,64624],"mapped",[1578,1585]],[[64625,64625],"mapped",[1578,1586]],[[64626,64626],"mapped",[1578,1605]],[[64627,64627],"mapped",[1578,1606]],[[64628,64628],"mapped",[1578,1609]],[[64629,64629],"mapped",[1578,1610]],[[64630,64630],"mapped",[1579,1585]],[[64631,64631],"mapped",[1579,1586]],[[64632,64632],"mapped",[1579,1605]],[[64633,64633],"mapped",[1579,1606]],[[64634,64634],"mapped",[1579,1609]],[[64635,64635],"mapped",[1579,1610]],[[64636,64636],"mapped",[1601,1609]],[[64637,64637],"mapped",[1601,1610]],[[64638,64638],"mapped",[1602,1609]],[[64639,64639],"mapped",[1602,1610]],[[64640,64640],"mapped",[1603,1575]],[[64641,64641],"mapped",[1603,1604]],[[64642,64642],"mapped",[1603,1605]],[[64643,64643],"mapped",[1603,1609]],[[64644,64644],"mapped",[1603,1610]],[[64645,64645],"mapped",[1604,1605]],[[64646,64646],"mapped",[1604,1609]],[[64647,64647],"mapped",[1604,1610]],[[64648,64648],"mapped",[1605,1575]],[[64649,64649],"mapped",[1605,1605]],[[64650,64650],"mapped",[1606,1585]],[[64651,64651],"mapped",[1606,1586]],[[64652,64652],"mapped",[1606,1605]],[[64653,64653],"mapped",[1606,1606]],[[64654,64654],"mapped",[1606,1609]],[[64655,64655],"mapped",[1606,1610]],[[64656,64656],"mapped",[1609,1648]],[[64657,64657],"mapped",[1610,1585]],[[64658,64658],"mapped",[1610,1586]],[[64659,64659],"mapped",[1610,1605]],[[64660,64660],"mapped",[1610,1606]],[[64661,64661],"mapped",[1610,1609]],[[64662,64662],"mapped",[1610,1610]],[[64663,64663],"mapped",[1574,1580]],[[64664,64664],"mapped",[1574,1581]],[[64665,64665],"mapped",[1574,1582]],[[64666,64666],"mapped",[1574,1605]],[[64667,64667],"mapped",[1574,1607]],[[64668,64668],"mapped",[1576,1580]],[[64669,64669],"mapped",[1576,1581]],[[64670,64670],"mapped",[1576,1582]],[[64671,64671],"mapped",[1576,1605]],[[64672,64672],"mapped",[1576,1607]],[[64673,64673],"mapped",[1578,1580]],[[64674,64674],"mapped",[1578,1581]],[[64675,64675],"mapped",[1578,1582]],[[64676,64676],"mapped",[1578,1605]],[[64677,64677],"mapped",[1578,1607]],[[64678,64678],"mapped",[1579,1605]],[[64679,64679],"mapped",[1580,1581]],[[64680,64680],"mapped",[1580,1605]],[[64681,64681],"mapped",[1581,1580]],[[64682,64682],"mapped",[1581,1605]],[[64683,64683],"mapped",[1582,1580]],[[64684,64684],"mapped",[1582,1605]],[[64685,64685],"mapped",[1587,1580]],[[64686,64686],"mapped",[1587,1581]],[[64687,64687],"mapped",[1587,1582]],[[64688,64688],"mapped",[1587,1605]],[[64689,64689],"mapped",[1589,1581]],[[64690,64690],"mapped",[1589,1582]],[[64691,64691],"mapped",[1589,1605]],[[64692,64692],"mapped",[1590,1580]],[[64693,64693],"mapped",[1590,1581]],[[64694,64694],"mapped",[1590,1582]],[[64695,64695],"mapped",[1590,1605]],[[64696,64696],"mapped",[1591,1581]],[[64697,64697],"mapped",[1592,1605]],[[64698,64698],"mapped",[1593,1580]],[[64699,64699],"mapped",[1593,1605]],[[64700,64700],"mapped",[1594,1580]],[[64701,64701],"mapped",[1594,1605]],[[64702,64702],"mapped",[1601,1580]],[[64703,64703],"mapped",[1601,1581]],[[64704,64704],"mapped",[1601,1582]],[[64705,64705],"mapped",[1601,1605]],[[64706,64706],"mapped",[1602,1581]],[[64707,64707],"mapped",[1602,1605]],[[64708,64708],"mapped",[1603,1580]],[[64709,64709],"mapped",[1603,1581]],[[64710,64710],"mapped",[1603,1582]],[[64711,64711],"mapped",[1603,1604]],[[64712,64712],"mapped",[1603,1605]],[[64713,64713],"mapped",[1604,1580]],[[64714,64714],"mapped",[1604,1581]],[[64715,64715],"mapped",[1604,1582]],[[64716,64716],"mapped",[1604,1605]],[[64717,64717],"mapped",[1604,1607]],[[64718,64718],"mapped",[1605,1580]],[[64719,64719],"mapped",[1605,1581]],[[64720,64720],"mapped",[1605,1582]],[[64721,64721],"mapped",[1605,1605]],[[64722,64722],"mapped",[1606,1580]],[[64723,64723],"mapped",[1606,1581]],[[64724,64724],"mapped",[1606,1582]],[[64725,64725],"mapped",[1606,1605]],[[64726,64726],"mapped",[1606,1607]],[[64727,64727],"mapped",[1607,1580]],[[64728,64728],"mapped",[1607,1605]],[[64729,64729],"mapped",[1607,1648]],[[64730,64730],"mapped",[1610,1580]],[[64731,64731],"mapped",[1610,1581]],[[64732,64732],"mapped",[1610,1582]],[[64733,64733],"mapped",[1610,1605]],[[64734,64734],"mapped",[1610,1607]],[[64735,64735],"mapped",[1574,1605]],[[64736,64736],"mapped",[1574,1607]],[[64737,64737],"mapped",[1576,1605]],[[64738,64738],"mapped",[1576,1607]],[[64739,64739],"mapped",[1578,1605]],[[64740,64740],"mapped",[1578,1607]],[[64741,64741],"mapped",[1579,1605]],[[64742,64742],"mapped",[1579,1607]],[[64743,64743],"mapped",[1587,1605]],[[64744,64744],"mapped",[1587,1607]],[[64745,64745],"mapped",[1588,1605]],[[64746,64746],"mapped",[1588,1607]],[[64747,64747],"mapped",[1603,1604]],[[64748,64748],"mapped",[1603,1605]],[[64749,64749],"mapped",[1604,1605]],[[64750,64750],"mapped",[1606,1605]],[[64751,64751],"mapped",[1606,1607]],[[64752,64752],"mapped",[1610,1605]],[[64753,64753],"mapped",[1610,1607]],[[64754,64754],"mapped",[1600,1614,1617]],[[64755,64755],"mapped",[1600,1615,1617]],[[64756,64756],"mapped",[1600,1616,1617]],[[64757,64757],"mapped",[1591,1609]],[[64758,64758],"mapped",[1591,1610]],[[64759,64759],"mapped",[1593,1609]],[[64760,64760],"mapped",[1593,1610]],[[64761,64761],"mapped",[1594,1609]],[[64762,64762],"mapped",[1594,1610]],[[64763,64763],"mapped",[1587,1609]],[[64764,64764],"mapped",[1587,1610]],[[64765,64765],"mapped",[1588,1609]],[[64766,64766],"mapped",[1588,1610]],[[64767,64767],"mapped",[1581,1609]],[[64768,64768],"mapped",[1581,1610]],[[64769,64769],"mapped",[1580,1609]],[[64770,64770],"mapped",[1580,1610]],[[64771,64771],"mapped",[1582,1609]],[[64772,64772],"mapped",[1582,1610]],[[64773,64773],"mapped",[1589,1609]],[[64774,64774],"mapped",[1589,1610]],[[64775,64775],"mapped",[1590,1609]],[[64776,64776],"mapped",[1590,1610]],[[64777,64777],"mapped",[1588,1580]],[[64778,64778],"mapped",[1588,1581]],[[64779,64779],"mapped",[1588,1582]],[[64780,64780],"mapped",[1588,1605]],[[64781,64781],"mapped",[1588,1585]],[[64782,64782],"mapped",[1587,1585]],[[64783,64783],"mapped",[1589,1585]],[[64784,64784],"mapped",[1590,1585]],[[64785,64785],"mapped",[1591,1609]],[[64786,64786],"mapped",[1591,1610]],[[64787,64787],"mapped",[1593,1609]],[[64788,64788],"mapped",[1593,1610]],[[64789,64789],"mapped",[1594,1609]],[[64790,64790],"mapped",[1594,1610]],[[64791,64791],"mapped",[1587,1609]],[[64792,64792],"mapped",[1587,1610]],[[64793,64793],"mapped",[1588,1609]],[[64794,64794],"mapped",[1588,1610]],[[64795,64795],"mapped",[1581,1609]],[[64796,64796],"mapped",[1581,1610]],[[64797,64797],"mapped",[1580,1609]],[[64798,64798],"mapped",[1580,1610]],[[64799,64799],"mapped",[1582,1609]],[[64800,64800],"mapped",[1582,1610]],[[64801,64801],"mapped",[1589,1609]],[[64802,64802],"mapped",[1589,1610]],[[64803,64803],"mapped",[1590,1609]],[[64804,64804],"mapped",[1590,1610]],[[64805,64805],"mapped",[1588,1580]],[[64806,64806],"mapped",[1588,1581]],[[64807,64807],"mapped",[1588,1582]],[[64808,64808],"mapped",[1588,1605]],[[64809,64809],"mapped",[1588,1585]],[[64810,64810],"mapped",[1587,1585]],[[64811,64811],"mapped",[1589,1585]],[[64812,64812],"mapped",[1590,1585]],[[64813,64813],"mapped",[1588,1580]],[[64814,64814],"mapped",[1588,1581]],[[64815,64815],"mapped",[1588,1582]],[[64816,64816],"mapped",[1588,1605]],[[64817,64817],"mapped",[1587,1607]],[[64818,64818],"mapped",[1588,1607]],[[64819,64819],"mapped",[1591,1605]],[[64820,64820],"mapped",[1587,1580]],[[64821,64821],"mapped",[1587,1581]],[[64822,64822],"mapped",[1587,1582]],[[64823,64823],"mapped",[1588,1580]],[[64824,64824],"mapped",[1588,1581]],[[64825,64825],"mapped",[1588,1582]],[[64826,64826],"mapped",[1591,1605]],[[64827,64827],"mapped",[1592,1605]],[[64828,64829],"mapped",[1575,1611]],[[64830,64831],"valid",[],"NV8"],[[64832,64847],"disallowed"],[[64848,64848],"mapped",[1578,1580,1605]],[[64849,64850],"mapped",[1578,1581,1580]],[[64851,64851],"mapped",[1578,1581,1605]],[[64852,64852],"mapped",[1578,1582,1605]],[[64853,64853],"mapped",[1578,1605,1580]],[[64854,64854],"mapped",[1578,1605,1581]],[[64855,64855],"mapped",[1578,1605,1582]],[[64856,64857],"mapped",[1580,1605,1581]],[[64858,64858],"mapped",[1581,1605,1610]],[[64859,64859],"mapped",[1581,1605,1609]],[[64860,64860],"mapped",[1587,1581,1580]],[[64861,64861],"mapped",[1587,1580,1581]],[[64862,64862],"mapped",[1587,1580,1609]],[[64863,64864],"mapped",[1587,1605,1581]],[[64865,64865],"mapped",[1587,1605,1580]],[[64866,64867],"mapped",[1587,1605,1605]],[[64868,64869],"mapped",[1589,1581,1581]],[[64870,64870],"mapped",[1589,1605,1605]],[[64871,64872],"mapped",[1588,1581,1605]],[[64873,64873],"mapped",[1588,1580,1610]],[[64874,64875],"mapped",[1588,1605,1582]],[[64876,64877],"mapped",[1588,1605,1605]],[[64878,64878],"mapped",[1590,1581,1609]],[[64879,64880],"mapped",[1590,1582,1605]],[[64881,64882],"mapped",[1591,1605,1581]],[[64883,64883],"mapped",[1591,1605,1605]],[[64884,64884],"mapped",[1591,1605,1610]],[[64885,64885],"mapped",[1593,1580,1605]],[[64886,64887],"mapped",[1593,1605,1605]],[[64888,64888],"mapped",[1593,1605,1609]],[[64889,64889],"mapped",[1594,1605,1605]],[[64890,64890],"mapped",[1594,1605,1610]],[[64891,64891],"mapped",[1594,1605,1609]],[[64892,64893],"mapped",[1601,1582,1605]],[[64894,64894],"mapped",[1602,1605,1581]],[[64895,64895],"mapped",[1602,1605,1605]],[[64896,64896],"mapped",[1604,1581,1605]],[[64897,64897],"mapped",[1604,1581,1610]],[[64898,64898],"mapped",[1604,1581,1609]],[[64899,64900],"mapped",[1604,1580,1580]],[[64901,64902],"mapped",[1604,1582,1605]],[[64903,64904],"mapped",[1604,1605,1581]],[[64905,64905],"mapped",[1605,1581,1580]],[[64906,64906],"mapped",[1605,1581,1605]],[[64907,64907],"mapped",[1605,1581,1610]],[[64908,64908],"mapped",[1605,1580,1581]],[[64909,64909],"mapped",[1605,1580,1605]],[[64910,64910],"mapped",[1605,1582,1580]],[[64911,64911],"mapped",[1605,1582,1605]],[[64912,64913],"disallowed"],[[64914,64914],"mapped",[1605,1580,1582]],[[64915,64915],"mapped",[1607,1605,1580]],[[64916,64916],"mapped",[1607,1605,1605]],[[64917,64917],"mapped",[1606,1581,1605]],[[64918,64918],"mapped",[1606,1581,1609]],[[64919,64920],"mapped",[1606,1580,1605]],[[64921,64921],"mapped",[1606,1580,1609]],[[64922,64922],"mapped",[1606,1605,1610]],[[64923,64923],"mapped",[1606,1605,1609]],[[64924,64925],"mapped",[1610,1605,1605]],[[64926,64926],"mapped",[1576,1582,1610]],[[64927,64927],"mapped",[1578,1580,1610]],[[64928,64928],"mapped",[1578,1580,1609]],[[64929,64929],"mapped",[1578,1582,1610]],[[64930,64930],"mapped",[1578,1582,1609]],[[64931,64931],"mapped",[1578,1605,1610]],[[64932,64932],"mapped",[1578,1605,1609]],[[64933,64933],"mapped",[1580,1605,1610]],[[64934,64934],"mapped",[1580,1581,1609]],[[64935,64935],"mapped",[1580,1605,1609]],[[64936,64936],"mapped",[1587,1582,1609]],[[64937,64937],"mapped",[1589,1581,1610]],[[64938,64938],"mapped",[1588,1581,1610]],[[64939,64939],"mapped",[1590,1581,1610]],[[64940,64940],"mapped",[1604,1580,1610]],[[64941,64941],"mapped",[1604,1605,1610]],[[64942,64942],"mapped",[1610,1581,1610]],[[64943,64943],"mapped",[1610,1580,1610]],[[64944,64944],"mapped",[1610,1605,1610]],[[64945,64945],"mapped",[1605,1605,1610]],[[64946,64946],"mapped",[1602,1605,1610]],[[64947,64947],"mapped",[1606,1581,1610]],[[64948,64948],"mapped",[1602,1605,1581]],[[64949,64949],"mapped",[1604,1581,1605]],[[64950,64950],"mapped",[1593,1605,1610]],[[64951,64951],"mapped",[1603,1605,1610]],[[64952,64952],"mapped",[1606,1580,1581]],[[64953,64953],"mapped",[1605,1582,1610]],[[64954,64954],"mapped",[1604,1580,1605]],[[64955,64955],"mapped",[1603,1605,1605]],[[64956,64956],"mapped",[1604,1580,1605]],[[64957,64957],"mapped",[1606,1580,1581]],[[64958,64958],"mapped",[1580,1581,1610]],[[64959,64959],"mapped",[1581,1580,1610]],[[64960,64960],"mapped",[1605,1580,1610]],[[64961,64961],"mapped",[1601,1605,1610]],[[64962,64962],"mapped",[1576,1581,1610]],[[64963,64963],"mapped",[1603,1605,1605]],[[64964,64964],"mapped",[1593,1580,1605]],[[64965,64965],"mapped",[1589,1605,1605]],[[64966,64966],"mapped",[1587,1582,1610]],[[64967,64967],"mapped",[1606,1580,1610]],[[64968,64975],"disallowed"],[[64976,65007],"disallowed"],[[65008,65008],"mapped",[1589,1604,1746]],[[65009,65009],"mapped",[1602,1604,1746]],[[65010,65010],"mapped",[1575,1604,1604,1607]],[[65011,65011],"mapped",[1575,1603,1576,1585]],[[65012,65012],"mapped",[1605,1581,1605,1583]],[[65013,65013],"mapped",[1589,1604,1593,1605]],[[65014,65014],"mapped",[1585,1587,1608,1604]],[[65015,65015],"mapped",[1593,1604,1610,1607]],[[65016,65016],"mapped",[1608,1587,1604,1605]],[[65017,65017],"mapped",[1589,1604,1609]],[[65018,65018],"disallowed_STD3_mapped",[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605]],[[65019,65019],"disallowed_STD3_mapped",[1580,1604,32,1580,1604,1575,1604,1607]],[[65020,65020],"mapped",[1585,1740,1575,1604]],[[65021,65021],"valid",[],"NV8"],[[65022,65023],"disallowed"],[[65024,65039],"ignored"],[[65040,65040],"disallowed_STD3_mapped",[44]],[[65041,65041],"mapped",[12289]],[[65042,65042],"disallowed"],[[65043,65043],"disallowed_STD3_mapped",[58]],[[65044,65044],"disallowed_STD3_mapped",[59]],[[65045,65045],"disallowed_STD3_mapped",[33]],[[65046,65046],"disallowed_STD3_mapped",[63]],[[65047,65047],"mapped",[12310]],[[65048,65048],"mapped",[12311]],[[65049,65049],"disallowed"],[[65050,65055],"disallowed"],[[65056,65059],"valid"],[[65060,65062],"valid"],[[65063,65069],"valid"],[[65070,65071],"valid"],[[65072,65072],"disallowed"],[[65073,65073],"mapped",[8212]],[[65074,65074],"mapped",[8211]],[[65075,65076],"disallowed_STD3_mapped",[95]],[[65077,65077],"disallowed_STD3_mapped",[40]],[[65078,65078],"disallowed_STD3_mapped",[41]],[[65079,65079],"disallowed_STD3_mapped",[123]],[[65080,65080],"disallowed_STD3_mapped",[125]],[[65081,65081],"mapped",[12308]],[[65082,65082],"mapped",[12309]],[[65083,65083],"mapped",[12304]],[[65084,65084],"mapped",[12305]],[[65085,65085],"mapped",[12298]],[[65086,65086],"mapped",[12299]],[[65087,65087],"mapped",[12296]],[[65088,65088],"mapped",[12297]],[[65089,65089],"mapped",[12300]],[[65090,65090],"mapped",[12301]],[[65091,65091],"mapped",[12302]],[[65092,65092],"mapped",[12303]],[[65093,65094],"valid",[],"NV8"],[[65095,65095],"disallowed_STD3_mapped",[91]],[[65096,65096],"disallowed_STD3_mapped",[93]],[[65097,65100],"disallowed_STD3_mapped",[32,773]],[[65101,65103],"disallowed_STD3_mapped",[95]],[[65104,65104],"disallowed_STD3_mapped",[44]],[[65105,65105],"mapped",[12289]],[[65106,65106],"disallowed"],[[65107,65107],"disallowed"],[[65108,65108],"disallowed_STD3_mapped",[59]],[[65109,65109],"disallowed_STD3_mapped",[58]],[[65110,65110],"disallowed_STD3_mapped",[63]],[[65111,65111],"disallowed_STD3_mapped",[33]],[[65112,65112],"mapped",[8212]],[[65113,65113],"disallowed_STD3_mapped",[40]],[[65114,65114],"disallowed_STD3_mapped",[41]],[[65115,65115],"disallowed_STD3_mapped",[123]],[[65116,65116],"disallowed_STD3_mapped",[125]],[[65117,65117],"mapped",[12308]],[[65118,65118],"mapped",[12309]],[[65119,65119],"disallowed_STD3_mapped",[35]],[[65120,65120],"disallowed_STD3_mapped",[38]],[[65121,65121],"disallowed_STD3_mapped",[42]],[[65122,65122],"disallowed_STD3_mapped",[43]],[[65123,65123],"mapped",[45]],[[65124,65124],"disallowed_STD3_mapped",[60]],[[65125,65125],"disallowed_STD3_mapped",[62]],[[65126,65126],"disallowed_STD3_mapped",[61]],[[65127,65127],"disallowed"],[[65128,65128],"disallowed_STD3_mapped",[92]],[[65129,65129],"disallowed_STD3_mapped",[36]],[[65130,65130],"disallowed_STD3_mapped",[37]],[[65131,65131],"disallowed_STD3_mapped",[64]],[[65132,65135],"disallowed"],[[65136,65136],"disallowed_STD3_mapped",[32,1611]],[[65137,65137],"mapped",[1600,1611]],[[65138,65138],"disallowed_STD3_mapped",[32,1612]],[[65139,65139],"valid"],[[65140,65140],"disallowed_STD3_mapped",[32,1613]],[[65141,65141],"disallowed"],[[65142,65142],"disallowed_STD3_mapped",[32,1614]],[[65143,65143],"mapped",[1600,1614]],[[65144,65144],"disallowed_STD3_mapped",[32,1615]],[[65145,65145],"mapped",[1600,1615]],[[65146,65146],"disallowed_STD3_mapped",[32,1616]],[[65147,65147],"mapped",[1600,1616]],[[65148,65148],"disallowed_STD3_mapped",[32,1617]],[[65149,65149],"mapped",[1600,1617]],[[65150,65150],"disallowed_STD3_mapped",[32,1618]],[[65151,65151],"mapped",[1600,1618]],[[65152,65152],"mapped",[1569]],[[65153,65154],"mapped",[1570]],[[65155,65156],"mapped",[1571]],[[65157,65158],"mapped",[1572]],[[65159,65160],"mapped",[1573]],[[65161,65164],"mapped",[1574]],[[65165,65166],"mapped",[1575]],[[65167,65170],"mapped",[1576]],[[65171,65172],"mapped",[1577]],[[65173,65176],"mapped",[1578]],[[65177,65180],"mapped",[1579]],[[65181,65184],"mapped",[1580]],[[65185,65188],"mapped",[1581]],[[65189,65192],"mapped",[1582]],[[65193,65194],"mapped",[1583]],[[65195,65196],"mapped",[1584]],[[65197,65198],"mapped",[1585]],[[65199,65200],"mapped",[1586]],[[65201,65204],"mapped",[1587]],[[65205,65208],"mapped",[1588]],[[65209,65212],"mapped",[1589]],[[65213,65216],"mapped",[1590]],[[65217,65220],"mapped",[1591]],[[65221,65224],"mapped",[1592]],[[65225,65228],"mapped",[1593]],[[65229,65232],"mapped",[1594]],[[65233,65236],"mapped",[1601]],[[65237,65240],"mapped",[1602]],[[65241,65244],"mapped",[1603]],[[65245,65248],"mapped",[1604]],[[65249,65252],"mapped",[1605]],[[65253,65256],"mapped",[1606]],[[65257,65260],"mapped",[1607]],[[65261,65262],"mapped",[1608]],[[65263,65264],"mapped",[1609]],[[65265,65268],"mapped",[1610]],[[65269,65270],"mapped",[1604,1570]],[[65271,65272],"mapped",[1604,1571]],[[65273,65274],"mapped",[1604,1573]],[[65275,65276],"mapped",[1604,1575]],[[65277,65278],"disallowed"],[[65279,65279],"ignored"],[[65280,65280],"disallowed"],[[65281,65281],"disallowed_STD3_mapped",[33]],[[65282,65282],"disallowed_STD3_mapped",[34]],[[65283,65283],"disallowed_STD3_mapped",[35]],[[65284,65284],"disallowed_STD3_mapped",[36]],[[65285,65285],"disallowed_STD3_mapped",[37]],[[65286,65286],"disallowed_STD3_mapped",[38]],[[65287,65287],"disallowed_STD3_mapped",[39]],[[65288,65288],"disallowed_STD3_mapped",[40]],[[65289,65289],"disallowed_STD3_mapped",[41]],[[65290,65290],"disallowed_STD3_mapped",[42]],[[65291,65291],"disallowed_STD3_mapped",[43]],[[65292,65292],"disallowed_STD3_mapped",[44]],[[65293,65293],"mapped",[45]],[[65294,65294],"mapped",[46]],[[65295,65295],"disallowed_STD3_mapped",[47]],[[65296,65296],"mapped",[48]],[[65297,65297],"mapped",[49]],[[65298,65298],"mapped",[50]],[[65299,65299],"mapped",[51]],[[65300,65300],"mapped",[52]],[[65301,65301],"mapped",[53]],[[65302,65302],"mapped",[54]],[[65303,65303],"mapped",[55]],[[65304,65304],"mapped",[56]],[[65305,65305],"mapped",[57]],[[65306,65306],"disallowed_STD3_mapped",[58]],[[65307,65307],"disallowed_STD3_mapped",[59]],[[65308,65308],"disallowed_STD3_mapped",[60]],[[65309,65309],"disallowed_STD3_mapped",[61]],[[65310,65310],"disallowed_STD3_mapped",[62]],[[65311,65311],"disallowed_STD3_mapped",[63]],[[65312,65312],"disallowed_STD3_mapped",[64]],[[65313,65313],"mapped",[97]],[[65314,65314],"mapped",[98]],[[65315,65315],"mapped",[99]],[[65316,65316],"mapped",[100]],[[65317,65317],"mapped",[101]],[[65318,65318],"mapped",[102]],[[65319,65319],"mapped",[103]],[[65320,65320],"mapped",[104]],[[65321,65321],"mapped",[105]],[[65322,65322],"mapped",[106]],[[65323,65323],"mapped",[107]],[[65324,65324],"mapped",[108]],[[65325,65325],"mapped",[109]],[[65326,65326],"mapped",[110]],[[65327,65327],"mapped",[111]],[[65328,65328],"mapped",[112]],[[65329,65329],"mapped",[113]],[[65330,65330],"mapped",[114]],[[65331,65331],"mapped",[115]],[[65332,65332],"mapped",[116]],[[65333,65333],"mapped",[117]],[[65334,65334],"mapped",[118]],[[65335,65335],"mapped",[119]],[[65336,65336],"mapped",[120]],[[65337,65337],"mapped",[121]],[[65338,65338],"mapped",[122]],[[65339,65339],"disallowed_STD3_mapped",[91]],[[65340,65340],"disallowed_STD3_mapped",[92]],[[65341,65341],"disallowed_STD3_mapped",[93]],[[65342,65342],"disallowed_STD3_mapped",[94]],[[65343,65343],"disallowed_STD3_mapped",[95]],[[65344,65344],"disallowed_STD3_mapped",[96]],[[65345,65345],"mapped",[97]],[[65346,65346],"mapped",[98]],[[65347,65347],"mapped",[99]],[[65348,65348],"mapped",[100]],[[65349,65349],"mapped",[101]],[[65350,65350],"mapped",[102]],[[65351,65351],"mapped",[103]],[[65352,65352],"mapped",[104]],[[65353,65353],"mapped",[105]],[[65354,65354],"mapped",[106]],[[65355,65355],"mapped",[107]],[[65356,65356],"mapped",[108]],[[65357,65357],"mapped",[109]],[[65358,65358],"mapped",[110]],[[65359,65359],"mapped",[111]],[[65360,65360],"mapped",[112]],[[65361,65361],"mapped",[113]],[[65362,65362],"mapped",[114]],[[65363,65363],"mapped",[115]],[[65364,65364],"mapped",[116]],[[65365,65365],"mapped",[117]],[[65366,65366],"mapped",[118]],[[65367,65367],"mapped",[119]],[[65368,65368],"mapped",[120]],[[65369,65369],"mapped",[121]],[[65370,65370],"mapped",[122]],[[65371,65371],"disallowed_STD3_mapped",[123]],[[65372,65372],"disallowed_STD3_mapped",[124]],[[65373,65373],"disallowed_STD3_mapped",[125]],[[65374,65374],"disallowed_STD3_mapped",[126]],[[65375,65375],"mapped",[10629]],[[65376,65376],"mapped",[10630]],[[65377,65377],"mapped",[46]],[[65378,65378],"mapped",[12300]],[[65379,65379],"mapped",[12301]],[[65380,65380],"mapped",[12289]],[[65381,65381],"mapped",[12539]],[[65382,65382],"mapped",[12530]],[[65383,65383],"mapped",[12449]],[[65384,65384],"mapped",[12451]],[[65385,65385],"mapped",[12453]],[[65386,65386],"mapped",[12455]],[[65387,65387],"mapped",[12457]],[[65388,65388],"mapped",[12515]],[[65389,65389],"mapped",[12517]],[[65390,65390],"mapped",[12519]],[[65391,65391],"mapped",[12483]],[[65392,65392],"mapped",[12540]],[[65393,65393],"mapped",[12450]],[[65394,65394],"mapped",[12452]],[[65395,65395],"mapped",[12454]],[[65396,65396],"mapped",[12456]],[[65397,65397],"mapped",[12458]],[[65398,65398],"mapped",[12459]],[[65399,65399],"mapped",[12461]],[[65400,65400],"mapped",[12463]],[[65401,65401],"mapped",[12465]],[[65402,65402],"mapped",[12467]],[[65403,65403],"mapped",[12469]],[[65404,65404],"mapped",[12471]],[[65405,65405],"mapped",[12473]],[[65406,65406],"mapped",[12475]],[[65407,65407],"mapped",[12477]],[[65408,65408],"mapped",[12479]],[[65409,65409],"mapped",[12481]],[[65410,65410],"mapped",[12484]],[[65411,65411],"mapped",[12486]],[[65412,65412],"mapped",[12488]],[[65413,65413],"mapped",[12490]],[[65414,65414],"mapped",[12491]],[[65415,65415],"mapped",[12492]],[[65416,65416],"mapped",[12493]],[[65417,65417],"mapped",[12494]],[[65418,65418],"mapped",[12495]],[[65419,65419],"mapped",[12498]],[[65420,65420],"mapped",[12501]],[[65421,65421],"mapped",[12504]],[[65422,65422],"mapped",[12507]],[[65423,65423],"mapped",[12510]],[[65424,65424],"mapped",[12511]],[[65425,65425],"mapped",[12512]],[[65426,65426],"mapped",[12513]],[[65427,65427],"mapped",[12514]],[[65428,65428],"mapped",[12516]],[[65429,65429],"mapped",[12518]],[[65430,65430],"mapped",[12520]],[[65431,65431],"mapped",[12521]],[[65432,65432],"mapped",[12522]],[[65433,65433],"mapped",[12523]],[[65434,65434],"mapped",[12524]],[[65435,65435],"mapped",[12525]],[[65436,65436],"mapped",[12527]],[[65437,65437],"mapped",[12531]],[[65438,65438],"mapped",[12441]],[[65439,65439],"mapped",[12442]],[[65440,65440],"disallowed"],[[65441,65441],"mapped",[4352]],[[65442,65442],"mapped",[4353]],[[65443,65443],"mapped",[4522]],[[65444,65444],"mapped",[4354]],[[65445,65445],"mapped",[4524]],[[65446,65446],"mapped",[4525]],[[65447,65447],"mapped",[4355]],[[65448,65448],"mapped",[4356]],[[65449,65449],"mapped",[4357]],[[65450,65450],"mapped",[4528]],[[65451,65451],"mapped",[4529]],[[65452,65452],"mapped",[4530]],[[65453,65453],"mapped",[4531]],[[65454,65454],"mapped",[4532]],[[65455,65455],"mapped",[4533]],[[65456,65456],"mapped",[4378]],[[65457,65457],"mapped",[4358]],[[65458,65458],"mapped",[4359]],[[65459,65459],"mapped",[4360]],[[65460,65460],"mapped",[4385]],[[65461,65461],"mapped",[4361]],[[65462,65462],"mapped",[4362]],[[65463,65463],"mapped",[4363]],[[65464,65464],"mapped",[4364]],[[65465,65465],"mapped",[4365]],[[65466,65466],"mapped",[4366]],[[65467,65467],"mapped",[4367]],[[65468,65468],"mapped",[4368]],[[65469,65469],"mapped",[4369]],[[65470,65470],"mapped",[4370]],[[65471,65473],"disallowed"],[[65474,65474],"mapped",[4449]],[[65475,65475],"mapped",[4450]],[[65476,65476],"mapped",[4451]],[[65477,65477],"mapped",[4452]],[[65478,65478],"mapped",[4453]],[[65479,65479],"mapped",[4454]],[[65480,65481],"disallowed"],[[65482,65482],"mapped",[4455]],[[65483,65483],"mapped",[4456]],[[65484,65484],"mapped",[4457]],[[65485,65485],"mapped",[4458]],[[65486,65486],"mapped",[4459]],[[65487,65487],"mapped",[4460]],[[65488,65489],"disallowed"],[[65490,65490],"mapped",[4461]],[[65491,65491],"mapped",[4462]],[[65492,65492],"mapped",[4463]],[[65493,65493],"mapped",[4464]],[[65494,65494],"mapped",[4465]],[[65495,65495],"mapped",[4466]],[[65496,65497],"disallowed"],[[65498,65498],"mapped",[4467]],[[65499,65499],"mapped",[4468]],[[65500,65500],"mapped",[4469]],[[65501,65503],"disallowed"],[[65504,65504],"mapped",[162]],[[65505,65505],"mapped",[163]],[[65506,65506],"mapped",[172]],[[65507,65507],"disallowed_STD3_mapped",[32,772]],[[65508,65508],"mapped",[166]],[[65509,65509],"mapped",[165]],[[65510,65510],"mapped",[8361]],[[65511,65511],"disallowed"],[[65512,65512],"mapped",[9474]],[[65513,65513],"mapped",[8592]],[[65514,65514],"mapped",[8593]],[[65515,65515],"mapped",[8594]],[[65516,65516],"mapped",[8595]],[[65517,65517],"mapped",[9632]],[[65518,65518],"mapped",[9675]],[[65519,65528],"disallowed"],[[65529,65531],"disallowed"],[[65532,65532],"disallowed"],[[65533,65533],"disallowed"],[[65534,65535],"disallowed"],[[65536,65547],"valid"],[[65548,65548],"disallowed"],[[65549,65574],"valid"],[[65575,65575],"disallowed"],[[65576,65594],"valid"],[[65595,65595],"disallowed"],[[65596,65597],"valid"],[[65598,65598],"disallowed"],[[65599,65613],"valid"],[[65614,65615],"disallowed"],[[65616,65629],"valid"],[[65630,65663],"disallowed"],[[65664,65786],"valid"],[[65787,65791],"disallowed"],[[65792,65794],"valid",[],"NV8"],[[65795,65798],"disallowed"],[[65799,65843],"valid",[],"NV8"],[[65844,65846],"disallowed"],[[65847,65855],"valid",[],"NV8"],[[65856,65930],"valid",[],"NV8"],[[65931,65932],"valid",[],"NV8"],[[65933,65935],"disallowed"],[[65936,65947],"valid",[],"NV8"],[[65948,65951],"disallowed"],[[65952,65952],"valid",[],"NV8"],[[65953,65999],"disallowed"],[[66e3,66044],"valid",[],"NV8"],[[66045,66045],"valid"],[[66046,66175],"disallowed"],[[66176,66204],"valid"],[[66205,66207],"disallowed"],[[66208,66256],"valid"],[[66257,66271],"disallowed"],[[66272,66272],"valid"],[[66273,66299],"valid",[],"NV8"],[[66300,66303],"disallowed"],[[66304,66334],"valid"],[[66335,66335],"valid"],[[66336,66339],"valid",[],"NV8"],[[66340,66351],"disallowed"],[[66352,66368],"valid"],[[66369,66369],"valid",[],"NV8"],[[66370,66377],"valid"],[[66378,66378],"valid",[],"NV8"],[[66379,66383],"disallowed"],[[66384,66426],"valid"],[[66427,66431],"disallowed"],[[66432,66461],"valid"],[[66462,66462],"disallowed"],[[66463,66463],"valid",[],"NV8"],[[66464,66499],"valid"],[[66500,66503],"disallowed"],[[66504,66511],"valid"],[[66512,66517],"valid",[],"NV8"],[[66518,66559],"disallowed"],[[66560,66560],"mapped",[66600]],[[66561,66561],"mapped",[66601]],[[66562,66562],"mapped",[66602]],[[66563,66563],"mapped",[66603]],[[66564,66564],"mapped",[66604]],[[66565,66565],"mapped",[66605]],[[66566,66566],"mapped",[66606]],[[66567,66567],"mapped",[66607]],[[66568,66568],"mapped",[66608]],[[66569,66569],"mapped",[66609]],[[66570,66570],"mapped",[66610]],[[66571,66571],"mapped",[66611]],[[66572,66572],"mapped",[66612]],[[66573,66573],"mapped",[66613]],[[66574,66574],"mapped",[66614]],[[66575,66575],"mapped",[66615]],[[66576,66576],"mapped",[66616]],[[66577,66577],"mapped",[66617]],[[66578,66578],"mapped",[66618]],[[66579,66579],"mapped",[66619]],[[66580,66580],"mapped",[66620]],[[66581,66581],"mapped",[66621]],[[66582,66582],"mapped",[66622]],[[66583,66583],"mapped",[66623]],[[66584,66584],"mapped",[66624]],[[66585,66585],"mapped",[66625]],[[66586,66586],"mapped",[66626]],[[66587,66587],"mapped",[66627]],[[66588,66588],"mapped",[66628]],[[66589,66589],"mapped",[66629]],[[66590,66590],"mapped",[66630]],[[66591,66591],"mapped",[66631]],[[66592,66592],"mapped",[66632]],[[66593,66593],"mapped",[66633]],[[66594,66594],"mapped",[66634]],[[66595,66595],"mapped",[66635]],[[66596,66596],"mapped",[66636]],[[66597,66597],"mapped",[66637]],[[66598,66598],"mapped",[66638]],[[66599,66599],"mapped",[66639]],[[66600,66637],"valid"],[[66638,66717],"valid"],[[66718,66719],"disallowed"],[[66720,66729],"valid"],[[66730,66815],"disallowed"],[[66816,66855],"valid"],[[66856,66863],"disallowed"],[[66864,66915],"valid"],[[66916,66926],"disallowed"],[[66927,66927],"valid",[],"NV8"],[[66928,67071],"disallowed"],[[67072,67382],"valid"],[[67383,67391],"disallowed"],[[67392,67413],"valid"],[[67414,67423],"disallowed"],[[67424,67431],"valid"],[[67432,67583],"disallowed"],[[67584,67589],"valid"],[[67590,67591],"disallowed"],[[67592,67592],"valid"],[[67593,67593],"disallowed"],[[67594,67637],"valid"],[[67638,67638],"disallowed"],[[67639,67640],"valid"],[[67641,67643],"disallowed"],[[67644,67644],"valid"],[[67645,67646],"disallowed"],[[67647,67647],"valid"],[[67648,67669],"valid"],[[67670,67670],"disallowed"],[[67671,67679],"valid",[],"NV8"],[[67680,67702],"valid"],[[67703,67711],"valid",[],"NV8"],[[67712,67742],"valid"],[[67743,67750],"disallowed"],[[67751,67759],"valid",[],"NV8"],[[67760,67807],"disallowed"],[[67808,67826],"valid"],[[67827,67827],"disallowed"],[[67828,67829],"valid"],[[67830,67834],"disallowed"],[[67835,67839],"valid",[],"NV8"],[[67840,67861],"valid"],[[67862,67865],"valid",[],"NV8"],[[67866,67867],"valid",[],"NV8"],[[67868,67870],"disallowed"],[[67871,67871],"valid",[],"NV8"],[[67872,67897],"valid"],[[67898,67902],"disallowed"],[[67903,67903],"valid",[],"NV8"],[[67904,67967],"disallowed"],[[67968,68023],"valid"],[[68024,68027],"disallowed"],[[68028,68029],"valid",[],"NV8"],[[68030,68031],"valid"],[[68032,68047],"valid",[],"NV8"],[[68048,68049],"disallowed"],[[68050,68095],"valid",[],"NV8"],[[68096,68099],"valid"],[[68100,68100],"disallowed"],[[68101,68102],"valid"],[[68103,68107],"disallowed"],[[68108,68115],"valid"],[[68116,68116],"disallowed"],[[68117,68119],"valid"],[[68120,68120],"disallowed"],[[68121,68147],"valid"],[[68148,68151],"disallowed"],[[68152,68154],"valid"],[[68155,68158],"disallowed"],[[68159,68159],"valid"],[[68160,68167],"valid",[],"NV8"],[[68168,68175],"disallowed"],[[68176,68184],"valid",[],"NV8"],[[68185,68191],"disallowed"],[[68192,68220],"valid"],[[68221,68223],"valid",[],"NV8"],[[68224,68252],"valid"],[[68253,68255],"valid",[],"NV8"],[[68256,68287],"disallowed"],[[68288,68295],"valid"],[[68296,68296],"valid",[],"NV8"],[[68297,68326],"valid"],[[68327,68330],"disallowed"],[[68331,68342],"valid",[],"NV8"],[[68343,68351],"disallowed"],[[68352,68405],"valid"],[[68406,68408],"disallowed"],[[68409,68415],"valid",[],"NV8"],[[68416,68437],"valid"],[[68438,68439],"disallowed"],[[68440,68447],"valid",[],"NV8"],[[68448,68466],"valid"],[[68467,68471],"disallowed"],[[68472,68479],"valid",[],"NV8"],[[68480,68497],"valid"],[[68498,68504],"disallowed"],[[68505,68508],"valid",[],"NV8"],[[68509,68520],"disallowed"],[[68521,68527],"valid",[],"NV8"],[[68528,68607],"disallowed"],[[68608,68680],"valid"],[[68681,68735],"disallowed"],[[68736,68736],"mapped",[68800]],[[68737,68737],"mapped",[68801]],[[68738,68738],"mapped",[68802]],[[68739,68739],"mapped",[68803]],[[68740,68740],"mapped",[68804]],[[68741,68741],"mapped",[68805]],[[68742,68742],"mapped",[68806]],[[68743,68743],"mapped",[68807]],[[68744,68744],"mapped",[68808]],[[68745,68745],"mapped",[68809]],[[68746,68746],"mapped",[68810]],[[68747,68747],"mapped",[68811]],[[68748,68748],"mapped",[68812]],[[68749,68749],"mapped",[68813]],[[68750,68750],"mapped",[68814]],[[68751,68751],"mapped",[68815]],[[68752,68752],"mapped",[68816]],[[68753,68753],"mapped",[68817]],[[68754,68754],"mapped",[68818]],[[68755,68755],"mapped",[68819]],[[68756,68756],"mapped",[68820]],[[68757,68757],"mapped",[68821]],[[68758,68758],"mapped",[68822]],[[68759,68759],"mapped",[68823]],[[68760,68760],"mapped",[68824]],[[68761,68761],"mapped",[68825]],[[68762,68762],"mapped",[68826]],[[68763,68763],"mapped",[68827]],[[68764,68764],"mapped",[68828]],[[68765,68765],"mapped",[68829]],[[68766,68766],"mapped",[68830]],[[68767,68767],"mapped",[68831]],[[68768,68768],"mapped",[68832]],[[68769,68769],"mapped",[68833]],[[68770,68770],"mapped",[68834]],[[68771,68771],"mapped",[68835]],[[68772,68772],"mapped",[68836]],[[68773,68773],"mapped",[68837]],[[68774,68774],"mapped",[68838]],[[68775,68775],"mapped",[68839]],[[68776,68776],"mapped",[68840]],[[68777,68777],"mapped",[68841]],[[68778,68778],"mapped",[68842]],[[68779,68779],"mapped",[68843]],[[68780,68780],"mapped",[68844]],[[68781,68781],"mapped",[68845]],[[68782,68782],"mapped",[68846]],[[68783,68783],"mapped",[68847]],[[68784,68784],"mapped",[68848]],[[68785,68785],"mapped",[68849]],[[68786,68786],"mapped",[68850]],[[68787,68799],"disallowed"],[[68800,68850],"valid"],[[68851,68857],"disallowed"],[[68858,68863],"valid",[],"NV8"],[[68864,69215],"disallowed"],[[69216,69246],"valid",[],"NV8"],[[69247,69631],"disallowed"],[[69632,69702],"valid"],[[69703,69709],"valid",[],"NV8"],[[69710,69713],"disallowed"],[[69714,69733],"valid",[],"NV8"],[[69734,69743],"valid"],[[69744,69758],"disallowed"],[[69759,69759],"valid"],[[69760,69818],"valid"],[[69819,69820],"valid",[],"NV8"],[[69821,69821],"disallowed"],[[69822,69825],"valid",[],"NV8"],[[69826,69839],"disallowed"],[[69840,69864],"valid"],[[69865,69871],"disallowed"],[[69872,69881],"valid"],[[69882,69887],"disallowed"],[[69888,69940],"valid"],[[69941,69941],"disallowed"],[[69942,69951],"valid"],[[69952,69955],"valid",[],"NV8"],[[69956,69967],"disallowed"],[[69968,70003],"valid"],[[70004,70005],"valid",[],"NV8"],[[70006,70006],"valid"],[[70007,70015],"disallowed"],[[70016,70084],"valid"],[[70085,70088],"valid",[],"NV8"],[[70089,70089],"valid",[],"NV8"],[[70090,70092],"valid"],[[70093,70093],"valid",[],"NV8"],[[70094,70095],"disallowed"],[[70096,70105],"valid"],[[70106,70106],"valid"],[[70107,70107],"valid",[],"NV8"],[[70108,70108],"valid"],[[70109,70111],"valid",[],"NV8"],[[70112,70112],"disallowed"],[[70113,70132],"valid",[],"NV8"],[[70133,70143],"disallowed"],[[70144,70161],"valid"],[[70162,70162],"disallowed"],[[70163,70199],"valid"],[[70200,70205],"valid",[],"NV8"],[[70206,70271],"disallowed"],[[70272,70278],"valid"],[[70279,70279],"disallowed"],[[70280,70280],"valid"],[[70281,70281],"disallowed"],[[70282,70285],"valid"],[[70286,70286],"disallowed"],[[70287,70301],"valid"],[[70302,70302],"disallowed"],[[70303,70312],"valid"],[[70313,70313],"valid",[],"NV8"],[[70314,70319],"disallowed"],[[70320,70378],"valid"],[[70379,70383],"disallowed"],[[70384,70393],"valid"],[[70394,70399],"disallowed"],[[70400,70400],"valid"],[[70401,70403],"valid"],[[70404,70404],"disallowed"],[[70405,70412],"valid"],[[70413,70414],"disallowed"],[[70415,70416],"valid"],[[70417,70418],"disallowed"],[[70419,70440],"valid"],[[70441,70441],"disallowed"],[[70442,70448],"valid"],[[70449,70449],"disallowed"],[[70450,70451],"valid"],[[70452,70452],"disallowed"],[[70453,70457],"valid"],[[70458,70459],"disallowed"],[[70460,70468],"valid"],[[70469,70470],"disallowed"],[[70471,70472],"valid"],[[70473,70474],"disallowed"],[[70475,70477],"valid"],[[70478,70479],"disallowed"],[[70480,70480],"valid"],[[70481,70486],"disallowed"],[[70487,70487],"valid"],[[70488,70492],"disallowed"],[[70493,70499],"valid"],[[70500,70501],"disallowed"],[[70502,70508],"valid"],[[70509,70511],"disallowed"],[[70512,70516],"valid"],[[70517,70783],"disallowed"],[[70784,70853],"valid"],[[70854,70854],"valid",[],"NV8"],[[70855,70855],"valid"],[[70856,70863],"disallowed"],[[70864,70873],"valid"],[[70874,71039],"disallowed"],[[71040,71093],"valid"],[[71094,71095],"disallowed"],[[71096,71104],"valid"],[[71105,71113],"valid",[],"NV8"],[[71114,71127],"valid",[],"NV8"],[[71128,71133],"valid"],[[71134,71167],"disallowed"],[[71168,71232],"valid"],[[71233,71235],"valid",[],"NV8"],[[71236,71236],"valid"],[[71237,71247],"disallowed"],[[71248,71257],"valid"],[[71258,71295],"disallowed"],[[71296,71351],"valid"],[[71352,71359],"disallowed"],[[71360,71369],"valid"],[[71370,71423],"disallowed"],[[71424,71449],"valid"],[[71450,71452],"disallowed"],[[71453,71467],"valid"],[[71468,71471],"disallowed"],[[71472,71481],"valid"],[[71482,71487],"valid",[],"NV8"],[[71488,71839],"disallowed"],[[71840,71840],"mapped",[71872]],[[71841,71841],"mapped",[71873]],[[71842,71842],"mapped",[71874]],[[71843,71843],"mapped",[71875]],[[71844,71844],"mapped",[71876]],[[71845,71845],"mapped",[71877]],[[71846,71846],"mapped",[71878]],[[71847,71847],"mapped",[71879]],[[71848,71848],"mapped",[71880]],[[71849,71849],"mapped",[71881]],[[71850,71850],"mapped",[71882]],[[71851,71851],"mapped",[71883]],[[71852,71852],"mapped",[71884]],[[71853,71853],"mapped",[71885]],[[71854,71854],"mapped",[71886]],[[71855,71855],"mapped",[71887]],[[71856,71856],"mapped",[71888]],[[71857,71857],"mapped",[71889]],[[71858,71858],"mapped",[71890]],[[71859,71859],"mapped",[71891]],[[71860,71860],"mapped",[71892]],[[71861,71861],"mapped",[71893]],[[71862,71862],"mapped",[71894]],[[71863,71863],"mapped",[71895]],[[71864,71864],"mapped",[71896]],[[71865,71865],"mapped",[71897]],[[71866,71866],"mapped",[71898]],[[71867,71867],"mapped",[71899]],[[71868,71868],"mapped",[71900]],[[71869,71869],"mapped",[71901]],[[71870,71870],"mapped",[71902]],[[71871,71871],"mapped",[71903]],[[71872,71913],"valid"],[[71914,71922],"valid",[],"NV8"],[[71923,71934],"disallowed"],[[71935,71935],"valid"],[[71936,72383],"disallowed"],[[72384,72440],"valid"],[[72441,73727],"disallowed"],[[73728,74606],"valid"],[[74607,74648],"valid"],[[74649,74649],"valid"],[[74650,74751],"disallowed"],[[74752,74850],"valid",[],"NV8"],[[74851,74862],"valid",[],"NV8"],[[74863,74863],"disallowed"],[[74864,74867],"valid",[],"NV8"],[[74868,74868],"valid",[],"NV8"],[[74869,74879],"disallowed"],[[74880,75075],"valid"],[[75076,77823],"disallowed"],[[77824,78894],"valid"],[[78895,82943],"disallowed"],[[82944,83526],"valid"],[[83527,92159],"disallowed"],[[92160,92728],"valid"],[[92729,92735],"disallowed"],[[92736,92766],"valid"],[[92767,92767],"disallowed"],[[92768,92777],"valid"],[[92778,92781],"disallowed"],[[92782,92783],"valid",[],"NV8"],[[92784,92879],"disallowed"],[[92880,92909],"valid"],[[92910,92911],"disallowed"],[[92912,92916],"valid"],[[92917,92917],"valid",[],"NV8"],[[92918,92927],"disallowed"],[[92928,92982],"valid"],[[92983,92991],"valid",[],"NV8"],[[92992,92995],"valid"],[[92996,92997],"valid",[],"NV8"],[[92998,93007],"disallowed"],[[93008,93017],"valid"],[[93018,93018],"disallowed"],[[93019,93025],"valid",[],"NV8"],[[93026,93026],"disallowed"],[[93027,93047],"valid"],[[93048,93052],"disallowed"],[[93053,93071],"valid"],[[93072,93951],"disallowed"],[[93952,94020],"valid"],[[94021,94031],"disallowed"],[[94032,94078],"valid"],[[94079,94094],"disallowed"],[[94095,94111],"valid"],[[94112,110591],"disallowed"],[[110592,110593],"valid"],[[110594,113663],"disallowed"],[[113664,113770],"valid"],[[113771,113775],"disallowed"],[[113776,113788],"valid"],[[113789,113791],"disallowed"],[[113792,113800],"valid"],[[113801,113807],"disallowed"],[[113808,113817],"valid"],[[113818,113819],"disallowed"],[[113820,113820],"valid",[],"NV8"],[[113821,113822],"valid"],[[113823,113823],"valid",[],"NV8"],[[113824,113827],"ignored"],[[113828,118783],"disallowed"],[[118784,119029],"valid",[],"NV8"],[[119030,119039],"disallowed"],[[119040,119078],"valid",[],"NV8"],[[119079,119080],"disallowed"],[[119081,119081],"valid",[],"NV8"],[[119082,119133],"valid",[],"NV8"],[[119134,119134],"mapped",[119127,119141]],[[119135,119135],"mapped",[119128,119141]],[[119136,119136],"mapped",[119128,119141,119150]],[[119137,119137],"mapped",[119128,119141,119151]],[[119138,119138],"mapped",[119128,119141,119152]],[[119139,119139],"mapped",[119128,119141,119153]],[[119140,119140],"mapped",[119128,119141,119154]],[[119141,119154],"valid",[],"NV8"],[[119155,119162],"disallowed"],[[119163,119226],"valid",[],"NV8"],[[119227,119227],"mapped",[119225,119141]],[[119228,119228],"mapped",[119226,119141]],[[119229,119229],"mapped",[119225,119141,119150]],[[119230,119230],"mapped",[119226,119141,119150]],[[119231,119231],"mapped",[119225,119141,119151]],[[119232,119232],"mapped",[119226,119141,119151]],[[119233,119261],"valid",[],"NV8"],[[119262,119272],"valid",[],"NV8"],[[119273,119295],"disallowed"],[[119296,119365],"valid",[],"NV8"],[[119366,119551],"disallowed"],[[119552,119638],"valid",[],"NV8"],[[119639,119647],"disallowed"],[[119648,119665],"valid",[],"NV8"],[[119666,119807],"disallowed"],[[119808,119808],"mapped",[97]],[[119809,119809],"mapped",[98]],[[119810,119810],"mapped",[99]],[[119811,119811],"mapped",[100]],[[119812,119812],"mapped",[101]],[[119813,119813],"mapped",[102]],[[119814,119814],"mapped",[103]],[[119815,119815],"mapped",[104]],[[119816,119816],"mapped",[105]],[[119817,119817],"mapped",[106]],[[119818,119818],"mapped",[107]],[[119819,119819],"mapped",[108]],[[119820,119820],"mapped",[109]],[[119821,119821],"mapped",[110]],[[119822,119822],"mapped",[111]],[[119823,119823],"mapped",[112]],[[119824,119824],"mapped",[113]],[[119825,119825],"mapped",[114]],[[119826,119826],"mapped",[115]],[[119827,119827],"mapped",[116]],[[119828,119828],"mapped",[117]],[[119829,119829],"mapped",[118]],[[119830,119830],"mapped",[119]],[[119831,119831],"mapped",[120]],[[119832,119832],"mapped",[121]],[[119833,119833],"mapped",[122]],[[119834,119834],"mapped",[97]],[[119835,119835],"mapped",[98]],[[119836,119836],"mapped",[99]],[[119837,119837],"mapped",[100]],[[119838,119838],"mapped",[101]],[[119839,119839],"mapped",[102]],[[119840,119840],"mapped",[103]],[[119841,119841],"mapped",[104]],[[119842,119842],"mapped",[105]],[[119843,119843],"mapped",[106]],[[119844,119844],"mapped",[107]],[[119845,119845],"mapped",[108]],[[119846,119846],"mapped",[109]],[[119847,119847],"mapped",[110]],[[119848,119848],"mapped",[111]],[[119849,119849],"mapped",[112]],[[119850,119850],"mapped",[113]],[[119851,119851],"mapped",[114]],[[119852,119852],"mapped",[115]],[[119853,119853],"mapped",[116]],[[119854,119854],"mapped",[117]],[[119855,119855],"mapped",[118]],[[119856,119856],"mapped",[119]],[[119857,119857],"mapped",[120]],[[119858,119858],"mapped",[121]],[[119859,119859],"mapped",[122]],[[119860,119860],"mapped",[97]],[[119861,119861],"mapped",[98]],[[119862,119862],"mapped",[99]],[[119863,119863],"mapped",[100]],[[119864,119864],"mapped",[101]],[[119865,119865],"mapped",[102]],[[119866,119866],"mapped",[103]],[[119867,119867],"mapped",[104]],[[119868,119868],"mapped",[105]],[[119869,119869],"mapped",[106]],[[119870,119870],"mapped",[107]],[[119871,119871],"mapped",[108]],[[119872,119872],"mapped",[109]],[[119873,119873],"mapped",[110]],[[119874,119874],"mapped",[111]],[[119875,119875],"mapped",[112]],[[119876,119876],"mapped",[113]],[[119877,119877],"mapped",[114]],[[119878,119878],"mapped",[115]],[[119879,119879],"mapped",[116]],[[119880,119880],"mapped",[117]],[[119881,119881],"mapped",[118]],[[119882,119882],"mapped",[119]],[[119883,119883],"mapped",[120]],[[119884,119884],"mapped",[121]],[[119885,119885],"mapped",[122]],[[119886,119886],"mapped",[97]],[[119887,119887],"mapped",[98]],[[119888,119888],"mapped",[99]],[[119889,119889],"mapped",[100]],[[119890,119890],"mapped",[101]],[[119891,119891],"mapped",[102]],[[119892,119892],"mapped",[103]],[[119893,119893],"disallowed"],[[119894,119894],"mapped",[105]],[[119895,119895],"mapped",[106]],[[119896,119896],"mapped",[107]],[[119897,119897],"mapped",[108]],[[119898,119898],"mapped",[109]],[[119899,119899],"mapped",[110]],[[119900,119900],"mapped",[111]],[[119901,119901],"mapped",[112]],[[119902,119902],"mapped",[113]],[[119903,119903],"mapped",[114]],[[119904,119904],"mapped",[115]],[[119905,119905],"mapped",[116]],[[119906,119906],"mapped",[117]],[[119907,119907],"mapped",[118]],[[119908,119908],"mapped",[119]],[[119909,119909],"mapped",[120]],[[119910,119910],"mapped",[121]],[[119911,119911],"mapped",[122]],[[119912,119912],"mapped",[97]],[[119913,119913],"mapped",[98]],[[119914,119914],"mapped",[99]],[[119915,119915],"mapped",[100]],[[119916,119916],"mapped",[101]],[[119917,119917],"mapped",[102]],[[119918,119918],"mapped",[103]],[[119919,119919],"mapped",[104]],[[119920,119920],"mapped",[105]],[[119921,119921],"mapped",[106]],[[119922,119922],"mapped",[107]],[[119923,119923],"mapped",[108]],[[119924,119924],"mapped",[109]],[[119925,119925],"mapped",[110]],[[119926,119926],"mapped",[111]],[[119927,119927],"mapped",[112]],[[119928,119928],"mapped",[113]],[[119929,119929],"mapped",[114]],[[119930,119930],"mapped",[115]],[[119931,119931],"mapped",[116]],[[119932,119932],"mapped",[117]],[[119933,119933],"mapped",[118]],[[119934,119934],"mapped",[119]],[[119935,119935],"mapped",[120]],[[119936,119936],"mapped",[121]],[[119937,119937],"mapped",[122]],[[119938,119938],"mapped",[97]],[[119939,119939],"mapped",[98]],[[119940,119940],"mapped",[99]],[[119941,119941],"mapped",[100]],[[119942,119942],"mapped",[101]],[[119943,119943],"mapped",[102]],[[119944,119944],"mapped",[103]],[[119945,119945],"mapped",[104]],[[119946,119946],"mapped",[105]],[[119947,119947],"mapped",[106]],[[119948,119948],"mapped",[107]],[[119949,119949],"mapped",[108]],[[119950,119950],"mapped",[109]],[[119951,119951],"mapped",[110]],[[119952,119952],"mapped",[111]],[[119953,119953],"mapped",[112]],[[119954,119954],"mapped",[113]],[[119955,119955],"mapped",[114]],[[119956,119956],"mapped",[115]],[[119957,119957],"mapped",[116]],[[119958,119958],"mapped",[117]],[[119959,119959],"mapped",[118]],[[119960,119960],"mapped",[119]],[[119961,119961],"mapped",[120]],[[119962,119962],"mapped",[121]],[[119963,119963],"mapped",[122]],[[119964,119964],"mapped",[97]],[[119965,119965],"disallowed"],[[119966,119966],"mapped",[99]],[[119967,119967],"mapped",[100]],[[119968,119969],"disallowed"],[[119970,119970],"mapped",[103]],[[119971,119972],"disallowed"],[[119973,119973],"mapped",[106]],[[119974,119974],"mapped",[107]],[[119975,119976],"disallowed"],[[119977,119977],"mapped",[110]],[[119978,119978],"mapped",[111]],[[119979,119979],"mapped",[112]],[[119980,119980],"mapped",[113]],[[119981,119981],"disallowed"],[[119982,119982],"mapped",[115]],[[119983,119983],"mapped",[116]],[[119984,119984],"mapped",[117]],[[119985,119985],"mapped",[118]],[[119986,119986],"mapped",[119]],[[119987,119987],"mapped",[120]],[[119988,119988],"mapped",[121]],[[119989,119989],"mapped",[122]],[[119990,119990],"mapped",[97]],[[119991,119991],"mapped",[98]],[[119992,119992],"mapped",[99]],[[119993,119993],"mapped",[100]],[[119994,119994],"disallowed"],[[119995,119995],"mapped",[102]],[[119996,119996],"disallowed"],[[119997,119997],"mapped",[104]],[[119998,119998],"mapped",[105]],[[119999,119999],"mapped",[106]],[[12e4,12e4],"mapped",[107]],[[120001,120001],"mapped",[108]],[[120002,120002],"mapped",[109]],[[120003,120003],"mapped",[110]],[[120004,120004],"disallowed"],[[120005,120005],"mapped",[112]],[[120006,120006],"mapped",[113]],[[120007,120007],"mapped",[114]],[[120008,120008],"mapped",[115]],[[120009,120009],"mapped",[116]],[[120010,120010],"mapped",[117]],[[120011,120011],"mapped",[118]],[[120012,120012],"mapped",[119]],[[120013,120013],"mapped",[120]],[[120014,120014],"mapped",[121]],[[120015,120015],"mapped",[122]],[[120016,120016],"mapped",[97]],[[120017,120017],"mapped",[98]],[[120018,120018],"mapped",[99]],[[120019,120019],"mapped",[100]],[[120020,120020],"mapped",[101]],[[120021,120021],"mapped",[102]],[[120022,120022],"mapped",[103]],[[120023,120023],"mapped",[104]],[[120024,120024],"mapped",[105]],[[120025,120025],"mapped",[106]],[[120026,120026],"mapped",[107]],[[120027,120027],"mapped",[108]],[[120028,120028],"mapped",[109]],[[120029,120029],"mapped",[110]],[[120030,120030],"mapped",[111]],[[120031,120031],"mapped",[112]],[[120032,120032],"mapped",[113]],[[120033,120033],"mapped",[114]],[[120034,120034],"mapped",[115]],[[120035,120035],"mapped",[116]],[[120036,120036],"mapped",[117]],[[120037,120037],"mapped",[118]],[[120038,120038],"mapped",[119]],[[120039,120039],"mapped",[120]],[[120040,120040],"mapped",[121]],[[120041,120041],"mapped",[122]],[[120042,120042],"mapped",[97]],[[120043,120043],"mapped",[98]],[[120044,120044],"mapped",[99]],[[120045,120045],"mapped",[100]],[[120046,120046],"mapped",[101]],[[120047,120047],"mapped",[102]],[[120048,120048],"mapped",[103]],[[120049,120049],"mapped",[104]],[[120050,120050],"mapped",[105]],[[120051,120051],"mapped",[106]],[[120052,120052],"mapped",[107]],[[120053,120053],"mapped",[108]],[[120054,120054],"mapped",[109]],[[120055,120055],"mapped",[110]],[[120056,120056],"mapped",[111]],[[120057,120057],"mapped",[112]],[[120058,120058],"mapped",[113]],[[120059,120059],"mapped",[114]],[[120060,120060],"mapped",[115]],[[120061,120061],"mapped",[116]],[[120062,120062],"mapped",[117]],[[120063,120063],"mapped",[118]],[[120064,120064],"mapped",[119]],[[120065,120065],"mapped",[120]],[[120066,120066],"mapped",[121]],[[120067,120067],"mapped",[122]],[[120068,120068],"mapped",[97]],[[120069,120069],"mapped",[98]],[[120070,120070],"disallowed"],[[120071,120071],"mapped",[100]],[[120072,120072],"mapped",[101]],[[120073,120073],"mapped",[102]],[[120074,120074],"mapped",[103]],[[120075,120076],"disallowed"],[[120077,120077],"mapped",[106]],[[120078,120078],"mapped",[107]],[[120079,120079],"mapped",[108]],[[120080,120080],"mapped",[109]],[[120081,120081],"mapped",[110]],[[120082,120082],"mapped",[111]],[[120083,120083],"mapped",[112]],[[120084,120084],"mapped",[113]],[[120085,120085],"disallowed"],[[120086,120086],"mapped",[115]],[[120087,120087],"mapped",[116]],[[120088,120088],"mapped",[117]],[[120089,120089],"mapped",[118]],[[120090,120090],"mapped",[119]],[[120091,120091],"mapped",[120]],[[120092,120092],"mapped",[121]],[[120093,120093],"disallowed"],[[120094,120094],"mapped",[97]],[[120095,120095],"mapped",[98]],[[120096,120096],"mapped",[99]],[[120097,120097],"mapped",[100]],[[120098,120098],"mapped",[101]],[[120099,120099],"mapped",[102]],[[120100,120100],"mapped",[103]],[[120101,120101],"mapped",[104]],[[120102,120102],"mapped",[105]],[[120103,120103],"mapped",[106]],[[120104,120104],"mapped",[107]],[[120105,120105],"mapped",[108]],[[120106,120106],"mapped",[109]],[[120107,120107],"mapped",[110]],[[120108,120108],"mapped",[111]],[[120109,120109],"mapped",[112]],[[120110,120110],"mapped",[113]],[[120111,120111],"mapped",[114]],[[120112,120112],"mapped",[115]],[[120113,120113],"mapped",[116]],[[120114,120114],"mapped",[117]],[[120115,120115],"mapped",[118]],[[120116,120116],"mapped",[119]],[[120117,120117],"mapped",[120]],[[120118,120118],"mapped",[121]],[[120119,120119],"mapped",[122]],[[120120,120120],"mapped",[97]],[[120121,120121],"mapped",[98]],[[120122,120122],"disallowed"],[[120123,120123],"mapped",[100]],[[120124,120124],"mapped",[101]],[[120125,120125],"mapped",[102]],[[120126,120126],"mapped",[103]],[[120127,120127],"disallowed"],[[120128,120128],"mapped",[105]],[[120129,120129],"mapped",[106]],[[120130,120130],"mapped",[107]],[[120131,120131],"mapped",[108]],[[120132,120132],"mapped",[109]],[[120133,120133],"disallowed"],[[120134,120134],"mapped",[111]],[[120135,120137],"disallowed"],[[120138,120138],"mapped",[115]],[[120139,120139],"mapped",[116]],[[120140,120140],"mapped",[117]],[[120141,120141],"mapped",[118]],[[120142,120142],"mapped",[119]],[[120143,120143],"mapped",[120]],[[120144,120144],"mapped",[121]],[[120145,120145],"disallowed"],[[120146,120146],"mapped",[97]],[[120147,120147],"mapped",[98]],[[120148,120148],"mapped",[99]],[[120149,120149],"mapped",[100]],[[120150,120150],"mapped",[101]],[[120151,120151],"mapped",[102]],[[120152,120152],"mapped",[103]],[[120153,120153],"mapped",[104]],[[120154,120154],"mapped",[105]],[[120155,120155],"mapped",[106]],[[120156,120156],"mapped",[107]],[[120157,120157],"mapped",[108]],[[120158,120158],"mapped",[109]],[[120159,120159],"mapped",[110]],[[120160,120160],"mapped",[111]],[[120161,120161],"mapped",[112]],[[120162,120162],"mapped",[113]],[[120163,120163],"mapped",[114]],[[120164,120164],"mapped",[115]],[[120165,120165],"mapped",[116]],[[120166,120166],"mapped",[117]],[[120167,120167],"mapped",[118]],[[120168,120168],"mapped",[119]],[[120169,120169],"mapped",[120]],[[120170,120170],"mapped",[121]],[[120171,120171],"mapped",[122]],[[120172,120172],"mapped",[97]],[[120173,120173],"mapped",[98]],[[120174,120174],"mapped",[99]],[[120175,120175],"mapped",[100]],[[120176,120176],"mapped",[101]],[[120177,120177],"mapped",[102]],[[120178,120178],"mapped",[103]],[[120179,120179],"mapped",[104]],[[120180,120180],"mapped",[105]],[[120181,120181],"mapped",[106]],[[120182,120182],"mapped",[107]],[[120183,120183],"mapped",[108]],[[120184,120184],"mapped",[109]],[[120185,120185],"mapped",[110]],[[120186,120186],"mapped",[111]],[[120187,120187],"mapped",[112]],[[120188,120188],"mapped",[113]],[[120189,120189],"mapped",[114]],[[120190,120190],"mapped",[115]],[[120191,120191],"mapped",[116]],[[120192,120192],"mapped",[117]],[[120193,120193],"mapped",[118]],[[120194,120194],"mapped",[119]],[[120195,120195],"mapped",[120]],[[120196,120196],"mapped",[121]],[[120197,120197],"mapped",[122]],[[120198,120198],"mapped",[97]],[[120199,120199],"mapped",[98]],[[120200,120200],"mapped",[99]],[[120201,120201],"mapped",[100]],[[120202,120202],"mapped",[101]],[[120203,120203],"mapped",[102]],[[120204,120204],"mapped",[103]],[[120205,120205],"mapped",[104]],[[120206,120206],"mapped",[105]],[[120207,120207],"mapped",[106]],[[120208,120208],"mapped",[107]],[[120209,120209],"mapped",[108]],[[120210,120210],"mapped",[109]],[[120211,120211],"mapped",[110]],[[120212,120212],"mapped",[111]],[[120213,120213],"mapped",[112]],[[120214,120214],"mapped",[113]],[[120215,120215],"mapped",[114]],[[120216,120216],"mapped",[115]],[[120217,120217],"mapped",[116]],[[120218,120218],"mapped",[117]],[[120219,120219],"mapped",[118]],[[120220,120220],"mapped",[119]],[[120221,120221],"mapped",[120]],[[120222,120222],"mapped",[121]],[[120223,120223],"mapped",[122]],[[120224,120224],"mapped",[97]],[[120225,120225],"mapped",[98]],[[120226,120226],"mapped",[99]],[[120227,120227],"mapped",[100]],[[120228,120228],"mapped",[101]],[[120229,120229],"mapped",[102]],[[120230,120230],"mapped",[103]],[[120231,120231],"mapped",[104]],[[120232,120232],"mapped",[105]],[[120233,120233],"mapped",[106]],[[120234,120234],"mapped",[107]],[[120235,120235],"mapped",[108]],[[120236,120236],"mapped",[109]],[[120237,120237],"mapped",[110]],[[120238,120238],"mapped",[111]],[[120239,120239],"mapped",[112]],[[120240,120240],"mapped",[113]],[[120241,120241],"mapped",[114]],[[120242,120242],"mapped",[115]],[[120243,120243],"mapped",[116]],[[120244,120244],"mapped",[117]],[[120245,120245],"mapped",[118]],[[120246,120246],"mapped",[119]],[[120247,120247],"mapped",[120]],[[120248,120248],"mapped",[121]],[[120249,120249],"mapped",[122]],[[120250,120250],"mapped",[97]],[[120251,120251],"mapped",[98]],[[120252,120252],"mapped",[99]],[[120253,120253],"mapped",[100]],[[120254,120254],"mapped",[101]],[[120255,120255],"mapped",[102]],[[120256,120256],"mapped",[103]],[[120257,120257],"mapped",[104]],[[120258,120258],"mapped",[105]],[[120259,120259],"mapped",[106]],[[120260,120260],"mapped",[107]],[[120261,120261],"mapped",[108]],[[120262,120262],"mapped",[109]],[[120263,120263],"mapped",[110]],[[120264,120264],"mapped",[111]],[[120265,120265],"mapped",[112]],[[120266,120266],"mapped",[113]],[[120267,120267],"mapped",[114]],[[120268,120268],"mapped",[115]],[[120269,120269],"mapped",[116]],[[120270,120270],"mapped",[117]],[[120271,120271],"mapped",[118]],[[120272,120272],"mapped",[119]],[[120273,120273],"mapped",[120]],[[120274,120274],"mapped",[121]],[[120275,120275],"mapped",[122]],[[120276,120276],"mapped",[97]],[[120277,120277],"mapped",[98]],[[120278,120278],"mapped",[99]],[[120279,120279],"mapped",[100]],[[120280,120280],"mapped",[101]],[[120281,120281],"mapped",[102]],[[120282,120282],"mapped",[103]],[[120283,120283],"mapped",[104]],[[120284,120284],"mapped",[105]],[[120285,120285],"mapped",[106]],[[120286,120286],"mapped",[107]],[[120287,120287],"mapped",[108]],[[120288,120288],"mapped",[109]],[[120289,120289],"mapped",[110]],[[120290,120290],"mapped",[111]],[[120291,120291],"mapped",[112]],[[120292,120292],"mapped",[113]],[[120293,120293],"mapped",[114]],[[120294,120294],"mapped",[115]],[[120295,120295],"mapped",[116]],[[120296,120296],"mapped",[117]],[[120297,120297],"mapped",[118]],[[120298,120298],"mapped",[119]],[[120299,120299],"mapped",[120]],[[120300,120300],"mapped",[121]],[[120301,120301],"mapped",[122]],[[120302,120302],"mapped",[97]],[[120303,120303],"mapped",[98]],[[120304,120304],"mapped",[99]],[[120305,120305],"mapped",[100]],[[120306,120306],"mapped",[101]],[[120307,120307],"mapped",[102]],[[120308,120308],"mapped",[103]],[[120309,120309],"mapped",[104]],[[120310,120310],"mapped",[105]],[[120311,120311],"mapped",[106]],[[120312,120312],"mapped",[107]],[[120313,120313],"mapped",[108]],[[120314,120314],"mapped",[109]],[[120315,120315],"mapped",[110]],[[120316,120316],"mapped",[111]],[[120317,120317],"mapped",[112]],[[120318,120318],"mapped",[113]],[[120319,120319],"mapped",[114]],[[120320,120320],"mapped",[115]],[[120321,120321],"mapped",[116]],[[120322,120322],"mapped",[117]],[[120323,120323],"mapped",[118]],[[120324,120324],"mapped",[119]],[[120325,120325],"mapped",[120]],[[120326,120326],"mapped",[121]],[[120327,120327],"mapped",[122]],[[120328,120328],"mapped",[97]],[[120329,120329],"mapped",[98]],[[120330,120330],"mapped",[99]],[[120331,120331],"mapped",[100]],[[120332,120332],"mapped",[101]],[[120333,120333],"mapped",[102]],[[120334,120334],"mapped",[103]],[[120335,120335],"mapped",[104]],[[120336,120336],"mapped",[105]],[[120337,120337],"mapped",[106]],[[120338,120338],"mapped",[107]],[[120339,120339],"mapped",[108]],[[120340,120340],"mapped",[109]],[[120341,120341],"mapped",[110]],[[120342,120342],"mapped",[111]],[[120343,120343],"mapped",[112]],[[120344,120344],"mapped",[113]],[[120345,120345],"mapped",[114]],[[120346,120346],"mapped",[115]],[[120347,120347],"mapped",[116]],[[120348,120348],"mapped",[117]],[[120349,120349],"mapped",[118]],[[120350,120350],"mapped",[119]],[[120351,120351],"mapped",[120]],[[120352,120352],"mapped",[121]],[[120353,120353],"mapped",[122]],[[120354,120354],"mapped",[97]],[[120355,120355],"mapped",[98]],[[120356,120356],"mapped",[99]],[[120357,120357],"mapped",[100]],[[120358,120358],"mapped",[101]],[[120359,120359],"mapped",[102]],[[120360,120360],"mapped",[103]],[[120361,120361],"mapped",[104]],[[120362,120362],"mapped",[105]],[[120363,120363],"mapped",[106]],[[120364,120364],"mapped",[107]],[[120365,120365],"mapped",[108]],[[120366,120366],"mapped",[109]],[[120367,120367],"mapped",[110]],[[120368,120368],"mapped",[111]],[[120369,120369],"mapped",[112]],[[120370,120370],"mapped",[113]],[[120371,120371],"mapped",[114]],[[120372,120372],"mapped",[115]],[[120373,120373],"mapped",[116]],[[120374,120374],"mapped",[117]],[[120375,120375],"mapped",[118]],[[120376,120376],"mapped",[119]],[[120377,120377],"mapped",[120]],[[120378,120378],"mapped",[121]],[[120379,120379],"mapped",[122]],[[120380,120380],"mapped",[97]],[[120381,120381],"mapped",[98]],[[120382,120382],"mapped",[99]],[[120383,120383],"mapped",[100]],[[120384,120384],"mapped",[101]],[[120385,120385],"mapped",[102]],[[120386,120386],"mapped",[103]],[[120387,120387],"mapped",[104]],[[120388,120388],"mapped",[105]],[[120389,120389],"mapped",[106]],[[120390,120390],"mapped",[107]],[[120391,120391],"mapped",[108]],[[120392,120392],"mapped",[109]],[[120393,120393],"mapped",[110]],[[120394,120394],"mapped",[111]],[[120395,120395],"mapped",[112]],[[120396,120396],"mapped",[113]],[[120397,120397],"mapped",[114]],[[120398,120398],"mapped",[115]],[[120399,120399],"mapped",[116]],[[120400,120400],"mapped",[117]],[[120401,120401],"mapped",[118]],[[120402,120402],"mapped",[119]],[[120403,120403],"mapped",[120]],[[120404,120404],"mapped",[121]],[[120405,120405],"mapped",[122]],[[120406,120406],"mapped",[97]],[[120407,120407],"mapped",[98]],[[120408,120408],"mapped",[99]],[[120409,120409],"mapped",[100]],[[120410,120410],"mapped",[101]],[[120411,120411],"mapped",[102]],[[120412,120412],"mapped",[103]],[[120413,120413],"mapped",[104]],[[120414,120414],"mapped",[105]],[[120415,120415],"mapped",[106]],[[120416,120416],"mapped",[107]],[[120417,120417],"mapped",[108]],[[120418,120418],"mapped",[109]],[[120419,120419],"mapped",[110]],[[120420,120420],"mapped",[111]],[[120421,120421],"mapped",[112]],[[120422,120422],"mapped",[113]],[[120423,120423],"mapped",[114]],[[120424,120424],"mapped",[115]],[[120425,120425],"mapped",[116]],[[120426,120426],"mapped",[117]],[[120427,120427],"mapped",[118]],[[120428,120428],"mapped",[119]],[[120429,120429],"mapped",[120]],[[120430,120430],"mapped",[121]],[[120431,120431],"mapped",[122]],[[120432,120432],"mapped",[97]],[[120433,120433],"mapped",[98]],[[120434,120434],"mapped",[99]],[[120435,120435],"mapped",[100]],[[120436,120436],"mapped",[101]],[[120437,120437],"mapped",[102]],[[120438,120438],"mapped",[103]],[[120439,120439],"mapped",[104]],[[120440,120440],"mapped",[105]],[[120441,120441],"mapped",[106]],[[120442,120442],"mapped",[107]],[[120443,120443],"mapped",[108]],[[120444,120444],"mapped",[109]],[[120445,120445],"mapped",[110]],[[120446,120446],"mapped",[111]],[[120447,120447],"mapped",[112]],[[120448,120448],"mapped",[113]],[[120449,120449],"mapped",[114]],[[120450,120450],"mapped",[115]],[[120451,120451],"mapped",[116]],[[120452,120452],"mapped",[117]],[[120453,120453],"mapped",[118]],[[120454,120454],"mapped",[119]],[[120455,120455],"mapped",[120]],[[120456,120456],"mapped",[121]],[[120457,120457],"mapped",[122]],[[120458,120458],"mapped",[97]],[[120459,120459],"mapped",[98]],[[120460,120460],"mapped",[99]],[[120461,120461],"mapped",[100]],[[120462,120462],"mapped",[101]],[[120463,120463],"mapped",[102]],[[120464,120464],"mapped",[103]],[[120465,120465],"mapped",[104]],[[120466,120466],"mapped",[105]],[[120467,120467],"mapped",[106]],[[120468,120468],"mapped",[107]],[[120469,120469],"mapped",[108]],[[120470,120470],"mapped",[109]],[[120471,120471],"mapped",[110]],[[120472,120472],"mapped",[111]],[[120473,120473],"mapped",[112]],[[120474,120474],"mapped",[113]],[[120475,120475],"mapped",[114]],[[120476,120476],"mapped",[115]],[[120477,120477],"mapped",[116]],[[120478,120478],"mapped",[117]],[[120479,120479],"mapped",[118]],[[120480,120480],"mapped",[119]],[[120481,120481],"mapped",[120]],[[120482,120482],"mapped",[121]],[[120483,120483],"mapped",[122]],[[120484,120484],"mapped",[305]],[[120485,120485],"mapped",[567]],[[120486,120487],"disallowed"],[[120488,120488],"mapped",[945]],[[120489,120489],"mapped",[946]],[[120490,120490],"mapped",[947]],[[120491,120491],"mapped",[948]],[[120492,120492],"mapped",[949]],[[120493,120493],"mapped",[950]],[[120494,120494],"mapped",[951]],[[120495,120495],"mapped",[952]],[[120496,120496],"mapped",[953]],[[120497,120497],"mapped",[954]],[[120498,120498],"mapped",[955]],[[120499,120499],"mapped",[956]],[[120500,120500],"mapped",[957]],[[120501,120501],"mapped",[958]],[[120502,120502],"mapped",[959]],[[120503,120503],"mapped",[960]],[[120504,120504],"mapped",[961]],[[120505,120505],"mapped",[952]],[[120506,120506],"mapped",[963]],[[120507,120507],"mapped",[964]],[[120508,120508],"mapped",[965]],[[120509,120509],"mapped",[966]],[[120510,120510],"mapped",[967]],[[120511,120511],"mapped",[968]],[[120512,120512],"mapped",[969]],[[120513,120513],"mapped",[8711]],[[120514,120514],"mapped",[945]],[[120515,120515],"mapped",[946]],[[120516,120516],"mapped",[947]],[[120517,120517],"mapped",[948]],[[120518,120518],"mapped",[949]],[[120519,120519],"mapped",[950]],[[120520,120520],"mapped",[951]],[[120521,120521],"mapped",[952]],[[120522,120522],"mapped",[953]],[[120523,120523],"mapped",[954]],[[120524,120524],"mapped",[955]],[[120525,120525],"mapped",[956]],[[120526,120526],"mapped",[957]],[[120527,120527],"mapped",[958]],[[120528,120528],"mapped",[959]],[[120529,120529],"mapped",[960]],[[120530,120530],"mapped",[961]],[[120531,120532],"mapped",[963]],[[120533,120533],"mapped",[964]],[[120534,120534],"mapped",[965]],[[120535,120535],"mapped",[966]],[[120536,120536],"mapped",[967]],[[120537,120537],"mapped",[968]],[[120538,120538],"mapped",[969]],[[120539,120539],"mapped",[8706]],[[120540,120540],"mapped",[949]],[[120541,120541],"mapped",[952]],[[120542,120542],"mapped",[954]],[[120543,120543],"mapped",[966]],[[120544,120544],"mapped",[961]],[[120545,120545],"mapped",[960]],[[120546,120546],"mapped",[945]],[[120547,120547],"mapped",[946]],[[120548,120548],"mapped",[947]],[[120549,120549],"mapped",[948]],[[120550,120550],"mapped",[949]],[[120551,120551],"mapped",[950]],[[120552,120552],"mapped",[951]],[[120553,120553],"mapped",[952]],[[120554,120554],"mapped",[953]],[[120555,120555],"mapped",[954]],[[120556,120556],"mapped",[955]],[[120557,120557],"mapped",[956]],[[120558,120558],"mapped",[957]],[[120559,120559],"mapped",[958]],[[120560,120560],"mapped",[959]],[[120561,120561],"mapped",[960]],[[120562,120562],"mapped",[961]],[[120563,120563],"mapped",[952]],[[120564,120564],"mapped",[963]],[[120565,120565],"mapped",[964]],[[120566,120566],"mapped",[965]],[[120567,120567],"mapped",[966]],[[120568,120568],"mapped",[967]],[[120569,120569],"mapped",[968]],[[120570,120570],"mapped",[969]],[[120571,120571],"mapped",[8711]],[[120572,120572],"mapped",[945]],[[120573,120573],"mapped",[946]],[[120574,120574],"mapped",[947]],[[120575,120575],"mapped",[948]],[[120576,120576],"mapped",[949]],[[120577,120577],"mapped",[950]],[[120578,120578],"mapped",[951]],[[120579,120579],"mapped",[952]],[[120580,120580],"mapped",[953]],[[120581,120581],"mapped",[954]],[[120582,120582],"mapped",[955]],[[120583,120583],"mapped",[956]],[[120584,120584],"mapped",[957]],[[120585,120585],"mapped",[958]],[[120586,120586],"mapped",[959]],[[120587,120587],"mapped",[960]],[[120588,120588],"mapped",[961]],[[120589,120590],"mapped",[963]],[[120591,120591],"mapped",[964]],[[120592,120592],"mapped",[965]],[[120593,120593],"mapped",[966]],[[120594,120594],"mapped",[967]],[[120595,120595],"mapped",[968]],[[120596,120596],"mapped",[969]],[[120597,120597],"mapped",[8706]],[[120598,120598],"mapped",[949]],[[120599,120599],"mapped",[952]],[[120600,120600],"mapped",[954]],[[120601,120601],"mapped",[966]],[[120602,120602],"mapped",[961]],[[120603,120603],"mapped",[960]],[[120604,120604],"mapped",[945]],[[120605,120605],"mapped",[946]],[[120606,120606],"mapped",[947]],[[120607,120607],"mapped",[948]],[[120608,120608],"mapped",[949]],[[120609,120609],"mapped",[950]],[[120610,120610],"mapped",[951]],[[120611,120611],"mapped",[952]],[[120612,120612],"mapped",[953]],[[120613,120613],"mapped",[954]],[[120614,120614],"mapped",[955]],[[120615,120615],"mapped",[956]],[[120616,120616],"mapped",[957]],[[120617,120617],"mapped",[958]],[[120618,120618],"mapped",[959]],[[120619,120619],"mapped",[960]],[[120620,120620],"mapped",[961]],[[120621,120621],"mapped",[952]],[[120622,120622],"mapped",[963]],[[120623,120623],"mapped",[964]],[[120624,120624],"mapped",[965]],[[120625,120625],"mapped",[966]],[[120626,120626],"mapped",[967]],[[120627,120627],"mapped",[968]],[[120628,120628],"mapped",[969]],[[120629,120629],"mapped",[8711]],[[120630,120630],"mapped",[945]],[[120631,120631],"mapped",[946]],[[120632,120632],"mapped",[947]],[[120633,120633],"mapped",[948]],[[120634,120634],"mapped",[949]],[[120635,120635],"mapped",[950]],[[120636,120636],"mapped",[951]],[[120637,120637],"mapped",[952]],[[120638,120638],"mapped",[953]],[[120639,120639],"mapped",[954]],[[120640,120640],"mapped",[955]],[[120641,120641],"mapped",[956]],[[120642,120642],"mapped",[957]],[[120643,120643],"mapped",[958]],[[120644,120644],"mapped",[959]],[[120645,120645],"mapped",[960]],[[120646,120646],"mapped",[961]],[[120647,120648],"mapped",[963]],[[120649,120649],"mapped",[964]],[[120650,120650],"mapped",[965]],[[120651,120651],"mapped",[966]],[[120652,120652],"mapped",[967]],[[120653,120653],"mapped",[968]],[[120654,120654],"mapped",[969]],[[120655,120655],"mapped",[8706]],[[120656,120656],"mapped",[949]],[[120657,120657],"mapped",[952]],[[120658,120658],"mapped",[954]],[[120659,120659],"mapped",[966]],[[120660,120660],"mapped",[961]],[[120661,120661],"mapped",[960]],[[120662,120662],"mapped",[945]],[[120663,120663],"mapped",[946]],[[120664,120664],"mapped",[947]],[[120665,120665],"mapped",[948]],[[120666,120666],"mapped",[949]],[[120667,120667],"mapped",[950]],[[120668,120668],"mapped",[951]],[[120669,120669],"mapped",[952]],[[120670,120670],"mapped",[953]],[[120671,120671],"mapped",[954]],[[120672,120672],"mapped",[955]],[[120673,120673],"mapped",[956]],[[120674,120674],"mapped",[957]],[[120675,120675],"mapped",[958]],[[120676,120676],"mapped",[959]],[[120677,120677],"mapped",[960]],[[120678,120678],"mapped",[961]],[[120679,120679],"mapped",[952]],[[120680,120680],"mapped",[963]],[[120681,120681],"mapped",[964]],[[120682,120682],"mapped",[965]],[[120683,120683],"mapped",[966]],[[120684,120684],"mapped",[967]],[[120685,120685],"mapped",[968]],[[120686,120686],"mapped",[969]],[[120687,120687],"mapped",[8711]],[[120688,120688],"mapped",[945]],[[120689,120689],"mapped",[946]],[[120690,120690],"mapped",[947]],[[120691,120691],"mapped",[948]],[[120692,120692],"mapped",[949]],[[120693,120693],"mapped",[950]],[[120694,120694],"mapped",[951]],[[120695,120695],"mapped",[952]],[[120696,120696],"mapped",[953]],[[120697,120697],"mapped",[954]],[[120698,120698],"mapped",[955]],[[120699,120699],"mapped",[956]],[[120700,120700],"mapped",[957]],[[120701,120701],"mapped",[958]],[[120702,120702],"mapped",[959]],[[120703,120703],"mapped",[960]],[[120704,120704],"mapped",[961]],[[120705,120706],"mapped",[963]],[[120707,120707],"mapped",[964]],[[120708,120708],"mapped",[965]],[[120709,120709],"mapped",[966]],[[120710,120710],"mapped",[967]],[[120711,120711],"mapped",[968]],[[120712,120712],"mapped",[969]],[[120713,120713],"mapped",[8706]],[[120714,120714],"mapped",[949]],[[120715,120715],"mapped",[952]],[[120716,120716],"mapped",[954]],[[120717,120717],"mapped",[966]],[[120718,120718],"mapped",[961]],[[120719,120719],"mapped",[960]],[[120720,120720],"mapped",[945]],[[120721,120721],"mapped",[946]],[[120722,120722],"mapped",[947]],[[120723,120723],"mapped",[948]],[[120724,120724],"mapped",[949]],[[120725,120725],"mapped",[950]],[[120726,120726],"mapped",[951]],[[120727,120727],"mapped",[952]],[[120728,120728],"mapped",[953]],[[120729,120729],"mapped",[954]],[[120730,120730],"mapped",[955]],[[120731,120731],"mapped",[956]],[[120732,120732],"mapped",[957]],[[120733,120733],"mapped",[958]],[[120734,120734],"mapped",[959]],[[120735,120735],"mapped",[960]],[[120736,120736],"mapped",[961]],[[120737,120737],"mapped",[952]],[[120738,120738],"mapped",[963]],[[120739,120739],"mapped",[964]],[[120740,120740],"mapped",[965]],[[120741,120741],"mapped",[966]],[[120742,120742],"mapped",[967]],[[120743,120743],"mapped",[968]],[[120744,120744],"mapped",[969]],[[120745,120745],"mapped",[8711]],[[120746,120746],"mapped",[945]],[[120747,120747],"mapped",[946]],[[120748,120748],"mapped",[947]],[[120749,120749],"mapped",[948]],[[120750,120750],"mapped",[949]],[[120751,120751],"mapped",[950]],[[120752,120752],"mapped",[951]],[[120753,120753],"mapped",[952]],[[120754,120754],"mapped",[953]],[[120755,120755],"mapped",[954]],[[120756,120756],"mapped",[955]],[[120757,120757],"mapped",[956]],[[120758,120758],"mapped",[957]],[[120759,120759],"mapped",[958]],[[120760,120760],"mapped",[959]],[[120761,120761],"mapped",[960]],[[120762,120762],"mapped",[961]],[[120763,120764],"mapped",[963]],[[120765,120765],"mapped",[964]],[[120766,120766],"mapped",[965]],[[120767,120767],"mapped",[966]],[[120768,120768],"mapped",[967]],[[120769,120769],"mapped",[968]],[[120770,120770],"mapped",[969]],[[120771,120771],"mapped",[8706]],[[120772,120772],"mapped",[949]],[[120773,120773],"mapped",[952]],[[120774,120774],"mapped",[954]],[[120775,120775],"mapped",[966]],[[120776,120776],"mapped",[961]],[[120777,120777],"mapped",[960]],[[120778,120779],"mapped",[989]],[[120780,120781],"disallowed"],[[120782,120782],"mapped",[48]],[[120783,120783],"mapped",[49]],[[120784,120784],"mapped",[50]],[[120785,120785],"mapped",[51]],[[120786,120786],"mapped",[52]],[[120787,120787],"mapped",[53]],[[120788,120788],"mapped",[54]],[[120789,120789],"mapped",[55]],[[120790,120790],"mapped",[56]],[[120791,120791],"mapped",[57]],[[120792,120792],"mapped",[48]],[[120793,120793],"mapped",[49]],[[120794,120794],"mapped",[50]],[[120795,120795],"mapped",[51]],[[120796,120796],"mapped",[52]],[[120797,120797],"mapped",[53]],[[120798,120798],"mapped",[54]],[[120799,120799],"mapped",[55]],[[120800,120800],"mapped",[56]],[[120801,120801],"mapped",[57]],[[120802,120802],"mapped",[48]],[[120803,120803],"mapped",[49]],[[120804,120804],"mapped",[50]],[[120805,120805],"mapped",[51]],[[120806,120806],"mapped",[52]],[[120807,120807],"mapped",[53]],[[120808,120808],"mapped",[54]],[[120809,120809],"mapped",[55]],[[120810,120810],"mapped",[56]],[[120811,120811],"mapped",[57]],[[120812,120812],"mapped",[48]],[[120813,120813],"mapped",[49]],[[120814,120814],"mapped",[50]],[[120815,120815],"mapped",[51]],[[120816,120816],"mapped",[52]],[[120817,120817],"mapped",[53]],[[120818,120818],"mapped",[54]],[[120819,120819],"mapped",[55]],[[120820,120820],"mapped",[56]],[[120821,120821],"mapped",[57]],[[120822,120822],"mapped",[48]],[[120823,120823],"mapped",[49]],[[120824,120824],"mapped",[50]],[[120825,120825],"mapped",[51]],[[120826,120826],"mapped",[52]],[[120827,120827],"mapped",[53]],[[120828,120828],"mapped",[54]],[[120829,120829],"mapped",[55]],[[120830,120830],"mapped",[56]],[[120831,120831],"mapped",[57]],[[120832,121343],"valid",[],"NV8"],[[121344,121398],"valid"],[[121399,121402],"valid",[],"NV8"],[[121403,121452],"valid"],[[121453,121460],"valid",[],"NV8"],[[121461,121461],"valid"],[[121462,121475],"valid",[],"NV8"],[[121476,121476],"valid"],[[121477,121483],"valid",[],"NV8"],[[121484,121498],"disallowed"],[[121499,121503],"valid"],[[121504,121504],"disallowed"],[[121505,121519],"valid"],[[121520,124927],"disallowed"],[[124928,125124],"valid"],[[125125,125126],"disallowed"],[[125127,125135],"valid",[],"NV8"],[[125136,125142],"valid"],[[125143,126463],"disallowed"],[[126464,126464],"mapped",[1575]],[[126465,126465],"mapped",[1576]],[[126466,126466],"mapped",[1580]],[[126467,126467],"mapped",[1583]],[[126468,126468],"disallowed"],[[126469,126469],"mapped",[1608]],[[126470,126470],"mapped",[1586]],[[126471,126471],"mapped",[1581]],[[126472,126472],"mapped",[1591]],[[126473,126473],"mapped",[1610]],[[126474,126474],"mapped",[1603]],[[126475,126475],"mapped",[1604]],[[126476,126476],"mapped",[1605]],[[126477,126477],"mapped",[1606]],[[126478,126478],"mapped",[1587]],[[126479,126479],"mapped",[1593]],[[126480,126480],"mapped",[1601]],[[126481,126481],"mapped",[1589]],[[126482,126482],"mapped",[1602]],[[126483,126483],"mapped",[1585]],[[126484,126484],"mapped",[1588]],[[126485,126485],"mapped",[1578]],[[126486,126486],"mapped",[1579]],[[126487,126487],"mapped",[1582]],[[126488,126488],"mapped",[1584]],[[126489,126489],"mapped",[1590]],[[126490,126490],"mapped",[1592]],[[126491,126491],"mapped",[1594]],[[126492,126492],"mapped",[1646]],[[126493,126493],"mapped",[1722]],[[126494,126494],"mapped",[1697]],[[126495,126495],"mapped",[1647]],[[126496,126496],"disallowed"],[[126497,126497],"mapped",[1576]],[[126498,126498],"mapped",[1580]],[[126499,126499],"disallowed"],[[126500,126500],"mapped",[1607]],[[126501,126502],"disallowed"],[[126503,126503],"mapped",[1581]],[[126504,126504],"disallowed"],[[126505,126505],"mapped",[1610]],[[126506,126506],"mapped",[1603]],[[126507,126507],"mapped",[1604]],[[126508,126508],"mapped",[1605]],[[126509,126509],"mapped",[1606]],[[126510,126510],"mapped",[1587]],[[126511,126511],"mapped",[1593]],[[126512,126512],"mapped",[1601]],[[126513,126513],"mapped",[1589]],[[126514,126514],"mapped",[1602]],[[126515,126515],"disallowed"],[[126516,126516],"mapped",[1588]],[[126517,126517],"mapped",[1578]],[[126518,126518],"mapped",[1579]],[[126519,126519],"mapped",[1582]],[[126520,126520],"disallowed"],[[126521,126521],"mapped",[1590]],[[126522,126522],"disallowed"],[[126523,126523],"mapped",[1594]],[[126524,126529],"disallowed"],[[126530,126530],"mapped",[1580]],[[126531,126534],"disallowed"],[[126535,126535],"mapped",[1581]],[[126536,126536],"disallowed"],[[126537,126537],"mapped",[1610]],[[126538,126538],"disallowed"],[[126539,126539],"mapped",[1604]],[[126540,126540],"disallowed"],[[126541,126541],"mapped",[1606]],[[126542,126542],"mapped",[1587]],[[126543,126543],"mapped",[1593]],[[126544,126544],"disallowed"],[[126545,126545],"mapped",[1589]],[[126546,126546],"mapped",[1602]],[[126547,126547],"disallowed"],[[126548,126548],"mapped",[1588]],[[126549,126550],"disallowed"],[[126551,126551],"mapped",[1582]],[[126552,126552],"disallowed"],[[126553,126553],"mapped",[1590]],[[126554,126554],"disallowed"],[[126555,126555],"mapped",[1594]],[[126556,126556],"disallowed"],[[126557,126557],"mapped",[1722]],[[126558,126558],"disallowed"],[[126559,126559],"mapped",[1647]],[[126560,126560],"disallowed"],[[126561,126561],"mapped",[1576]],[[126562,126562],"mapped",[1580]],[[126563,126563],"disallowed"],[[126564,126564],"mapped",[1607]],[[126565,126566],"disallowed"],[[126567,126567],"mapped",[1581]],[[126568,126568],"mapped",[1591]],[[126569,126569],"mapped",[1610]],[[126570,126570],"mapped",[1603]],[[126571,126571],"disallowed"],[[126572,126572],"mapped",[1605]],[[126573,126573],"mapped",[1606]],[[126574,126574],"mapped",[1587]],[[126575,126575],"mapped",[1593]],[[126576,126576],"mapped",[1601]],[[126577,126577],"mapped",[1589]],[[126578,126578],"mapped",[1602]],[[126579,126579],"disallowed"],[[126580,126580],"mapped",[1588]],[[126581,126581],"mapped",[1578]],[[126582,126582],"mapped",[1579]],[[126583,126583],"mapped",[1582]],[[126584,126584],"disallowed"],[[126585,126585],"mapped",[1590]],[[126586,126586],"mapped",[1592]],[[126587,126587],"mapped",[1594]],[[126588,126588],"mapped",[1646]],[[126589,126589],"disallowed"],[[126590,126590],"mapped",[1697]],[[126591,126591],"disallowed"],[[126592,126592],"mapped",[1575]],[[126593,126593],"mapped",[1576]],[[126594,126594],"mapped",[1580]],[[126595,126595],"mapped",[1583]],[[126596,126596],"mapped",[1607]],[[126597,126597],"mapped",[1608]],[[126598,126598],"mapped",[1586]],[[126599,126599],"mapped",[1581]],[[126600,126600],"mapped",[1591]],[[126601,126601],"mapped",[1610]],[[126602,126602],"disallowed"],[[126603,126603],"mapped",[1604]],[[126604,126604],"mapped",[1605]],[[126605,126605],"mapped",[1606]],[[126606,126606],"mapped",[1587]],[[126607,126607],"mapped",[1593]],[[126608,126608],"mapped",[1601]],[[126609,126609],"mapped",[1589]],[[126610,126610],"mapped",[1602]],[[126611,126611],"mapped",[1585]],[[126612,126612],"mapped",[1588]],[[126613,126613],"mapped",[1578]],[[126614,126614],"mapped",[1579]],[[126615,126615],"mapped",[1582]],[[126616,126616],"mapped",[1584]],[[126617,126617],"mapped",[1590]],[[126618,126618],"mapped",[1592]],[[126619,126619],"mapped",[1594]],[[126620,126624],"disallowed"],[[126625,126625],"mapped",[1576]],[[126626,126626],"mapped",[1580]],[[126627,126627],"mapped",[1583]],[[126628,126628],"disallowed"],[[126629,126629],"mapped",[1608]],[[126630,126630],"mapped",[1586]],[[126631,126631],"mapped",[1581]],[[126632,126632],"mapped",[1591]],[[126633,126633],"mapped",[1610]],[[126634,126634],"disallowed"],[[126635,126635],"mapped",[1604]],[[126636,126636],"mapped",[1605]],[[126637,126637],"mapped",[1606]],[[126638,126638],"mapped",[1587]],[[126639,126639],"mapped",[1593]],[[126640,126640],"mapped",[1601]],[[126641,126641],"mapped",[1589]],[[126642,126642],"mapped",[1602]],[[126643,126643],"mapped",[1585]],[[126644,126644],"mapped",[1588]],[[126645,126645],"mapped",[1578]],[[126646,126646],"mapped",[1579]],[[126647,126647],"mapped",[1582]],[[126648,126648],"mapped",[1584]],[[126649,126649],"mapped",[1590]],[[126650,126650],"mapped",[1592]],[[126651,126651],"mapped",[1594]],[[126652,126703],"disallowed"],[[126704,126705],"valid",[],"NV8"],[[126706,126975],"disallowed"],[[126976,127019],"valid",[],"NV8"],[[127020,127023],"disallowed"],[[127024,127123],"valid",[],"NV8"],[[127124,127135],"disallowed"],[[127136,127150],"valid",[],"NV8"],[[127151,127152],"disallowed"],[[127153,127166],"valid",[],"NV8"],[[127167,127167],"valid",[],"NV8"],[[127168,127168],"disallowed"],[[127169,127183],"valid",[],"NV8"],[[127184,127184],"disallowed"],[[127185,127199],"valid",[],"NV8"],[[127200,127221],"valid",[],"NV8"],[[127222,127231],"disallowed"],[[127232,127232],"disallowed"],[[127233,127233],"disallowed_STD3_mapped",[48,44]],[[127234,127234],"disallowed_STD3_mapped",[49,44]],[[127235,127235],"disallowed_STD3_mapped",[50,44]],[[127236,127236],"disallowed_STD3_mapped",[51,44]],[[127237,127237],"disallowed_STD3_mapped",[52,44]],[[127238,127238],"disallowed_STD3_mapped",[53,44]],[[127239,127239],"disallowed_STD3_mapped",[54,44]],[[127240,127240],"disallowed_STD3_mapped",[55,44]],[[127241,127241],"disallowed_STD3_mapped",[56,44]],[[127242,127242],"disallowed_STD3_mapped",[57,44]],[[127243,127244],"valid",[],"NV8"],[[127245,127247],"disallowed"],[[127248,127248],"disallowed_STD3_mapped",[40,97,41]],[[127249,127249],"disallowed_STD3_mapped",[40,98,41]],[[127250,127250],"disallowed_STD3_mapped",[40,99,41]],[[127251,127251],"disallowed_STD3_mapped",[40,100,41]],[[127252,127252],"disallowed_STD3_mapped",[40,101,41]],[[127253,127253],"disallowed_STD3_mapped",[40,102,41]],[[127254,127254],"disallowed_STD3_mapped",[40,103,41]],[[127255,127255],"disallowed_STD3_mapped",[40,104,41]],[[127256,127256],"disallowed_STD3_mapped",[40,105,41]],[[127257,127257],"disallowed_STD3_mapped",[40,106,41]],[[127258,127258],"disallowed_STD3_mapped",[40,107,41]],[[127259,127259],"disallowed_STD3_mapped",[40,108,41]],[[127260,127260],"disallowed_STD3_mapped",[40,109,41]],[[127261,127261],"disallowed_STD3_mapped",[40,110,41]],[[127262,127262],"disallowed_STD3_mapped",[40,111,41]],[[127263,127263],"disallowed_STD3_mapped",[40,112,41]],[[127264,127264],"disallowed_STD3_mapped",[40,113,41]],[[127265,127265],"disallowed_STD3_mapped",[40,114,41]],[[127266,127266],"disallowed_STD3_mapped",[40,115,41]],[[127267,127267],"disallowed_STD3_mapped",[40,116,41]],[[127268,127268],"disallowed_STD3_mapped",[40,117,41]],[[127269,127269],"disallowed_STD3_mapped",[40,118,41]],[[127270,127270],"disallowed_STD3_mapped",[40,119,41]],[[127271,127271],"disallowed_STD3_mapped",[40,120,41]],[[127272,127272],"disallowed_STD3_mapped",[40,121,41]],[[127273,127273],"disallowed_STD3_mapped",[40,122,41]],[[127274,127274],"mapped",[12308,115,12309]],[[127275,127275],"mapped",[99]],[[127276,127276],"mapped",[114]],[[127277,127277],"mapped",[99,100]],[[127278,127278],"mapped",[119,122]],[[127279,127279],"disallowed"],[[127280,127280],"mapped",[97]],[[127281,127281],"mapped",[98]],[[127282,127282],"mapped",[99]],[[127283,127283],"mapped",[100]],[[127284,127284],"mapped",[101]],[[127285,127285],"mapped",[102]],[[127286,127286],"mapped",[103]],[[127287,127287],"mapped",[104]],[[127288,127288],"mapped",[105]],[[127289,127289],"mapped",[106]],[[127290,127290],"mapped",[107]],[[127291,127291],"mapped",[108]],[[127292,127292],"mapped",[109]],[[127293,127293],"mapped",[110]],[[127294,127294],"mapped",[111]],[[127295,127295],"mapped",[112]],[[127296,127296],"mapped",[113]],[[127297,127297],"mapped",[114]],[[127298,127298],"mapped",[115]],[[127299,127299],"mapped",[116]],[[127300,127300],"mapped",[117]],[[127301,127301],"mapped",[118]],[[127302,127302],"mapped",[119]],[[127303,127303],"mapped",[120]],[[127304,127304],"mapped",[121]],[[127305,127305],"mapped",[122]],[[127306,127306],"mapped",[104,118]],[[127307,127307],"mapped",[109,118]],[[127308,127308],"mapped",[115,100]],[[127309,127309],"mapped",[115,115]],[[127310,127310],"mapped",[112,112,118]],[[127311,127311],"mapped",[119,99]],[[127312,127318],"valid",[],"NV8"],[[127319,127319],"valid",[],"NV8"],[[127320,127326],"valid",[],"NV8"],[[127327,127327],"valid",[],"NV8"],[[127328,127337],"valid",[],"NV8"],[[127338,127338],"mapped",[109,99]],[[127339,127339],"mapped",[109,100]],[[127340,127343],"disallowed"],[[127344,127352],"valid",[],"NV8"],[[127353,127353],"valid",[],"NV8"],[[127354,127354],"valid",[],"NV8"],[[127355,127356],"valid",[],"NV8"],[[127357,127358],"valid",[],"NV8"],[[127359,127359],"valid",[],"NV8"],[[127360,127369],"valid",[],"NV8"],[[127370,127373],"valid",[],"NV8"],[[127374,127375],"valid",[],"NV8"],[[127376,127376],"mapped",[100,106]],[[127377,127386],"valid",[],"NV8"],[[127387,127461],"disallowed"],[[127462,127487],"valid",[],"NV8"],[[127488,127488],"mapped",[12411,12363]],[[127489,127489],"mapped",[12467,12467]],[[127490,127490],"mapped",[12469]],[[127491,127503],"disallowed"],[[127504,127504],"mapped",[25163]],[[127505,127505],"mapped",[23383]],[[127506,127506],"mapped",[21452]],[[127507,127507],"mapped",[12487]],[[127508,127508],"mapped",[20108]],[[127509,127509],"mapped",[22810]],[[127510,127510],"mapped",[35299]],[[127511,127511],"mapped",[22825]],[[127512,127512],"mapped",[20132]],[[127513,127513],"mapped",[26144]],[[127514,127514],"mapped",[28961]],[[127515,127515],"mapped",[26009]],[[127516,127516],"mapped",[21069]],[[127517,127517],"mapped",[24460]],[[127518,127518],"mapped",[20877]],[[127519,127519],"mapped",[26032]],[[127520,127520],"mapped",[21021]],[[127521,127521],"mapped",[32066]],[[127522,127522],"mapped",[29983]],[[127523,127523],"mapped",[36009]],[[127524,127524],"mapped",[22768]],[[127525,127525],"mapped",[21561]],[[127526,127526],"mapped",[28436]],[[127527,127527],"mapped",[25237]],[[127528,127528],"mapped",[25429]],[[127529,127529],"mapped",[19968]],[[127530,127530],"mapped",[19977]],[[127531,127531],"mapped",[36938]],[[127532,127532],"mapped",[24038]],[[127533,127533],"mapped",[20013]],[[127534,127534],"mapped",[21491]],[[127535,127535],"mapped",[25351]],[[127536,127536],"mapped",[36208]],[[127537,127537],"mapped",[25171]],[[127538,127538],"mapped",[31105]],[[127539,127539],"mapped",[31354]],[[127540,127540],"mapped",[21512]],[[127541,127541],"mapped",[28288]],[[127542,127542],"mapped",[26377]],[[127543,127543],"mapped",[26376]],[[127544,127544],"mapped",[30003]],[[127545,127545],"mapped",[21106]],[[127546,127546],"mapped",[21942]],[[127547,127551],"disallowed"],[[127552,127552],"mapped",[12308,26412,12309]],[[127553,127553],"mapped",[12308,19977,12309]],[[127554,127554],"mapped",[12308,20108,12309]],[[127555,127555],"mapped",[12308,23433,12309]],[[127556,127556],"mapped",[12308,28857,12309]],[[127557,127557],"mapped",[12308,25171,12309]],[[127558,127558],"mapped",[12308,30423,12309]],[[127559,127559],"mapped",[12308,21213,12309]],[[127560,127560],"mapped",[12308,25943,12309]],[[127561,127567],"disallowed"],[[127568,127568],"mapped",[24471]],[[127569,127569],"mapped",[21487]],[[127570,127743],"disallowed"],[[127744,127776],"valid",[],"NV8"],[[127777,127788],"valid",[],"NV8"],[[127789,127791],"valid",[],"NV8"],[[127792,127797],"valid",[],"NV8"],[[127798,127798],"valid",[],"NV8"],[[127799,127868],"valid",[],"NV8"],[[127869,127869],"valid",[],"NV8"],[[127870,127871],"valid",[],"NV8"],[[127872,127891],"valid",[],"NV8"],[[127892,127903],"valid",[],"NV8"],[[127904,127940],"valid",[],"NV8"],[[127941,127941],"valid",[],"NV8"],[[127942,127946],"valid",[],"NV8"],[[127947,127950],"valid",[],"NV8"],[[127951,127955],"valid",[],"NV8"],[[127956,127967],"valid",[],"NV8"],[[127968,127984],"valid",[],"NV8"],[[127985,127991],"valid",[],"NV8"],[[127992,127999],"valid",[],"NV8"],[[128e3,128062],"valid",[],"NV8"],[[128063,128063],"valid",[],"NV8"],[[128064,128064],"valid",[],"NV8"],[[128065,128065],"valid",[],"NV8"],[[128066,128247],"valid",[],"NV8"],[[128248,128248],"valid",[],"NV8"],[[128249,128252],"valid",[],"NV8"],[[128253,128254],"valid",[],"NV8"],[[128255,128255],"valid",[],"NV8"],[[128256,128317],"valid",[],"NV8"],[[128318,128319],"valid",[],"NV8"],[[128320,128323],"valid",[],"NV8"],[[128324,128330],"valid",[],"NV8"],[[128331,128335],"valid",[],"NV8"],[[128336,128359],"valid",[],"NV8"],[[128360,128377],"valid",[],"NV8"],[[128378,128378],"disallowed"],[[128379,128419],"valid",[],"NV8"],[[128420,128420],"disallowed"],[[128421,128506],"valid",[],"NV8"],[[128507,128511],"valid",[],"NV8"],[[128512,128512],"valid",[],"NV8"],[[128513,128528],"valid",[],"NV8"],[[128529,128529],"valid",[],"NV8"],[[128530,128532],"valid",[],"NV8"],[[128533,128533],"valid",[],"NV8"],[[128534,128534],"valid",[],"NV8"],[[128535,128535],"valid",[],"NV8"],[[128536,128536],"valid",[],"NV8"],[[128537,128537],"valid",[],"NV8"],[[128538,128538],"valid",[],"NV8"],[[128539,128539],"valid",[],"NV8"],[[128540,128542],"valid",[],"NV8"],[[128543,128543],"valid",[],"NV8"],[[128544,128549],"valid",[],"NV8"],[[128550,128551],"valid",[],"NV8"],[[128552,128555],"valid",[],"NV8"],[[128556,128556],"valid",[],"NV8"],[[128557,128557],"valid",[],"NV8"],[[128558,128559],"valid",[],"NV8"],[[128560,128563],"valid",[],"NV8"],[[128564,128564],"valid",[],"NV8"],[[128565,128576],"valid",[],"NV8"],[[128577,128578],"valid",[],"NV8"],[[128579,128580],"valid",[],"NV8"],[[128581,128591],"valid",[],"NV8"],[[128592,128639],"valid",[],"NV8"],[[128640,128709],"valid",[],"NV8"],[[128710,128719],"valid",[],"NV8"],[[128720,128720],"valid",[],"NV8"],[[128721,128735],"disallowed"],[[128736,128748],"valid",[],"NV8"],[[128749,128751],"disallowed"],[[128752,128755],"valid",[],"NV8"],[[128756,128767],"disallowed"],[[128768,128883],"valid",[],"NV8"],[[128884,128895],"disallowed"],[[128896,128980],"valid",[],"NV8"],[[128981,129023],"disallowed"],[[129024,129035],"valid",[],"NV8"],[[129036,129039],"disallowed"],[[129040,129095],"valid",[],"NV8"],[[129096,129103],"disallowed"],[[129104,129113],"valid",[],"NV8"],[[129114,129119],"disallowed"],[[129120,129159],"valid",[],"NV8"],[[129160,129167],"disallowed"],[[129168,129197],"valid",[],"NV8"],[[129198,129295],"disallowed"],[[129296,129304],"valid",[],"NV8"],[[129305,129407],"disallowed"],[[129408,129412],"valid",[],"NV8"],[[129413,129471],"disallowed"],[[129472,129472],"valid",[],"NV8"],[[129473,131069],"disallowed"],[[131070,131071],"disallowed"],[[131072,173782],"valid"],[[173783,173823],"disallowed"],[[173824,177972],"valid"],[[177973,177983],"disallowed"],[[177984,178205],"valid"],[[178206,178207],"disallowed"],[[178208,183969],"valid"],[[183970,194559],"disallowed"],[[194560,194560],"mapped",[20029]],[[194561,194561],"mapped",[20024]],[[194562,194562],"mapped",[20033]],[[194563,194563],"mapped",[131362]],[[194564,194564],"mapped",[20320]],[[194565,194565],"mapped",[20398]],[[194566,194566],"mapped",[20411]],[[194567,194567],"mapped",[20482]],[[194568,194568],"mapped",[20602]],[[194569,194569],"mapped",[20633]],[[194570,194570],"mapped",[20711]],[[194571,194571],"mapped",[20687]],[[194572,194572],"mapped",[13470]],[[194573,194573],"mapped",[132666]],[[194574,194574],"mapped",[20813]],[[194575,194575],"mapped",[20820]],[[194576,194576],"mapped",[20836]],[[194577,194577],"mapped",[20855]],[[194578,194578],"mapped",[132380]],[[194579,194579],"mapped",[13497]],[[194580,194580],"mapped",[20839]],[[194581,194581],"mapped",[20877]],[[194582,194582],"mapped",[132427]],[[194583,194583],"mapped",[20887]],[[194584,194584],"mapped",[20900]],[[194585,194585],"mapped",[20172]],[[194586,194586],"mapped",[20908]],[[194587,194587],"mapped",[20917]],[[194588,194588],"mapped",[168415]],[[194589,194589],"mapped",[20981]],[[194590,194590],"mapped",[20995]],[[194591,194591],"mapped",[13535]],[[194592,194592],"mapped",[21051]],[[194593,194593],"mapped",[21062]],[[194594,194594],"mapped",[21106]],[[194595,194595],"mapped",[21111]],[[194596,194596],"mapped",[13589]],[[194597,194597],"mapped",[21191]],[[194598,194598],"mapped",[21193]],[[194599,194599],"mapped",[21220]],[[194600,194600],"mapped",[21242]],[[194601,194601],"mapped",[21253]],[[194602,194602],"mapped",[21254]],[[194603,194603],"mapped",[21271]],[[194604,194604],"mapped",[21321]],[[194605,194605],"mapped",[21329]],[[194606,194606],"mapped",[21338]],[[194607,194607],"mapped",[21363]],[[194608,194608],"mapped",[21373]],[[194609,194611],"mapped",[21375]],[[194612,194612],"mapped",[133676]],[[194613,194613],"mapped",[28784]],[[194614,194614],"mapped",[21450]],[[194615,194615],"mapped",[21471]],[[194616,194616],"mapped",[133987]],[[194617,194617],"mapped",[21483]],[[194618,194618],"mapped",[21489]],[[194619,194619],"mapped",[21510]],[[194620,194620],"mapped",[21662]],[[194621,194621],"mapped",[21560]],[[194622,194622],"mapped",[21576]],[[194623,194623],"mapped",[21608]],[[194624,194624],"mapped",[21666]],[[194625,194625],"mapped",[21750]],[[194626,194626],"mapped",[21776]],[[194627,194627],"mapped",[21843]],[[194628,194628],"mapped",[21859]],[[194629,194630],"mapped",[21892]],[[194631,194631],"mapped",[21913]],[[194632,194632],"mapped",[21931]],[[194633,194633],"mapped",[21939]],[[194634,194634],"mapped",[21954]],[[194635,194635],"mapped",[22294]],[[194636,194636],"mapped",[22022]],[[194637,194637],"mapped",[22295]],[[194638,194638],"mapped",[22097]],[[194639,194639],"mapped",[22132]],[[194640,194640],"mapped",[20999]],[[194641,194641],"mapped",[22766]],[[194642,194642],"mapped",[22478]],[[194643,194643],"mapped",[22516]],[[194644,194644],"mapped",[22541]],[[194645,194645],"mapped",[22411]],[[194646,194646],"mapped",[22578]],[[194647,194647],"mapped",[22577]],[[194648,194648],"mapped",[22700]],[[194649,194649],"mapped",[136420]],[[194650,194650],"mapped",[22770]],[[194651,194651],"mapped",[22775]],[[194652,194652],"mapped",[22790]],[[194653,194653],"mapped",[22810]],[[194654,194654],"mapped",[22818]],[[194655,194655],"mapped",[22882]],[[194656,194656],"mapped",[136872]],[[194657,194657],"mapped",[136938]],[[194658,194658],"mapped",[23020]],[[194659,194659],"mapped",[23067]],[[194660,194660],"mapped",[23079]],[[194661,194661],"mapped",[23e3]],[[194662,194662],"mapped",[23142]],[[194663,194663],"mapped",[14062]],[[194664,194664],"disallowed"],[[194665,194665],"mapped",[23304]],[[194666,194667],"mapped",[23358]],[[194668,194668],"mapped",[137672]],[[194669,194669],"mapped",[23491]],[[194670,194670],"mapped",[23512]],[[194671,194671],"mapped",[23527]],[[194672,194672],"mapped",[23539]],[[194673,194673],"mapped",[138008]],[[194674,194674],"mapped",[23551]],[[194675,194675],"mapped",[23558]],[[194676,194676],"disallowed"],[[194677,194677],"mapped",[23586]],[[194678,194678],"mapped",[14209]],[[194679,194679],"mapped",[23648]],[[194680,194680],"mapped",[23662]],[[194681,194681],"mapped",[23744]],[[194682,194682],"mapped",[23693]],[[194683,194683],"mapped",[138724]],[[194684,194684],"mapped",[23875]],[[194685,194685],"mapped",[138726]],[[194686,194686],"mapped",[23918]],[[194687,194687],"mapped",[23915]],[[194688,194688],"mapped",[23932]],[[194689,194689],"mapped",[24033]],[[194690,194690],"mapped",[24034]],[[194691,194691],"mapped",[14383]],[[194692,194692],"mapped",[24061]],[[194693,194693],"mapped",[24104]],[[194694,194694],"mapped",[24125]],[[194695,194695],"mapped",[24169]],[[194696,194696],"mapped",[14434]],[[194697,194697],"mapped",[139651]],[[194698,194698],"mapped",[14460]],[[194699,194699],"mapped",[24240]],[[194700,194700],"mapped",[24243]],[[194701,194701],"mapped",[24246]],[[194702,194702],"mapped",[24266]],[[194703,194703],"mapped",[172946]],[[194704,194704],"mapped",[24318]],[[194705,194706],"mapped",[140081]],[[194707,194707],"mapped",[33281]],[[194708,194709],"mapped",[24354]],[[194710,194710],"mapped",[14535]],[[194711,194711],"mapped",[144056]],[[194712,194712],"mapped",[156122]],[[194713,194713],"mapped",[24418]],[[194714,194714],"mapped",[24427]],[[194715,194715],"mapped",[14563]],[[194716,194716],"mapped",[24474]],[[194717,194717],"mapped",[24525]],[[194718,194718],"mapped",[24535]],[[194719,194719],"mapped",[24569]],[[194720,194720],"mapped",[24705]],[[194721,194721],"mapped",[14650]],[[194722,194722],"mapped",[14620]],[[194723,194723],"mapped",[24724]],[[194724,194724],"mapped",[141012]],[[194725,194725],"mapped",[24775]],[[194726,194726],"mapped",[24904]],[[194727,194727],"mapped",[24908]],[[194728,194728],"mapped",[24910]],[[194729,194729],"mapped",[24908]],[[194730,194730],"mapped",[24954]],[[194731,194731],"mapped",[24974]],[[194732,194732],"mapped",[25010]],[[194733,194733],"mapped",[24996]],[[194734,194734],"mapped",[25007]],[[194735,194735],"mapped",[25054]],[[194736,194736],"mapped",[25074]],[[194737,194737],"mapped",[25078]],[[194738,194738],"mapped",[25104]],[[194739,194739],"mapped",[25115]],[[194740,194740],"mapped",[25181]],[[194741,194741],"mapped",[25265]],[[194742,194742],"mapped",[25300]],[[194743,194743],"mapped",[25424]],[[194744,194744],"mapped",[142092]],[[194745,194745],"mapped",[25405]],[[194746,194746],"mapped",[25340]],[[194747,194747],"mapped",[25448]],[[194748,194748],"mapped",[25475]],[[194749,194749],"mapped",[25572]],[[194750,194750],"mapped",[142321]],[[194751,194751],"mapped",[25634]],[[194752,194752],"mapped",[25541]],[[194753,194753],"mapped",[25513]],[[194754,194754],"mapped",[14894]],[[194755,194755],"mapped",[25705]],[[194756,194756],"mapped",[25726]],[[194757,194757],"mapped",[25757]],[[194758,194758],"mapped",[25719]],[[194759,194759],"mapped",[14956]],[[194760,194760],"mapped",[25935]],[[194761,194761],"mapped",[25964]],[[194762,194762],"mapped",[143370]],[[194763,194763],"mapped",[26083]],[[194764,194764],"mapped",[26360]],[[194765,194765],"mapped",[26185]],[[194766,194766],"mapped",[15129]],[[194767,194767],"mapped",[26257]],[[194768,194768],"mapped",[15112]],[[194769,194769],"mapped",[15076]],[[194770,194770],"mapped",[20882]],[[194771,194771],"mapped",[20885]],[[194772,194772],"mapped",[26368]],[[194773,194773],"mapped",[26268]],[[194774,194774],"mapped",[32941]],[[194775,194775],"mapped",[17369]],[[194776,194776],"mapped",[26391]],[[194777,194777],"mapped",[26395]],[[194778,194778],"mapped",[26401]],[[194779,194779],"mapped",[26462]],[[194780,194780],"mapped",[26451]],[[194781,194781],"mapped",[144323]],[[194782,194782],"mapped",[15177]],[[194783,194783],"mapped",[26618]],[[194784,194784],"mapped",[26501]],[[194785,194785],"mapped",[26706]],[[194786,194786],"mapped",[26757]],[[194787,194787],"mapped",[144493]],[[194788,194788],"mapped",[26766]],[[194789,194789],"mapped",[26655]],[[194790,194790],"mapped",[26900]],[[194791,194791],"mapped",[15261]],[[194792,194792],"mapped",[26946]],[[194793,194793],"mapped",[27043]],[[194794,194794],"mapped",[27114]],[[194795,194795],"mapped",[27304]],[[194796,194796],"mapped",[145059]],[[194797,194797],"mapped",[27355]],[[194798,194798],"mapped",[15384]],[[194799,194799],"mapped",[27425]],[[194800,194800],"mapped",[145575]],[[194801,194801],"mapped",[27476]],[[194802,194802],"mapped",[15438]],[[194803,194803],"mapped",[27506]],[[194804,194804],"mapped",[27551]],[[194805,194805],"mapped",[27578]],[[194806,194806],"mapped",[27579]],[[194807,194807],"mapped",[146061]],[[194808,194808],"mapped",[138507]],[[194809,194809],"mapped",[146170]],[[194810,194810],"mapped",[27726]],[[194811,194811],"mapped",[146620]],[[194812,194812],"mapped",[27839]],[[194813,194813],"mapped",[27853]],[[194814,194814],"mapped",[27751]],[[194815,194815],"mapped",[27926]],[[194816,194816],"mapped",[27966]],[[194817,194817],"mapped",[28023]],[[194818,194818],"mapped",[27969]],[[194819,194819],"mapped",[28009]],[[194820,194820],"mapped",[28024]],[[194821,194821],"mapped",[28037]],[[194822,194822],"mapped",[146718]],[[194823,194823],"mapped",[27956]],[[194824,194824],"mapped",[28207]],[[194825,194825],"mapped",[28270]],[[194826,194826],"mapped",[15667]],[[194827,194827],"mapped",[28363]],[[194828,194828],"mapped",[28359]],[[194829,194829],"mapped",[147153]],[[194830,194830],"mapped",[28153]],[[194831,194831],"mapped",[28526]],[[194832,194832],"mapped",[147294]],[[194833,194833],"mapped",[147342]],[[194834,194834],"mapped",[28614]],[[194835,194835],"mapped",[28729]],[[194836,194836],"mapped",[28702]],[[194837,194837],"mapped",[28699]],[[194838,194838],"mapped",[15766]],[[194839,194839],"mapped",[28746]],[[194840,194840],"mapped",[28797]],[[194841,194841],"mapped",[28791]],[[194842,194842],"mapped",[28845]],[[194843,194843],"mapped",[132389]],[[194844,194844],"mapped",[28997]],[[194845,194845],"mapped",[148067]],[[194846,194846],"mapped",[29084]],[[194847,194847],"disallowed"],[[194848,194848],"mapped",[29224]],[[194849,194849],"mapped",[29237]],[[194850,194850],"mapped",[29264]],[[194851,194851],"mapped",[149e3]],[[194852,194852],"mapped",[29312]],[[194853,194853],"mapped",[29333]],[[194854,194854],"mapped",[149301]],[[194855,194855],"mapped",[149524]],[[194856,194856],"mapped",[29562]],[[194857,194857],"mapped",[29579]],[[194858,194858],"mapped",[16044]],[[194859,194859],"mapped",[29605]],[[194860,194861],"mapped",[16056]],[[194862,194862],"mapped",[29767]],[[194863,194863],"mapped",[29788]],[[194864,194864],"mapped",[29809]],[[194865,194865],"mapped",[29829]],[[194866,194866],"mapped",[29898]],[[194867,194867],"mapped",[16155]],[[194868,194868],"mapped",[29988]],[[194869,194869],"mapped",[150582]],[[194870,194870],"mapped",[30014]],[[194871,194871],"mapped",[150674]],[[194872,194872],"mapped",[30064]],[[194873,194873],"mapped",[139679]],[[194874,194874],"mapped",[30224]],[[194875,194875],"mapped",[151457]],[[194876,194876],"mapped",[151480]],[[194877,194877],"mapped",[151620]],[[194878,194878],"mapped",[16380]],[[194879,194879],"mapped",[16392]],[[194880,194880],"mapped",[30452]],[[194881,194881],"mapped",[151795]],[[194882,194882],"mapped",[151794]],[[194883,194883],"mapped",[151833]],[[194884,194884],"mapped",[151859]],[[194885,194885],"mapped",[30494]],[[194886,194887],"mapped",[30495]],[[194888,194888],"mapped",[30538]],[[194889,194889],"mapped",[16441]],[[194890,194890],"mapped",[30603]],[[194891,194891],"mapped",[16454]],[[194892,194892],"mapped",[16534]],[[194893,194893],"mapped",[152605]],[[194894,194894],"mapped",[30798]],[[194895,194895],"mapped",[30860]],[[194896,194896],"mapped",[30924]],[[194897,194897],"mapped",[16611]],[[194898,194898],"mapped",[153126]],[[194899,194899],"mapped",[31062]],[[194900,194900],"mapped",[153242]],[[194901,194901],"mapped",[153285]],[[194902,194902],"mapped",[31119]],[[194903,194903],"mapped",[31211]],[[194904,194904],"mapped",[16687]],[[194905,194905],"mapped",[31296]],[[194906,194906],"mapped",[31306]],[[194907,194907],"mapped",[31311]],[[194908,194908],"mapped",[153980]],[[194909,194910],"mapped",[154279]],[[194911,194911],"disallowed"],[[194912,194912],"mapped",[16898]],[[194913,194913],"mapped",[154539]],[[194914,194914],"mapped",[31686]],[[194915,194915],"mapped",[31689]],[[194916,194916],"mapped",[16935]],[[194917,194917],"mapped",[154752]],[[194918,194918],"mapped",[31954]],[[194919,194919],"mapped",[17056]],[[194920,194920],"mapped",[31976]],[[194921,194921],"mapped",[31971]],[[194922,194922],"mapped",[32e3]],[[194923,194923],"mapped",[155526]],[[194924,194924],"mapped",[32099]],[[194925,194925],"mapped",[17153]],[[194926,194926],"mapped",[32199]],[[194927,194927],"mapped",[32258]],[[194928,194928],"mapped",[32325]],[[194929,194929],"mapped",[17204]],[[194930,194930],"mapped",[156200]],[[194931,194931],"mapped",[156231]],[[194932,194932],"mapped",[17241]],[[194933,194933],"mapped",[156377]],[[194934,194934],"mapped",[32634]],[[194935,194935],"mapped",[156478]],[[194936,194936],"mapped",[32661]],[[194937,194937],"mapped",[32762]],[[194938,194938],"mapped",[32773]],[[194939,194939],"mapped",[156890]],[[194940,194940],"mapped",[156963]],[[194941,194941],"mapped",[32864]],[[194942,194942],"mapped",[157096]],[[194943,194943],"mapped",[32880]],[[194944,194944],"mapped",[144223]],[[194945,194945],"mapped",[17365]],[[194946,194946],"mapped",[32946]],[[194947,194947],"mapped",[33027]],[[194948,194948],"mapped",[17419]],[[194949,194949],"mapped",[33086]],[[194950,194950],"mapped",[23221]],[[194951,194951],"mapped",[157607]],[[194952,194952],"mapped",[157621]],[[194953,194953],"mapped",[144275]],[[194954,194954],"mapped",[144284]],[[194955,194955],"mapped",[33281]],[[194956,194956],"mapped",[33284]],[[194957,194957],"mapped",[36766]],[[194958,194958],"mapped",[17515]],[[194959,194959],"mapped",[33425]],[[194960,194960],"mapped",[33419]],[[194961,194961],"mapped",[33437]],[[194962,194962],"mapped",[21171]],[[194963,194963],"mapped",[33457]],[[194964,194964],"mapped",[33459]],[[194965,194965],"mapped",[33469]],[[194966,194966],"mapped",[33510]],[[194967,194967],"mapped",[158524]],[[194968,194968],"mapped",[33509]],[[194969,194969],"mapped",[33565]],[[194970,194970],"mapped",[33635]],[[194971,194971],"mapped",[33709]],[[194972,194972],"mapped",[33571]],[[194973,194973],"mapped",[33725]],[[194974,194974],"mapped",[33767]],[[194975,194975],"mapped",[33879]],[[194976,194976],"mapped",[33619]],[[194977,194977],"mapped",[33738]],[[194978,194978],"mapped",[33740]],[[194979,194979],"mapped",[33756]],[[194980,194980],"mapped",[158774]],[[194981,194981],"mapped",[159083]],[[194982,194982],"mapped",[158933]],[[194983,194983],"mapped",[17707]],[[194984,194984],"mapped",[34033]],[[194985,194985],"mapped",[34035]],[[194986,194986],"mapped",[34070]],[[194987,194987],"mapped",[160714]],[[194988,194988],"mapped",[34148]],[[194989,194989],"mapped",[159532]],[[194990,194990],"mapped",[17757]],[[194991,194991],"mapped",[17761]],[[194992,194992],"mapped",[159665]],[[194993,194993],"mapped",[159954]],[[194994,194994],"mapped",[17771]],[[194995,194995],"mapped",[34384]],[[194996,194996],"mapped",[34396]],[[194997,194997],"mapped",[34407]],[[194998,194998],"mapped",[34409]],[[194999,194999],"mapped",[34473]],[[195e3,195e3],"mapped",[34440]],[[195001,195001],"mapped",[34574]],[[195002,195002],"mapped",[34530]],[[195003,195003],"mapped",[34681]],[[195004,195004],"mapped",[34600]],[[195005,195005],"mapped",[34667]],[[195006,195006],"mapped",[34694]],[[195007,195007],"disallowed"],[[195008,195008],"mapped",[34785]],[[195009,195009],"mapped",[34817]],[[195010,195010],"mapped",[17913]],[[195011,195011],"mapped",[34912]],[[195012,195012],"mapped",[34915]],[[195013,195013],"mapped",[161383]],[[195014,195014],"mapped",[35031]],[[195015,195015],"mapped",[35038]],[[195016,195016],"mapped",[17973]],[[195017,195017],"mapped",[35066]],[[195018,195018],"mapped",[13499]],[[195019,195019],"mapped",[161966]],[[195020,195020],"mapped",[162150]],[[195021,195021],"mapped",[18110]],[[195022,195022],"mapped",[18119]],[[195023,195023],"mapped",[35488]],[[195024,195024],"mapped",[35565]],[[195025,195025],"mapped",[35722]],[[195026,195026],"mapped",[35925]],[[195027,195027],"mapped",[162984]],[[195028,195028],"mapped",[36011]],[[195029,195029],"mapped",[36033]],[[195030,195030],"mapped",[36123]],[[195031,195031],"mapped",[36215]],[[195032,195032],"mapped",[163631]],[[195033,195033],"mapped",[133124]],[[195034,195034],"mapped",[36299]],[[195035,195035],"mapped",[36284]],[[195036,195036],"mapped",[36336]],[[195037,195037],"mapped",[133342]],[[195038,195038],"mapped",[36564]],[[195039,195039],"mapped",[36664]],[[195040,195040],"mapped",[165330]],[[195041,195041],"mapped",[165357]],[[195042,195042],"mapped",[37012]],[[195043,195043],"mapped",[37105]],[[195044,195044],"mapped",[37137]],[[195045,195045],"mapped",[165678]],[[195046,195046],"mapped",[37147]],[[195047,195047],"mapped",[37432]],[[195048,195048],"mapped",[37591]],[[195049,195049],"mapped",[37592]],[[195050,195050],"mapped",[37500]],[[195051,195051],"mapped",[37881]],[[195052,195052],"mapped",[37909]],[[195053,195053],"mapped",[166906]],[[195054,195054],"mapped",[38283]],[[195055,195055],"mapped",[18837]],[[195056,195056],"mapped",[38327]],[[195057,195057],"mapped",[167287]],[[195058,195058],"mapped",[18918]],[[195059,195059],"mapped",[38595]],[[195060,195060],"mapped",[23986]],[[195061,195061],"mapped",[38691]],[[195062,195062],"mapped",[168261]],[[195063,195063],"mapped",[168474]],[[195064,195064],"mapped",[19054]],[[195065,195065],"mapped",[19062]],[[195066,195066],"mapped",[38880]],[[195067,195067],"mapped",[168970]],[[195068,195068],"mapped",[19122]],[[195069,195069],"mapped",[169110]],[[195070,195071],"mapped",[38923]],[[195072,195072],"mapped",[38953]],[[195073,195073],"mapped",[169398]],[[195074,195074],"mapped",[39138]],[[195075,195075],"mapped",[19251]],[[195076,195076],"mapped",[39209]],[[195077,195077],"mapped",[39335]],[[195078,195078],"mapped",[39362]],[[195079,195079],"mapped",[39422]],[[195080,195080],"mapped",[19406]],[[195081,195081],"mapped",[170800]],[[195082,195082],"mapped",[39698]],[[195083,195083],"mapped",[4e4]],[[195084,195084],"mapped",[40189]],[[195085,195085],"mapped",[19662]],[[195086,195086],"mapped",[19693]],[[195087,195087],"mapped",[40295]],[[195088,195088],"mapped",[172238]],[[195089,195089],"mapped",[19704]],[[195090,195090],"mapped",[172293]],[[195091,195091],"mapped",[172558]],[[195092,195092],"mapped",[172689]],[[195093,195093],"mapped",[40635]],[[195094,195094],"mapped",[19798]],[[195095,195095],"mapped",[40697]],[[195096,195096],"mapped",[40702]],[[195097,195097],"mapped",[40709]],[[195098,195098],"mapped",[40719]],[[195099,195099],"mapped",[40726]],[[195100,195100],"mapped",[40763]],[[195101,195101],"mapped",[173568]],[[195102,196605],"disallowed"],[[196606,196607],"disallowed"],[[196608,262141],"disallowed"],[[262142,262143],"disallowed"],[[262144,327677],"disallowed"],[[327678,327679],"disallowed"],[[327680,393213],"disallowed"],[[393214,393215],"disallowed"],[[393216,458749],"disallowed"],[[458750,458751],"disallowed"],[[458752,524285],"disallowed"],[[524286,524287],"disallowed"],[[524288,589821],"disallowed"],[[589822,589823],"disallowed"],[[589824,655357],"disallowed"],[[655358,655359],"disallowed"],[[655360,720893],"disallowed"],[[720894,720895],"disallowed"],[[720896,786429],"disallowed"],[[786430,786431],"disallowed"],[[786432,851965],"disallowed"],[[851966,851967],"disallowed"],[[851968,917501],"disallowed"],[[917502,917503],"disallowed"],[[917504,917504],"disallowed"],[[917505,917505],"disallowed"],[[917506,917535],"disallowed"],[[917536,917631],"disallowed"],[[917632,917759],"disallowed"],[[917760,917999],"ignored"],[[918e3,983037],"disallowed"],[[983038,983039],"disallowed"],[[983040,1048573],"disallowed"],[[1048574,1048575],"disallowed"],[[1048576,1114109],"disallowed"],[[1114110,1114111],"disallowed"]];var Fre=Bre,B$=U9e,ly={TRANSITIONAL:0,NONTRANSITIONAL:1};function jre(e){return e.split("\0").map(function(t){return t.normalize("NFC")}).join("\0")}function Vre(e){for(var t=0,r=B$.length-1;t<=r;){var n=Math.floor((t+r)/2),i=B$[n];if(i[0][0]<=e&&i[0][1]>=e)return i;i[0][0]>e?r=n-1:t=n+1}return null}var W9e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function Ure(e){return e.replace(W9e,"_").length}function $9e(e,t,r){for(var n=!1,i="",s=Ure(e),l=0;l<s;++l){var a=e.codePointAt(l),p=Vre(a);switch(p[1]){case"disallowed":n=!0,i+=String.fromCodePoint(a);break;case"ignored":break;case"mapped":i+=String.fromCodePoint.apply(String,p[2]);break;case"deviation":r===ly.TRANSITIONAL?i+=String.fromCodePoint.apply(String,p[2]):i+=String.fromCodePoint(a);break;case"valid":i+=String.fromCodePoint(a);break;case"disallowed_STD3_mapped":t?(n=!0,i+=String.fromCodePoint(a)):i+=String.fromCodePoint.apply(String,p[2]);break;case"disallowed_STD3_valid":t&&(n=!0),i+=String.fromCodePoint(a);break}}return{string:i,error:n}}var K9e=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function q9e(e,t){e.substr(0,4)==="xn--"&&(e=Fre.toUnicode(e),ly.NONTRANSITIONAL);var r=!1;(jre(e)!==e||e[3]==="-"&&e[4]==="-"||e[0]==="-"||e[e.length-1]==="-"||e.indexOf(".")!==-1||e.search(K9e)===0)&&(r=!0);for(var n=Ure(e),i=0;i<n;++i){var s=Vre(e.codePointAt(i));if(P8===ly.TRANSITIONAL&&s[1]!=="valid"||P8===ly.NONTRANSITIONAL&&s[1]!=="valid"&&s[1]!=="deviation"){r=!0;break}}return{label:e,error:r}}function P8(e,t,r){var n=$9e(e,t,r);n.string=jre(n.string);for(var i=n.string.split("."),s=0;s<i.length;++s)try{var l=q9e(i[s]);i[s]=l.label,n.error=n.error||l.error}catch{n.error=!0}return{string:i.join("."),error:n.error}}iS.toASCII=function(e,t,r,n){var i=P8(e,t,r),s=i.string.split(".");if(s=s.map(function(p){try{return Fre.toASCII(p)}catch{return i.error=!0,p}}),n){var l=s.slice(0,s.length-1).join(".").length;(l.length>253||l.length===0)&&(i.error=!0);for(var a=0;a<s.length;++a)if(s.length>63||s.length===0){i.error=!0;break}}return i.error?null:s.join(".")};iS.toUnicode=function(e,t){var r=P8(e,t,ly.NONTRANSITIONAL);return{domain:r.string,error:r.error}};iS.PROCESSING_OPTIONS=ly;(function(e){const t=Bre,r=iS,n={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},i=Symbol("failure");function s(we){return t.ucs2.decode(we).length}function l(we,be){const rt=we[be];return isNaN(rt)?void 0:String.fromCodePoint(rt)}function a(we){return we>=48&&we<=57}function p(we){return we>=65&&we<=90||we>=97&&we<=122}function f(we){return p(we)||a(we)}function g(we){return a(we)||we>=65&&we<=70||we>=97&&we<=102}function v(we){return we==="."||we.toLowerCase()==="%2e"}function _(we){return we=we.toLowerCase(),we===".."||we==="%2e."||we===".%2e"||we==="%2e%2e"}function T(we,be){return p(we)&&(be===58||be===124)}function z(we){return we.length===2&&p(we.codePointAt(0))&&(we[1]===":"||we[1]==="|")}function I(we){return we.length===2&&p(we.codePointAt(0))&&we[1]===":"}function k(we){return we.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/)!==-1}function C(we){return we.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/)!==-1}function L(we){return n[we]!==void 0}function N(we){return L(we.scheme)}function $(we){return n[we]}function ee(we){let be=we.toString(16).toUpperCase();return be.length===1&&(be="0"+be),"%"+be}function re(we){const be=new Buffer(we);let rt="";for(let pt=0;pt<be.length;++pt)rt+=ee(be[pt]);return rt}function ne(we){const be=new Buffer(we),rt=[];for(let pt=0;pt<be.length;++pt)be[pt]!==37?rt.push(be[pt]):be[pt]===37&&g(be[pt+1])&&g(be[pt+2])?(rt.push(parseInt(be.slice(pt+1,pt+3).toString(),16)),pt+=2):rt.push(be[pt]);return new Buffer(rt).toString()}function ie(we){return we<=31||we>126}const me=new Set([32,34,35,60,62,63,96,123,125]);function Ze(we){return ie(we)||me.has(we)}const et=new Set([47,58,59,61,64,91,92,93,94,124]);function Ke(we){return Ze(we)||et.has(we)}function ye(we,be){const rt=String.fromCodePoint(we);return be(we)?re(rt):rt}function j(we){let be=10;return we.length>=2&&we.charAt(0)==="0"&&we.charAt(1).toLowerCase()==="x"?(we=we.substring(2),be=16):we.length>=2&&we.charAt(0)==="0"&&(we=we.substring(1),be=8),we===""?0:(be===10?/[^0-9]/:be===16?/[^0-9A-Fa-f]/:/[^0-7]/).test(we)?i:parseInt(we,be)}function Z(we){const be=we.split(".");if(be[be.length-1]===""&&be.length>1&&be.pop(),be.length>4)return we;const rt=[];for(const Jt of be){if(Jt==="")return we;const Rr=j(Jt);if(Rr===i)return we;rt.push(Rr)}for(let Jt=0;Jt<rt.length-1;++Jt)if(rt[Jt]>255)return i;if(rt[rt.length-1]>=Math.pow(256,5-rt.length))return i;let pt=rt.pop(),Ct=0;for(const Jt of rt)pt+=Jt*Math.pow(256,3-Ct),++Ct;return pt}function oe(we){let be="",rt=we;for(let pt=1;pt<=4;++pt)be=String(rt%256)+be,pt!==4&&(be="."+be),rt=Math.floor(rt/256);return be}function le(we){const be=[0,0,0,0,0,0,0,0];let rt=0,pt=null,Ct=0;if(we=t.ucs2.decode(we),we[Ct]===58){if(we[Ct+1]!==58)return i;Ct+=2,++rt,pt=rt}for(;Ct<we.length;){if(rt===8)return i;if(we[Ct]===58){if(pt!==null)return i;++Ct,++rt,pt=rt;continue}let Jt=0,Rr=0;for(;Rr<4&&g(we[Ct]);)Jt=Jt*16+parseInt(l(we,Ct),16),++Ct,++Rr;if(we[Ct]===46){if(Rr===0||(Ct-=Rr,rt>6))return i;let Br=0;for(;we[Ct]!==void 0;){let Fr=null;if(Br>0)if(we[Ct]===46&&Br<4)++Ct;else return i;if(!a(we[Ct]))return i;for(;a(we[Ct]);){const Zn=parseInt(l(we,Ct));if(Fr===null)Fr=Zn;else{if(Fr===0)return i;Fr=Fr*10+Zn}if(Fr>255)return i;++Ct}be[rt]=be[rt]*256+Fr,++Br,(Br===2||Br===4)&&++rt}if(Br!==4)return i;break}else if(we[Ct]===58){if(++Ct,we[Ct]===void 0)return i}else if(we[Ct]!==void 0)return i;be[rt]=Jt,++rt}if(pt!==null){let Jt=rt-pt;for(rt=7;rt!==0&&Jt>0;){const Rr=be[pt+Jt-1];be[pt+Jt-1]=be[rt],be[rt]=Rr,--rt,--Jt}}else if(pt===null&&rt!==8)return i;return be}function Q(we){let be="";const pt=fe(we).idx;let Ct=!1;for(let Jt=0;Jt<=7;++Jt)if(!(Ct&&we[Jt]===0)){if(Ct&&(Ct=!1),pt===Jt){be+=Jt===0?"::":":",Ct=!0;continue}be+=we[Jt].toString(16),Jt!==7&&(be+=":")}return be}function ce(we,be){if(we[0]==="[")return we[we.length-1]!=="]"?i:le(we.substring(1,we.length-1));if(!be)return Ee(we);const rt=ne(we),pt=r.toASCII(rt,!1,r.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(pt===null||k(pt))return i;const Ct=Z(pt);return typeof Ct=="number"||Ct===i?Ct:pt}function Ee(we){if(C(we))return i;let be="";const rt=t.ucs2.decode(we);for(let pt=0;pt<rt.length;++pt)be+=ye(rt[pt],ie);return be}function fe(we){let be=null,rt=1,pt=null,Ct=0;for(let Jt=0;Jt<we.length;++Jt)we[Jt]!==0?(Ct>rt&&(be=pt,rt=Ct),pt=null,Ct=0):(pt===null&&(pt=Jt),++Ct);return Ct>rt&&(be=pt,rt=Ct),{idx:be,len:rt}}function K(we){return typeof we=="number"?oe(we):we instanceof Array?"["+Q(we)+"]":we}function pe(we){return we.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function Et(we){return we.replace(/\u0009|\u000A|\u000D/g,"")}function zt(we){const be=we.path;be.length!==0&&(we.scheme==="file"&&be.length===1&&ut(be[0])||be.pop())}function Ve(we){return we.username!==""||we.password!==""}function Be(we){return we.host===null||we.host===""||we.cannotBeABaseURL||we.scheme==="file"}function ut(we){return/^[A-Za-z]:$/.test(we)}function bt(we,be,rt,pt,Ct){if(this.pointer=0,this.input=we,this.base=be||null,this.encodingOverride=rt||"utf-8",this.stateOverride=Ct,this.url=pt,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};const Rr=pe(this.input);Rr!==this.input&&(this.parseError=!0),this.input=Rr}const Jt=Et(this.input);for(Jt!==this.input&&(this.parseError=!0),this.input=Jt,this.state=Ct||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=t.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){const Rr=this.input[this.pointer],Br=isNaN(Rr)?void 0:String.fromCodePoint(Rr),Fr=this["parse "+this.state](Rr,Br);if(Fr){if(Fr===i){this.failure=!0;break}}else break}}bt.prototype["parse scheme start"]=function(be,rt){if(p(be))this.buffer+=rt.toLowerCase(),this.state="scheme";else if(!this.stateOverride)this.state="no scheme",--this.pointer;else return this.parseError=!0,i;return!0},bt.prototype["parse scheme"]=function(be,rt){if(f(be)||be===43||be===45||be===46)this.buffer+=rt.toLowerCase();else if(be===58){if(this.stateOverride&&(N(this.url)&&!L(this.buffer)||!N(this.url)&&L(this.buffer)||(Ve(this.url)||this.url.port!==null)&&this.buffer==="file"||this.url.scheme==="file"&&(this.url.host===""||this.url.host===null))||(this.url.scheme=this.buffer,this.buffer="",this.stateOverride))return!1;this.url.scheme==="file"?((this.input[this.pointer+1]!==47||this.input[this.pointer+2]!==47)&&(this.parseError=!0),this.state="file"):N(this.url)&&this.base!==null&&this.base.scheme===this.url.scheme?this.state="special relative or authority":N(this.url)?this.state="special authority slashes":this.input[this.pointer+1]===47?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else if(!this.stateOverride)this.buffer="",this.state="no scheme",this.pointer=-1;else return this.parseError=!0,i;return!0},bt.prototype["parse no scheme"]=function(be){return this.base===null||this.base.cannotBeABaseURL&&be!==35?i:(this.base.cannotBeABaseURL&&be===35?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):this.base.scheme==="file"?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)},bt.prototype["parse special relative or authority"]=function(be){return be===47&&this.input[this.pointer+1]===47?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},bt.prototype["parse path or authority"]=function(be){return be===47?this.state="authority":(this.state="path",--this.pointer),!0},bt.prototype["parse relative"]=function(be){return this.url.scheme=this.base.scheme,isNaN(be)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):be===47?this.state="relative slash":be===63?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):be===35?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):N(this.url)&&be===92?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},bt.prototype["parse relative slash"]=function(be){return N(this.url)&&(be===47||be===92)?(be===92&&(this.parseError=!0),this.state="special authority ignore slashes"):be===47?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0},bt.prototype["parse special authority slashes"]=function(be){return be===47&&this.input[this.pointer+1]===47?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},bt.prototype["parse special authority ignore slashes"]=function(be){return be!==47&&be!==92?(this.state="authority",--this.pointer):this.parseError=!0,!0},bt.prototype["parse authority"]=function(be,rt){if(be===64){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;const pt=s(this.buffer);for(let Ct=0;Ct<pt;++Ct){const Jt=this.buffer.codePointAt(Ct);if(Jt===58&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}const Rr=ye(Jt,Ke);this.passwordTokenSeenFlag?this.url.password+=Rr:this.url.username+=Rr}this.buffer=""}else if(isNaN(be)||be===47||be===63||be===35||N(this.url)&&be===92){if(this.atFlag&&this.buffer==="")return this.parseError=!0,i;this.pointer-=s(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=rt;return!0},bt.prototype["parse hostname"]=bt.prototype["parse host"]=function(be,rt){if(this.stateOverride&&this.url.scheme==="file")--this.pointer,this.state="file host";else if(be===58&&!this.arrFlag){if(this.buffer==="")return this.parseError=!0,i;const pt=ce(this.buffer,N(this.url));if(pt===i)return i;if(this.url.host=pt,this.buffer="",this.state="port",this.stateOverride==="hostname")return!1}else if(isNaN(be)||be===47||be===63||be===35||N(this.url)&&be===92){if(--this.pointer,N(this.url)&&this.buffer==="")return this.parseError=!0,i;if(this.stateOverride&&this.buffer===""&&(Ve(this.url)||this.url.port!==null))return this.parseError=!0,!1;const pt=ce(this.buffer,N(this.url));if(pt===i)return i;if(this.url.host=pt,this.buffer="",this.state="path start",this.stateOverride)return!1}else be===91?this.arrFlag=!0:be===93&&(this.arrFlag=!1),this.buffer+=rt;return!0},bt.prototype["parse port"]=function(be,rt){if(a(be))this.buffer+=rt;else if(isNaN(be)||be===47||be===63||be===35||N(this.url)&&be===92||this.stateOverride){if(this.buffer!==""){const pt=parseInt(this.buffer);if(pt>Math.pow(2,16)-1)return this.parseError=!0,i;this.url.port=pt===$(this.url.scheme)?null:pt,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}else return this.parseError=!0,i;return!0};const Ht=new Set([47,92,63,35]);bt.prototype["parse file"]=function(be){return this.url.scheme="file",be===47||be===92?(be===92&&(this.parseError=!0),this.state="file slash"):this.base!==null&&this.base.scheme==="file"?isNaN(be)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):be===63?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):be===35?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(this.input.length-this.pointer-1===0||!T(be,this.input[this.pointer+1])||this.input.length-this.pointer-1>=2&&!Ht.has(this.input[this.pointer+2])?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),zt(this.url)):this.parseError=!0,this.state="path",--this.pointer):(this.state="path",--this.pointer),!0},bt.prototype["parse file slash"]=function(be){return be===47||be===92?(be===92&&(this.parseError=!0),this.state="file host"):(this.base!==null&&this.base.scheme==="file"&&(I(this.base.path[0])?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0},bt.prototype["parse file host"]=function(be,rt){if(isNaN(be)||be===47||be===92||be===63||be===35)if(--this.pointer,!this.stateOverride&&z(this.buffer))this.parseError=!0,this.state="path";else if(this.buffer===""){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let pt=ce(this.buffer,N(this.url));if(pt===i)return i;if(pt==="localhost"&&(pt=""),this.url.host=pt,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=rt;return!0},bt.prototype["parse path start"]=function(be){return N(this.url)?(be===92&&(this.parseError=!0),this.state="path",be!==47&&be!==92&&--this.pointer):!this.stateOverride&&be===63?(this.url.query="",this.state="query"):!this.stateOverride&&be===35?(this.url.fragment="",this.state="fragment"):be!==void 0&&(this.state="path",be!==47&&--this.pointer),!0},bt.prototype["parse path"]=function(be){if(isNaN(be)||be===47||N(this.url)&&be===92||!this.stateOverride&&(be===63||be===35)){if(N(this.url)&&be===92&&(this.parseError=!0),_(this.buffer)?(zt(this.url),be!==47&&!(N(this.url)&&be===92)&&this.url.path.push("")):v(this.buffer)&&be!==47&&!(N(this.url)&&be===92)?this.url.path.push(""):v(this.buffer)||(this.url.scheme==="file"&&this.url.path.length===0&&z(this.buffer)&&(this.url.host!==""&&this.url.host!==null&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)),this.buffer="",this.url.scheme==="file"&&(be===void 0||be===63||be===35))for(;this.url.path.length>1&&this.url.path[0]==="";)this.parseError=!0,this.url.path.shift();be===63&&(this.url.query="",this.state="query"),be===35&&(this.url.fragment="",this.state="fragment")}else be===37&&(!g(this.input[this.pointer+1])||!g(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=ye(be,Ze);return!0},bt.prototype["parse cannot-be-a-base-URL path"]=function(be){return be===63?(this.url.query="",this.state="query"):be===35?(this.url.fragment="",this.state="fragment"):(!isNaN(be)&&be!==37&&(this.parseError=!0),be===37&&(!g(this.input[this.pointer+1])||!g(this.input[this.pointer+2]))&&(this.parseError=!0),isNaN(be)||(this.url.path[0]=this.url.path[0]+ye(be,ie))),!0},bt.prototype["parse query"]=function(be,rt){if(isNaN(be)||!this.stateOverride&&be===35){(!N(this.url)||this.url.scheme==="ws"||this.url.scheme==="wss")&&(this.encodingOverride="utf-8");const pt=new Buffer(this.buffer);for(let Ct=0;Ct<pt.length;++Ct)pt[Ct]<33||pt[Ct]>126||pt[Ct]===34||pt[Ct]===35||pt[Ct]===60||pt[Ct]===62?this.url.query+=ee(pt[Ct]):this.url.query+=String.fromCodePoint(pt[Ct]);this.buffer="",be===35&&(this.url.fragment="",this.state="fragment")}else be===37&&(!g(this.input[this.pointer+1])||!g(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=rt;return!0},bt.prototype["parse fragment"]=function(be){return isNaN(be)||(be===0?this.parseError=!0:(be===37&&(!g(this.input[this.pointer+1])||!g(this.input[this.pointer+2]))&&(this.parseError=!0),this.url.fragment+=ye(be,ie))),!0};function _e(we,be){let rt=we.scheme+":";if(we.host!==null?(rt+="//",(we.username!==""||we.password!=="")&&(rt+=we.username,we.password!==""&&(rt+=":"+we.password),rt+="@"),rt+=K(we.host),we.port!==null&&(rt+=":"+we.port)):we.host===null&&we.scheme==="file"&&(rt+="//"),we.cannotBeABaseURL)rt+=we.path[0];else for(const pt of we.path)rt+="/"+pt;return we.query!==null&&(rt+="?"+we.query),!be&&we.fragment!==null&&(rt+="#"+we.fragment),rt}function Me(we){let be=we.scheme+"://";return be+=K(we.host),we.port!==null&&(be+=":"+we.port),be}e.exports.serializeURL=_e,e.exports.serializeURLOrigin=function(we){switch(we.scheme){case"blob":try{return e.exports.serializeURLOrigin(e.exports.parseURL(we.path[0]))}catch{return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return Me({scheme:we.scheme,host:we.host,port:we.port});case"file":return"file://";default:return"null"}},e.exports.basicURLParse=function(we,be){be===void 0&&(be={});const rt=new bt(we,be.baseURL,be.encodingOverride,be.url,be.stateOverride);return rt.failure?"failure":rt.url},e.exports.setTheUsername=function(we,be){we.username="";const rt=t.ucs2.decode(be);for(let pt=0;pt<rt.length;++pt)we.username+=ye(rt[pt],Ke)},e.exports.setThePassword=function(we,be){we.password="";const rt=t.ucs2.decode(be);for(let pt=0;pt<rt.length;++pt)we.password+=ye(rt[pt],Ke)},e.exports.serializeHost=K,e.exports.cannotHaveAUsernamePasswordPort=Be,e.exports.serializeInteger=function(we){return String(we)},e.exports.parseURL=function(we,be){return be===void 0&&(be={}),e.exports.basicURLParse(we,{baseURL:be.baseURL,encodingOverride:be.encodingOverride})}})(kre);var Fd=kre.exports;const ea=Fd;Pre.implementation=class{constructor(t){const r=t[0],n=t[1];let i=null;if(n!==void 0&&(i=ea.basicURLParse(n),i==="failure"))throw new TypeError("Invalid base URL");const s=ea.basicURLParse(r,{baseURL:i});if(s==="failure")throw new TypeError("Invalid URL");this._url=s}get href(){return ea.serializeURL(this._url)}set href(t){const r=ea.basicURLParse(t);if(r==="failure")throw new TypeError("Invalid URL");this._url=r}get origin(){return ea.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(t){ea.basicURLParse(t+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(t){ea.cannotHaveAUsernamePasswordPort(this._url)||ea.setTheUsername(this._url,t)}get password(){return this._url.password}set password(t){ea.cannotHaveAUsernamePasswordPort(this._url)||ea.setThePassword(this._url,t)}get host(){const t=this._url;return t.host===null?"":t.port===null?ea.serializeHost(t.host):ea.serializeHost(t.host)+":"+ea.serializeInteger(t.port)}set host(t){this._url.cannotBeABaseURL||ea.basicURLParse(t,{url:this._url,stateOverride:"host"})}get hostname(){return this._url.host===null?"":ea.serializeHost(this._url.host)}set hostname(t){this._url.cannotBeABaseURL||ea.basicURLParse(t,{url:this._url,stateOverride:"hostname"})}get port(){return this._url.port===null?"":ea.serializeInteger(this._url.port)}set port(t){ea.cannotHaveAUsernamePasswordPort(this._url)||(t===""?this._url.port=null:ea.basicURLParse(t,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:this._url.path.length===0?"":"/"+this._url.path.join("/")}set pathname(t){this._url.cannotBeABaseURL||(this._url.path=[],ea.basicURLParse(t,{url:this._url,stateOverride:"path start"}))}get search(){return this._url.query===null||this._url.query===""?"":"?"+this._url.query}set search(t){const r=this._url;if(t===""){r.query=null;return}const n=t[0]==="?"?t.substring(1):t;r.query="",ea.basicURLParse(n,{url:r,stateOverride:"query"})}get hash(){return this._url.fragment===null||this._url.fragment===""?"":"#"+this._url.fragment}set hash(t){if(t===""){this._url.fragment=null;return}const r=t[0]==="#"?t.substring(1):t;this._url.fragment="",ea.basicURLParse(r,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}};(function(e){const t=k9e,r=C9e,n=Pre,i=r.implSymbol;function s(l){if(!this||this[i]||!(this instanceof s))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");const a=[];for(let p=0;p<arguments.length&&p<2;++p)a[p]=arguments[p];a[0]=t.USVString(a[0]),a[1]!==void 0&&(a[1]=t.USVString(a[1])),e.exports.setup(this,a)}s.prototype.toJSON=function(){if(!this||!e.exports.is(this))throw new TypeError("Illegal invocation");const a=[];for(let p=0;p<arguments.length&&p<0;++p)a[p]=arguments[p];return this[i].toJSON.apply(this[i],a)},Object.defineProperty(s.prototype,"href",{get(){return this[i].href},set(l){l=t.USVString(l),this[i].href=l},enumerable:!0,configurable:!0}),s.prototype.toString=function(){if(!this||!e.exports.is(this))throw new TypeError("Illegal invocation");return this.href},Object.defineProperty(s.prototype,"origin",{get(){return this[i].origin},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"protocol",{get(){return this[i].protocol},set(l){l=t.USVString(l),this[i].protocol=l},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"username",{get(){return this[i].username},set(l){l=t.USVString(l),this[i].username=l},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"password",{get(){return this[i].password},set(l){l=t.USVString(l),this[i].password=l},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"host",{get(){return this[i].host},set(l){l=t.USVString(l),this[i].host=l},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hostname",{get(){return this[i].hostname},set(l){l=t.USVString(l),this[i].hostname=l},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"port",{get(){return this[i].port},set(l){l=t.USVString(l),this[i].port=l},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"pathname",{get(){return this[i].pathname},set(l){l=t.USVString(l),this[i].pathname=l},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"search",{get(){return this[i].search},set(l){l=t.USVString(l),this[i].search=l},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hash",{get(){return this[i].hash},set(l){l=t.USVString(l),this[i].hash=l},enumerable:!0,configurable:!0}),e.exports={is(l){return!!l&&l[i]instanceof n.implementation},create(l,a){let p=Object.create(s.prototype);return this.setup(p,l,a),p},setup(l,a,p){p||(p={}),p.wrapper=l,l[i]=new n.implementation(a,p),l[i][r.wrapperSymbol]=l},interface:s,expose:{Window:{URL:s},Worker:{URL:s}}}})(Tre);var G9e=Tre.exports;kc.URL=G9e.interface;kc.serializeURL=Fd.serializeURL;kc.serializeURLOrigin=Fd.serializeURLOrigin;kc.basicURLParse=Fd.basicURLParse;kc.setTheUsername=Fd.setTheUsername;kc.setThePassword=Fd.setThePassword;kc.serializeHost=Fd.serializeHost;kc.serializeInteger=Fd.serializeInteger;kc.parseURL=Fd.parseURL;const H9e=Ac.Readable,rd=Symbol("buffer"),cT=Symbol("type");let YD=class Wk{constructor(){this[cT]="";const t=arguments[0],r=arguments[1],n=[];let i=0;if(t){const l=t,a=Number(l.length);for(let p=0;p<a;p++){const f=l[p];let g;f instanceof Buffer?g=f:ArrayBuffer.isView(f)?g=Buffer.from(f.buffer,f.byteOffset,f.byteLength):f instanceof ArrayBuffer?g=Buffer.from(f):f instanceof Wk?g=f[rd]:g=Buffer.from(typeof f=="string"?f:String(f)),i+=g.length,n.push(g)}}this[rd]=Buffer.concat(n);let s=r&&r.type!==void 0&&String(r.type).toLowerCase();s&&!/[^\u0020-\u007E]/.test(s)&&(this[cT]=s)}get size(){return this[rd].length}get type(){return this[cT]}text(){return Promise.resolve(this[rd].toString())}arrayBuffer(){const t=this[rd],r=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return Promise.resolve(r)}stream(){const t=new H9e;return t._read=function(){},t.push(this[rd]),t.push(null),t}toString(){return"[object Blob]"}slice(){const t=this.size,r=arguments[0],n=arguments[1];let i,s;r===void 0?i=0:r<0?i=Math.max(t+r,0):i=Math.min(r,t),n===void 0?s=t:n<0?s=Math.max(t+n,0):s=Math.min(n,t);const l=Math.max(s-i,0),p=this[rd].slice(i,i+l),f=new Wk([],{type:arguments[2]});return f[rd]=p,f}};Object.defineProperties(YD.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Object.defineProperty(YD.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0});function Lo(e,t,r){Error.call(this,e),this.message=e,this.type=t,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}Lo.prototype=Object.create(Error.prototype);Lo.prototype.constructor=Lo;Lo.prototype.name="FetchError";let $k;try{$k=require("encoding").convert}catch{}const wd=Symbol("Body internals"),F$=Ac.PassThrough;function Ya(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.size;let i=n===void 0?0:n;var s=r.timeout;let l=s===void 0?0:s;e==null?e=null:Wre(e)?e=Buffer.from(e.toString()):q4(e)||Buffer.isBuffer(e)||(Object.prototype.toString.call(e)==="[object ArrayBuffer]"?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof Ac||(e=Buffer.from(String(e)))),this[wd]={body:e,disturbed:!1,error:null},this.size=i,this.timeout=l,e instanceof Ac&&e.on("error",function(a){const p=a.name==="AbortError"?a:new Lo(`Invalid response body while trying to fetch ${t.url}: ${a.message}`,"system",a);t[wd].error=p})}Ya.prototype={get body(){return this[wd].body},get bodyUsed(){return this[wd].disturbed},arrayBuffer(){return og.call(this).then(function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)})},blob(){let e=this.headers&&this.headers.get("content-type")||"";return og.call(this).then(function(t){return Object.assign(new YD([],{type:e.toLowerCase()}),{[rd]:t})})},json(){var e=this;return og.call(this).then(function(t){try{return JSON.parse(t.toString())}catch(r){return Ya.Promise.reject(new Lo(`invalid json response body at ${e.url} reason: ${r.message}`,"invalid-json"))}})},text(){return og.call(this).then(function(e){return e.toString()})},buffer(){return og.call(this)},textConverted(){var e=this;return og.call(this).then(function(t){return Z9e(t,e.headers)})}};Object.defineProperties(Ya.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});Ya.mixIn=function(e){for(const t of Object.getOwnPropertyNames(Ya.prototype))if(!(t in e)){const r=Object.getOwnPropertyDescriptor(Ya.prototype,t);Object.defineProperty(e,t,r)}};function og(){var e=this;if(this[wd].disturbed)return Ya.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[wd].disturbed=!0,this[wd].error)return Ya.Promise.reject(this[wd].error);let t=this.body;if(t===null)return Ya.Promise.resolve(Buffer.alloc(0));if(q4(t)&&(t=t.stream()),Buffer.isBuffer(t))return Ya.Promise.resolve(t);if(!(t instanceof Ac))return Ya.Promise.resolve(Buffer.alloc(0));let r=[],n=0,i=!1;return new Ya.Promise(function(s,l){let a;e.timeout&&(a=setTimeout(function(){i=!0,l(new Lo(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))},e.timeout)),t.on("error",function(p){p.name==="AbortError"?(i=!0,l(p)):l(new Lo(`Invalid response body while trying to fetch ${e.url}: ${p.message}`,"system",p))}),t.on("data",function(p){if(!(i||p===null)){if(e.size&&n+p.length>e.size){i=!0,l(new Lo(`content size at ${e.url} over limit: ${e.size}`,"max-size"));return}n+=p.length,r.push(p)}}),t.on("end",function(){if(!i){clearTimeout(a);try{s(Buffer.concat(r,n))}catch(p){l(new Lo(`Could not create Buffer from response body for ${e.url}: ${p.message}`,"system",p))}}})})}function Z9e(e,t){if(typeof $k!="function")throw new Error("The package `encoding` must be installed to use the textConverted() function");const r=t.get("content-type");let n="utf-8",i,s;return r&&(i=/charset=([^;]*)/i.exec(r)),s=e.slice(0,1024).toString(),!i&&s&&(i=/<meta.+?charset=(['"])(.+?)\1/i.exec(s)),!i&&s&&(i=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(s),i||(i=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(s),i&&i.pop()),i&&(i=/charset=(.*)/i.exec(i.pop()))),!i&&s&&(i=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(s)),i&&(n=i.pop(),(n==="gb2312"||n==="gbk")&&(n="gb18030")),$k(e,"UTF-8",n).toString()}function Wre(e){return typeof e!="object"||typeof e.append!="function"||typeof e.delete!="function"||typeof e.get!="function"||typeof e.getAll!="function"||typeof e.has!="function"||typeof e.set!="function"?!1:e.constructor.name==="URLSearchParams"||Object.prototype.toString.call(e)==="[object URLSearchParams]"||typeof e.sort=="function"}function q4(e){return typeof e=="object"&&typeof e.arrayBuffer=="function"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.constructor=="function"&&typeof e.constructor.name=="string"&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function $re(e){let t,r,n=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return n instanceof Ac&&typeof n.getBoundary!="function"&&(t=new F$,r=new F$,n.pipe(t),n.pipe(r),e[wd].body=t,n=r),n}function Kre(e){return e===null?null:typeof e=="string"?"text/plain;charset=UTF-8":Wre(e)?"application/x-www-form-urlencoded;charset=UTF-8":q4(e)?e.type||null:Buffer.isBuffer(e)||Object.prototype.toString.call(e)==="[object ArrayBuffer]"||ArrayBuffer.isView(e)?null:typeof e.getBoundary=="function"?`multipart/form-data;boundary=${e.getBoundary()}`:e instanceof Ac?null:"text/plain;charset=UTF-8"}function qre(e){const t=e.body;return t===null?0:q4(t)?t.size:Buffer.isBuffer(t)?t.length:t&&typeof t.getLengthSync=="function"&&(t._lengthRetrievers&&t._lengthRetrievers.length==0||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}function Y9e(e,t){const r=t.body;r===null?e.end():q4(r)?r.stream().pipe(e):Buffer.isBuffer(r)?(e.write(r),e.end()):r.pipe(e)}Ya.Promise=globalThis.Promise;const Gre=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,Kk=/[^\t\x20-\x7e\x80-\xff]/;function Sb(e){if(e=`${e}`,Gre.test(e)||e==="")throw new TypeError(`${e} is not a legal HTTP header name`)}function j$(e){if(e=`${e}`,Kk.test(e))throw new TypeError(`${e} is not a legal HTTP header value`)}function Ag(e,t){t=t.toLowerCase();for(const r in e)if(r.toLowerCase()===t)return r}const fa=Symbol("map");class Tc{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(this[fa]=Object.create(null),t instanceof Tc){const r=t.raw(),n=Object.keys(r);for(const i of n)for(const s of r[i])this.append(i,s);return}if(t!=null)if(typeof t=="object"){const r=t[Symbol.iterator];if(r!=null){if(typeof r!="function")throw new TypeError("Header pairs must be iterable");const n=[];for(const i of t){if(typeof i!="object"||typeof i[Symbol.iterator]!="function")throw new TypeError("Each header pair must be iterable");n.push(Array.from(i))}for(const i of n){if(i.length!==2)throw new TypeError("Each header pair must be a name/value tuple");this.append(i[0],i[1])}}else for(const n of Object.keys(t)){const i=t[n];this.append(n,i)}}else throw new TypeError("Provided initializer must be an object")}get(t){t=`${t}`,Sb(t);const r=Ag(this[fa],t);return r===void 0?null:this[fa][r].join(", ")}forEach(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=qk(this),i=0;for(;i<n.length;){var s=n[i];const l=s[0],a=s[1];t.call(r,a,l,this),n=qk(this),i++}}set(t,r){t=`${t}`,r=`${r}`,Sb(t),j$(r);const n=Ag(this[fa],t);this[fa][n!==void 0?n:t]=[r]}append(t,r){t=`${t}`,r=`${r}`,Sb(t),j$(r);const n=Ag(this[fa],t);n!==void 0?this[fa][n].push(r):this[fa][t]=[r]}has(t){return t=`${t}`,Sb(t),Ag(this[fa],t)!==void 0}delete(t){t=`${t}`,Sb(t);const r=Ag(this[fa],t);r!==void 0&&delete this[fa][r]}raw(){return this[fa]}keys(){return uT(this,"key")}values(){return uT(this,"value")}[Symbol.iterator](){return uT(this,"key+value")}}Tc.prototype.entries=Tc.prototype[Symbol.iterator];Object.defineProperty(Tc.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(Tc.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});function qk(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key+value";return Object.keys(e[fa]).sort().map(t==="key"?function(n){return n.toLowerCase()}:t==="value"?function(n){return e[fa][n].join(", ")}:function(n){return[n.toLowerCase(),e[fa][n].join(", ")]})}const Gk=Symbol("internal");function uT(e,t){const r=Object.create(XD);return r[Gk]={target:e,kind:t,index:0},r}const XD=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==XD)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[Gk];const t=e.target,r=e.kind,n=e.index,i=qk(t,r),s=i.length;return n>=s?{value:void 0,done:!0}:(this[Gk].index=n+1,{value:i[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(XD,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});function X9e(e){const t=Object.assign({__proto__:null},e[fa]),r=Ag(e[fa],"Host");return r!==void 0&&(t[r]=t[r][0]),t}function Q9e(e){const t=new Tc;for(const r of Object.keys(e))if(!Gre.test(r))if(Array.isArray(e[r]))for(const n of e[r])Kk.test(n)||(t[fa][r]===void 0?t[fa][r]=[n]:t[fa][r].push(n));else Kk.test(e[r])||(t[fa][r]=[e[r]]);return t}const Tp=Symbol("Response internals"),J9e=ts.STATUS_CODES;let ud=class Hre{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ya.call(this,t,r);const n=r.status||200,i=new Tc(r.headers);if(t!=null&&!i.has("Content-Type")){const s=Kre(t);s&&i.append("Content-Type",s)}this[Tp]={url:r.url,status:n,statusText:r.statusText||J9e[n],headers:i,counter:r.counter}}get url(){return this[Tp].url||""}get status(){return this[Tp].status}get ok(){return this[Tp].status>=200&&this[Tp].status<300}get redirected(){return this[Tp].counter>0}get statusText(){return this[Tp].statusText}get headers(){return this[Tp].headers}clone(){return new Hre($re(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}};Ya.mixIn(ud.prototype);Object.defineProperties(ud.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});Object.defineProperty(ud.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const dd=Symbol("Request internals"),eSe=ts.URL||kc.URL,tSe=ts.parse,rSe=ts.format;function dT(e){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(e)&&(e=new eSe(e).toString()),tSe(e)}const nSe="destroy"in Ac.Readable.prototype;function o3(e){return typeof e=="object"&&typeof e[dd]=="object"}function iSe(e){const t=e&&typeof e=="object"&&Object.getPrototypeOf(e);return!!(t&&t.constructor.name==="AbortSignal")}class jm{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;o3(t)?n=dT(t.url):(t&&t.href?n=dT(t.href):n=dT(`${t}`),t={});let i=r.method||t.method||"GET";if(i=i.toUpperCase(),(r.body!=null||o3(t)&&t.body!==null)&&(i==="GET"||i==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let s=r.body!=null?r.body:o3(t)&&t.body!==null?$re(t):null;Ya.call(this,s,{timeout:r.timeout||t.timeout||0,size:r.size||t.size||0});const l=new Tc(r.headers||t.headers||{});if(s!=null&&!l.has("Content-Type")){const p=Kre(s);p&&l.append("Content-Type",p)}let a=o3(t)?t.signal:null;if("signal"in r&&(a=r.signal),a!=null&&!iSe(a))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[dd]={method:i,redirect:r.redirect||t.redirect||"follow",headers:l,parsedURL:n,signal:a},this.follow=r.follow!==void 0?r.follow:t.follow!==void 0?t.follow:20,this.compress=r.compress!==void 0?r.compress:t.compress!==void 0?t.compress:!0,this.counter=r.counter||t.counter||0,this.agent=r.agent||t.agent}get method(){return this[dd].method}get url(){return rSe(this[dd].parsedURL)}get headers(){return this[dd].headers}get redirect(){return this[dd].redirect}get signal(){return this[dd].signal}clone(){return new jm(this)}}Ya.mixIn(jm.prototype);Object.defineProperty(jm.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(jm.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});function aSe(e){const t=e[dd].parsedURL,r=new Tc(e[dd].headers);if(r.has("Accept")||r.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof Ac.Readable&&!nSe)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let n=null;if(e.body==null&&/^(POST|PUT)$/i.test(e.method)&&(n="0"),e.body!=null){const s=qre(e);typeof s=="number"&&(n=String(s))}n&&r.set("Content-Length",n),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate");let i=e.agent;return typeof i=="function"&&(i=i(t)),Object.assign({},t,{method:e.method,headers:X9e(r),agent:i})}function l4(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}l4.prototype=Object.create(Error.prototype);l4.prototype.constructor=l4;l4.prototype.name="AbortError";const c4=ts.URL||kc.URL,V$=Ac.PassThrough,oSe=function(t,r){const n=new c4(r).hostname,i=new c4(t).hostname;return n===i||n[n.length-i.length-1]==="."&&n.endsWith(i)},sSe=function(t,r){const n=new c4(r).protocol,i=new c4(t).protocol;return n===i};function Vp(e,t){if(!Vp.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return Ya.Promise=Vp.Promise,new Vp.Promise(function(r,n){const i=new jm(e,t),s=aSe(i),l=(s.protocol==="https:",ts).request,a=i.signal;let p=null;const f=function(){let I=new l4("The user aborted a request.");n(I),i.body&&i.body instanceof Ac.Readable&&pT(i.body,I),!(!p||!p.body)&&p.body.emit("error",I)};if(a&&a.aborted){f();return}const g=function(){f(),T()},v=l(s);let _;a&&a.addEventListener("abort",g);function T(){v.abort(),a&&a.removeEventListener("abort",g),clearTimeout(_)}i.timeout&&v.once("socket",function(z){_=setTimeout(function(){n(new Lo(`network timeout at: ${i.url}`,"request-timeout")),T()},i.timeout)}),v.on("error",function(z){n(new Lo(`request to ${i.url} failed, reason: ${z.message}`,"system",z)),p&&p.body&&pT(p.body,z),T()}),lSe(v,function(z){a&&a.aborted||p&&p.body&&pT(p.body,z)}),parseInt(process.version.substring(1))<14&&v.on("socket",function(z){z.addListener("close",function(I){const k=z.listenerCount("data")>0;if(p&&k&&!I&&!(a&&a.aborted)){const C=new Error("Premature close");C.code="ERR_STREAM_PREMATURE_CLOSE",p.body.emit("error",C)}})}),v.on("response",function(z){clearTimeout(_);const I=Q9e(z.headers);if(Vp.isRedirect(z.statusCode)){const $=I.get("Location");let ee=null;try{ee=$===null?null:new c4($,i.url).toString()}catch{if(i.redirect!=="manual"){n(new Lo(`uri requested responds with an invalid redirect URL: ${$}`,"invalid-redirect")),T();return}}switch(i.redirect){case"error":n(new Lo(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),T();return;case"manual":if(ee!==null)try{I.set("Location",ee)}catch(ne){n(ne)}break;case"follow":if(ee===null)break;if(i.counter>=i.follow){n(new Lo(`maximum redirect reached at: ${i.url}`,"max-redirect")),T();return}const re={headers:new Tc(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:i.body,signal:i.signal,timeout:i.timeout,size:i.size};if(!oSe(i.url,ee)||!sSe(i.url,ee))for(const ne of["authorization","www-authenticate","cookie","cookie2"])re.headers.delete(ne);if(z.statusCode!==303&&i.body&&qre(i)===null){n(new Lo("Cannot follow redirect with body being a readable stream","unsupported-redirect")),T();return}(z.statusCode===303||(z.statusCode===301||z.statusCode===302)&&i.method==="POST")&&(re.method="GET",re.body=void 0,re.headers.delete("content-length")),r(Vp(new jm(ee,re))),T();return}}z.once("end",function(){a&&a.removeEventListener("abort",g)});let k=z.pipe(new V$);const C={url:i.url,status:z.statusCode,statusText:z.statusMessage,headers:I,size:i.size,timeout:i.timeout,counter:i.counter},L=I.get("Content-Encoding");if(!i.compress||i.method==="HEAD"||L===null||z.statusCode===204||z.statusCode===304){p=new ud(k,C),r(p);return}const N={flush:ts.Z_SYNC_FLUSH,finishFlush:ts.Z_SYNC_FLUSH};if(L=="gzip"||L=="x-gzip"){k=k.pipe(ts.createGunzip(N)),p=new ud(k,C),r(p);return}if(L=="deflate"||L=="x-deflate"){const $=z.pipe(new V$);$.once("data",function(ee){(ee[0]&15)===8?k=k.pipe(ts.createInflate()):k=k.pipe(ts.createInflateRaw()),p=new ud(k,C),r(p)}),$.on("end",function(){p||(p=new ud(k,C),r(p))});return}if(L=="br"&&typeof ts.createBrotliDecompress=="function"){k=k.pipe(ts.createBrotliDecompress()),p=new ud(k,C),r(p);return}p=new ud(k,C),r(p)}),Y9e(v,i)})}function lSe(e,t){let r;e.on("socket",function(n){r=n}),e.on("response",function(n){const i=n.headers;i["transfer-encoding"]==="chunked"&&!i["content-length"]&&n.once("close",function(s){if(r&&r.listenerCount("data")>0&&!s){const a=new Error("Premature close");a.code="ERR_STREAM_PREMATURE_CLOSE",t(a)}})})}function pT(e,t){e.destroy?e.destroy(t):(e.emit("error",t),e.end())}Vp.isRedirect=function(e){return e===301||e===302||e===303||e===307||e===308};Vp.Promise=globalThis.Promise;function cSe(){return{send:async e=>{var f,g;const t=e.headers?Object.entries(e.headers).reduce((v,[_,T])=>({...v,[_.toLowerCase()]:(Array.isArray(T)?T.join(", "):T).toLowerCase()}),{}):{},r=((f=t["content-type"])==null?void 0:f.includes("application/json"))??!1;let n;r&&e.data?n=JSON.stringify(e.data):n=e.data;const i={method:e.method,body:n,headers:t,follow:e.maxRedirects,signal:e.signal,timeout:e.timeout},s=await Vp(e.url,i),l=((g=s.headers.get("content-type"))==null?void 0:g.includes("application/json"))??!1,a=await s.text();return{data:(l?JSON.parse(a):void 0)??a,body:a,ok:s.ok,status:s.status,statusText:s.statusText,headers:Object.fromEntries(s.headers.entries())}}}}const uSe=()=>({install(e){e.http=cSe()}});class dSe extends is{constructor(r,n){const i=!oy(r),s=r,l=n==="*"?"any":`the [${n}]`,a=`The provided program ${i?"name":"address"} [${s}] is not recognized in ${l} cluster. Did you forget to register this program? If so, you may use "context.programs.add(myProgram)" to fix this.`;super(a);nn(this,"name","ProgramNotRecognizedError");this.identifier=r,this.cluster=n}}class pSe extends vre{constructor(r,n){const i=n.code?` of code [${n.code}]`:"",s=`The program [${r.name}] at address [${r.publicKey}] raised an error${i} that is not recognized by the programs registered on the SDK. Please check the underlying program error below for more details.`;super(s,r,n);nn(this,"name","ProgramErrorNotRecognizedError")}}function Zre(e,t=[],r={}){const n=[...t],i={...r},s=(k,C="current")=>{const L=p(C),N=I(k);return oy(N)?L.some($=>$.publicKey===N):L.some($=>$.name===N)},l=(k,C="current")=>{const L=z(C),N=p(C),$=I(k),ee=oy($)?N.find(re=>re.publicKey===$):N.find(re=>re.name===$);if(!ee)throw new dSe($,L);return ee},a=(k,C,L)=>{try{return l(k,L).publicKey}catch(N){if(C===void 0)throw N;return Ec(C)}},p=(k="current")=>{const C=z(k);return C==="*"?n:n.filter(L=>L.isOnCluster(C))},f=(k,C=!0)=>{!C&&s(k.publicKey,"*")||n.unshift(k)},g=(k,C)=>{i[k]=C,I(k)},v=k=>{delete i[k]},_=()=>Zre(e,n,i),T=(k,C)=>{var ye,j,Z,oe;if(!Array.isArray(k.logs)||k.logs.length===0)return null;const L=k.logs.join(`
`),N=/Error processing Instruction (\d+):/,$=((ye=k.message.match(N))==null?void 0:ye[1])??null,ee=/Custom program error: (0x[a-f0-9]+)/i,re=((j=L.match(ee))==null?void 0:j[1])??null,ne=re?parseInt(re,16):null;if($===null||ne===null)return null;const ie=parseInt($,10),me=((oe=(Z=C.message.instructions)==null?void 0:Z[ie])==null?void 0:oe.programIndex)??null,Ze=me?C.message.accounts[me]:null;if(!Ze)return null;let et;try{et=l(Ze)}catch{return null}return et.getErrorFromCode(ne,k)??new pSe(et,k)},z=k=>k==="current"?e.rpc.getCluster():k,I=(k,C=[])=>{if(oy(k)||i[k]===void 0)return k;const L=[...C,k];if(C.includes(k))throw new Error(`Circular binding detected: ${L.join(" -> ")}`);return I(i[k],L)};return{has:s,get:l,getPublicKey:a,all:p,add:f,bind:g,unbind:v,clone:_,resolveError:T}}const hSe=()=>({install(e){e.programs=Zre(e)}});function Hp(e){return e.toBase58()}function as(e){return new Ir(e)}function U$(e){return new QP({keys:e.keys.map(t=>({...t,pubkey:as(t.pubkey)})),programId:as(e.programId),data:tn.Buffer.from(e.data)})}function QD(e){return{version:e.version,header:e.header,accounts:e.staticAccountKeys.map(Hp),blockhash:e.recentBlockhash,instructions:e.compiledInstructions.map(t=>({programIndex:t.programIdIndex,accountIndexes:t.accountKeyIndexes,data:new Uint8Array(t.data)})),addressLookupTables:e.addressTableLookups.map(t=>({publicKey:Hp(t.accountKey),writableIndexes:t.writableIndexes,readonlyIndexes:t.readonlyIndexes}))}}function fSe(e){return e.version==="legacy"?new Sc({header:e.header,accountKeys:e.accounts.map(as),recentBlockhash:e.blockhash,instructions:e.instructions.map(t=>({programIdIndex:t.programIndex,accounts:t.accountIndexes,data:Bte.deserialize(t.data)[0]}))}):new Om({header:e.header,staticAccountKeys:e.accounts.map(as),recentBlockhash:e.blockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIndex,accountKeyIndexes:t.accountIndexes,data:t.data})),addressTableLookups:e.addressLookupTables.map(t=>({accountKey:as(t.publicKey),writableIndexes:t.writableIndexes,readonlyIndexes:t.readonlyIndexes}))})}function mSe(e){var t;return e.version==="legacy"?Sc.compile({payerKey:as(e.payer),instructions:e.instructions.map(U$),recentBlockhash:e.blockhash}):Om.compile({payerKey:as(e.payer),instructions:e.instructions.map(U$),recentBlockhash:e.blockhash,addressLookupTableAccounts:(t=e.addressLookupTables)==null?void 0:t.map(r=>new JP({key:as(r.publicKey),state:{addresses:r.addresses.map(as),authority:void 0,deactivationSlot:BigInt(`0x${"ff".repeat(8)}`),lastExtendedSlot:0,lastExtendedSlotStartIndex:0}}))})}function W$(e){return{message:QD(e.message),serializedMessage:e.message.serialize(),signatures:e.signatures}}function Hk(e){return new du(fSe(e.message),e.signatures)}var je={};const gSe=Jv(Y5e);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=gSe;Object.keys(t).forEach(function(r){r!=="default"&&!e.hasOwnProperty(r)&&Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})})})(je);function $$(e,t,r){let n=null;const i=()=>n||(typeof t=="string"?n=new _D(t,r):n=t,n),s=Qte(i().rpcEndpoint),l=async(re,ne={})=>{const ie=await i().getAccountInfo(as(re),ne);return K$(ie,re)},a=async(re,ne={})=>(await i().getMultipleAccountsInfo(re.map(as),ne)).map((me,Ze)=>K$(me,re[Ze])),p=async(re,ne={})=>{var me;return(await i().getProgramAccounts(as(re),{...ne,filters:(me=ne.filters)==null?void 0:me.map(Ze=>ySe(Ze))})).map(({pubkey:Ze,account:et})=>Yre(et,Hp(Ze)))},f=async(re,ne={})=>{const ie=await i().getBlockTime(re);return ie?o4(ie):null},g=async(re,ne={})=>{const ie=await i().getBalance(as(re),ne);return Lp(ie)},v=async()=>await i().getGenesisHash(),_=async(re,ne={})=>{const ie=me=>i().getMinimumBalanceForRentExemption(me,ne.commitment);if(ne.includesHeaderBytes??!1){const me=await ie(0),Ze=BigInt(me)/BigInt(Vte);return Lp(Ze*BigInt(re))}return Lp(await ie(re))},T=async(re={})=>i().getLatestBlockhash(re),z=async(re,ne={})=>{var j,Z,oe;const ie=await i().getTransaction(je.base58.deserialize(re)[0],{commitment:ne.commitment,maxSupportedTransactionVersion:0});if(!ie)return null;if(!ie.meta)throw new Error("Transaction meta is missing.");const{transaction:me,meta:Ze}=ie,et=QD(me.message),Ke=le=>Hp(new Ir(le)),ye=le=>({accountIndex:le.accountIndex,amount:m2(le.uiTokenAmount.amount,"splToken",le.uiTokenAmount.decimals),mint:Ke(le.mint),owner:le.owner?Ke(le.owner):null});return{message:et,serializedMessage:e.transactions.serializeMessage(et),signatures:me.signatures.map(je.base58.serialize),meta:{fee:Lp(Ze.fee),logs:Ze.logMessages??[],preBalances:Ze.preBalances.map(Lp),postBalances:Ze.postBalances.map(Lp),preTokenBalances:(Ze.preTokenBalances??[]).map(ye),postTokenBalances:(Ze.postTokenBalances??[]).map(ye),innerInstructions:((j=Ze.innerInstructions)==null?void 0:j.map(le=>({index:le.index,instructions:le.instructions.map(Q=>({programIndex:Q.programIdIndex,accountIndexes:Q.accounts,data:je.base58.serialize(Q.data)}))})))??null,loadedAddresses:{writable:(((Z=Ze.loadedAddresses)==null?void 0:Z.writable)??[]).map(Hp),readonly:(((oe=Ze.loadedAddresses)==null?void 0:oe.readonly)??[]).map(Hp)},computeUnitsConsumed:Ze.computeUnitsConsumed?BigInt(Ze.computeUnitsConsumed):null,err:Ze.err}}},I=async(re,ne={})=>(await i().getSignatureStatuses(re.map(me=>je.base58.deserialize(me)[0]),{searchTransactionHistory:(ne==null?void 0:ne.searchTransactionHistory)??!1})).value.map(me=>me?{slot:me.slot,confirmations:me.confirmations,error:me.err,commitment:me.confirmationStatus??null}:null),k=async(re,ne={})=>!Xte(await g(re,ne)),C=async(re,ne,ie={})=>{const me=await i().requestAirdrop(as(re),Number(ne.basisPoints));if(ie.strategy){await ee(je.base58.serialize(me),ie);return}await ee(je.base58.serialize(me),{...ie,strategy:{type:"blockhash",...await T()}})},L=async(re,ne,ie={})=>{const me=i()._rpcClient,Ze=Array.isArray(ne)?_Se([...ne],ie.commitment,ie.extra):bSe(ne,ie.commitment,ie.extra);return new Promise((et,Ke)=>{const ye=(j,Z)=>{j?Ke(j):et(Z.result)};ie.id?me.request(re,Ze,ie.id,ye):me.request(re,Ze,ye)})},N=async(re,ne={})=>{try{const ie=await i().sendRawTransaction(e.transactions.serialize(re),ne);return je.base58.serialize(ie)}catch(ie){let me=null;throw ie instanceof Error&&"logs"in ie&&(me=e.programs.resolveError(ie,re)),me||ie}},$=async(re,ne={})=>{try{const ie=Hk(re);return(await i().simulateTransaction(ie,{sigVerify:ne.verifySignatures,accounts:{addresses:ne.accounts||[],encoding:"base64"}})).value}catch(ie){let me=null;throw ie instanceof Error&&"logs"in ie&&(me=e.programs.resolveError(ie,re)),me||ie}},ee=async(re,ne)=>i().confirmTransaction(vSe(re,ne),ne.commitment);return{getEndpoint:()=>i().rpcEndpoint,getCluster:()=>s,getAccount:l,getAccounts:a,getProgramAccounts:p,getBlockTime:f,getGenesisHash:v,getBalance:g,getRent:_,getSlot:async(re={})=>i().getSlot(re),getLatestBlockhash:T,getTransaction:z,getSignatureStatuses:I,accountExists:k,airdrop:C,call:L,sendTransaction:N,simulateTransaction:$,confirmTransaction:ee,get connection(){return i()}}}function Yre(e,t){return{executable:e.executable,owner:Hp(e.owner),lamports:Lp(e.lamports),rentEpoch:e.rentEpoch?BigInt(e.rentEpoch):void 0,publicKey:t,data:new Uint8Array(e.data)}}function K$(e,t){return e?{...Yre(e,t),exists:!0}:{exists:!1,publicKey:t}}function ySe(e){if(!("memcmp"in e))return e;const{bytes:t,...r}=e.memcmp;return{memcmp:{...r,bytes:je.base58.deserialize(t)[0]}}}function vSe(e,t){return t.strategy.type==="blockhash"?{...t.strategy,signature:je.base58.deserialize(e)[0]}:{...t.strategy,signature:je.base58.deserialize(e)[0],nonceAccountPubkey:as(t.strategy.nonceAccountPubkey)}}function _Se(e,t,r){if(!t&&!r)return e;let n={};return t&&(n.commitment=t),r&&(n={...n,...r}),e.push(n),e}function bSe(e={},t,r){if(!t&&!r)return e;const n={...e};return t&&(n.commitment=t),r&&Object.assign(n,r),n}function q$(e,t){return{install(r){r.rpc=typeof e=="string"?$$(r,e,t):$$(r,e)}}}const xSe=(e,t=100)=>({...e,getAccounts:async(r,n)=>{const i=are(r,t).map(l=>e.getAccounts(l,n));return(await Promise.all(i)).flat()}}),wSe=(e=100)=>({install(t){t.rpc=xSe(t.rpc,e)}});function SSe(e={}){return{tuple:je.tuple,array:je.array,map:je.map,set:je.set,option:je.option,nullable:je.nullable,struct:je.struct,enum:je.scalarEnum,dataEnum:je.dataEnum,string:je.string,bool:je.bool,unit:je.unit,u8:je.u8,u16:je.u16,u32:je.u32,u64:je.u64,u128:je.u128,i8:je.i8,i16:je.i16,i32:je.i32,i64:je.i64,i128:je.i128,f32:je.f32,f64:je.f64,bytes:je.bytes,publicKey:je.publicKey}}const ESe=(e={})=>({install(t){t.serializer=SSe(e)}}),G$=128,ASe=127;function TSe(){const e=_=>{const T=mSe(_),z=QD(T),I=new du(T,_.signatures);return{message:z,serializedMessage:n(z),signatures:I.signatures}},t=_=>s().serialize(_),r=_=>s().deserialize(_)[0],n=_=>l().serialize(_),i=_=>l().deserialize(_)[0],s=()=>({...je.mapSerializer(je.struct([["signatures",je.array(je.bytes({size:64}),{size:je.shortU16()})],["serializedMessage",je.bytes()]]),_=>_,_=>({..._,message:i(_.serializedMessage)})),description:"Transaction"}),l=()=>({description:"TransactionMessage",fixedSize:null,maxSize:null,serialize:_=>a(_.version).serialize(_),deserialize:(_,T=0)=>{const[z]=p().deserialize(_,T);return a(z).deserialize(_,T)}}),a=_=>je.struct([["version",p()],["header",f()],["accounts",je.array(je.publicKey(),{size:je.shortU16()})],["blockhash",je.string({encoding:je.base58,size:32})],["instructions",je.array(g(),{size:je.shortU16()})],["addressLookupTables",je.array(v(),{size:_==="legacy"?0:je.shortU16()})]]),p=()=>({description:"TransactionVersion",fixedSize:null,maxSize:1,serialize:_=>_==="legacy"?new Uint8Array([]):new Uint8Array([G$|_]),deserialize:(_,T=0)=>{const z=_.slice(T);if(z.length===0||!(z[0]&G$))return["legacy",T];const I=z[0]&ASe;if(I>0)throw new is(`Unsupported transaction version: ${I}.`);return[I,T+1]}}),f=()=>je.struct([["numRequiredSignatures",je.u8()],["numReadonlySignedAccounts",je.u8()],["numReadonlyUnsignedAccounts",je.u8()]]),g=()=>je.struct([["programIndex",je.u8()],["accountIndexes",je.array(je.u8(),{size:je.shortU16()})],["data",je.bytes({size:je.shortU16()})]]),v=()=>je.struct([["publicKey",je.publicKey()],["writableIndexes",je.array(je.u8(),{size:je.shortU16()})],["readonlyIndexes",je.array(je.u8(),{size:je.shortU16()})]]);return{create:e,serialize:t,deserialize:r,serializeMessage:n,deserializeMessage:i}}const MSe=()=>({install(e){e.transactions=TSe()}});function H$(e,t){return{install(r){r.use(ESe()),r.use(hSe()),r.use(uSe()),r.use(a9e()),r.use(s9e()),r.use(typeof e=="string"?q$(e,t):q$(e)),r.use(wSe(t==null?void 0:t.getAccountsChunkSize)),r.use(MSe())}}}function Xre(e,t){return yre().use(H$(e,t))}var _x={},hT={},fT={},na={};const gt=Jv(n9e);var mT={},Qre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getAuthorityTypeSerializer=e.AuthorityType=void 0;const t=je;var r;(function(i){i[i.None=0]="None",i[i.Metadata=1]="Metadata",i[i.Holder=2]="Holder",i[i.MetadataDelegate=3]="MetadataDelegate",i[i.TokenDelegate=4]="TokenDelegate"})(r=e.AuthorityType||(e.AuthorityType={}));function n(){return(0,t.scalarEnum)(r,{description:"AuthorityType"})}e.getAuthorityTypeSerializer=n})(Qre);var Eb={},Z$;function PSe(){if(Z$)return Eb;Z$=1,Object.defineProperty(Eb,"__esModule",{value:!0}),Eb.getAuthorizationDataSerializer=void 0;const e=je,t=sr();function r(){return(0,e.struct)([["payload",(0,t.getPayloadSerializer)()]],{description:"AuthorizationData"})}return Eb.getAuthorizationDataSerializer=r,Eb}var lh={};Object.defineProperty(lh,"__esModule",{value:!0});lh.isBurnArgs=lh.burnArgs=lh.getBurnArgsSerializer=void 0;const s3=je;function kSe(){return(0,s3.dataEnum)([["V1",(0,s3.mapSerializer)((0,s3.struct)([["amount",(0,s3.u64)()]]),e=>({...e,amount:e.amount??1}))]],{description:"BurnArgs"})}lh.getBurnArgsSerializer=kSe;function ISe(e,t){return Array.isArray(t)?{__kind:e,fields:t}:{__kind:e,...t??{}}}lh.burnArgs=ISe;function CSe(e,t){return t.__kind===e}lh.isBurnArgs=CSe;var aS={};Object.defineProperty(aS,"__esModule",{value:!0});aS.getCollectionSerializer=void 0;const gT=je;function DSe(){return(0,gT.struct)([["verified",(0,gT.bool)()],["key",(0,gT.publicKey)()]],{description:"Collection"})}aS.getCollectionSerializer=DSe;var ch={};Object.defineProperty(ch,"__esModule",{value:!0});ch.isCollectionDetails=ch.collectionDetails=ch.getCollectionDetailsSerializer=void 0;const sg=je;function zSe(){return(0,sg.dataEnum)([["V1",(0,sg.struct)([["size",(0,sg.u64)()]])],["V2",(0,sg.struct)([["padding",(0,sg.array)((0,sg.u8)(),{size:8})]])]],{description:"CollectionDetails"})}ch.getCollectionDetailsSerializer=zSe;function RSe(e,t){return Array.isArray(t)?{__kind:e,fields:t}:{__kind:e,...t??{}}}ch.collectionDetails=RSe;function NSe(e,t){return t.__kind===e}ch.isCollectionDetails=NSe;var Wu={},Y$;function LSe(){if(Y$)return Wu;Y$=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.isCollectionDetailsToggle=Wu.collectionDetailsToggle=Wu.getCollectionDetailsToggleSerializer=void 0;const e=je,t=sr();function r(){return(0,e.dataEnum)([["None",(0,e.unit)()],["Clear",(0,e.unit)()],["Set",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getCollectionDetailsSerializer)()])]])]],{description:"CollectionDetailsToggle"})}Wu.getCollectionDetailsToggleSerializer=r;function n(s,l){return Array.isArray(l)?{__kind:s,fields:l}:{__kind:s,...l??{}}}Wu.collectionDetailsToggle=n;function i(s,l){return l.__kind===s}return Wu.isCollectionDetailsToggle=i,Wu}var $u={},X$;function OSe(){if(X$)return $u;X$=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.isCollectionToggle=$u.collectionToggle=$u.getCollectionToggleSerializer=void 0;const e=je,t=sr();function r(){return(0,e.dataEnum)([["None",(0,e.unit)()],["Clear",(0,e.unit)()],["Set",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getCollectionSerializer)()])]])]],{description:"CollectionToggle"})}$u.getCollectionToggleSerializer=r;function n(s,l){return Array.isArray(l)?{__kind:s,fields:l}:{__kind:s,...l??{}}}$u.collectionToggle=n;function i(s,l){return l.__kind===s}return $u.isCollectionToggle=i,$u}var Ku={},Q$;function BSe(){if(Q$)return Ku;Q$=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.isCreateArgs=Ku.createArgs=Ku.getCreateArgsSerializer=void 0;const e=gt,t=je,r=sr();function n(){return(0,t.dataEnum)([["V1",(0,t.mapSerializer)((0,t.struct)([["name",(0,t.string)()],["symbol",(0,t.string)()],["uri",(0,t.string)()],["sellerFeeBasisPoints",(0,e.mapAmountSerializer)((0,t.u16)(),"%",2)],["creators",(0,t.option)((0,t.array)((0,r.getCreatorSerializer)()))],["primarySaleHappened",(0,t.bool)()],["isMutable",(0,t.bool)()],["tokenStandard",(0,r.getTokenStandardSerializer)()],["collection",(0,t.option)((0,r.getCollectionSerializer)())],["uses",(0,t.option)((0,r.getUsesSerializer)())],["collectionDetails",(0,t.option)((0,r.getCollectionDetailsSerializer)())],["ruleSet",(0,t.option)((0,t.publicKey)())],["decimals",(0,t.option)((0,t.u8)())],["printSupply",(0,t.option)((0,r.getPrintSupplySerializer)())]]),l=>({...l,symbol:l.symbol??"",primarySaleHappened:l.primarySaleHappened??!1,isMutable:l.isMutable??!0,collection:l.collection??(0,e.none)(),uses:l.uses??(0,e.none)(),collectionDetails:l.collectionDetails??(0,e.none)(),ruleSet:l.ruleSet??(0,e.none)(),decimals:l.decimals??(0,e.none)(),printSupply:l.printSupply??(0,e.none)()}))]],{description:"CreateArgs"})}Ku.getCreateArgsSerializer=n;function i(l,a){return Array.isArray(a)?{__kind:l,fields:a}:{__kind:l,...a??{}}}Ku.createArgs=i;function s(l,a){return a.__kind===l}return Ku.isCreateArgs=s,Ku}var oS={};Object.defineProperty(oS,"__esModule",{value:!0});oS.getCreatorSerializer=void 0;const l3=je;function FSe(){return(0,l3.struct)([["address",(0,l3.publicKey)()],["verified",(0,l3.bool)()],["share",(0,l3.u8)()]],{description:"Creator"})}oS.getCreatorSerializer=FSe;var Ab={},J$;function jSe(){if(J$)return Ab;J$=1,Object.defineProperty(Ab,"__esModule",{value:!0}),Ab.getDataSerializer=void 0;const e=je,t=sr();function r(){return(0,e.struct)([["name",(0,e.string)()],["symbol",(0,e.string)()],["uri",(0,e.string)()],["sellerFeeBasisPoints",(0,e.u16)()],["creators",(0,e.option)((0,e.array)((0,t.getCreatorSerializer)()))]],{description:"Data"})}return Ab.getDataSerializer=r,Ab}var Tb={},eK;function VSe(){if(eK)return Tb;eK=1,Object.defineProperty(Tb,"__esModule",{value:!0}),Tb.getDataV2Serializer=void 0;const e=je,t=sr();function r(){return(0,e.struct)([["name",(0,e.string)()],["symbol",(0,e.string)()],["uri",(0,e.string)()],["sellerFeeBasisPoints",(0,e.u16)()],["creators",(0,e.option)((0,e.array)((0,t.getCreatorSerializer)()))],["collection",(0,e.option)((0,t.getCollectionSerializer)())],["uses",(0,e.option)((0,t.getUsesSerializer)())]],{description:"DataV2"})}return Tb.getDataV2Serializer=r,Tb}var qu={},tK;function USe(){if(tK)return qu;tK=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.isDelegateArgs=qu.delegateArgs=qu.getDelegateArgsSerializer=void 0;const e=gt,t=je,r=sr();function n(){return(0,t.dataEnum)([["CollectionV1",(0,t.mapSerializer)((0,t.struct)([["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,authorizationData:l.authorizationData??(0,e.none)()}))],["SaleV1",(0,t.mapSerializer)((0,t.struct)([["amount",(0,t.u64)()],["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,amount:l.amount??1,authorizationData:l.authorizationData??(0,e.none)()}))],["TransferV1",(0,t.mapSerializer)((0,t.struct)([["amount",(0,t.u64)()],["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,amount:l.amount??1,authorizationData:l.authorizationData??(0,e.none)()}))],["DataV1",(0,t.mapSerializer)((0,t.struct)([["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,authorizationData:l.authorizationData??(0,e.none)()}))],["UtilityV1",(0,t.mapSerializer)((0,t.struct)([["amount",(0,t.u64)()],["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,amount:l.amount??1,authorizationData:l.authorizationData??(0,e.none)()}))],["StakingV1",(0,t.mapSerializer)((0,t.struct)([["amount",(0,t.u64)()],["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,amount:l.amount??1,authorizationData:l.authorizationData??(0,e.none)()}))],["StandardV1",(0,t.mapSerializer)((0,t.struct)([["amount",(0,t.u64)()]]),l=>({...l,amount:l.amount??1}))],["LockedTransferV1",(0,t.mapSerializer)((0,t.struct)([["amount",(0,t.u64)()],["lockedAddress",(0,t.publicKey)()],["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,amount:l.amount??1,authorizationData:l.authorizationData??(0,e.none)()}))],["ProgrammableConfigV1",(0,t.mapSerializer)((0,t.struct)([["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,authorizationData:l.authorizationData??(0,e.none)()}))],["AuthorityItemV1",(0,t.mapSerializer)((0,t.struct)([["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,authorizationData:l.authorizationData??(0,e.none)()}))],["DataItemV1",(0,t.mapSerializer)((0,t.struct)([["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,authorizationData:l.authorizationData??(0,e.none)()}))],["CollectionItemV1",(0,t.mapSerializer)((0,t.struct)([["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,authorizationData:l.authorizationData??(0,e.none)()}))],["ProgrammableConfigItemV1",(0,t.mapSerializer)((0,t.struct)([["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,authorizationData:l.authorizationData??(0,e.none)()}))],["PrintDelegateV1",(0,t.mapSerializer)((0,t.struct)([["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,authorizationData:l.authorizationData??(0,e.none)()}))]],{description:"DelegateArgs"})}qu.getDelegateArgsSerializer=n;function i(l,a){return Array.isArray(a)?{__kind:l,fields:a}:{__kind:l,...a??{}}}qu.delegateArgs=i;function s(l,a){return a.__kind===l}return qu.isDelegateArgs=s,qu}var uh={};Object.defineProperty(uh,"__esModule",{value:!0});uh.isEscrowAuthority=uh.escrowAuthority=uh.getEscrowAuthoritySerializer=void 0;const Mb=je;function WSe(){return(0,Mb.dataEnum)([["TokenOwner",(0,Mb.unit)()],["Creator",(0,Mb.struct)([["fields",(0,Mb.tuple)([(0,Mb.publicKey)()])]])]],{description:"EscrowAuthority"})}uh.getEscrowAuthoritySerializer=WSe;function $Se(e,t){return Array.isArray(t)?{__kind:e,fields:t}:{__kind:e,...t??{}}}uh.escrowAuthority=$Se;function KSe(e,t){return t.__kind===e}uh.isEscrowAuthority=KSe;var JD={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getHolderDelegateRoleSerializer=e.HolderDelegateRole=void 0;const t=je;var r;(function(i){i[i.PrintDelegate=0]="PrintDelegate"})(r=e.HolderDelegateRole||(e.HolderDelegateRole={}));function n(){return(0,t.scalarEnum)(r,{description:"HolderDelegateRole"})}e.getHolderDelegateRoleSerializer=n})(JD);var Jre={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getKeySerializer=e.Key=void 0;const t=je;var r;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.EditionV1=1]="EditionV1",i[i.MasterEditionV1=2]="MasterEditionV1",i[i.ReservationListV1=3]="ReservationListV1",i[i.MetadataV1=4]="MetadataV1",i[i.ReservationListV2=5]="ReservationListV2",i[i.MasterEditionV2=6]="MasterEditionV2",i[i.EditionMarker=7]="EditionMarker",i[i.UseAuthorityRecord=8]="UseAuthorityRecord",i[i.CollectionAuthorityRecord=9]="CollectionAuthorityRecord",i[i.TokenOwnedEscrow=10]="TokenOwnedEscrow",i[i.TokenRecord=11]="TokenRecord",i[i.MetadataDelegate=12]="MetadataDelegate",i[i.EditionMarkerV2=13]="EditionMarkerV2",i[i.HolderDelegate=14]="HolderDelegate"})(r=e.Key||(e.Key={}));function n(){return(0,t.scalarEnum)(r,{description:"Key"})}e.getKeySerializer=n})(Jre);var Gu={},rK;function qSe(){if(rK)return Gu;rK=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.isLockArgs=Gu.lockArgs=Gu.getLockArgsSerializer=void 0;const e=gt,t=je,r=sr();function n(){return(0,t.dataEnum)([["V1",(0,t.mapSerializer)((0,t.struct)([["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,authorizationData:l.authorizationData??(0,e.none)()}))]],{description:"LockArgs"})}Gu.getLockArgsSerializer=n;function i(l,a){return Array.isArray(a)?{__kind:l,fields:a}:{__kind:l,...a??{}}}Gu.lockArgs=i;function s(l,a){return a.__kind===l}return Gu.isLockArgs=s,Gu}var ez={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMetadataDelegateRoleSerializer=e.MetadataDelegateRole=void 0;const t=je;var r;(function(i){i[i.AuthorityItem=0]="AuthorityItem",i[i.Collection=1]="Collection",i[i.Use=2]="Use",i[i.Data=3]="Data",i[i.ProgrammableConfig=4]="ProgrammableConfig",i[i.DataItem=5]="DataItem",i[i.CollectionItem=6]="CollectionItem",i[i.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(r=e.MetadataDelegateRole||(e.MetadataDelegateRole={}));function n(){return(0,t.scalarEnum)(r,{description:"MetadataDelegateRole"})}e.getMetadataDelegateRoleSerializer=n})(ez);var ene={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMigrationTypeSerializer=e.MigrationType=void 0;const t=je;var r;(function(i){i[i.CollectionV1=0]="CollectionV1",i[i.ProgrammableV1=1]="ProgrammableV1"})(r=e.MigrationType||(e.MigrationType={}));function n(){return(0,t.scalarEnum)(r,{description:"MigrationType"})}e.getMigrationTypeSerializer=n})(ene);var Hu={},nK;function GSe(){if(nK)return Hu;nK=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.isMintArgs=Hu.mintArgs=Hu.getMintArgsSerializer=void 0;const e=gt,t=je,r=sr();function n(){return(0,t.dataEnum)([["V1",(0,t.mapSerializer)((0,t.struct)([["amount",(0,t.u64)()],["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,amount:l.amount??1,authorizationData:l.authorizationData??(0,e.none)()}))]],{description:"MintArgs"})}Hu.getMintArgsSerializer=n;function i(l,a){return Array.isArray(a)?{__kind:l,fields:a}:{__kind:l,...a??{}}}Hu.mintArgs=i;function s(l,a){return a.__kind===l}return Hu.isMintArgs=s,Hu}var sS={};Object.defineProperty(sS,"__esModule",{value:!0});sS.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=void 0;const iK=je;function HSe(){return(0,iK.struct)([["edition",(0,iK.u64)()]],{description:"MintNewEditionFromMasterEditionViaTokenArgs"})}sS.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=HSe;var Pb={},aK;function ZSe(){if(aK)return Pb;aK=1,Object.defineProperty(Pb,"__esModule",{value:!0}),Pb.getPayloadSerializer=void 0;const e=je,t=sr();function r(){return(0,e.struct)([["map",(0,e.map)((0,e.string)(),(0,t.getPayloadTypeSerializer)())]],{description:"Payload"})}return Pb.getPayloadSerializer=r,Pb}var tne={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getPayloadKeySerializer=e.PayloadKey=void 0;const t=je;var r;(function(i){i[i.Amount=0]="Amount",i[i.Authority=1]="Authority",i[i.AuthoritySeeds=2]="AuthoritySeeds",i[i.Delegate=3]="Delegate",i[i.DelegateSeeds=4]="DelegateSeeds",i[i.Destination=5]="Destination",i[i.DestinationSeeds=6]="DestinationSeeds",i[i.Holder=7]="Holder",i[i.Source=8]="Source",i[i.SourceSeeds=9]="SourceSeeds"})(r=e.PayloadKey||(e.PayloadKey={}));function n(){return(0,t.scalarEnum)(r,{description:"PayloadKey"})}e.getPayloadKeySerializer=n})(tne);var Zu={},oK;function YSe(){if(oK)return Zu;oK=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.isPayloadType=Zu.payloadType=Zu.getPayloadTypeSerializer=void 0;const e=je,t=sr();function r(){return(0,e.dataEnum)([["Pubkey",(0,e.struct)([["fields",(0,e.tuple)([(0,e.publicKey)()])]])],["Seeds",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getSeedsVecSerializer)()])]])],["MerkleProof",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getProofInfoSerializer)()])]])],["Number",(0,e.struct)([["fields",(0,e.tuple)([(0,e.u64)()])]])]],{description:"PayloadType"})}Zu.getPayloadTypeSerializer=r;function n(s,l){return Array.isArray(l)?{__kind:s,fields:l}:{__kind:s,...l??{}}}Zu.payloadType=n;function i(s,l){return l.__kind===s}return Zu.isPayloadType=i,Zu}var dh={};Object.defineProperty(dh,"__esModule",{value:!0});dh.isPrintArgs=dh.printArgs=dh.getPrintArgsSerializer=void 0;const kb=je;function XSe(){return(0,kb.dataEnum)([["V1",(0,kb.struct)([["edition",(0,kb.u64)()]])],["V2",(0,kb.struct)([["edition",(0,kb.u64)()]])]],{description:"PrintArgs"})}dh.getPrintArgsSerializer=XSe;function QSe(e,t){return Array.isArray(t)?{__kind:e,fields:t}:{__kind:e,...t??{}}}dh.printArgs=QSe;function JSe(e,t){return t.__kind===e}dh.isPrintArgs=JSe;var ph={};Object.defineProperty(ph,"__esModule",{value:!0});ph.isPrintSupply=ph.printSupply=ph.getPrintSupplySerializer=void 0;const lg=je;function e7e(){return(0,lg.dataEnum)([["Zero",(0,lg.unit)()],["Limited",(0,lg.struct)([["fields",(0,lg.tuple)([(0,lg.u64)()])]])],["Unlimited",(0,lg.unit)()]],{description:"PrintSupply"})}ph.getPrintSupplySerializer=e7e;function t7e(e,t){return Array.isArray(t)?{__kind:e,fields:t}:{__kind:e,...t??{}}}ph.printSupply=t7e;function r7e(e,t){return t.__kind===e}ph.isPrintSupply=r7e;var hh={};Object.defineProperty(hh,"__esModule",{value:!0});hh.isProgrammableConfig=hh.programmableConfig=hh.getProgrammableConfigSerializer=void 0;const c3=je;function n7e(){return(0,c3.dataEnum)([["V1",(0,c3.struct)([["ruleSet",(0,c3.option)((0,c3.publicKey)())]])]],{description:"ProgrammableConfig"})}hh.getProgrammableConfigSerializer=n7e;function i7e(e,t){return Array.isArray(t)?{__kind:e,fields:t}:{__kind:e,...t??{}}}hh.programmableConfig=i7e;function a7e(e,t){return t.__kind===e}hh.isProgrammableConfig=a7e;var lS={};Object.defineProperty(lS,"__esModule",{value:!0});lS.getProofInfoSerializer=void 0;const yT=je;function o7e(){return(0,yT.struct)([["proof",(0,yT.array)((0,yT.bytes)({size:32}))]],{description:"ProofInfo"})}lS.getProofInfoSerializer=o7e;var cS={};Object.defineProperty(cS,"__esModule",{value:!0});cS.getReservationSerializer=void 0;const u3=je;function s7e(){return(0,u3.struct)([["address",(0,u3.publicKey)()],["spotsRemaining",(0,u3.u64)()],["totalSpots",(0,u3.u64)()]],{description:"Reservation"})}cS.getReservationSerializer=s7e;var uS={};Object.defineProperty(uS,"__esModule",{value:!0});uS.getReservationV1Serializer=void 0;const d3=je;function l7e(){return(0,d3.struct)([["address",(0,d3.publicKey)()],["spotsRemaining",(0,d3.u8)()],["totalSpots",(0,d3.u8)()]],{description:"ReservationV1"})}uS.getReservationV1Serializer=l7e;var rne={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getRevokeArgsSerializer=e.RevokeArgs=void 0;const t=je;var r;(function(i){i[i.CollectionV1=0]="CollectionV1",i[i.SaleV1=1]="SaleV1",i[i.TransferV1=2]="TransferV1",i[i.DataV1=3]="DataV1",i[i.UtilityV1=4]="UtilityV1",i[i.StakingV1=5]="StakingV1",i[i.StandardV1=6]="StandardV1",i[i.LockedTransferV1=7]="LockedTransferV1",i[i.ProgrammableConfigV1=8]="ProgrammableConfigV1",i[i.MigrationV1=9]="MigrationV1",i[i.AuthorityItemV1=10]="AuthorityItemV1",i[i.DataItemV1=11]="DataItemV1",i[i.CollectionItemV1=12]="CollectionItemV1",i[i.ProgrammableConfigItemV1=13]="ProgrammableConfigItemV1",i[i.PrintDelegateV1=14]="PrintDelegateV1"})(r=e.RevokeArgs||(e.RevokeArgs={}));function n(){return(0,t.scalarEnum)(r,{description:"RevokeArgs"})}e.getRevokeArgsSerializer=n})(rne);var fh={};Object.defineProperty(fh,"__esModule",{value:!0});fh.isRuleSetToggle=fh.ruleSetToggle=fh.getRuleSetToggleSerializer=void 0;const cg=je;function c7e(){return(0,cg.dataEnum)([["None",(0,cg.unit)()],["Clear",(0,cg.unit)()],["Set",(0,cg.struct)([["fields",(0,cg.tuple)([(0,cg.publicKey)()])]])]],{description:"RuleSetToggle"})}fh.getRuleSetToggleSerializer=c7e;function u7e(e,t){return Array.isArray(t)?{__kind:e,fields:t}:{__kind:e,...t??{}}}fh.ruleSetToggle=u7e;function d7e(e,t){return t.__kind===e}fh.isRuleSetToggle=d7e;var dS={};Object.defineProperty(dS,"__esModule",{value:!0});dS.getSeedsVecSerializer=void 0;const p3=je;function p7e(){return(0,p3.struct)([["seeds",(0,p3.array)((0,p3.bytes)({size:(0,p3.u32)()}))]],{description:"SeedsVec"})}dS.getSeedsVecSerializer=p7e;var pS={};Object.defineProperty(pS,"__esModule",{value:!0});pS.getSetCollectionSizeArgsSerializer=void 0;const sK=je;function h7e(){return(0,sK.struct)([["size",(0,sK.u64)()]],{description:"SetCollectionSizeArgs"})}pS.getSetCollectionSizeArgsSerializer=h7e;var nne={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTokenDelegateRoleSerializer=e.TokenDelegateRole=void 0;const t=je;var r;(function(i){i[i.Sale=0]="Sale",i[i.Transfer=1]="Transfer",i[i.Utility=2]="Utility",i[i.Staking=3]="Staking",i[i.Standard=4]="Standard",i[i.LockedTransfer=5]="LockedTransfer",i[i.Migration=6]="Migration"})(r=e.TokenDelegateRole||(e.TokenDelegateRole={}));function n(){return(0,t.scalarEnum)(r,{description:"TokenDelegateRole"})}e.getTokenDelegateRoleSerializer=n})(nne);var ine={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTokenStandardSerializer=e.TokenStandard=void 0;const t=je;var r;(function(i){i[i.NonFungible=0]="NonFungible",i[i.FungibleAsset=1]="FungibleAsset",i[i.Fungible=2]="Fungible",i[i.NonFungibleEdition=3]="NonFungibleEdition",i[i.ProgrammableNonFungible=4]="ProgrammableNonFungible",i[i.ProgrammableNonFungibleEdition=5]="ProgrammableNonFungibleEdition"})(r=e.TokenStandard||(e.TokenStandard={}));function n(){return(0,t.scalarEnum)(r,{description:"TokenStandard"})}e.getTokenStandardSerializer=n})(ine);var ane={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTokenStateSerializer=e.TokenState=void 0;const t=je;var r;(function(i){i[i.Unlocked=0]="Unlocked",i[i.Locked=1]="Locked",i[i.Listed=2]="Listed"})(r=e.TokenState||(e.TokenState={}));function n(){return(0,t.scalarEnum)(r,{description:"TokenState"})}e.getTokenStateSerializer=n})(ane);var Yu={},lK;function f7e(){if(lK)return Yu;lK=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.isTransferArgs=Yu.transferArgs=Yu.getTransferArgsSerializer=void 0;const e=gt,t=je,r=sr();function n(){return(0,t.dataEnum)([["V1",(0,t.mapSerializer)((0,t.struct)([["amount",(0,t.u64)()],["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,amount:l.amount??1,authorizationData:l.authorizationData??(0,e.none)()}))]],{description:"TransferArgs"})}Yu.getTransferArgsSerializer=n;function i(l,a){return Array.isArray(a)?{__kind:l,fields:a}:{__kind:l,...a??{}}}Yu.transferArgs=i;function s(l,a){return a.__kind===l}return Yu.isTransferArgs=s,Yu}var Xu={},cK;function m7e(){if(cK)return Xu;cK=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.isUnlockArgs=Xu.unlockArgs=Xu.getUnlockArgsSerializer=void 0;const e=gt,t=je,r=sr();function n(){return(0,t.dataEnum)([["V1",(0,t.mapSerializer)((0,t.struct)([["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,authorizationData:l.authorizationData??(0,e.none)()}))]],{description:"UnlockArgs"})}Xu.getUnlockArgsSerializer=n;function i(l,a){return Array.isArray(a)?{__kind:l,fields:a}:{__kind:l,...a??{}}}Xu.unlockArgs=i;function s(l,a){return a.__kind===l}return Xu.isUnlockArgs=s,Xu}var Qu={},uK;function g7e(){if(uK)return Qu;uK=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.isUpdateArgs=Qu.updateArgs=Qu.getUpdateArgsSerializer=void 0;const e=gt,t=je,r=sr();function n(){return(0,t.dataEnum)([["V1",(0,t.mapSerializer)((0,t.struct)([["newUpdateAuthority",(0,t.option)((0,t.publicKey)())],["data",(0,t.option)((0,r.getDataSerializer)())],["primarySaleHappened",(0,t.option)((0,t.bool)())],["isMutable",(0,t.option)((0,t.bool)())],["collection",(0,r.getCollectionToggleSerializer)()],["collectionDetails",(0,r.getCollectionDetailsToggleSerializer)()],["uses",(0,r.getUsesToggleSerializer)()],["ruleSet",(0,r.getRuleSetToggleSerializer)()],["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,newUpdateAuthority:l.newUpdateAuthority??(0,e.none)(),data:l.data??(0,e.none)(),primarySaleHappened:l.primarySaleHappened??(0,e.none)(),isMutable:l.isMutable??(0,e.none)(),collection:l.collection??(0,r.collectionToggle)("None"),collectionDetails:l.collectionDetails??(0,r.collectionDetailsToggle)("None"),uses:l.uses??(0,r.usesToggle)("None"),ruleSet:l.ruleSet??(0,r.ruleSetToggle)("None"),authorizationData:l.authorizationData??(0,e.none)()}))],["AsUpdateAuthorityV2",(0,t.mapSerializer)((0,t.struct)([["newUpdateAuthority",(0,t.option)((0,t.publicKey)())],["data",(0,t.option)((0,r.getDataSerializer)())],["primarySaleHappened",(0,t.option)((0,t.bool)())],["isMutable",(0,t.option)((0,t.bool)())],["collection",(0,r.getCollectionToggleSerializer)()],["collectionDetails",(0,r.getCollectionDetailsToggleSerializer)()],["uses",(0,r.getUsesToggleSerializer)()],["ruleSet",(0,r.getRuleSetToggleSerializer)()],["tokenStandard",(0,t.option)((0,r.getTokenStandardSerializer)())],["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,newUpdateAuthority:l.newUpdateAuthority??(0,e.none)(),data:l.data??(0,e.none)(),primarySaleHappened:l.primarySaleHappened??(0,e.none)(),isMutable:l.isMutable??(0,e.none)(),collection:l.collection??(0,r.collectionToggle)("None"),collectionDetails:l.collectionDetails??(0,r.collectionDetailsToggle)("None"),uses:l.uses??(0,r.usesToggle)("None"),ruleSet:l.ruleSet??(0,r.ruleSetToggle)("None"),tokenStandard:l.tokenStandard??(0,e.none)(),authorizationData:l.authorizationData??(0,e.none)()}))],["AsAuthorityItemDelegateV2",(0,t.mapSerializer)((0,t.struct)([["newUpdateAuthority",(0,t.option)((0,t.publicKey)())],["primarySaleHappened",(0,t.option)((0,t.bool)())],["isMutable",(0,t.option)((0,t.bool)())],["tokenStandard",(0,t.option)((0,r.getTokenStandardSerializer)())],["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,newUpdateAuthority:l.newUpdateAuthority??(0,e.none)(),primarySaleHappened:l.primarySaleHappened??(0,e.none)(),isMutable:l.isMutable??(0,e.none)(),tokenStandard:l.tokenStandard??(0,e.none)(),authorizationData:l.authorizationData??(0,e.none)()}))],["AsCollectionDelegateV2",(0,t.mapSerializer)((0,t.struct)([["collection",(0,r.getCollectionToggleSerializer)()],["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,collection:l.collection??(0,r.collectionToggle)("None"),authorizationData:l.authorizationData??(0,e.none)()}))],["AsDataDelegateV2",(0,t.mapSerializer)((0,t.struct)([["data",(0,t.option)((0,r.getDataSerializer)())],["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,data:l.data??(0,e.none)(),authorizationData:l.authorizationData??(0,e.none)()}))],["AsProgrammableConfigDelegateV2",(0,t.mapSerializer)((0,t.struct)([["ruleSet",(0,r.getRuleSetToggleSerializer)()],["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,ruleSet:l.ruleSet??(0,r.ruleSetToggle)("None"),authorizationData:l.authorizationData??(0,e.none)()}))],["AsDataItemDelegateV2",(0,t.mapSerializer)((0,t.struct)([["data",(0,t.option)((0,r.getDataSerializer)())],["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,data:l.data??(0,e.none)(),authorizationData:l.authorizationData??(0,e.none)()}))],["AsCollectionItemDelegateV2",(0,t.mapSerializer)((0,t.struct)([["collection",(0,r.getCollectionToggleSerializer)()],["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,collection:l.collection??(0,r.collectionToggle)("None"),authorizationData:l.authorizationData??(0,e.none)()}))],["AsProgrammableConfigItemDelegateV2",(0,t.mapSerializer)((0,t.struct)([["ruleSet",(0,r.getRuleSetToggleSerializer)()],["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,ruleSet:l.ruleSet??(0,r.ruleSetToggle)("None"),authorizationData:l.authorizationData??(0,e.none)()}))]],{description:"UpdateArgs"})}Qu.getUpdateArgsSerializer=n;function i(l,a){return Array.isArray(a)?{__kind:l,fields:a}:{__kind:l,...a??{}}}Qu.updateArgs=i;function s(l,a){return a.__kind===l}return Qu.isUpdateArgs=s,Qu}var Ju={},dK;function y7e(){if(dK)return Ju;dK=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.isUseArgs=Ju.useArgs=Ju.getUseArgsSerializer=void 0;const e=gt,t=je,r=sr();function n(){return(0,t.dataEnum)([["V1",(0,t.mapSerializer)((0,t.struct)([["authorizationData",(0,t.option)((0,r.getAuthorizationDataSerializer)())]]),l=>({...l,authorizationData:l.authorizationData??(0,e.none)()}))]],{description:"UseArgs"})}Ju.getUseArgsSerializer=n;function i(l,a){return Array.isArray(a)?{__kind:l,fields:a}:{__kind:l,...a??{}}}Ju.useArgs=i;function s(l,a){return a.__kind===l}return Ju.isUseArgs=s,Ju}var one={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getUseMethodSerializer=e.UseMethod=void 0;const t=je;var r;(function(i){i[i.Burn=0]="Burn",i[i.Multiple=1]="Multiple",i[i.Single=2]="Single"})(r=e.UseMethod||(e.UseMethod={}));function n(){return(0,t.scalarEnum)(r,{description:"UseMethod"})}e.getUseMethodSerializer=n})(one);var Ib={},pK;function v7e(){if(pK)return Ib;pK=1,Object.defineProperty(Ib,"__esModule",{value:!0}),Ib.getUsesSerializer=void 0;const e=je,t=sr();function r(){return(0,e.struct)([["useMethod",(0,t.getUseMethodSerializer)()],["remaining",(0,e.u64)()],["total",(0,e.u64)()]],{description:"Uses"})}return Ib.getUsesSerializer=r,Ib}var ed={},hK;function _7e(){if(hK)return ed;hK=1,Object.defineProperty(ed,"__esModule",{value:!0}),ed.isUsesToggle=ed.usesToggle=ed.getUsesToggleSerializer=void 0;const e=je,t=sr();function r(){return(0,e.dataEnum)([["None",(0,e.unit)()],["Clear",(0,e.unit)()],["Set",(0,e.struct)([["fields",(0,e.tuple)([(0,t.getUsesSerializer)()])]])]],{description:"UsesToggle"})}ed.getUsesToggleSerializer=r;function n(s,l){return Array.isArray(l)?{__kind:s,fields:l}:{__kind:s,...l??{}}}ed.usesToggle=n;function i(s,l){return l.__kind===s}return ed.isUsesToggle=i,ed}var sne={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getVerificationArgsSerializer=e.VerificationArgs=void 0;const t=je;var r;(function(i){i[i.CreatorV1=0]="CreatorV1",i[i.CollectionV1=1]="CollectionV1"})(r=e.VerificationArgs||(e.VerificationArgs={}));function n(){return(0,t.scalarEnum)(r,{description:"VerificationArgs"})}e.getVerificationArgsSerializer=n})(sne);var fK;function sr(){return fK||(fK=1,function(e){var t=pr&&pr.__createBinding||(Object.create?function(n,i,s,l){l===void 0&&(l=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,l,a)}:function(n,i,s,l){l===void 0&&(l=s),n[l]=i[s]}),r=pr&&pr.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Qre,e),r(PSe(),e),r(lh,e),r(aS,e),r(ch,e),r(LSe(),e),r(OSe(),e),r(BSe(),e),r(oS,e),r(jSe(),e),r(VSe(),e),r(USe(),e),r(uh,e),r(JD,e),r(Jre,e),r(qSe(),e),r(ez,e),r(ene,e),r(GSe(),e),r(sS,e),r(ZSe(),e),r(tne,e),r(YSe(),e),r(dh,e),r(ph,e),r(hh,e),r(lS,e),r(cS,e),r(uS,e),r(rne,e),r(fh,e),r(dS,e),r(pS,e),r(nne,e),r(ine,e),r(ane,e),r(f7e(),e),r(m7e(),e),r(g7e(),e),r(y7e(),e),r(one,e),r(v7e(),e),r(_7e(),e),r(sne,e)}(mT)),mT}Object.defineProperty(na,"__esModule",{value:!0});na.safeFetchCollectionAuthorityRecordFromSeeds=na.fetchCollectionAuthorityRecordFromSeeds=na.findCollectionAuthorityRecordPda=na.getCollectionAuthorityRecordGpaBuilder=na.safeFetchAllCollectionAuthorityRecord=na.fetchAllCollectionAuthorityRecord=na.safeFetchCollectionAuthorityRecord=na.fetchCollectionAuthorityRecord=na.deserializeCollectionAuthorityRecord=na.getCollectionAuthorityRecordAccountDataSerializer=void 0;const Sh=gt,Hs=je,k8=sr();function lne(){return(0,Hs.mapSerializer)((0,Hs.struct)([["key",(0,k8.getKeySerializer)()],["bump",(0,Hs.u8)()],["updateAuthority",(0,Hs.option)((0,Hs.publicKey)())]],{description:"CollectionAuthorityRecordAccountData"}),e=>({...e,key:k8.Key.CollectionAuthorityRecord}))}na.getCollectionAuthorityRecordAccountDataSerializer=lne;function y2(e){return(0,Sh.deserializeAccount)(e,lne())}na.deserializeCollectionAuthorityRecord=y2;async function cne(e,t,r){const n=await e.rpc.getAccount((0,Sh.publicKey)(t,!1),r);return(0,Sh.assertAccountExists)(n,"CollectionAuthorityRecord"),y2(n)}na.fetchCollectionAuthorityRecord=cne;async function une(e,t,r){const n=await e.rpc.getAccount((0,Sh.publicKey)(t,!1),r);return n.exists?y2(n):null}na.safeFetchCollectionAuthorityRecord=une;async function b7e(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Sh.publicKey)(i,!1)),r)).map(i=>((0,Sh.assertAccountExists)(i,"CollectionAuthorityRecord"),y2(i)))}na.fetchAllCollectionAuthorityRecord=b7e;async function x7e(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Sh.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>y2(i))}na.safeFetchAllCollectionAuthorityRecord=x7e;function w7e(e){const t=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Sh.gpaBuilder)(e,t).registerFields({key:[0,(0,k8.getKeySerializer)()],bump:[1,(0,Hs.u8)()],updateAuthority:[2,(0,Hs.option)((0,Hs.publicKey)())]}).deserializeUsing(r=>y2(r)).whereField("key",k8.Key.CollectionAuthorityRecord)}na.getCollectionAuthorityRecordGpaBuilder=w7e;function tz(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return e.eddsa.findPda(r,[(0,Hs.string)({size:"variable"}).serialize("metadata"),(0,Hs.publicKey)().serialize(r),(0,Hs.publicKey)().serialize(t.mint),(0,Hs.string)({size:"variable"}).serialize("collection_authority"),(0,Hs.publicKey)().serialize(t.collectionAuthority)])}na.findCollectionAuthorityRecordPda=tz;async function S7e(e,t,r){return cne(e,tz(e,t),r)}na.fetchCollectionAuthorityRecordFromSeeds=S7e;async function E7e(e,t,r){return une(e,tz(e,t),r)}na.safeFetchCollectionAuthorityRecordFromSeeds=E7e;var ia={};Object.defineProperty(ia,"__esModule",{value:!0});ia.safeFetchDeprecatedMasterEditionV1FromSeeds=ia.fetchDeprecatedMasterEditionV1FromSeeds=ia.findDeprecatedMasterEditionV1Pda=ia.getDeprecatedMasterEditionV1GpaBuilder=ia.safeFetchAllDeprecatedMasterEditionV1=ia.fetchAllDeprecatedMasterEditionV1=ia.safeFetchDeprecatedMasterEditionV1=ia.fetchDeprecatedMasterEditionV1=ia.deserializeDeprecatedMasterEditionV1=ia.getDeprecatedMasterEditionV1AccountDataSerializer=void 0;const Eh=gt,Do=je,I8=sr();function dne(){return(0,Do.mapSerializer)((0,Do.struct)([["key",(0,I8.getKeySerializer)()],["supply",(0,Do.u64)()],["maxSupply",(0,Do.option)((0,Do.u64)())],["printingMint",(0,Do.publicKey)()],["oneTimePrintingAuthorizationMint",(0,Do.publicKey)()]],{description:"DeprecatedMasterEditionV1AccountData"}),e=>({...e,key:I8.Key.MasterEditionV1}))}ia.getDeprecatedMasterEditionV1AccountDataSerializer=dne;function v2(e){return(0,Eh.deserializeAccount)(e,dne())}ia.deserializeDeprecatedMasterEditionV1=v2;async function pne(e,t,r){const n=await e.rpc.getAccount((0,Eh.publicKey)(t,!1),r);return(0,Eh.assertAccountExists)(n,"DeprecatedMasterEditionV1"),v2(n)}ia.fetchDeprecatedMasterEditionV1=pne;async function hne(e,t,r){const n=await e.rpc.getAccount((0,Eh.publicKey)(t,!1),r);return n.exists?v2(n):null}ia.safeFetchDeprecatedMasterEditionV1=hne;async function A7e(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Eh.publicKey)(i,!1)),r)).map(i=>((0,Eh.assertAccountExists)(i,"DeprecatedMasterEditionV1"),v2(i)))}ia.fetchAllDeprecatedMasterEditionV1=A7e;async function T7e(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Eh.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>v2(i))}ia.safeFetchAllDeprecatedMasterEditionV1=T7e;function M7e(e){const t=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Eh.gpaBuilder)(e,t).registerFields({key:[0,(0,I8.getKeySerializer)()],supply:[1,(0,Do.u64)()],maxSupply:[9,(0,Do.option)((0,Do.u64)())],printingMint:[null,(0,Do.publicKey)()],oneTimePrintingAuthorizationMint:[null,(0,Do.publicKey)()]}).deserializeUsing(r=>v2(r)).whereField("key",I8.Key.MasterEditionV1)}ia.getDeprecatedMasterEditionV1GpaBuilder=M7e;function rz(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return e.eddsa.findPda(r,[(0,Do.string)({size:"variable"}).serialize("metadata"),(0,Do.publicKey)().serialize(r),(0,Do.publicKey)().serialize(t.mint),(0,Do.string)({size:"variable"}).serialize("edition")])}ia.findDeprecatedMasterEditionV1Pda=rz;async function P7e(e,t,r){return pne(e,rz(e,t),r)}ia.fetchDeprecatedMasterEditionV1FromSeeds=P7e;async function k7e(e,t,r){return hne(e,rz(e,t),r)}ia.safeFetchDeprecatedMasterEditionV1FromSeeds=k7e;var qa={};Object.defineProperty(qa,"__esModule",{value:!0});qa.getEditionSize=qa.getEditionGpaBuilder=qa.safeFetchAllEdition=qa.fetchAllEdition=qa.safeFetchEdition=qa.fetchEdition=qa.deserializeEdition=qa.getEditionAccountDataSerializer=void 0;const Ah=gt,Ug=je,C8=sr();function fne(){return(0,Ug.mapSerializer)((0,Ug.struct)([["key",(0,C8.getKeySerializer)()],["parent",(0,Ug.publicKey)()],["edition",(0,Ug.u64)()]],{description:"EditionAccountData"}),e=>({...e,key:C8.Key.EditionV1}))}qa.getEditionAccountDataSerializer=fne;function _2(e){return(0,Ah.deserializeAccount)(e,fne())}qa.deserializeEdition=_2;async function I7e(e,t,r){const n=await e.rpc.getAccount((0,Ah.publicKey)(t,!1),r);return(0,Ah.assertAccountExists)(n,"Edition"),_2(n)}qa.fetchEdition=I7e;async function C7e(e,t,r){const n=await e.rpc.getAccount((0,Ah.publicKey)(t,!1),r);return n.exists?_2(n):null}qa.safeFetchEdition=C7e;async function D7e(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Ah.publicKey)(i,!1)),r)).map(i=>((0,Ah.assertAccountExists)(i,"Edition"),_2(i)))}qa.fetchAllEdition=D7e;async function z7e(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Ah.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>_2(i))}qa.safeFetchAllEdition=z7e;function R7e(e){const t=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Ah.gpaBuilder)(e,t).registerFields({key:[0,(0,C8.getKeySerializer)()],parent:[1,(0,Ug.publicKey)()],edition:[33,(0,Ug.u64)()]}).deserializeUsing(r=>_2(r)).whereField("key",C8.Key.EditionV1)}qa.getEditionGpaBuilder=R7e;function N7e(){return 41}qa.getEditionSize=N7e;var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.safeFetchEditionMarkerFromSeeds=Ii.fetchEditionMarkerFromSeeds=Ii.findEditionMarkerPda=Ii.getEditionMarkerSize=Ii.getEditionMarkerGpaBuilder=Ii.safeFetchAllEditionMarker=Ii.fetchAllEditionMarker=Ii.safeFetchEditionMarker=Ii.fetchEditionMarker=Ii.deserializeEditionMarker=Ii.getEditionMarkerAccountDataSerializer=void 0;const Th=gt,dc=je,D8=sr();function mne(){return(0,dc.mapSerializer)((0,dc.struct)([["key",(0,D8.getKeySerializer)()],["ledger",(0,dc.array)((0,dc.u8)(),{size:31})]],{description:"EditionMarkerAccountData"}),e=>({...e,key:D8.Key.EditionMarker}))}Ii.getEditionMarkerAccountDataSerializer=mne;function b2(e){return(0,Th.deserializeAccount)(e,mne())}Ii.deserializeEditionMarker=b2;async function gne(e,t,r){const n=await e.rpc.getAccount((0,Th.publicKey)(t,!1),r);return(0,Th.assertAccountExists)(n,"EditionMarker"),b2(n)}Ii.fetchEditionMarker=gne;async function yne(e,t,r){const n=await e.rpc.getAccount((0,Th.publicKey)(t,!1),r);return n.exists?b2(n):null}Ii.safeFetchEditionMarker=yne;async function L7e(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Th.publicKey)(i,!1)),r)).map(i=>((0,Th.assertAccountExists)(i,"EditionMarker"),b2(i)))}Ii.fetchAllEditionMarker=L7e;async function O7e(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Th.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>b2(i))}Ii.safeFetchAllEditionMarker=O7e;function B7e(e){const t=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Th.gpaBuilder)(e,t).registerFields({key:[0,(0,D8.getKeySerializer)()],ledger:[1,(0,dc.array)((0,dc.u8)(),{size:31})]}).deserializeUsing(r=>b2(r)).whereField("key",D8.Key.EditionMarker)}Ii.getEditionMarkerGpaBuilder=B7e;function F7e(){return 32}Ii.getEditionMarkerSize=F7e;function nz(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return e.eddsa.findPda(r,[(0,dc.string)({size:"variable"}).serialize("metadata"),(0,dc.publicKey)().serialize(r),(0,dc.publicKey)().serialize(t.mint),(0,dc.string)({size:"variable"}).serialize("edition"),(0,dc.string)({size:"variable"}).serialize(t.editionMarker)])}Ii.findEditionMarkerPda=nz;async function j7e(e,t,r){return gne(e,nz(e,t),r)}Ii.fetchEditionMarkerFromSeeds=j7e;async function V7e(e,t,r){return yne(e,nz(e,t),r)}Ii.safeFetchEditionMarkerFromSeeds=V7e;var aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.safeFetchEditionMarkerV2FromSeeds=aa.fetchEditionMarkerV2FromSeeds=aa.findEditionMarkerV2Pda=aa.getEditionMarkerV2GpaBuilder=aa.safeFetchAllEditionMarkerV2=aa.fetchAllEditionMarkerV2=aa.safeFetchEditionMarkerV2=aa.fetchEditionMarkerV2=aa.deserializeEditionMarkerV2=aa.getEditionMarkerV2AccountDataSerializer=void 0;const Mh=gt,Jc=je,vne=sr();function _ne(){return(0,Jc.struct)([["key",(0,vne.getKeySerializer)()],["ledger",(0,Jc.bytes)({size:(0,Jc.u32)()})]],{description:"EditionMarkerV2AccountData"})}aa.getEditionMarkerV2AccountDataSerializer=_ne;function x2(e){return(0,Mh.deserializeAccount)(e,_ne())}aa.deserializeEditionMarkerV2=x2;async function bne(e,t,r){const n=await e.rpc.getAccount((0,Mh.publicKey)(t,!1),r);return(0,Mh.assertAccountExists)(n,"EditionMarkerV2"),x2(n)}aa.fetchEditionMarkerV2=bne;async function xne(e,t,r){const n=await e.rpc.getAccount((0,Mh.publicKey)(t,!1),r);return n.exists?x2(n):null}aa.safeFetchEditionMarkerV2=xne;async function U7e(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Mh.publicKey)(i,!1)),r)).map(i=>((0,Mh.assertAccountExists)(i,"EditionMarkerV2"),x2(i)))}aa.fetchAllEditionMarkerV2=U7e;async function W7e(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Mh.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>x2(i))}aa.safeFetchAllEditionMarkerV2=W7e;function $7e(e){const t=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Mh.gpaBuilder)(e,t).registerFields({key:[0,(0,vne.getKeySerializer)()],ledger:[1,(0,Jc.bytes)({size:(0,Jc.u32)()})]}).deserializeUsing(r=>x2(r))}aa.getEditionMarkerV2GpaBuilder=$7e;function iz(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return e.eddsa.findPda(r,[(0,Jc.string)({size:"variable"}).serialize("metadata"),(0,Jc.publicKey)().serialize(r),(0,Jc.publicKey)().serialize(t.mint),(0,Jc.string)({size:"variable"}).serialize("edition"),(0,Jc.string)({size:"variable"}).serialize("marker")])}aa.findEditionMarkerV2Pda=iz;async function K7e(e,t,r){return bne(e,iz(e,t),r)}aa.fetchEditionMarkerV2FromSeeds=K7e;async function q7e(e,t,r){return xne(e,iz(e,t),r)}aa.safeFetchEditionMarkerV2FromSeeds=q7e;var vi={},vT={},Cb={},mK;function G7e(){if(mK)return Cb;mK=1,Object.defineProperty(Cb,"__esModule",{value:!0}),Cb.findEditionMarkerFromEditionNumberPda=void 0;const e=Qm();function t(r,n){return(0,e.findEditionMarkerPda)(r,{mint:n.mint,editionMarker:(BigInt(n.editionNumber)/248n).toString(10)})}return Cb.findEditionMarkerFromEditionNumberPda=t,Cb}var hS={},Hh={};Object.defineProperty(Hh,"__esModule",{value:!0});Hh.TokenMetadataError=void 0;const H7e=gt;class Z7e extends H7e.UmiError{constructor(t,r){super(t,"plugin","Token Metadata",r),this.name="TokenMetadataError"}}Hh.TokenMetadataError=Z7e;Object.defineProperty(hS,"__esModule",{value:!0});hS.getMetadataDelegateRoleSeedSerializer=void 0;const gK=je,Y7e=Hh,Mp=ez;function X7e(){return(0,gK.mapSerializer)((0,gK.string)({size:"variable"}),e=>{if(typeof e=="string")return e;switch(e){case Mp.MetadataDelegateRole.AuthorityItem:return"authority_item_delegate";case Mp.MetadataDelegateRole.Collection:return"collection_delegate";case Mp.MetadataDelegateRole.Use:return"use_delegate";case Mp.MetadataDelegateRole.Data:return"data_delegate";case Mp.MetadataDelegateRole.ProgrammableConfig:return"programmable_config_delegate";case Mp.MetadataDelegateRole.DataItem:return"data_item_delegate";case Mp.MetadataDelegateRole.CollectionItem:return"collection_item_delegate";case Mp.MetadataDelegateRole.ProgrammableConfigItem:return"prog_config_item_delegate";default:throw new Y7e.TokenMetadataError(`Invalid MetadataDelegateRoleArgs ${e}`)}},e=>e)}hS.getMetadataDelegateRoleSeedSerializer=X7e;var fS={};Object.defineProperty(fS,"__esModule",{value:!0});fS.getHolderDelegateRoleSeedSerializer=void 0;const yK=je,Q7e=Hh,J7e=JD;function eEe(){return(0,yK.mapSerializer)((0,yK.string)({size:"variable"}),e=>{if(typeof e=="string")return e;switch(e){case J7e.HolderDelegateRole.PrintDelegate:return"print_delegate";default:throw new Q7e.TokenMetadataError(`Invalid PrintDelegateRoleArgs ${e}`)}},e=>e)}fS.getHolderDelegateRoleSeedSerializer=eEe;var Ra={},Si={},jd={},mS={},oa={};Object.defineProperty(oa,"__esModule",{value:!0});oa.safeFetchAddressLookupTableFromSeeds=oa.fetchAddressLookupTableFromSeeds=oa.findAddressLookupTablePda=oa.getAddressLookupTableGpaBuilder=oa.safeFetchAllAddressLookupTable=oa.fetchAllAddressLookupTable=oa.safeFetchAddressLookupTable=oa.fetchAddressLookupTable=oa.deserializeAddressLookupTable=oa.getAddressLookupTableAccountDataSerializer=void 0;const Ph=gt,ra=je;function wne(){return(0,ra.mapSerializer)((0,ra.struct)([["discriminator",(0,ra.u32)()],["deactivationSlot",(0,ra.u64)()],["lastExtendedSlot",(0,ra.u64)()],["lastExtendedStartIndex",(0,ra.u8)()],["authority",(0,ra.option)((0,ra.publicKey)(),{fixed:!0})],["padding",(0,ra.u16)()],["addresses",(0,ra.array)((0,ra.publicKey)(),{size:"remainder"})]],{description:"AddressLookupTableAccountData"}),e=>({...e,discriminator:1,padding:0}))}oa.getAddressLookupTableAccountDataSerializer=wne;function w2(e){return(0,Ph.deserializeAccount)(e,wne())}oa.deserializeAddressLookupTable=w2;async function Sne(e,t,r){const n=await e.rpc.getAccount((0,Ph.publicKey)(t,!1),r);return(0,Ph.assertAccountExists)(n,"AddressLookupTable"),w2(n)}oa.fetchAddressLookupTable=Sne;async function Ene(e,t,r){const n=await e.rpc.getAccount((0,Ph.publicKey)(t,!1),r);return n.exists?w2(n):null}oa.safeFetchAddressLookupTable=Ene;async function tEe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Ph.publicKey)(i,!1)),r)).map(i=>((0,Ph.assertAccountExists)(i,"AddressLookupTable"),w2(i)))}oa.fetchAllAddressLookupTable=tEe;async function rEe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Ph.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>w2(i))}oa.safeFetchAllAddressLookupTable=rEe;function nEe(e){const t=e.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return(0,Ph.gpaBuilder)(e,t).registerFields({discriminator:[0,(0,ra.u32)()],deactivationSlot:[4,(0,ra.u64)()],lastExtendedSlot:[12,(0,ra.u64)()],lastExtendedStartIndex:[20,(0,ra.u8)()],authority:[21,(0,ra.option)((0,ra.publicKey)(),{fixed:!0})],padding:[54,(0,ra.u16)()],addresses:[56,(0,ra.array)((0,ra.publicKey)(),{size:"remainder"})]}).deserializeUsing(r=>w2(r)).whereField("discriminator",1)}oa.getAddressLookupTableGpaBuilder=nEe;function az(e,t){const r=e.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return e.eddsa.findPda(r,[(0,ra.publicKey)().serialize(t.authority),(0,ra.u64)().serialize(t.recentSlot)])}oa.findAddressLookupTablePda=az;async function iEe(e,t,r){return Sne(e,az(e,t),r)}oa.fetchAddressLookupTableFromSeeds=iEe;async function aEe(e,t,r){return Ene(e,az(e,t),r)}oa.safeFetchAddressLookupTableFromSeeds=aEe;var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.getMintSize=Ga.getMintGpaBuilder=Ga.safeFetchAllMint=Ga.fetchAllMint=Ga.safeFetchMint=Ga.fetchMint=Ga.deserializeMint=Ga.getMintAccountDataSerializer=void 0;const kh=gt,La=je;function Ane(){return(0,La.struct)([["mintAuthority",(0,La.option)((0,La.publicKey)(),{prefix:(0,La.u32)(),fixed:!0})],["supply",(0,La.u64)()],["decimals",(0,La.u8)()],["isInitialized",(0,La.bool)()],["freezeAuthority",(0,La.option)((0,La.publicKey)(),{prefix:(0,La.u32)(),fixed:!0})]],{description:"MintAccountData"})}Ga.getMintAccountDataSerializer=Ane;function S2(e){return(0,kh.deserializeAccount)(e,Ane())}Ga.deserializeMint=S2;async function oEe(e,t,r){const n=await e.rpc.getAccount((0,kh.publicKey)(t,!1),r);return(0,kh.assertAccountExists)(n,"Mint"),S2(n)}Ga.fetchMint=oEe;async function sEe(e,t,r){const n=await e.rpc.getAccount((0,kh.publicKey)(t,!1),r);return n.exists?S2(n):null}Ga.safeFetchMint=sEe;async function lEe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,kh.publicKey)(i,!1)),r)).map(i=>((0,kh.assertAccountExists)(i,"Mint"),S2(i)))}Ga.fetchAllMint=lEe;async function cEe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,kh.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>S2(i))}Ga.safeFetchAllMint=cEe;function uEe(e){const t=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,kh.gpaBuilder)(e,t).registerFields({mintAuthority:[0,(0,La.option)((0,La.publicKey)(),{prefix:(0,La.u32)(),fixed:!0})],supply:[36,(0,La.u64)()],decimals:[44,(0,La.u8)()],isInitialized:[45,(0,La.bool)()],freezeAuthority:[46,(0,La.option)((0,La.publicKey)(),{prefix:(0,La.u32)(),fixed:!0})]}).deserializeUsing(r=>S2(r)).whereSize(82)}Ga.getMintGpaBuilder=uEe;function dEe(){return 82}Ga.getMintSize=dEe;var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});Ha.getMultisigSize=Ha.getMultisigGpaBuilder=Ha.safeFetchAllMultisig=Ha.fetchAllMultisig=Ha.safeFetchMultisig=Ha.fetchMultisig=Ha.deserializeMultisig=Ha.getMultisigAccountDataSerializer=void 0;const Ih=gt,cc=je;function Tne(){return(0,cc.struct)([["m",(0,cc.u8)()],["n",(0,cc.u8)()],["isInitialized",(0,cc.bool)()],["signers",(0,cc.array)((0,cc.publicKey)(),{size:11})]],{description:"MultisigAccountData"})}Ha.getMultisigAccountDataSerializer=Tne;function E2(e){return(0,Ih.deserializeAccount)(e,Tne())}Ha.deserializeMultisig=E2;async function pEe(e,t,r){const n=await e.rpc.getAccount((0,Ih.publicKey)(t,!1),r);return(0,Ih.assertAccountExists)(n,"Multisig"),E2(n)}Ha.fetchMultisig=pEe;async function hEe(e,t,r){const n=await e.rpc.getAccount((0,Ih.publicKey)(t,!1),r);return n.exists?E2(n):null}Ha.safeFetchMultisig=hEe;async function fEe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Ih.publicKey)(i,!1)),r)).map(i=>((0,Ih.assertAccountExists)(i,"Multisig"),E2(i)))}Ha.fetchAllMultisig=fEe;async function mEe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Ih.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>E2(i))}Ha.safeFetchAllMultisig=mEe;function gEe(e){const t=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,Ih.gpaBuilder)(e,t).registerFields({m:[0,(0,cc.u8)()],n:[1,(0,cc.u8)()],isInitialized:[2,(0,cc.bool)()],signers:[3,(0,cc.array)((0,cc.publicKey)(),{size:11})]}).deserializeUsing(r=>E2(r)).whereSize(355)}Ha.getMultisigGpaBuilder=gEe;function yEe(){return 355}Ha.getMultisigSize=yEe;var Za={},gS={},Mne={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getAuthorityTypeSerializer=e.AuthorityType=void 0;const t=je;var r;(function(i){i[i.MintTokens=0]="MintTokens",i[i.FreezeAccount=1]="FreezeAccount",i[i.AccountOwner=2]="AccountOwner",i[i.CloseAccount=3]="CloseAccount"})(r=e.AuthorityType||(e.AuthorityType={}));function n(){return(0,t.scalarEnum)(r,{description:"AuthorityType"})}e.getAuthorityTypeSerializer=n})(Mne);var Pne={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTokenStateSerializer=e.TokenState=void 0;const t=je;var r;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initialized=1]="Initialized",i[i.Frozen=2]="Frozen"})(r=e.TokenState||(e.TokenState={}));function n(){return(0,t.scalarEnum)(r,{description:"TokenState"})}e.getTokenStateSerializer=n})(Pne);(function(e){var t=pr&&pr.__createBinding||(Object.create?function(n,i,s,l){l===void 0&&(l=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,l,a)}:function(n,i,s,l){l===void 0&&(l=s),n[l]=i[s]}),r=pr&&pr.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Mne,e),r(Pne,e)})(gS);Object.defineProperty(Za,"__esModule",{value:!0});Za.getTokenSize=Za.getTokenGpaBuilder=Za.safeFetchAllToken=Za.fetchAllToken=Za.safeFetchToken=Za.fetchToken=Za.deserializeToken=Za.getTokenAccountDataSerializer=void 0;const Ch=gt,ci=je,kne=gS;function Ine(){return(0,ci.struct)([["mint",(0,ci.publicKey)()],["owner",(0,ci.publicKey)()],["amount",(0,ci.u64)()],["delegate",(0,ci.option)((0,ci.publicKey)(),{prefix:(0,ci.u32)(),fixed:!0})],["state",(0,kne.getTokenStateSerializer)()],["isNative",(0,ci.option)((0,ci.u64)(),{prefix:(0,ci.u32)(),fixed:!0})],["delegatedAmount",(0,ci.u64)()],["closeAuthority",(0,ci.option)((0,ci.publicKey)(),{prefix:(0,ci.u32)(),fixed:!0})]],{description:"TokenAccountData"})}Za.getTokenAccountDataSerializer=Ine;function A2(e){return(0,Ch.deserializeAccount)(e,Ine())}Za.deserializeToken=A2;async function vEe(e,t,r){const n=await e.rpc.getAccount((0,Ch.publicKey)(t,!1),r);return(0,Ch.assertAccountExists)(n,"Token"),A2(n)}Za.fetchToken=vEe;async function _Ee(e,t,r){const n=await e.rpc.getAccount((0,Ch.publicKey)(t,!1),r);return n.exists?A2(n):null}Za.safeFetchToken=_Ee;async function bEe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Ch.publicKey)(i,!1)),r)).map(i=>((0,Ch.assertAccountExists)(i,"Token"),A2(i)))}Za.fetchAllToken=bEe;async function xEe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Ch.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>A2(i))}Za.safeFetchAllToken=xEe;function wEe(e){const t=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,Ch.gpaBuilder)(e,t).registerFields({mint:[0,(0,ci.publicKey)()],owner:[32,(0,ci.publicKey)()],amount:[64,(0,ci.u64)()],delegate:[72,(0,ci.option)((0,ci.publicKey)(),{prefix:(0,ci.u32)(),fixed:!0})],state:[108,(0,kne.getTokenStateSerializer)()],isNative:[109,(0,ci.option)((0,ci.u64)(),{prefix:(0,ci.u32)(),fixed:!0})],delegatedAmount:[121,(0,ci.u64)()],closeAuthority:[129,(0,ci.option)((0,ci.publicKey)(),{prefix:(0,ci.u32)(),fixed:!0})]}).deserializeUsing(r=>A2(r)).whereSize(165)}Za.getTokenGpaBuilder=wEe;function SEe(){return 165}Za.getTokenSize=SEe;(function(e){var t=pr&&pr.__createBinding||(Object.create?function(n,i,s,l){l===void 0&&(l=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,l,a)}:function(n,i,s,l){l===void 0&&(l=s),n[l]=i[s]}),r=pr&&pr.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(oa,e),r(Ga,e),r(Ha,e),r(Za,e)})(mS);var _u={},ru={};Object.defineProperty(ru,"__esModule",{value:!0});ru.getMplSystemExtrasErrorFromName=ru.getMplSystemExtrasErrorFromCode=ru.SysExInvalidOwnerForSourceError=ru.SysExInvalidSystemProgramError=void 0;const Cne=gt,oz=new Map,sz=new Map;class lz extends Cne.ProgramError{constructor(t,r){super("Invalid System Program",t,r),this.name="InvalidSystemProgram",this.code=0}}ru.SysExInvalidSystemProgramError=lz;oz.set(0,lz);sz.set("InvalidSystemProgram",lz);class cz extends Cne.ProgramError{constructor(t,r){super("Invalid Program Owner For The Source Account",t,r),this.name="InvalidOwnerForSource",this.code=1}}ru.SysExInvalidOwnerForSourceError=cz;oz.set(1,cz);sz.set("InvalidOwnerForSource",cz);function EEe(e,t,r){const n=oz.get(e);return n?new n(t,r):null}ru.getMplSystemExtrasErrorFromCode=EEe;function AEe(e,t,r){const n=sz.get(e);return n?new n(t,r):null}ru.getMplSystemExtrasErrorFromName=AEe;var sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.getMplTokenExtrasErrorFromName=sa.getMplTokenExtrasErrorFromCode=sa.TokExCannotCreateNonAssociatedTokenError=sa.TokExInvalidTokenOwnerError=sa.TokExInvalidTokenMintError=sa.TokExInvalidProgramOwnerError=sa.TokExInvalidAssociatedTokenAccountError=sa.TokExInvalidAssociatedTokenProgramError=sa.TokExInvalidTokenProgramError=sa.TokExInvalidSystemProgramError=void 0;const Zh=gt,Vd=new Map,Ud=new Map;class uz extends Zh.ProgramError{constructor(t,r){super("Invalid System Program",t,r),this.name="InvalidSystemProgram",this.code=0}}sa.TokExInvalidSystemProgramError=uz;Vd.set(0,uz);Ud.set("InvalidSystemProgram",uz);class dz extends Zh.ProgramError{constructor(t,r){super("Invalid Token Program",t,r),this.name="InvalidTokenProgram",this.code=1}}sa.TokExInvalidTokenProgramError=dz;Vd.set(1,dz);Ud.set("InvalidTokenProgram",dz);class pz extends Zh.ProgramError{constructor(t,r){super("Invalid Associated Token Program",t,r),this.name="InvalidAssociatedTokenProgram",this.code=2}}sa.TokExInvalidAssociatedTokenProgramError=pz;Vd.set(2,pz);Ud.set("InvalidAssociatedTokenProgram",pz);class hz extends Zh.ProgramError{constructor(t,r){super("Invalid Associated Token Account: it should derive from the provided mint and owner",t,r),this.name="InvalidAssociatedTokenAccount",this.code=3}}sa.TokExInvalidAssociatedTokenAccountError=hz;Vd.set(3,hz);Ud.set("InvalidAssociatedTokenAccount",hz);class fz extends Zh.ProgramError{constructor(t,r){super("Invalid Program Owner",t,r),this.name="InvalidProgramOwner",this.code=4}}sa.TokExInvalidProgramOwnerError=fz;Vd.set(4,fz);Ud.set("InvalidProgramOwner",fz);class mz extends Zh.ProgramError{constructor(t,r){super("Invalid Token Mint: it should be the same as the provided mint account",t,r),this.name="InvalidTokenMint",this.code=5}}sa.TokExInvalidTokenMintError=mz;Vd.set(5,mz);Ud.set("InvalidTokenMint",mz);class gz extends Zh.ProgramError{constructor(t,r){super("Invalid Program Owner: it should be the same as the provided owner account",t,r),this.name="InvalidTokenOwner",this.code=6}}sa.TokExInvalidTokenOwnerError=gz;Vd.set(6,gz);Ud.set("InvalidTokenOwner",gz);class yz extends Zh.ProgramError{constructor(t,r){super("Cannot create non-associated token accounts as they would need to sign the transaction. Please provide an associated token account instead",t,r),this.name="CannotCreateNonAssociatedToken",this.code=7}}sa.TokExCannotCreateNonAssociatedTokenError=yz;Vd.set(7,yz);Ud.set("CannotCreateNonAssociatedToken",yz);function TEe(e,t,r){const n=Vd.get(e);return n?new n(t,r):null}sa.getMplTokenExtrasErrorFromCode=TEe;function MEe(e,t,r){const n=Ud.get(e);return n?new n(t,r):null}sa.getMplTokenExtrasErrorFromName=MEe;var By={};Object.defineProperty(By,"__esModule",{value:!0});By.getSplAddressLookupTableErrorFromName=By.getSplAddressLookupTableErrorFromCode=void 0;const PEe=new Map,kEe=new Map;function IEe(e,t,r){const n=PEe.get(e);return n?new n(t,r):null}By.getSplAddressLookupTableErrorFromCode=IEe;function CEe(e,t,r){const n=kEe.get(e);return n?new n(t,r):null}By.getSplAddressLookupTableErrorFromName=CEe;var mh={};Object.defineProperty(mh,"__esModule",{value:!0});mh.getSplAssociatedTokenErrorFromName=mh.getSplAssociatedTokenErrorFromCode=mh.AtaInvalidOwnerError=void 0;const DEe=gt,Dne=new Map,zne=new Map;class vz extends DEe.ProgramError{constructor(t,r){super("Associated token account owner does not match address derivation",t,r),this.name="InvalidOwner",this.code=0}}mh.AtaInvalidOwnerError=vz;Dne.set(0,vz);zne.set("InvalidOwner",vz);function zEe(e,t,r){const n=Dne.get(e);return n?new n(t,r):null}mh.getSplAssociatedTokenErrorFromCode=zEe;function REe(e,t,r){const n=zne.get(e);return n?new n(t,r):null}mh.getSplAssociatedTokenErrorFromName=REe;var Fy={};Object.defineProperty(Fy,"__esModule",{value:!0});Fy.getSplComputeBudgetErrorFromName=Fy.getSplComputeBudgetErrorFromCode=void 0;const NEe=new Map,LEe=new Map;function OEe(e,t,r){const n=NEe.get(e);return n?new n(t,r):null}Fy.getSplComputeBudgetErrorFromCode=OEe;function BEe(e,t,r){const n=LEe.get(e);return n?new n(t,r):null}Fy.getSplComputeBudgetErrorFromName=BEe;var jy={};Object.defineProperty(jy,"__esModule",{value:!0});jy.getSplMemoErrorFromName=jy.getSplMemoErrorFromCode=void 0;const FEe=new Map,jEe=new Map;function VEe(e,t,r){const n=FEe.get(e);return n?new n(t,r):null}jy.getSplMemoErrorFromCode=VEe;function UEe(e,t,r){const n=jEe.get(e);return n?new n(t,r):null}jy.getSplMemoErrorFromName=UEe;var Vy={};Object.defineProperty(Vy,"__esModule",{value:!0});Vy.getSplSystemErrorFromName=Vy.getSplSystemErrorFromCode=void 0;const WEe=new Map,$Ee=new Map;function KEe(e,t,r){const n=WEe.get(e);return n?new n(t,r):null}Vy.getSplSystemErrorFromCode=KEe;function qEe(e,t,r){const n=$Ee.get(e);return n?new n(t,r):null}Vy.getSplSystemErrorFromName=qEe;var an={};Object.defineProperty(an,"__esModule",{value:!0});an.getSplTokenErrorFromName=an.getSplTokenErrorFromCode=an.TokNonNativeNotSupportedError=an.TokMintDecimalsMismatchError=an.TokAccountFrozenError=an.TokMintCannotFreezeError=an.TokAuthorityTypeNotSupportedError=an.TokOverflowError=an.TokInvalidStateError=an.TokInvalidInstructionError=an.TokNonNativeHasBalanceError=an.TokNativeNotSupportedError=an.TokUninitializedStateError=an.TokInvalidNumberOfRequiredSignersError=an.TokInvalidNumberOfProvidedSignersError=an.TokAlreadyInUseError=an.TokFixedSupplyError=an.TokOwnerMismatchError=an.TokMintMismatchError=an.TokInvalidMintError=an.TokInsufficientFundsError=an.TokNotRentExemptError=void 0;const Ia=gt,_a=new Map,ba=new Map;class _z extends Ia.ProgramError{constructor(t,r){super("Lamport balance below rent-exempt threshold",t,r),this.name="NotRentExempt",this.code=0}}an.TokNotRentExemptError=_z;_a.set(0,_z);ba.set("NotRentExempt",_z);class bz extends Ia.ProgramError{constructor(t,r){super("Insufficient funds",t,r),this.name="InsufficientFunds",this.code=1}}an.TokInsufficientFundsError=bz;_a.set(1,bz);ba.set("InsufficientFunds",bz);class xz extends Ia.ProgramError{constructor(t,r){super("Invalid Mint",t,r),this.name="InvalidMint",this.code=2}}an.TokInvalidMintError=xz;_a.set(2,xz);ba.set("InvalidMint",xz);class wz extends Ia.ProgramError{constructor(t,r){super("Account not associated with this Mint",t,r),this.name="MintMismatch",this.code=3}}an.TokMintMismatchError=wz;_a.set(3,wz);ba.set("MintMismatch",wz);class Sz extends Ia.ProgramError{constructor(t,r){super("Owner does not match",t,r),this.name="OwnerMismatch",this.code=4}}an.TokOwnerMismatchError=Sz;_a.set(4,Sz);ba.set("OwnerMismatch",Sz);class Ez extends Ia.ProgramError{constructor(t,r){super("Fixed supply",t,r),this.name="FixedSupply",this.code=5}}an.TokFixedSupplyError=Ez;_a.set(5,Ez);ba.set("FixedSupply",Ez);class Az extends Ia.ProgramError{constructor(t,r){super("Already in use",t,r),this.name="AlreadyInUse",this.code=6}}an.TokAlreadyInUseError=Az;_a.set(6,Az);ba.set("AlreadyInUse",Az);class Tz extends Ia.ProgramError{constructor(t,r){super("Invalid number of provided signers",t,r),this.name="InvalidNumberOfProvidedSigners",this.code=7}}an.TokInvalidNumberOfProvidedSignersError=Tz;_a.set(7,Tz);ba.set("InvalidNumberOfProvidedSigners",Tz);class Mz extends Ia.ProgramError{constructor(t,r){super("Invalid number of required signers",t,r),this.name="InvalidNumberOfRequiredSigners",this.code=8}}an.TokInvalidNumberOfRequiredSignersError=Mz;_a.set(8,Mz);ba.set("InvalidNumberOfRequiredSigners",Mz);class Pz extends Ia.ProgramError{constructor(t,r){super("State is unititialized",t,r),this.name="UninitializedState",this.code=9}}an.TokUninitializedStateError=Pz;_a.set(9,Pz);ba.set("UninitializedState",Pz);class kz extends Ia.ProgramError{constructor(t,r){super("Instruction does not support native tokens",t,r),this.name="NativeNotSupported",this.code=10}}an.TokNativeNotSupportedError=kz;_a.set(10,kz);ba.set("NativeNotSupported",kz);class Iz extends Ia.ProgramError{constructor(t,r){super("Non-native account can only be closed if its balance is zero",t,r),this.name="NonNativeHasBalance",this.code=11}}an.TokNonNativeHasBalanceError=Iz;_a.set(11,Iz);ba.set("NonNativeHasBalance",Iz);class Cz extends Ia.ProgramError{constructor(t,r){super("Invalid instruction",t,r),this.name="InvalidInstruction",this.code=12}}an.TokInvalidInstructionError=Cz;_a.set(12,Cz);ba.set("InvalidInstruction",Cz);class Dz extends Ia.ProgramError{constructor(t,r){super("State is invalid for requested operation",t,r),this.name="InvalidState",this.code=13}}an.TokInvalidStateError=Dz;_a.set(13,Dz);ba.set("InvalidState",Dz);class zz extends Ia.ProgramError{constructor(t,r){super("Operation overflowed",t,r),this.name="Overflow",this.code=14}}an.TokOverflowError=zz;_a.set(14,zz);ba.set("Overflow",zz);class Rz extends Ia.ProgramError{constructor(t,r){super("Account does not support specified authority type",t,r),this.name="AuthorityTypeNotSupported",this.code=15}}an.TokAuthorityTypeNotSupportedError=Rz;_a.set(15,Rz);ba.set("AuthorityTypeNotSupported",Rz);class Nz extends Ia.ProgramError{constructor(t,r){super("This token mint cannot freeze accounts",t,r),this.name="MintCannotFreeze",this.code=16}}an.TokMintCannotFreezeError=Nz;_a.set(16,Nz);ba.set("MintCannotFreeze",Nz);class Lz extends Ia.ProgramError{constructor(t,r){super("Account is frozen",t,r),this.name="AccountFrozen",this.code=17}}an.TokAccountFrozenError=Lz;_a.set(17,Lz);ba.set("AccountFrozen",Lz);class Oz extends Ia.ProgramError{constructor(t,r){super("The provided decimals value different from the Mint decimals",t,r),this.name="MintDecimalsMismatch",this.code=18}}an.TokMintDecimalsMismatchError=Oz;_a.set(18,Oz);ba.set("MintDecimalsMismatch",Oz);class Bz extends Ia.ProgramError{constructor(t,r){super("Instruction does not support non-native tokens",t,r),this.name="NonNativeNotSupported",this.code=19}}an.TokNonNativeNotSupportedError=Bz;_a.set(19,Bz);ba.set("NonNativeNotSupported",Bz);function GEe(e,t,r){const n=_a.get(e);return n?new n(t,r):null}an.getSplTokenErrorFromCode=GEe;function HEe(e,t,r){const n=ba.get(e);return n?new n(t,r):null}an.getSplTokenErrorFromName=HEe;(function(e){var t=pr&&pr.__createBinding||(Object.create?function(n,i,s,l){l===void 0&&(l=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,l,a)}:function(n,i,s,l){l===void 0&&(l=s),n[l]=i[s]}),r=pr&&pr.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(ru,e),r(sa,e),r(By,e),r(mh,e),r(Fy,e),r(jy,e),r(Vy,e),r(an,e)})(_u);var Rne={},Uy={},Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.getAccountMetasAndSigners=Vr.expectPda=Vr.expectPublicKey=Vr.expectSome=void 0;const bx=gt;function ZEe(e){if(e==null)throw new Error("Expected a value but received null or undefined.");return e}Vr.expectSome=ZEe;function YEe(e){if(!e)throw new Error("Expected a PublicKey.");return(0,bx.publicKey)(e,!1)}Vr.expectPublicKey=YEe;function XEe(e){if(!e||!Array.isArray(e)||!(0,bx.isPda)(e))throw new Error("Expected a PDA.");return e}Vr.expectPda=XEe;function QEe(e,t,r){const n=[],i=[];return e.forEach(s=>{if(!s.value){if(t==="omitted")return;n.push({pubkey:r,isSigner:!1,isWritable:!1});return}(0,bx.isSigner)(s.value)&&i.push(s.value),n.push({pubkey:(0,bx.publicKey)(s.value,!1),isSigner:(0,bx.isSigner)(s.value),isWritable:s.isWritable})}),[n,i]}Vr.getAccountMetasAndSigners=QEe;Object.defineProperty(Uy,"__esModule",{value:!0});Uy.addMemo=Uy.getAddMemoInstructionDataSerializer=void 0;const JEe=gt,vK=je,eAe=Vr;function Nne(){return(0,vK.struct)([["memo",(0,vK.string)()]],{description:"AddMemoInstructionData"})}Uy.getAddMemoInstructionDataSerializer=Nne;function tAe(e,t){const r=e.programs.getPublicKey("splMemo","Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo"),n={},i={...t},s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,eAe.getAccountMetasAndSigners)(s,"programId",r),p=Nne().serialize(i),f=0;return(0,JEe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}Uy.addMemo=tAe;var Wy={};Object.defineProperty(Wy,"__esModule",{value:!0});Wy.amountToUiAmount=Wy.getAmountToUiAmountInstructionDataSerializer=void 0;const rAe=gt,h3=je,nAe=Vr;function Lne(){return(0,h3.mapSerializer)((0,h3.struct)([["discriminator",(0,h3.u8)()],["amount",(0,h3.u64)()]],{description:"AmountToUiAmountInstructionData"}),e=>({...e,discriminator:23}))}Wy.getAmountToUiAmountInstructionDataSerializer=Lne;function iAe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={mint:{index:0,isWritable:!1,value:t.mint??null}},i={...t},s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,nAe.getAccountMetasAndSigners)(s,"programId",r),p=Lne().serialize(i),f=0;return(0,rAe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}Wy.amountToUiAmount=iAe;var $y={};Object.defineProperty($y,"__esModule",{value:!0});$y.approveTokenDelegate=$y.getApproveTokenDelegateInstructionDataSerializer=void 0;const aAe=gt,f3=je,oAe=Vr;function One(){return(0,f3.mapSerializer)((0,f3.struct)([["discriminator",(0,f3.u8)()],["amount",(0,f3.u64)()]],{description:"ApproveTokenDelegateInstructionData"}),e=>({...e,discriminator:4}))}$y.getApproveTokenDelegateInstructionDataSerializer=One;function sAe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={source:{index:0,isWritable:!0,value:t.source??null},delegate:{index:1,isWritable:!1,value:t.delegate??null},owner:{index:2,isWritable:!1,value:t.owner??null}},i={...t},s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,oAe.getAccountMetasAndSigners)(s,"programId",r),p=One().serialize(i),f=0;return(0,aAe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}$y.approveTokenDelegate=sAe;var Ky={};Object.defineProperty(Ky,"__esModule",{value:!0});Ky.approveTokenDelegateChecked=Ky.getApproveTokenDelegateCheckedInstructionDataSerializer=void 0;const lAe=gt,Db=je,cAe=Vr;function Bne(){return(0,Db.mapSerializer)((0,Db.struct)([["discriminator",(0,Db.u8)()],["amount",(0,Db.u64)()],["decimals",(0,Db.u8)()]],{description:"ApproveTokenDelegateCheckedInstructionData"}),e=>({...e,discriminator:13}))}Ky.getApproveTokenDelegateCheckedInstructionDataSerializer=Bne;function uAe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={source:{index:0,isWritable:!0,value:t.source??null},mint:{index:1,isWritable:!1,value:t.mint??null},delegate:{index:2,isWritable:!1,value:t.delegate??null},owner:{index:3,isWritable:!1,value:t.owner??null}},i={...t},s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,cAe.getAccountMetasAndSigners)(s,"programId",r),p=Bne().serialize(i),f=0;return(0,lAe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}Ky.approveTokenDelegateChecked=uAe;var qy={};Object.defineProperty(qy,"__esModule",{value:!0});qy.burnToken=qy.getBurnTokenInstructionDataSerializer=void 0;const dAe=gt,m3=je,pAe=Vr;function Fne(){return(0,m3.mapSerializer)((0,m3.struct)([["discriminator",(0,m3.u8)()],["amount",(0,m3.u64)()]],{description:"BurnTokenInstructionData"}),e=>({...e,discriminator:8}))}qy.getBurnTokenInstructionDataSerializer=Fne;function hAe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={account:{index:0,isWritable:!0,value:t.account??null},mint:{index:1,isWritable:!0,value:t.mint??null},authority:{index:2,isWritable:!1,value:t.authority??null}},i={...t};n.authority.value||(n.authority.value=e.identity);const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,pAe.getAccountMetasAndSigners)(s,"programId",r),p=Fne().serialize(i),f=0;return(0,dAe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}qy.burnToken=hAe;var Gy={};Object.defineProperty(Gy,"__esModule",{value:!0});Gy.burnTokenChecked=Gy.getBurnTokenCheckedInstructionDataSerializer=void 0;const fAe=gt,zb=je,mAe=Vr;function jne(){return(0,zb.mapSerializer)((0,zb.struct)([["discriminator",(0,zb.u8)()],["amount",(0,zb.u64)()],["decimals",(0,zb.u8)()]],{description:"BurnTokenCheckedInstructionData"}),e=>({...e,discriminator:15}))}Gy.getBurnTokenCheckedInstructionDataSerializer=jne;function gAe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={account:{index:0,isWritable:!0,value:t.account??null},mint:{index:1,isWritable:!0,value:t.mint??null},authority:{index:2,isWritable:!1,value:t.authority??null}},i={...t};n.authority.value||(n.authority.value=e.identity);const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,mAe.getAccountMetasAndSigners)(s,"programId",r),p=jne().serialize(i),f=0;return(0,fAe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}Gy.burnTokenChecked=gAe;var Hy={};Object.defineProperty(Hy,"__esModule",{value:!0});Hy.closeLut=Hy.getCloseLutInstructionDataSerializer=void 0;const yAe=gt,_T=je,vAe=Vr;function Vne(){return(0,_T.mapSerializer)((0,_T.struct)([["discriminator",(0,_T.u32)()]],{description:"CloseLutInstructionData"}),e=>({...e,discriminator:4}))}Hy.getCloseLutInstructionDataSerializer=Vne;function _Ae(e,t){const r=e.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),n={address:{index:0,isWritable:!0,value:t.address??null},authority:{index:1,isWritable:!1,value:t.authority??null},recipient:{index:2,isWritable:!0,value:t.recipient??null}};n.authority.value||(n.authority.value=e.identity);const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,vAe.getAccountMetasAndSigners)(i,"programId",r),a=Vne().serialize({}),p=0;return(0,yAe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Hy.closeLut=_Ae;var Zy={};Object.defineProperty(Zy,"__esModule",{value:!0});Zy.closeToken=Zy.getCloseTokenInstructionDataSerializer=void 0;const bAe=gt,bT=je,xAe=Vr;function Une(){return(0,bT.mapSerializer)((0,bT.struct)([["discriminator",(0,bT.u8)()]],{description:"CloseTokenInstructionData"}),e=>({...e,discriminator:9}))}Zy.getCloseTokenInstructionDataSerializer=Une;function wAe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={account:{index:0,isWritable:!0,value:t.account??null},destination:{index:1,isWritable:!0,value:t.destination??null},owner:{index:2,isWritable:!1,value:t.owner??null}},i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,xAe.getAccountMetasAndSigners)(i,"programId",r),a=Une().serialize({}),p=0;return(0,bAe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Zy.closeToken=wAe;var Yy={};Object.defineProperty(Yy,"__esModule",{value:!0});Yy.createAccount=Yy.getCreateAccountInstructionDataSerializer=void 0;const Zk=gt,ug=je,SAe=Vr;function Wne(){return(0,ug.mapSerializer)((0,ug.struct)([["discriminator",(0,ug.u32)()],["lamports",(0,Zk.mapAmountSerializer)((0,ug.u64)(),"SOL",9)],["space",(0,ug.u64)()],["programId",(0,ug.publicKey)()]],{description:"CreateAccountInstructionData"}),e=>({...e,discriminator:0}))}Yy.getCreateAccountInstructionDataSerializer=Wne;function EAe(e,t){const r=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n={payer:{index:0,isWritable:!0,value:t.payer??null},newAccount:{index:1,isWritable:!0,value:t.newAccount??null}},i={...t};n.payer.value||(n.payer.value=e.payer);const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,SAe.getAccountMetasAndSigners)(s,"programId",r),p=Wne().serialize(i),f=Number(t.space)+Zk.ACCOUNT_HEADER_SIZE;return(0,Zk.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}Yy.createAccount=EAe;var Xy={};Object.defineProperty(Xy,"__esModule",{value:!0});Xy.createAccountWithRent=Xy.getCreateAccountWithRentInstructionDataSerializer=void 0;const _K=gt,Rb=je,AAe=Vr;function $ne(){return(0,Rb.mapSerializer)((0,Rb.struct)([["discriminator",(0,Rb.u8)()],["space",(0,Rb.u64)()],["programId",(0,Rb.publicKey)()]],{description:"CreateAccountWithRentInstructionData"}),e=>({...e,discriminator:0}))}Xy.getCreateAccountWithRentInstructionDataSerializer=$ne;function TAe(e,t){const r=e.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),n={payer:{index:0,isWritable:!0,value:t.payer??null},newAccount:{index:1,isWritable:!0,value:t.newAccount??null},systemProgram:{index:2,isWritable:!1,value:t.systemProgram??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,AAe.getAccountMetasAndSigners)(s,"programId",r),p=$ne().serialize(i),f=Number(t.space)+_K.ACCOUNT_HEADER_SIZE;return(0,_K.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}Xy.createAccountWithRent=TAe;var yS={},T2={},vS={};Object.defineProperty(vS,"__esModule",{value:!0});vS.findAssociatedTokenPda=void 0;const xT=je;function MAe(e,t){const r=e.programs.getPublicKey("splAssociatedToken"),n=t.tokenProgramId??e.programs.getPublicKey("splToken");return e.eddsa.findPda(r,[(0,xT.publicKey)().serialize(t.owner),(0,xT.publicKey)().serialize(n),(0,xT.publicKey)().serialize(t.mint)])}vS.findAssociatedTokenPda=MAe;var _S={};Object.defineProperty(_S,"__esModule",{value:!0});_S.resolveExtendLutBytes=void 0;const PAe=(e,t,r,n)=>32*r.addresses.length;_S.resolveExtendLutBytes=PAe;(function(e){var t=pr&&pr.__createBinding||(Object.create?function(n,i,s,l){l===void 0&&(l=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,l,a)}:function(n,i,s,l){l===void 0&&(l=s),n[l]=i[s]}),r=pr&&pr.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(vS,e),r(_S,e)})(T2);Object.defineProperty(yS,"__esModule",{value:!0});yS.createAssociatedToken=void 0;const bK=gt,kAe=T2,IAe=mS,g3=Vr;function CAe(e,t){const r=e.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),n={payer:{index:0,isWritable:!0,value:t.payer??null},ata:{index:1,isWritable:!0,value:t.ata??null},owner:{index:2,isWritable:!1,value:t.owner??null},mint:{index:3,isWritable:!1,value:t.mint??null},systemProgram:{index:4,isWritable:!1,value:t.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:t.tokenProgram??null}};n.payer.value||(n.payer.value=e.payer),n.owner.value||(n.owner.value=e.identity.publicKey),n.tokenProgram.value||(n.tokenProgram.value=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n.tokenProgram.isWritable=!1),n.ata.value||(n.ata.value=(0,kAe.findAssociatedTokenPda)(e,{owner:(0,g3.expectPublicKey)(n.owner.value),mint:(0,g3.expectPublicKey)(n.mint.value),tokenProgramId:(0,g3.expectPublicKey)(n.tokenProgram.value)})),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,g3.getAccountMetasAndSigners)(i,"programId",r),a=new Uint8Array,p=(0,IAe.getTokenSize)()+bK.ACCOUNT_HEADER_SIZE;return(0,bK.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}yS.createAssociatedToken=CAe;var Qy={};Object.defineProperty(Qy,"__esModule",{value:!0});Qy.createEmptyLut=Qy.getCreateEmptyLutInstructionDataSerializer=void 0;const xK=gt,Nb=je,DAe=mS,y3=Vr;function Kne(){return(0,Nb.mapSerializer)((0,Nb.struct)([["discriminator",(0,Nb.u32)()],["recentSlot",(0,Nb.u64)()],["bump",(0,Nb.u8)()]],{description:"CreateEmptyLutInstructionData"}),e=>({...e,discriminator:0}))}Qy.getCreateEmptyLutInstructionDataSerializer=Kne;function zAe(e,t){const r=e.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),n={address:{index:0,isWritable:!0,value:t.address??null},authority:{index:1,isWritable:!1,value:t.authority??null},payer:{index:2,isWritable:!0,value:t.payer??null},systemProgram:{index:3,isWritable:!1,value:t.systemProgram??null}},i={...t};n.authority.value||(n.authority.value=e.identity),n.address.value||(n.address.value=(0,DAe.findAddressLookupTablePda)(e,{authority:(0,y3.expectPublicKey)(n.authority.value),recentSlot:(0,y3.expectSome)(i.recentSlot)})),n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1),i.bump||(i.bump=(0,y3.expectPda)(n.address.value)[1]);const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,y3.getAccountMetasAndSigners)(s,"programId",r),p=Kne().serialize(i),f=56+xK.ACCOUNT_HEADER_SIZE;return(0,xK.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}Qy.createEmptyLut=zAe;var bS={};Object.defineProperty(bS,"__esModule",{value:!0});bS.createIdempotentAssociatedToken=void 0;const RAe=gt,NAe=Vr;function LAe(e,t){const r=e.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),n={payer:{index:0,isWritable:!0,value:t.payer??null},ata:{index:1,isWritable:!0,value:t.ata??null},owner:{index:2,isWritable:!1,value:t.owner??null},mint:{index:3,isWritable:!1,value:t.mint??null},systemProgram:{index:4,isWritable:!1,value:t.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:t.tokenProgram??null}};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1),n.tokenProgram.value||(n.tokenProgram.value=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n.tokenProgram.isWritable=!1);const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,NAe.getAccountMetasAndSigners)(i,"programId",r),a=new Uint8Array,p=0;return(0,RAe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}bS.createIdempotentAssociatedToken=LAe;var Jy={};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.createTokenIfMissing=Jy.getCreateTokenIfMissingInstructionDataSerializer=void 0;const OAe=gt,wT=je,BAe=T2,Lb=Vr;function qne(){return(0,wT.mapSerializer)((0,wT.struct)([["discriminator",(0,wT.u8)()]],{description:"CreateTokenIfMissingInstructionData"}),e=>({...e,discriminator:0}))}Jy.getCreateTokenIfMissingInstructionDataSerializer=qne;function FAe(e,t){const r=e.programs.getPublicKey("mplTokenExtras","TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p"),n={payer:{index:0,isWritable:!0,value:t.payer??null},token:{index:1,isWritable:!1,value:t.token??null},mint:{index:2,isWritable:!1,value:t.mint??null},owner:{index:3,isWritable:!1,value:t.owner??null},ata:{index:4,isWritable:!0,value:t.ata??null},systemProgram:{index:5,isWritable:!1,value:t.systemProgram??null},tokenProgram:{index:6,isWritable:!1,value:t.tokenProgram??null},ataProgram:{index:7,isWritable:!1,value:t.ataProgram??null}};n.payer.value||(n.payer.value=e.payer),n.owner.value||(n.owner.value=e.identity.publicKey),n.tokenProgram.value||(n.tokenProgram.value=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n.tokenProgram.isWritable=!1),n.ata.value||(n.ata.value=(0,BAe.findAssociatedTokenPda)(e,{owner:(0,Lb.expectPublicKey)(n.owner.value),mint:(0,Lb.expectPublicKey)(n.mint.value),tokenProgramId:(0,Lb.expectPublicKey)(n.tokenProgram.value)})),n.token.value||(n.token.value=(0,Lb.expectSome)(n.ata.value)),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1),n.ataProgram.value||(n.ataProgram.value=e.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),n.ataProgram.isWritable=!1);const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,Lb.getAccountMetasAndSigners)(i,"programId",r),a=qne().serialize({}),p=0;return(0,OAe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Jy.createTokenIfMissing=FAe;var ev={};Object.defineProperty(ev,"__esModule",{value:!0});ev.deactivateLut=ev.getDeactivateLutInstructionDataSerializer=void 0;const jAe=gt,ST=je,VAe=Vr;function Gne(){return(0,ST.mapSerializer)((0,ST.struct)([["discriminator",(0,ST.u32)()]],{description:"DeactivateLutInstructionData"}),e=>({...e,discriminator:3}))}ev.getDeactivateLutInstructionDataSerializer=Gne;function UAe(e,t){const r=e.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),n={address:{index:0,isWritable:!0,value:t.address??null},authority:{index:1,isWritable:!1,value:t.authority??null}};n.authority.value||(n.authority.value=e.identity);const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,VAe.getAccountMetasAndSigners)(i,"programId",r),a=Gne().serialize({}),p=0;return(0,jAe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}ev.deactivateLut=UAe;var tv={};Object.defineProperty(tv,"__esModule",{value:!0});tv.extendLut=tv.getExtendLutInstructionDataSerializer=void 0;const WAe=gt,dg=je,$Ae=T2,KAe=Vr;function Hne(){return(0,dg.mapSerializer)((0,dg.struct)([["discriminator",(0,dg.u32)()],["addresses",(0,dg.array)((0,dg.publicKey)(),{size:(0,dg.u64)()})]],{description:"ExtendLutInstructionData"}),e=>({...e,discriminator:2}))}tv.getExtendLutInstructionDataSerializer=Hne;function qAe(e,t){const r=e.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),n={address:{index:0,isWritable:!0,value:t.address??null},authority:{index:1,isWritable:!1,value:t.authority??null},payer:{index:2,isWritable:!0,value:t.payer??null},systemProgram:{index:3,isWritable:!1,value:t.systemProgram??null}},i={...t};n.authority.value||(n.authority.value=e.identity),n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,KAe.getAccountMetasAndSigners)(s,"programId",r),p=Hne().serialize(i),f=(0,$Ae.resolveExtendLutBytes)(e,n,i,r);return(0,WAe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}tv.extendLut=qAe;var rv={};Object.defineProperty(rv,"__esModule",{value:!0});rv.freezeLut=rv.getFreezeLutInstructionDataSerializer=void 0;const GAe=gt,ET=je,HAe=Vr;function Zne(){return(0,ET.mapSerializer)((0,ET.struct)([["discriminator",(0,ET.u32)()]],{description:"FreezeLutInstructionData"}),e=>({...e,discriminator:1}))}rv.getFreezeLutInstructionDataSerializer=Zne;function ZAe(e,t){const r=e.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),n={address:{index:0,isWritable:!0,value:t.address??null},authority:{index:1,isWritable:!1,value:t.authority??null}};n.authority.value||(n.authority.value=e.identity);const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,HAe.getAccountMetasAndSigners)(i,"programId",r),a=Zne().serialize({}),p=0;return(0,GAe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}rv.freezeLut=ZAe;var nv={};Object.defineProperty(nv,"__esModule",{value:!0});nv.freezeToken=nv.getFreezeTokenInstructionDataSerializer=void 0;const YAe=gt,AT=je,XAe=Vr;function Yne(){return(0,AT.mapSerializer)((0,AT.struct)([["discriminator",(0,AT.u8)()]],{description:"FreezeTokenInstructionData"}),e=>({...e,discriminator:10}))}nv.getFreezeTokenInstructionDataSerializer=Yne;function QAe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={account:{index:0,isWritable:!0,value:t.account??null},mint:{index:1,isWritable:!1,value:t.mint??null},owner:{index:2,isWritable:!1,value:t.owner??null}},i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,XAe.getAccountMetasAndSigners)(i,"programId",r),a=Yne().serialize({}),p=0;return(0,YAe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}nv.freezeToken=QAe;var iv={};Object.defineProperty(iv,"__esModule",{value:!0});iv.getTokenDataSize=iv.getGetTokenDataSizeInstructionDataSerializer=void 0;const JAe=gt,TT=je,eTe=Vr;function Xne(){return(0,TT.mapSerializer)((0,TT.struct)([["discriminator",(0,TT.u8)()]],{description:"GetTokenDataSizeInstructionData"}),e=>({...e,discriminator:21}))}iv.getGetTokenDataSizeInstructionDataSerializer=Xne;function tTe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={mint:{index:0,isWritable:!1,value:t.mint??null}},i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,eTe.getAccountMetasAndSigners)(i,"programId",r),a=Xne().serialize({}),p=0;return(0,JAe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}iv.getTokenDataSize=tTe;var av={};Object.defineProperty(av,"__esModule",{value:!0});av.initializeImmutableOwner=av.getInitializeImmutableOwnerInstructionDataSerializer=void 0;const rTe=gt,MT=je,nTe=Vr;function Qne(){return(0,MT.mapSerializer)((0,MT.struct)([["discriminator",(0,MT.u8)()]],{description:"InitializeImmutableOwnerInstructionData"}),e=>({...e,discriminator:22}))}av.getInitializeImmutableOwnerInstructionDataSerializer=Qne;function iTe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={account:{index:0,isWritable:!0,value:t.account??null}},i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,nTe.getAccountMetasAndSigners)(i,"programId",r),a=Qne().serialize({}),p=0;return(0,rTe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}av.initializeImmutableOwner=iTe;var ov={};Object.defineProperty(ov,"__esModule",{value:!0});ov.initializeMint=ov.getInitializeMintInstructionDataSerializer=void 0;const wK=gt,Bf=je,aTe=Vr;function Jne(){return(0,Bf.mapSerializer)((0,Bf.struct)([["discriminator",(0,Bf.u8)()],["decimals",(0,Bf.u8)()],["mintAuthority",(0,Bf.publicKey)()],["freezeAuthority",(0,Bf.option)((0,Bf.publicKey)())]],{description:"InitializeMintInstructionData"}),e=>({...e,discriminator:0}))}ov.getInitializeMintInstructionDataSerializer=Jne;function oTe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={mint:{index:0,isWritable:!0,value:t.mint??null},rent:{index:1,isWritable:!1,value:t.rent??null}},i={...t};n.rent.value||(n.rent.value=(0,wK.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,aTe.getAccountMetasAndSigners)(s,"programId",r),p=Jne().serialize(i),f=0;return(0,wK.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}ov.initializeMint=oTe;var sv={};Object.defineProperty(sv,"__esModule",{value:!0});sv.initializeMint2=sv.getInitializeMint2InstructionDataSerializer=void 0;const sTe=gt,Ff=je,lTe=Vr;function eie(){return(0,Ff.mapSerializer)((0,Ff.struct)([["discriminator",(0,Ff.u8)()],["decimals",(0,Ff.u8)()],["mintAuthority",(0,Ff.publicKey)()],["freezeAuthority",(0,Ff.option)((0,Ff.publicKey)())]],{description:"InitializeMint2InstructionData"}),e=>({...e,discriminator:20}))}sv.getInitializeMint2InstructionDataSerializer=eie;function cTe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={mint:{index:0,isWritable:!0,value:t.mint??null}},i={...t},s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,lTe.getAccountMetasAndSigners)(s,"programId",r),p=eie().serialize(i),f=0;return(0,sTe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}sv.initializeMint2=cTe;var lv={};Object.defineProperty(lv,"__esModule",{value:!0});lv.initializeMultisig=lv.getInitializeMultisigInstructionDataSerializer=void 0;const SK=gt,v3=je,uTe=Vr;function tie(){return(0,v3.mapSerializer)((0,v3.struct)([["discriminator",(0,v3.u8)()],["m",(0,v3.u8)()]],{description:"InitializeMultisigInstructionData"}),e=>({...e,discriminator:2}))}lv.getInitializeMultisigInstructionDataSerializer=tie;function dTe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={multisig:{index:0,isWritable:!0,value:t.multisig??null},rent:{index:1,isWritable:!1,value:t.rent??null}},i={...t};n.rent.value||(n.rent.value=(0,SK.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,uTe.getAccountMetasAndSigners)(s,"programId",r),p=tie().serialize(i),f=0;return(0,SK.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}lv.initializeMultisig=dTe;var cv={};Object.defineProperty(cv,"__esModule",{value:!0});cv.initializeMultisig2=cv.getInitializeMultisig2InstructionDataSerializer=void 0;const pTe=gt,_3=je,hTe=Vr;function rie(){return(0,_3.mapSerializer)((0,_3.struct)([["discriminator",(0,_3.u8)()],["m",(0,_3.u8)()]],{description:"InitializeMultisig2InstructionData"}),e=>({...e,discriminator:19}))}cv.getInitializeMultisig2InstructionDataSerializer=rie;function fTe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={multisig:{index:0,isWritable:!0,value:t.multisig??null},signer:{index:1,isWritable:!1,value:t.signer??null}},i={...t},s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,hTe.getAccountMetasAndSigners)(s,"programId",r),p=rie().serialize(i),f=0;return(0,pTe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}cv.initializeMultisig2=fTe;var uv={};Object.defineProperty(uv,"__esModule",{value:!0});uv.initializeToken=uv.getInitializeTokenInstructionDataSerializer=void 0;const EK=gt,PT=je,mTe=Vr;function nie(){return(0,PT.mapSerializer)((0,PT.struct)([["discriminator",(0,PT.u8)()]],{description:"InitializeTokenInstructionData"}),e=>({...e,discriminator:1}))}uv.getInitializeTokenInstructionDataSerializer=nie;function gTe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={account:{index:0,isWritable:!0,value:t.account??null},mint:{index:1,isWritable:!1,value:t.mint??null},owner:{index:2,isWritable:!1,value:t.owner??null},rent:{index:3,isWritable:!1,value:t.rent??null}};n.rent.value||(n.rent.value=(0,EK.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,mTe.getAccountMetasAndSigners)(i,"programId",r),a=nie().serialize({}),p=0;return(0,EK.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}uv.initializeToken=gTe;var dv={};Object.defineProperty(dv,"__esModule",{value:!0});dv.initializeToken2=dv.getInitializeToken2InstructionDataSerializer=void 0;const AK=gt,b3=je,yTe=Vr;function iie(){return(0,b3.mapSerializer)((0,b3.struct)([["discriminator",(0,b3.u8)()],["owner",(0,b3.publicKey)()]],{description:"InitializeToken2InstructionData"}),e=>({...e,discriminator:16}))}dv.getInitializeToken2InstructionDataSerializer=iie;function vTe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={account:{index:0,isWritable:!0,value:t.account??null},mint:{index:1,isWritable:!1,value:t.mint??null},rent:{index:2,isWritable:!1,value:t.rent??null}},i={...t};n.rent.value||(n.rent.value=(0,AK.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,yTe.getAccountMetasAndSigners)(s,"programId",r),p=iie().serialize(i),f=0;return(0,AK.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}dv.initializeToken2=vTe;var pv={};Object.defineProperty(pv,"__esModule",{value:!0});pv.initializeToken3=pv.getInitializeToken3InstructionDataSerializer=void 0;const _Te=gt,x3=je,bTe=Vr;function aie(){return(0,x3.mapSerializer)((0,x3.struct)([["discriminator",(0,x3.u8)()],["owner",(0,x3.publicKey)()]],{description:"InitializeToken3InstructionData"}),e=>({...e,discriminator:18}))}pv.getInitializeToken3InstructionDataSerializer=aie;function xTe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={account:{index:0,isWritable:!0,value:t.account??null},mint:{index:1,isWritable:!1,value:t.mint??null}},i={...t},s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,bTe.getAccountMetasAndSigners)(s,"programId",r),p=aie().serialize(i),f=0;return(0,_Te.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}pv.initializeToken3=xTe;var hv={};Object.defineProperty(hv,"__esModule",{value:!0});hv.mintTokensTo=hv.getMintTokensToInstructionDataSerializer=void 0;const wTe=gt,w3=je,STe=Vr;function oie(){return(0,w3.mapSerializer)((0,w3.struct)([["discriminator",(0,w3.u8)()],["amount",(0,w3.u64)()]],{description:"MintTokensToInstructionData"}),e=>({...e,discriminator:7}))}hv.getMintTokensToInstructionDataSerializer=oie;function ETe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={mint:{index:0,isWritable:!0,value:t.mint??null},token:{index:1,isWritable:!0,value:t.token??null},mintAuthority:{index:2,isWritable:!1,value:t.mintAuthority??null}},i={...t};n.mintAuthority.value||(n.mintAuthority.value=e.identity);const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,STe.getAccountMetasAndSigners)(s,"programId",r),p=oie().serialize(i),f=0;return(0,wTe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}hv.mintTokensTo=ETe;var fv={};Object.defineProperty(fv,"__esModule",{value:!0});fv.mintTokensToChecked=fv.getMintTokensToCheckedInstructionDataSerializer=void 0;const ATe=gt,Ob=je,TTe=Vr;function sie(){return(0,Ob.mapSerializer)((0,Ob.struct)([["discriminator",(0,Ob.u8)()],["amount",(0,Ob.u64)()],["decimals",(0,Ob.u8)()]],{description:"MintTokensToCheckedInstructionData"}),e=>({...e,discriminator:14}))}fv.getMintTokensToCheckedInstructionDataSerializer=sie;function MTe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={mint:{index:0,isWritable:!0,value:t.mint??null},token:{index:1,isWritable:!0,value:t.token??null},mintAuthority:{index:2,isWritable:!1,value:t.mintAuthority??null}},i={...t},s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,TTe.getAccountMetasAndSigners)(s,"programId",r),p=sie().serialize(i),f=0;return(0,ATe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}fv.mintTokensToChecked=MTe;var xS={};Object.defineProperty(xS,"__esModule",{value:!0});xS.recoverNestedAssociatedToken=void 0;const PTe=gt,kTe=Vr;function ITe(e,t){const r=e.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),n={nestedAssociatedAccountAddress:{index:0,isWritable:!0,value:t.nestedAssociatedAccountAddress??null},nestedTokenMintAddress:{index:1,isWritable:!1,value:t.nestedTokenMintAddress??null},destinationAssociatedAccountAddress:{index:2,isWritable:!0,value:t.destinationAssociatedAccountAddress??null},ownerAssociatedAccountAddress:{index:3,isWritable:!1,value:t.ownerAssociatedAccountAddress??null},ownerTokenMintAddress:{index:4,isWritable:!1,value:t.ownerTokenMintAddress??null},walletAddress:{index:5,isWritable:!0,value:t.walletAddress??null},tokenProgram:{index:6,isWritable:!1,value:t.tokenProgram??null}};n.tokenProgram.value||(n.tokenProgram.value=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n.tokenProgram.isWritable=!1);const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,kTe.getAccountMetasAndSigners)(i,"programId",r),a=new Uint8Array,p=0;return(0,PTe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}xS.recoverNestedAssociatedToken=ITe;var mv={};Object.defineProperty(mv,"__esModule",{value:!0});mv.requestHeapFrame=mv.getRequestHeapFrameInstructionDataSerializer=void 0;const CTe=gt,S3=je,DTe=Vr;function lie(){return(0,S3.mapSerializer)((0,S3.struct)([["discriminator",(0,S3.u8)()],["bytes",(0,S3.u32)()]],{description:"RequestHeapFrameInstructionData"}),e=>({...e,discriminator:1}))}mv.getRequestHeapFrameInstructionDataSerializer=lie;function zTe(e,t){const r=e.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),n={},i={...t},s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,DTe.getAccountMetasAndSigners)(s,"programId",r),p=lie().serialize(i),f=0;return(0,CTe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}mv.requestHeapFrame=zTe;var gv={};Object.defineProperty(gv,"__esModule",{value:!0});gv.requestUnits=gv.getRequestUnitsInstructionDataSerializer=void 0;const RTe=gt,Bb=je,NTe=Vr;function cie(){return(0,Bb.mapSerializer)((0,Bb.struct)([["discriminator",(0,Bb.u8)()],["units",(0,Bb.u32)()],["additionalFee",(0,Bb.u32)()]],{description:"RequestUnitsInstructionData"}),e=>({...e,discriminator:0}))}gv.getRequestUnitsInstructionDataSerializer=cie;function LTe(e,t){const r=e.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),n={},i={...t},s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,NTe.getAccountMetasAndSigners)(s,"programId",r),p=cie().serialize(i),f=0;return(0,RTe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}gv.requestUnits=LTe;var yv={};Object.defineProperty(yv,"__esModule",{value:!0});yv.revokeTokenDelegate=yv.getRevokeTokenDelegateInstructionDataSerializer=void 0;const OTe=gt,kT=je,BTe=Vr;function uie(){return(0,kT.mapSerializer)((0,kT.struct)([["discriminator",(0,kT.u8)()]],{description:"RevokeTokenDelegateInstructionData"}),e=>({...e,discriminator:5}))}yv.getRevokeTokenDelegateInstructionDataSerializer=uie;function FTe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={source:{index:0,isWritable:!0,value:t.source??null},owner:{index:1,isWritable:!1,value:t.owner??null}},i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,BTe.getAccountMetasAndSigners)(i,"programId",r),a=uie().serialize({}),p=0;return(0,OTe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}yv.revokeTokenDelegate=FTe;var vv={};Object.defineProperty(vv,"__esModule",{value:!0});vv.setAuthority=vv.getSetAuthorityInstructionDataSerializer=void 0;const jTe=gt,Fb=je,VTe=Vr,UTe=gS;function die(){return(0,Fb.mapSerializer)((0,Fb.struct)([["discriminator",(0,Fb.u8)()],["authorityType",(0,UTe.getAuthorityTypeSerializer)()],["newAuthority",(0,Fb.option)((0,Fb.publicKey)())]],{description:"SetAuthorityInstructionData"}),e=>({...e,discriminator:6}))}vv.getSetAuthorityInstructionDataSerializer=die;function WTe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={owned:{index:0,isWritable:!0,value:t.owned??null},owner:{index:1,isWritable:!1,value:t.owner??null}},i={...t},s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,VTe.getAccountMetasAndSigners)(s,"programId",r),p=die().serialize(i),f=0;return(0,jTe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}vv.setAuthority=WTe;var _v={};Object.defineProperty(_v,"__esModule",{value:!0});_v.setComputeUnitLimit=_v.getSetComputeUnitLimitInstructionDataSerializer=void 0;const $Te=gt,E3=je,KTe=Vr;function pie(){return(0,E3.mapSerializer)((0,E3.struct)([["discriminator",(0,E3.u8)()],["units",(0,E3.u32)()]],{description:"SetComputeUnitLimitInstructionData"}),e=>({...e,discriminator:2}))}_v.getSetComputeUnitLimitInstructionDataSerializer=pie;function qTe(e,t){const r=e.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),n={},i={...t},s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,KTe.getAccountMetasAndSigners)(s,"programId",r),p=pie().serialize(i),f=0;return(0,$Te.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}_v.setComputeUnitLimit=qTe;var bv={};Object.defineProperty(bv,"__esModule",{value:!0});bv.setComputeUnitPrice=bv.getSetComputeUnitPriceInstructionDataSerializer=void 0;const GTe=gt,A3=je,HTe=Vr;function hie(){return(0,A3.mapSerializer)((0,A3.struct)([["discriminator",(0,A3.u8)()],["microLamports",(0,A3.u64)()]],{description:"SetComputeUnitPriceInstructionData"}),e=>({...e,discriminator:3}))}bv.getSetComputeUnitPriceInstructionDataSerializer=hie;function ZTe(e,t){const r=e.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),n={},i={...t},s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,HTe.getAccountMetasAndSigners)(s,"programId",r),p=hie().serialize(i),f=0;return(0,GTe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}bv.setComputeUnitPrice=ZTe;var xv={};Object.defineProperty(xv,"__esModule",{value:!0});xv.syncNative=xv.getSyncNativeInstructionDataSerializer=void 0;const YTe=gt,IT=je,XTe=Vr;function fie(){return(0,IT.mapSerializer)((0,IT.struct)([["discriminator",(0,IT.u8)()]],{description:"SyncNativeInstructionData"}),e=>({...e,discriminator:17}))}xv.getSyncNativeInstructionDataSerializer=fie;function QTe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={account:{index:0,isWritable:!0,value:t.account??null}},i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,XTe.getAccountMetasAndSigners)(i,"programId",r),a=fie().serialize({}),p=0;return(0,YTe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}xv.syncNative=QTe;var wv={};Object.defineProperty(wv,"__esModule",{value:!0});wv.thawToken=wv.getThawTokenInstructionDataSerializer=void 0;const JTe=gt,CT=je,eMe=Vr;function mie(){return(0,CT.mapSerializer)((0,CT.struct)([["discriminator",(0,CT.u8)()]],{description:"ThawTokenInstructionData"}),e=>({...e,discriminator:11}))}wv.getThawTokenInstructionDataSerializer=mie;function tMe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={account:{index:0,isWritable:!0,value:t.account??null},mint:{index:1,isWritable:!1,value:t.mint??null},owner:{index:2,isWritable:!1,value:t.owner??null}},i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,eMe.getAccountMetasAndSigners)(i,"programId",r),a=mie().serialize({}),p=0;return(0,JTe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}wv.thawToken=tMe;var Sv={};Object.defineProperty(Sv,"__esModule",{value:!0});Sv.transferAllSol=Sv.getTransferAllSolInstructionDataSerializer=void 0;const rMe=gt,DT=je,nMe=Vr;function gie(){return(0,DT.mapSerializer)((0,DT.struct)([["discriminator",(0,DT.u8)()]],{description:"TransferAllSolInstructionData"}),e=>({...e,discriminator:1}))}Sv.getTransferAllSolInstructionDataSerializer=gie;function iMe(e,t){const r=e.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),n={source:{index:0,isWritable:!0,value:t.source??null},destination:{index:1,isWritable:!0,value:t.destination??null},systemProgram:{index:2,isWritable:!1,value:t.systemProgram??null}};n.source.value||(n.source.value=e.identity),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,nMe.getAccountMetasAndSigners)(i,"programId",r),a=gie().serialize({}),p=0;return(0,rMe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Sv.transferAllSol=iMe;var Ev={};Object.defineProperty(Ev,"__esModule",{value:!0});Ev.transferSol=Ev.getTransferSolInstructionDataSerializer=void 0;const yie=gt,T3=je,aMe=Vr;function vie(){return(0,T3.mapSerializer)((0,T3.struct)([["discriminator",(0,T3.u32)()],["amount",(0,yie.mapAmountSerializer)((0,T3.u64)(),"SOL",9)]],{description:"TransferSolInstructionData"}),e=>({...e,discriminator:2}))}Ev.getTransferSolInstructionDataSerializer=vie;function oMe(e,t){const r=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n={source:{index:0,isWritable:!0,value:t.source??null},destination:{index:1,isWritable:!0,value:t.destination??null}},i={...t};n.source.value||(n.source.value=e.identity);const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,aMe.getAccountMetasAndSigners)(s,"programId",r),p=vie().serialize(i),f=0;return(0,yie.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}Ev.transferSol=oMe;var Av={};Object.defineProperty(Av,"__esModule",{value:!0});Av.transferTokens=Av.getTransferTokensInstructionDataSerializer=void 0;const sMe=gt,M3=je,lMe=Vr;function _ie(){return(0,M3.mapSerializer)((0,M3.struct)([["discriminator",(0,M3.u8)()],["amount",(0,M3.u64)()]],{description:"TransferTokensInstructionData"}),e=>({...e,discriminator:3}))}Av.getTransferTokensInstructionDataSerializer=_ie;function cMe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={source:{index:0,isWritable:!0,value:t.source??null},destination:{index:1,isWritable:!0,value:t.destination??null},authority:{index:2,isWritable:!1,value:t.authority??null}},i={...t};n.authority.value||(n.authority.value=e.identity);const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,lMe.getAccountMetasAndSigners)(s,"programId",r),p=_ie().serialize(i),f=0;return(0,sMe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}Av.transferTokens=cMe;var Tv={};Object.defineProperty(Tv,"__esModule",{value:!0});Tv.transferTokensChecked=Tv.getTransferTokensCheckedInstructionDataSerializer=void 0;const uMe=gt,jb=je,dMe=Vr;function bie(){return(0,jb.mapSerializer)((0,jb.struct)([["discriminator",(0,jb.u8)()],["amount",(0,jb.u64)()],["decimals",(0,jb.u8)()]],{description:"TransferTokensCheckedInstructionData"}),e=>({...e,discriminator:12}))}Tv.getTransferTokensCheckedInstructionDataSerializer=bie;function pMe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={source:{index:0,isWritable:!0,value:t.source??null},mint:{index:1,isWritable:!1,value:t.mint??null},destination:{index:2,isWritable:!0,value:t.destination??null},authority:{index:3,isWritable:!1,value:t.authority??null}},i={...t};n.authority.value||(n.authority.value=e.identity);const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,dMe.getAccountMetasAndSigners)(s,"programId",r),p=bie().serialize(i),f=0;return(0,uMe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}Tv.transferTokensChecked=pMe;var Mv={};Object.defineProperty(Mv,"__esModule",{value:!0});Mv.uiAmountToAmount=Mv.getUiAmountToAmountInstructionDataSerializer=void 0;const hMe=gt,P3=je,fMe=Vr;function xie(){return(0,P3.mapSerializer)((0,P3.struct)([["discriminator",(0,P3.u8)()],["uiAmount",(0,P3.u64)()]],{description:"UiAmountToAmountInstructionData"}),e=>({...e,discriminator:24}))}Mv.getUiAmountToAmountInstructionDataSerializer=xie;function mMe(e,t){const r=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n={mint:{index:0,isWritable:!1,value:t.mint??null}},i={...t},s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,fMe.getAccountMetasAndSigners)(s,"programId",r),p=xie().serialize(i),f=0;return(0,hMe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}Mv.uiAmountToAmount=mMe;(function(e){var t=pr&&pr.__createBinding||(Object.create?function(n,i,s,l){l===void 0&&(l=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,l,a)}:function(n,i,s,l){l===void 0&&(l=s),n[l]=i[s]}),r=pr&&pr.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Uy,e),r(Wy,e),r($y,e),r(Ky,e),r(qy,e),r(Gy,e),r(Hy,e),r(Zy,e),r(Yy,e),r(Xy,e),r(yS,e),r(Qy,e),r(bS,e),r(Jy,e),r(ev,e),r(tv,e),r(rv,e),r(nv,e),r(iv,e),r(av,e),r(ov,e),r(sv,e),r(lv,e),r(cv,e),r(uv,e),r(dv,e),r(pv,e),r(hv,e),r(fv,e),r(xS,e),r(mv,e),r(gv,e),r(yv,e),r(vv,e),r(_v,e),r(bv,e),r(xv,e),r(wv,e),r(Sv,e),r(Ev,e),r(Av,e),r(Tv,e),r(Mv,e)})(Rne);var wie={},Sie={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMplSystemExtrasProgramId=e.getMplSystemExtrasProgram=e.createMplSystemExtrasProgram=e.MPL_SYSTEM_EXTRAS_PROGRAM_ID=void 0;const t=_u;e.MPL_SYSTEM_EXTRAS_PROGRAM_ID="SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG";function r(){return{name:"mplSystemExtras",publicKey:e.MPL_SYSTEM_EXTRAS_PROGRAM_ID,getErrorFromCode(s,l){return(0,t.getMplSystemExtrasErrorFromCode)(s,this,l)},getErrorFromName(s,l){return(0,t.getMplSystemExtrasErrorFromName)(s,this,l)},isOnCluster(){return!0}}}e.createMplSystemExtrasProgram=r;function n(s,l){return s.programs.get("mplSystemExtras",l)}e.getMplSystemExtrasProgram=n;function i(s,l){return s.programs.getPublicKey("mplSystemExtras",e.MPL_SYSTEM_EXTRAS_PROGRAM_ID,l)}e.getMplSystemExtrasProgramId=i})(Sie);var Eie={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMplTokenExtrasProgramId=e.getMplTokenExtrasProgram=e.createMplTokenExtrasProgram=e.MPL_TOKEN_EXTRAS_PROGRAM_ID=void 0;const t=_u;e.MPL_TOKEN_EXTRAS_PROGRAM_ID="TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p";function r(){return{name:"mplTokenExtras",publicKey:e.MPL_TOKEN_EXTRAS_PROGRAM_ID,getErrorFromCode(s,l){return(0,t.getMplTokenExtrasErrorFromCode)(s,this,l)},getErrorFromName(s,l){return(0,t.getMplTokenExtrasErrorFromName)(s,this,l)},isOnCluster(){return!0}}}e.createMplTokenExtrasProgram=r;function n(s,l){return s.programs.get("mplTokenExtras",l)}e.getMplTokenExtrasProgram=n;function i(s,l){return s.programs.getPublicKey("mplTokenExtras",e.MPL_TOKEN_EXTRAS_PROGRAM_ID,l)}e.getMplTokenExtrasProgramId=i})(Eie);var Aie={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getSplAddressLookupTableProgramId=e.getSplAddressLookupTableProgram=e.createSplAddressLookupTableProgram=e.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID=void 0;const t=_u;e.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID="AddressLookupTab1e1111111111111111111111111";function r(){return{name:"splAddressLookupTable",publicKey:e.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,getErrorFromCode(s,l){return(0,t.getSplAddressLookupTableErrorFromCode)(s,this,l)},getErrorFromName(s,l){return(0,t.getSplAddressLookupTableErrorFromName)(s,this,l)},isOnCluster(){return!0}}}e.createSplAddressLookupTableProgram=r;function n(s,l){return s.programs.get("splAddressLookupTable",l)}e.getSplAddressLookupTableProgram=n;function i(s,l){return s.programs.getPublicKey("splAddressLookupTable",e.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,l)}e.getSplAddressLookupTableProgramId=i})(Aie);var Tie={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getSplAssociatedTokenProgramId=e.getSplAssociatedTokenProgram=e.createSplAssociatedTokenProgram=e.SPL_ASSOCIATED_TOKEN_PROGRAM_ID=void 0;const t=_u;e.SPL_ASSOCIATED_TOKEN_PROGRAM_ID="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL";function r(){return{name:"splAssociatedToken",publicKey:e.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,getErrorFromCode(s,l){return(0,t.getSplAssociatedTokenErrorFromCode)(s,this,l)},getErrorFromName(s,l){return(0,t.getSplAssociatedTokenErrorFromName)(s,this,l)},isOnCluster(){return!0}}}e.createSplAssociatedTokenProgram=r;function n(s,l){return s.programs.get("splAssociatedToken",l)}e.getSplAssociatedTokenProgram=n;function i(s,l){return s.programs.getPublicKey("splAssociatedToken",e.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,l)}e.getSplAssociatedTokenProgramId=i})(Tie);var Mie={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getSplComputeBudgetProgramId=e.getSplComputeBudgetProgram=e.createSplComputeBudgetProgram=e.SPL_COMPUTE_BUDGET_PROGRAM_ID=void 0;const t=_u;e.SPL_COMPUTE_BUDGET_PROGRAM_ID="ComputeBudget111111111111111111111111111111";function r(){return{name:"splComputeBudget",publicKey:e.SPL_COMPUTE_BUDGET_PROGRAM_ID,getErrorFromCode(s,l){return(0,t.getSplComputeBudgetErrorFromCode)(s,this,l)},getErrorFromName(s,l){return(0,t.getSplComputeBudgetErrorFromName)(s,this,l)},isOnCluster(){return!0}}}e.createSplComputeBudgetProgram=r;function n(s,l){return s.programs.get("splComputeBudget",l)}e.getSplComputeBudgetProgram=n;function i(s,l){return s.programs.getPublicKey("splComputeBudget",e.SPL_COMPUTE_BUDGET_PROGRAM_ID,l)}e.getSplComputeBudgetProgramId=i})(Mie);var Pie={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getSplMemoProgramId=e.getSplMemoProgram=e.createSplMemoProgram=e.SPL_MEMO_PROGRAM_ID=void 0;const t=_u;e.SPL_MEMO_PROGRAM_ID="Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo";function r(){return{name:"splMemo",publicKey:e.SPL_MEMO_PROGRAM_ID,getErrorFromCode(s,l){return(0,t.getSplMemoErrorFromCode)(s,this,l)},getErrorFromName(s,l){return(0,t.getSplMemoErrorFromName)(s,this,l)},isOnCluster(){return!0}}}e.createSplMemoProgram=r;function n(s,l){return s.programs.get("splMemo",l)}e.getSplMemoProgram=n;function i(s,l){return s.programs.getPublicKey("splMemo",e.SPL_MEMO_PROGRAM_ID,l)}e.getSplMemoProgramId=i})(Pie);var kie={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getSplSystemProgramId=e.getSplSystemProgram=e.createSplSystemProgram=e.SPL_SYSTEM_PROGRAM_ID=void 0;const t=_u;e.SPL_SYSTEM_PROGRAM_ID="11111111111111111111111111111111";function r(){return{name:"splSystem",publicKey:e.SPL_SYSTEM_PROGRAM_ID,getErrorFromCode(s,l){return(0,t.getSplSystemErrorFromCode)(s,this,l)},getErrorFromName(s,l){return(0,t.getSplSystemErrorFromName)(s,this,l)},isOnCluster(){return!0}}}e.createSplSystemProgram=r;function n(s,l){return s.programs.get("splSystem",l)}e.getSplSystemProgram=n;function i(s,l){return s.programs.getPublicKey("splSystem",e.SPL_SYSTEM_PROGRAM_ID,l)}e.getSplSystemProgramId=i})(kie);var Iie={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getSplTokenProgramId=e.getSplTokenProgram=e.createSplTokenProgram=e.SPL_TOKEN_PROGRAM_ID=void 0;const t=_u;e.SPL_TOKEN_PROGRAM_ID="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";function r(){return{name:"splToken",publicKey:e.SPL_TOKEN_PROGRAM_ID,getErrorFromCode(s,l){return(0,t.getSplTokenErrorFromCode)(s,this,l)},getErrorFromName(s,l){return(0,t.getSplTokenErrorFromName)(s,this,l)},isOnCluster(){return!0}}}e.createSplTokenProgram=r;function n(s,l){return s.programs.get("splToken",l)}e.getSplTokenProgram=n;function i(s,l){return s.programs.getPublicKey("splToken",e.SPL_TOKEN_PROGRAM_ID,l)}e.getSplTokenProgramId=i})(Iie);(function(e){var t=pr&&pr.__createBinding||(Object.create?function(n,i,s,l){l===void 0&&(l=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,l,a)}:function(n,i,s,l){l===void 0&&(l=s),n[l]=i[s]}),r=pr&&pr.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Sie,e),r(Eie,e),r(Aie,e),r(Tie,e),r(Mie,e),r(Pie,e),r(kie,e),r(Iie,e)})(wie);(function(e){var t=pr&&pr.__createBinding||(Object.create?function(n,i,s,l){l===void 0&&(l=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,l,a)}:function(n,i,s,l){l===void 0&&(l=s),n[l]=i[s]}),r=pr&&pr.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(mS,e),r(_u,e),r(Rne,e),r(wie,e),r(Vr,e),r(gS,e)})(jd);var wS={};Object.defineProperty(wS,"__esModule",{value:!0});wS.createLut=void 0;const gMe=gt,zT=jd;function yMe(e,t){const{addresses:r,...n}=t,i=t.authority??e.identity,s=t.address??(0,zT.findAddressLookupTablePda)(e,{authority:i.publicKey,recentSlot:t.recentSlot});return[(0,gMe.transactionBuilder)().add((0,zT.createEmptyLut)(e,n)).add((0,zT.extendLut)(e,{address:s,authority:i,addresses:r,payer:t.payer})),{publicKey:s[0],addresses:r}]}wS.createLut=yMe;var SS={};Object.defineProperty(SS,"__esModule",{value:!0});SS.createLutForTransactionBuilder=void 0;const RT=gt,Yk=jd,vMe=(e,t,r,n)=>{const i=n??e.identity,s=(0,RT.uniquePublicKeys)([t.getFeePayer(e).publicKey,...t.items.flatMap(({instruction:f})=>f.keys.filter(g=>g.isSigner).map(g=>g.pubkey))]),l=(0,RT.uniquePublicKeys)(t.items.flatMap(({instruction:f})=>[f.programId,...f.keys.map(g=>g.pubkey)])).filter(f=>!s.includes(f)),a=[],p=[];return(0,RT.chunk)(l,256).forEach((f,g)=>{const v=r-g,[_]=(0,Yk.findAddressLookupTablePda)(e,{authority:i.publicKey,recentSlot:v});a.push({publicKey:_,addresses:f}),p.push(..._Me(e,(0,Yk.createEmptyLut)(e,{recentSlot:v}),_,i,f))}),[p,a]};SS.createLutForTransactionBuilder=vMe;function _Me(e,t,r,n,i){const s=[];let l=[],a=t;return i.forEach(p=>{const f=t.add((0,Yk.extendLut)(e,{address:r,addresses:[...l,p],authority:n}));f.fitsInOneTransaction(e)?(l.push(p),a=f):(l=[p],s.push(a),t=t.empty(),a=t)}),l.length>0&&s.push(a),s}var G4={};Object.defineProperty(G4,"__esModule",{value:!0});G4.createMint=void 0;const TK=gt,NT=jd;function bMe(e,t){return(0,TK.transactionBuilder)().add((0,NT.createAccountWithRent)(e,{newAccount:t.mint,space:(0,NT.getMintSize)(),programId:e.programs.get("splToken").publicKey})).add((0,NT.initializeMint2)(e,{mint:t.mint.publicKey,decimals:t.decimals??0,mintAuthority:t.mintAuthority??e.identity.publicKey,freezeAuthority:t.freezeAuthority===void 0?(0,TK.some)(e.identity.publicKey):t.freezeAuthority}))}G4.createMint=bMe;var ES={};Object.defineProperty(ES,"__esModule",{value:!0});ES.createMintWithAssociatedToken=void 0;const LT=gt,xMe=G4,MK=jd,wMe=T2;function SMe(e,t){const r={mint:t.mint.publicKey,owner:t.owner??e.identity.publicKey},n=t.amount??0;let i=(0,LT.transactionBuilder)().add((0,xMe.createMint)(e,{...t,mintAuthority:t.mintAuthority?(0,LT.publicKey)(t.mintAuthority,!1):void 0})).add((0,MK.createAssociatedToken)(e,r));return n>0&&(i=i.add((0,MK.mintTokensTo)(e,{amount:n,mint:t.mint.publicKey,token:(0,wMe.findAssociatedTokenPda)(e,r),mintAuthority:t.mintAuthority&&(0,LT.isSigner)(t.mintAuthority)?t.mintAuthority:void 0}))),i}ES.createMintWithAssociatedToken=SMe;var AS={};Object.defineProperty(AS,"__esModule",{value:!0});AS.createToken=void 0;const EMe=gt,OT=jd;function AMe(e,t){return(0,EMe.transactionBuilder)().add((0,OT.createAccountWithRent)(e,{newAccount:t.token,space:(0,OT.getTokenSize)(),programId:e.programs.get("splToken").publicKey})).add((0,OT.initializeToken3)(e,{account:t.token.publicKey,mint:t.mint,owner:t.owner??e.identity.publicKey}))}AS.createToken=AMe;var Cie={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchTokensByOwnerAndMint=e.fetchTokensByOwner=e.fetchAllMintByOwner=e.fetchAllMintPublicKeyByOwner=e.fetchAllTokenByOwnerAndMint=e.fetchAllTokenByOwner=void 0;const t=gt,r=je,n=jd,i=async(f,g,v,_={})=>{const T=f.programs.get("splToken").publicKey,z=_.mint?{mint:_.mint}:{programId:T};return(await f.rpc.call("getTokenAccountsByOwner",[g,z],{..._,extra:{encoding:"base64"}})).value.filter(({account:k})=>{const C=r.base64.serialize(k.data[0]),L=(0,r.u64)().deserialize(C.slice(64,72))[0];return v(L)})},s=async(f,g,v={})=>{const{mint:_,tokenStrategy:T="getProgramAccounts",tokenAmountFilter:z=C=>C>0,...I}=v;if(T==="getTokenAccountsByOwner")return(await i(f,g,z,{mint:_,...I})).map(({pubkey:L,account:N})=>(0,n.deserializeToken)({...N,data:r.base64.serialize(N.data[0]),publicKey:(0,t.publicKey)(L),owner:(0,t.publicKey)(N.owner),lamports:(0,t.lamports)(N.lamports)}));let k=(0,n.getTokenGpaBuilder)(f).whereField("owner",g);return _&&(k=k.whereField("mint",_)),(await k.get()).filter(C=>{const L=(0,r.u64)().deserialize(C.data.slice(64,72))[0];return z(L)}).map(C=>(0,n.deserializeToken)(C))};e.fetchAllTokenByOwner=s;const l=(f,g,v,_={})=>(0,e.fetchAllTokenByOwner)(f,g,{..._,mint:v});e.fetchAllTokenByOwnerAndMint=l;const a=async(f,g,v={})=>{const{tokenStrategy:_="getProgramAccounts",tokenAmountFilter:T=I=>I>0,...z}=v;return _==="getTokenAccountsByOwner"?(await i(f,g,T,z)).map(({account:k})=>(0,t.publicKey)(r.base64.serialize(k.data[0]).slice(0,32))):(await(0,n.getTokenGpaBuilder)(f).slice(0,72).whereField("owner",g).get()).filter(I=>{const k=(0,r.u64)().deserialize(I.data.slice(64,72))[0];return T(k)}).map(I=>(0,t.publicKey)(I.data.slice(0,32)))};e.fetchAllMintPublicKeyByOwner=a;const p=async(f,g,v={})=>{const{tokenStrategy:_,tokenAmountFilter:T,...z}=v,I=await(0,e.fetchAllMintPublicKeyByOwner)(f,g,v);return(0,n.fetchAllMint)(f,I,z)};e.fetchAllMintByOwner=p,e.fetchTokensByOwner=e.fetchAllTokenByOwner,e.fetchTokensByOwnerAndMint=e.fetchAllTokenByOwnerAndMint})(Cie);var TS={};Object.defineProperty(TS,"__esModule",{value:!0});TS.findLargestTokensByMint=void 0;const PK=gt,TMe=async(e,t,r={})=>(await e.rpc.call("getTokenLargestAccounts",[t],r)).value.map(({address:i,amount:s,decimals:l})=>({publicKey:(0,PK.publicKey)(i),amount:(0,PK.createAmount)(s,"splToken",l)}));TS.findLargestTokensByMint=TMe;var Die={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mplEssentials=e.mplToolbox=void 0;const t=gt,r=jd,n=()=>({install(i){i.programs.add((0,r.createSplSystemProgram)(),!1),i.programs.add((0,r.createSplMemoProgram)(),!1),i.programs.add((0,r.createSplTokenProgram)(),!1),i.programs.add((0,r.createSplAssociatedTokenProgram)(),!1),i.programs.add((0,r.createSplAddressLookupTableProgram)(),!1),i.programs.add((0,r.createMplSystemExtrasProgram)(),!1),i.programs.add((0,r.createMplTokenExtrasProgram)(),!1),i.programs.add({...(0,r.createSplTokenProgram)(),name:"splToken2022",publicKey:(0,t.publicKey)("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")},!1)}});e.mplToolbox=n,e.mplEssentials=e.mplToolbox})(Die);var MS={};Object.defineProperty(MS,"__esModule",{value:!0});MS.getSysvar=void 0;const qc=gt,MMe=e=>{switch(e){case"clock":return(0,qc.publicKey)("SysvarC1ock11111111111111111111111111111111");case"epochSchedule":return(0,qc.publicKey)("SysvarEpochSchedu1e111111111111111111111111");case"instructions":return(0,qc.publicKey)("Sysvar1nstructions1111111111111111111111111");case"recentBlockhashes":return(0,qc.publicKey)("SysvarRecentB1ockHashes11111111111111111111");case"rent":return(0,qc.publicKey)("SysvarRent111111111111111111111111111111111");case"rewards":return(0,qc.publicKey)("SysvarRewards111111111111111111111111111111");case"slotHashes":return(0,qc.publicKey)("SysvarS1otHashes111111111111111111111111111");case"slotHistory":return(0,qc.publicKey)("SysvarS1otHistory11111111111111111111111111");case"stakeHistory":return(0,qc.publicKey)("SysvarStakeHistory1111111111111111111111111");default:throw new qc.SdkError(`Unknown sysvar: ${e}`)}};MS.getSysvar=MMe;(function(e){var t=pr&&pr.__createBinding||(Object.create?function(n,i,s,l){l===void 0&&(l=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,l,a)}:function(n,i,s,l){l===void 0&&(l=s),n[l]=i[s]}),r=pr&&pr.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(jd,e),r(T2,e),r(wS,e),r(SS,e),r(G4,e),r(ES,e),r(AS,e),r(Cie,e),r(TS,e),r(Die,e),r(MS,e)})(Si);var BT={},kK;function Fz(){return kK||(kK=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isProgrammable=e.isNonFungible=e.isFungible=e.deserializeDigitalAsset=e.fetchAllMetadataByOwner=e.fetchAllDigitalAssetByOwner=e.fetchAllDigitalAssetByUpdateAuthority=e.fetchAllDigitalAssetByVerifiedCollection=e.fetchAllDigitalAssetByCreator=e.fetchAllDigitalAsset=e.fetchDigitalAssetByMetadata=e.fetchDigitalAsset=void 0;const t=Si,r=gt,n=Hh,i=Qm(),s=326,l=34,a=[366,400,434,468,502],p=1,f=2;async function g(re,ne,ie){const[me]=(0,i.findMetadataPda)(re,{mint:ne}),[Ze]=(0,i.findMasterEditionPda)(re,{mint:ne}),[et,Ke,ye]=await re.rpc.getAccounts([ne,me,Ze],ie);return(0,r.assertAccountExists)(et,"Mint"),(0,r.assertAccountExists)(Ke,"Metadata"),L(et,Ke,ye.exists?ye:void 0)}e.fetchDigitalAsset=g;async function v(re,ne,ie){const me=await(0,i.fetchMetadata)(re,ne,ie);return g(re,me.mint,ie)}e.fetchDigitalAssetByMetadata=v;async function _(re,ne,ie){const me=ne.flatMap(et=>[et,(0,i.findMetadataPda)(re,{mint:et})[0],(0,i.findMasterEditionPda)(re,{mint:et})[0]]),Ze=await re.rpc.getAccounts(me,ie);return(0,r.chunk)(Ze,3).flatMap(([et,Ke,ye])=>{try{return(0,r.assertAccountExists)(et,"Mint"),(0,r.assertAccountExists)(Ke,"Metadata"),[L(et,Ke,ye.exists?ye:void 0)]}catch{return[]}})}e.fetchAllDigitalAsset=_;async function T(re,ne,ie){const me=((ie==null?void 0:ie.position)??1)-1,Ze=await(0,i.getMetadataGpaBuilder)(re).where(s+me*l,ne).sliceField("mint").getDataAsPublicKeys();return _(re,Ze,ie)}e.fetchAllDigitalAssetByCreator=T;async function z(re,ne,ie){const me=await Promise.all(a.map(async Ze=>(0,i.getMetadataGpaBuilder)(re).where(Ze,1).where(Ze+p,1).where(Ze+f,ne).sliceField("mint").getDataAsPublicKeys()));return _(re,me.flat(),ie)}e.fetchAllDigitalAssetByVerifiedCollection=z;async function I(re,ne,ie){const me=await(0,i.getMetadataGpaBuilder)(re).whereField("updateAuthority",ne).sliceField("mint").getDataAsPublicKeys();return _(re,me,ie)}e.fetchAllDigitalAssetByUpdateAuthority=I;async function k(re,ne,ie){const me=await(0,t.fetchAllMintPublicKeyByOwner)(re,ne,ie);return _(re,me,ie)}e.fetchAllDigitalAssetByOwner=k;async function C(re,ne,ie){const Ze=(await(0,t.fetchAllMintPublicKeyByOwner)(re,ne,ie)).map(Ke=>(0,i.findMetadataPda)(re,{mint:Ke})[0]);return(await re.rpc.getAccounts(Ze,ie)).flatMap(Ke=>{try{return(0,r.assertAccountExists)(Ke,"Metadata"),[(0,i.deserializeMetadata)(Ke)]}catch{return[]}})}e.fetchAllMetadataByOwner=C;function L(re,ne,ie){const me=(0,t.deserializeMint)(re),Ze=(0,i.deserializeMetadata)(ne),et=(0,r.unwrapOption)(Ze.tokenStandard);if(et&&(0,e.isNonFungible)(et)&&!ie)throw new Error("Edition account must be provided for non-fungible assets.");const Ke={publicKey:me.publicKey,mint:me,metadata:Ze};if(!ie)return Ke;const ye=(0,i.getKeySerializer)().deserialize(ie.data)[0];let j;if(ye===i.Key.MasterEditionV1||ye===i.Key.MasterEditionV2)j={isOriginal:!0,...(0,i.deserializeMasterEdition)(ie)};else if(ye===i.Key.EditionV1)j={isOriginal:!1,...(0,i.deserializeEdition)(ie)};else throw new n.TokenMetadataError(`Invalid key "${ye}" for edition account.`);return{...Ke,edition:j}}e.deserializeDigitalAsset=L;const N=re=>re===i.TokenStandard.Fungible||re===i.TokenStandard.FungibleAsset;e.isFungible=N;const $=re=>!(0,e.isFungible)(re);e.isNonFungible=$;const ee=re=>re===i.TokenStandard.ProgrammableNonFungible||re===i.TokenStandard.ProgrammableNonFungibleEdition;e.isProgrammable=ee}(BT)),BT}var IK;function PMe(){if(IK)return Ra;IK=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.resolveIsNonFungibleOrIsMintSigner=Ra.resolveOptionalTokenOwner=Ra.resolveCreateV1Bytes=Ra.resolveCreators=Ra.resolvePrintSupply=Ra.resolveDecimals=Ra.resolveIsNonFungible=Ra.resolveCollectionDetails=void 0;const e=Si,t=gt,r=Fz(),n=Qm(),i=607,s=20,l=(z,I,k,...C)=>k.isCollection?(0,t.some)((0,n.collectionDetails)("V2",{padding:new Array(8).fill(0)})):(0,t.none)();Ra.resolveCollectionDetails=l;const a=(z,I,k,...C)=>(0,r.isNonFungible)((0,n.expectSome)(k.tokenStandard));Ra.resolveIsNonFungible=a;const p=(z,I,k,...C)=>(0,r.isNonFungible)((0,n.expectSome)(k.tokenStandard))?(0,t.none)():(0,t.some)(0);Ra.resolveDecimals=p;const f=(z,I,k,...C)=>(0,r.isNonFungible)((0,n.expectSome)(k.tokenStandard))?(0,t.some)((0,n.printSupply)("Zero")):(0,t.none)();Ra.resolvePrintSupply=f;const g=(z,I,...k)=>(0,t.some)([{address:(0,n.expectPublicKey)(I.authority.value),share:100,verified:!0}]);Ra.resolveCreators=g;const v=(z,I,k,...C)=>{const L=(0,e.getMintSize)()+i+2*t.ACCOUNT_HEADER_SIZE;return(0,r.isNonFungible)((0,n.expectSome)(k.tokenStandard))?L+s+t.ACCOUNT_HEADER_SIZE:L};Ra.resolveCreateV1Bytes=v;const _=(z,I,...k)=>I.token.value?{value:null}:{value:z.identity.publicKey};Ra.resolveOptionalTokenOwner=_;const T=(z,I,k,...C)=>(0,r.isNonFungible)((0,n.expectSome)(k.tokenStandard))||(0,t.isSigner)((0,n.expectSome)(I.mint.value));return Ra.resolveIsNonFungibleOrIsMintSigner=T,Ra}var CK;function _n(){return CK||(CK=1,function(e){var t=pr&&pr.__createBinding||(Object.create?function(n,i,s,l){l===void 0&&(l=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,l,a)}:function(n,i,s,l){l===void 0&&(l=s),n[l]=i[s]}),r=pr&&pr.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(G7e(),e),r(hS,e),r(fS,e),r(PMe(),e)}(vT)),vT}var DK;function kMe(){if(DK)return vi;DK=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.safeFetchHolderDelegateRecordFromSeeds=vi.fetchHolderDelegateRecordFromSeeds=vi.findHolderDelegateRecordPda=vi.getHolderDelegateRecordSize=vi.getHolderDelegateRecordGpaBuilder=vi.safeFetchAllHolderDelegateRecord=vi.fetchAllHolderDelegateRecord=vi.safeFetchHolderDelegateRecord=vi.fetchHolderDelegateRecord=vi.deserializeHolderDelegateRecord=vi.getHolderDelegateRecordAccountDataSerializer=void 0;const e=gt,t=je,r=_n(),n=sr();function i(){return(0,t.struct)([["key",(0,n.getKeySerializer)()],["bump",(0,t.u8)()],["mint",(0,t.publicKey)()],["delegate",(0,t.publicKey)()],["updateAuthority",(0,t.publicKey)()]],{description:"HolderDelegateRecordAccountData"})}vi.getHolderDelegateRecordAccountDataSerializer=i;function s(I){return(0,e.deserializeAccount)(I,i())}vi.deserializeHolderDelegateRecord=s;async function l(I,k,C){const L=await I.rpc.getAccount((0,e.publicKey)(k,!1),C);return(0,e.assertAccountExists)(L,"HolderDelegateRecord"),s(L)}vi.fetchHolderDelegateRecord=l;async function a(I,k,C){const L=await I.rpc.getAccount((0,e.publicKey)(k,!1),C);return L.exists?s(L):null}vi.safeFetchHolderDelegateRecord=a;async function p(I,k,C){return(await I.rpc.getAccounts(k.map(N=>(0,e.publicKey)(N,!1)),C)).map(N=>((0,e.assertAccountExists)(N,"HolderDelegateRecord"),s(N)))}vi.fetchAllHolderDelegateRecord=p;async function f(I,k,C){return(await I.rpc.getAccounts(k.map(N=>(0,e.publicKey)(N,!1)),C)).filter(N=>N.exists).map(N=>s(N))}vi.safeFetchAllHolderDelegateRecord=f;function g(I){const k=I.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,e.gpaBuilder)(I,k).registerFields({key:[0,(0,n.getKeySerializer)()],bump:[1,(0,t.u8)()],mint:[2,(0,t.publicKey)()],delegate:[34,(0,t.publicKey)()],updateAuthority:[66,(0,t.publicKey)()]}).deserializeUsing(C=>s(C))}vi.getHolderDelegateRecordGpaBuilder=g;function v(){return 98}vi.getHolderDelegateRecordSize=v;function _(I,k){const C=I.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return I.eddsa.findPda(C,[(0,t.string)({size:"variable"}).serialize("metadata"),(0,t.publicKey)().serialize(C),(0,t.publicKey)().serialize(k.mint),(0,r.getHolderDelegateRoleSeedSerializer)().serialize(k.delegateRole),(0,t.publicKey)().serialize(k.owner),(0,t.publicKey)().serialize(k.delegate)])}vi.findHolderDelegateRecordPda=_;async function T(I,k,C){return l(I,_(I,k),C)}vi.fetchHolderDelegateRecordFromSeeds=T;async function z(I,k,C){return a(I,_(I,k),C)}return vi.safeFetchHolderDelegateRecordFromSeeds=z,vi}var la={};Object.defineProperty(la,"__esModule",{value:!0});la.safeFetchMasterEditionFromSeeds=la.fetchMasterEditionFromSeeds=la.findMasterEditionPda=la.getMasterEditionGpaBuilder=la.safeFetchAllMasterEdition=la.fetchAllMasterEdition=la.safeFetchMasterEdition=la.fetchMasterEdition=la.deserializeMasterEdition=la.getMasterEditionAccountDataSerializer=void 0;const Dh=gt,Sl=je,z8=sr();function zie(){return(0,Sl.mapSerializer)((0,Sl.struct)([["key",(0,z8.getKeySerializer)()],["supply",(0,Sl.u64)()],["maxSupply",(0,Sl.option)((0,Sl.u64)())]],{description:"MasterEditionAccountData"}),e=>({...e,key:z8.Key.MasterEditionV2}))}la.getMasterEditionAccountDataSerializer=zie;function M2(e){return(0,Dh.deserializeAccount)(e,zie())}la.deserializeMasterEdition=M2;async function Rie(e,t,r){const n=await e.rpc.getAccount((0,Dh.publicKey)(t,!1),r);return(0,Dh.assertAccountExists)(n,"MasterEdition"),M2(n)}la.fetchMasterEdition=Rie;async function Nie(e,t,r){const n=await e.rpc.getAccount((0,Dh.publicKey)(t,!1),r);return n.exists?M2(n):null}la.safeFetchMasterEdition=Nie;async function IMe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Dh.publicKey)(i,!1)),r)).map(i=>((0,Dh.assertAccountExists)(i,"MasterEdition"),M2(i)))}la.fetchAllMasterEdition=IMe;async function CMe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Dh.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>M2(i))}la.safeFetchAllMasterEdition=CMe;function DMe(e){const t=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Dh.gpaBuilder)(e,t).registerFields({key:[0,(0,z8.getKeySerializer)()],supply:[1,(0,Sl.u64)()],maxSupply:[9,(0,Sl.option)((0,Sl.u64)())]}).deserializeUsing(r=>M2(r)).whereField("key",z8.Key.MasterEditionV2)}la.getMasterEditionGpaBuilder=DMe;function jz(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return e.eddsa.findPda(r,[(0,Sl.string)({size:"variable"}).serialize("metadata"),(0,Sl.publicKey)().serialize(r),(0,Sl.publicKey)().serialize(t.mint),(0,Sl.string)({size:"variable"}).serialize("edition")])}la.findMasterEditionPda=jz;async function zMe(e,t,r){return Rie(e,jz(e,t),r)}la.fetchMasterEditionFromSeeds=zMe;async function RMe(e,t,r){return Nie(e,jz(e,t),r)}la.safeFetchMasterEditionFromSeeds=RMe;var ca={};Object.defineProperty(ca,"__esModule",{value:!0});ca.safeFetchMetadataFromSeeds=ca.fetchMetadataFromSeeds=ca.findMetadataPda=ca.getMetadataGpaBuilder=ca.safeFetchAllMetadata=ca.fetchAllMetadata=ca.safeFetchMetadata=ca.fetchMetadata=ca.deserializeMetadata=ca.getMetadataAccountDataSerializer=void 0;const zh=gt,yn=je,Co=sr();function Lie(){return(0,yn.mapSerializer)((0,yn.struct)([["key",(0,Co.getKeySerializer)()],["updateAuthority",(0,yn.publicKey)()],["mint",(0,yn.publicKey)()],["name",(0,yn.string)()],["symbol",(0,yn.string)()],["uri",(0,yn.string)()],["sellerFeeBasisPoints",(0,yn.u16)()],["creators",(0,yn.option)((0,yn.array)((0,Co.getCreatorSerializer)()))],["primarySaleHappened",(0,yn.bool)()],["isMutable",(0,yn.bool)()],["editionNonce",(0,yn.option)((0,yn.u8)())],["tokenStandard",(0,yn.option)((0,Co.getTokenStandardSerializer)())],["collection",(0,yn.option)((0,Co.getCollectionSerializer)())],["uses",(0,yn.option)((0,Co.getUsesSerializer)())],["collectionDetails",(0,yn.option)((0,Co.getCollectionDetailsSerializer)())],["programmableConfig",(0,yn.option)((0,Co.getProgrammableConfigSerializer)())]],{description:"MetadataAccountData"}),e=>({...e,key:Co.Key.MetadataV1}))}ca.getMetadataAccountDataSerializer=Lie;function P2(e){return(0,zh.deserializeAccount)(e,Lie())}ca.deserializeMetadata=P2;async function Oie(e,t,r){const n=await e.rpc.getAccount((0,zh.publicKey)(t,!1),r);return(0,zh.assertAccountExists)(n,"Metadata"),P2(n)}ca.fetchMetadata=Oie;async function Bie(e,t,r){const n=await e.rpc.getAccount((0,zh.publicKey)(t,!1),r);return n.exists?P2(n):null}ca.safeFetchMetadata=Bie;async function NMe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,zh.publicKey)(i,!1)),r)).map(i=>((0,zh.assertAccountExists)(i,"Metadata"),P2(i)))}ca.fetchAllMetadata=NMe;async function LMe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,zh.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>P2(i))}ca.safeFetchAllMetadata=LMe;function OMe(e){const t=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,zh.gpaBuilder)(e,t).registerFields({key:[0,(0,Co.getKeySerializer)()],updateAuthority:[1,(0,yn.publicKey)()],mint:[33,(0,yn.publicKey)()],name:[65,(0,yn.string)()],symbol:[null,(0,yn.string)()],uri:[null,(0,yn.string)()],sellerFeeBasisPoints:[null,(0,yn.u16)()],creators:[null,(0,yn.option)((0,yn.array)((0,Co.getCreatorSerializer)()))],primarySaleHappened:[null,(0,yn.bool)()],isMutable:[null,(0,yn.bool)()],editionNonce:[null,(0,yn.option)((0,yn.u8)())],tokenStandard:[null,(0,yn.option)((0,Co.getTokenStandardSerializer)())],collection:[null,(0,yn.option)((0,Co.getCollectionSerializer)())],uses:[null,(0,yn.option)((0,Co.getUsesSerializer)())],collectionDetails:[null,(0,yn.option)((0,Co.getCollectionDetailsSerializer)())],programmableConfig:[null,(0,yn.option)((0,Co.getProgrammableConfigSerializer)())]}).deserializeUsing(r=>P2(r)).whereField("key",Co.Key.MetadataV1)}ca.getMetadataGpaBuilder=OMe;function Vz(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return e.eddsa.findPda(r,[(0,yn.string)({size:"variable"}).serialize("metadata"),(0,yn.publicKey)().serialize(r),(0,yn.publicKey)().serialize(t.mint)])}ca.findMetadataPda=Vz;async function BMe(e,t,r){return Oie(e,Vz(e,t),r)}ca.fetchMetadataFromSeeds=BMe;async function FMe(e,t,r){return Bie(e,Vz(e,t),r)}ca.safeFetchMetadataFromSeeds=FMe;var _i={},zK;function jMe(){if(zK)return _i;zK=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.safeFetchMetadataDelegateRecordFromSeeds=_i.fetchMetadataDelegateRecordFromSeeds=_i.findMetadataDelegateRecordPda=_i.getMetadataDelegateRecordSize=_i.getMetadataDelegateRecordGpaBuilder=_i.safeFetchAllMetadataDelegateRecord=_i.fetchAllMetadataDelegateRecord=_i.safeFetchMetadataDelegateRecord=_i.fetchMetadataDelegateRecord=_i.deserializeMetadataDelegateRecord=_i.getMetadataDelegateRecordAccountDataSerializer=void 0;const e=gt,t=je,r=_n(),n=sr();function i(){return(0,t.struct)([["key",(0,n.getKeySerializer)()],["bump",(0,t.u8)()],["mint",(0,t.publicKey)()],["delegate",(0,t.publicKey)()],["updateAuthority",(0,t.publicKey)()]],{description:"MetadataDelegateRecordAccountData"})}_i.getMetadataDelegateRecordAccountDataSerializer=i;function s(I){return(0,e.deserializeAccount)(I,i())}_i.deserializeMetadataDelegateRecord=s;async function l(I,k,C){const L=await I.rpc.getAccount((0,e.publicKey)(k,!1),C);return(0,e.assertAccountExists)(L,"MetadataDelegateRecord"),s(L)}_i.fetchMetadataDelegateRecord=l;async function a(I,k,C){const L=await I.rpc.getAccount((0,e.publicKey)(k,!1),C);return L.exists?s(L):null}_i.safeFetchMetadataDelegateRecord=a;async function p(I,k,C){return(await I.rpc.getAccounts(k.map(N=>(0,e.publicKey)(N,!1)),C)).map(N=>((0,e.assertAccountExists)(N,"MetadataDelegateRecord"),s(N)))}_i.fetchAllMetadataDelegateRecord=p;async function f(I,k,C){return(await I.rpc.getAccounts(k.map(N=>(0,e.publicKey)(N,!1)),C)).filter(N=>N.exists).map(N=>s(N))}_i.safeFetchAllMetadataDelegateRecord=f;function g(I){const k=I.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,e.gpaBuilder)(I,k).registerFields({key:[0,(0,n.getKeySerializer)()],bump:[1,(0,t.u8)()],mint:[2,(0,t.publicKey)()],delegate:[34,(0,t.publicKey)()],updateAuthority:[66,(0,t.publicKey)()]}).deserializeUsing(C=>s(C))}_i.getMetadataDelegateRecordGpaBuilder=g;function v(){return 98}_i.getMetadataDelegateRecordSize=v;function _(I,k){const C=I.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return I.eddsa.findPda(C,[(0,t.string)({size:"variable"}).serialize("metadata"),(0,t.publicKey)().serialize(C),(0,t.publicKey)().serialize(k.mint),(0,r.getMetadataDelegateRoleSeedSerializer)().serialize(k.delegateRole),(0,t.publicKey)().serialize(k.updateAuthority),(0,t.publicKey)().serialize(k.delegate)])}_i.findMetadataDelegateRecordPda=_;async function T(I,k,C){return l(I,_(I,k),C)}_i.fetchMetadataDelegateRecordFromSeeds=T;async function z(I,k,C){return a(I,_(I,k),C)}return _i.safeFetchMetadataDelegateRecordFromSeeds=z,_i}var zo={};Object.defineProperty(zo,"__esModule",{value:!0});zo.getTokenOwnedEscrowGpaBuilder=zo.safeFetchAllTokenOwnedEscrow=zo.fetchAllTokenOwnedEscrow=zo.safeFetchTokenOwnedEscrow=zo.fetchTokenOwnedEscrow=zo.deserializeTokenOwnedEscrow=zo.getTokenOwnedEscrowAccountDataSerializer=void 0;const Rh=gt,Wg=je,cy=sr();function Fie(){return(0,Wg.mapSerializer)((0,Wg.struct)([["key",(0,cy.getKeySerializer)()],["baseToken",(0,Wg.publicKey)()],["authority",(0,cy.getEscrowAuthoritySerializer)()],["bump",(0,Wg.u8)()]],{description:"TokenOwnedEscrowAccountData"}),e=>({...e,key:cy.Key.TokenOwnedEscrow}))}zo.getTokenOwnedEscrowAccountDataSerializer=Fie;function k2(e){return(0,Rh.deserializeAccount)(e,Fie())}zo.deserializeTokenOwnedEscrow=k2;async function VMe(e,t,r){const n=await e.rpc.getAccount((0,Rh.publicKey)(t,!1),r);return(0,Rh.assertAccountExists)(n,"TokenOwnedEscrow"),k2(n)}zo.fetchTokenOwnedEscrow=VMe;async function UMe(e,t,r){const n=await e.rpc.getAccount((0,Rh.publicKey)(t,!1),r);return n.exists?k2(n):null}zo.safeFetchTokenOwnedEscrow=UMe;async function WMe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Rh.publicKey)(i,!1)),r)).map(i=>((0,Rh.assertAccountExists)(i,"TokenOwnedEscrow"),k2(i)))}zo.fetchAllTokenOwnedEscrow=WMe;async function $Me(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Rh.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>k2(i))}zo.safeFetchAllTokenOwnedEscrow=$Me;function KMe(e){const t=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Rh.gpaBuilder)(e,t).registerFields({key:[0,(0,cy.getKeySerializer)()],baseToken:[1,(0,Wg.publicKey)()],authority:[33,(0,cy.getEscrowAuthoritySerializer)()],bump:[null,(0,Wg.u8)()]}).deserializeUsing(r=>k2(r)).whereField("key",cy.Key.TokenOwnedEscrow)}zo.getTokenOwnedEscrowGpaBuilder=KMe;var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.safeFetchTokenRecordFromSeeds=Ci.fetchTokenRecordFromSeeds=Ci.findTokenRecordPda=Ci.getTokenRecordSize=Ci.getTokenRecordGpaBuilder=Ci.safeFetchAllTokenRecord=Ci.fetchAllTokenRecord=Ci.safeFetchTokenRecord=Ci.fetchTokenRecord=Ci.deserializeTokenRecord=Ci.getTokenRecordAccountDataSerializer=void 0;const Nh=gt,$i=je,Zp=sr();function jie(){return(0,$i.mapSerializer)((0,$i.struct)([["key",(0,Zp.getKeySerializer)()],["bump",(0,$i.u8)()],["state",(0,Zp.getTokenStateSerializer)()],["ruleSetRevision",(0,$i.option)((0,$i.u64)())],["delegate",(0,$i.option)((0,$i.publicKey)())],["delegateRole",(0,$i.option)((0,Zp.getTokenDelegateRoleSerializer)())],["lockedTransfer",(0,$i.option)((0,$i.publicKey)())]],{description:"TokenRecordAccountData"}),e=>({...e,key:Zp.Key.TokenRecord}))}Ci.getTokenRecordAccountDataSerializer=jie;function I2(e){return(0,Nh.deserializeAccount)(e,jie())}Ci.deserializeTokenRecord=I2;async function Vie(e,t,r){const n=await e.rpc.getAccount((0,Nh.publicKey)(t,!1),r);return(0,Nh.assertAccountExists)(n,"TokenRecord"),I2(n)}Ci.fetchTokenRecord=Vie;async function Uie(e,t,r){const n=await e.rpc.getAccount((0,Nh.publicKey)(t,!1),r);return n.exists?I2(n):null}Ci.safeFetchTokenRecord=Uie;async function qMe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Nh.publicKey)(i,!1)),r)).map(i=>((0,Nh.assertAccountExists)(i,"TokenRecord"),I2(i)))}Ci.fetchAllTokenRecord=qMe;async function GMe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Nh.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>I2(i))}Ci.safeFetchAllTokenRecord=GMe;function HMe(e){const t=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Nh.gpaBuilder)(e,t).registerFields({key:[0,(0,Zp.getKeySerializer)()],bump:[1,(0,$i.u8)()],state:[2,(0,Zp.getTokenStateSerializer)()],ruleSetRevision:[3,(0,$i.option)((0,$i.u64)())],delegate:[null,(0,$i.option)((0,$i.publicKey)())],delegateRole:[null,(0,$i.option)((0,Zp.getTokenDelegateRoleSerializer)())],lockedTransfer:[null,(0,$i.option)((0,$i.publicKey)())]}).deserializeUsing(r=>I2(r)).whereField("key",Zp.Key.TokenRecord)}Ci.getTokenRecordGpaBuilder=HMe;function ZMe(){return 80}Ci.getTokenRecordSize=ZMe;function Uz(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return e.eddsa.findPda(r,[(0,$i.string)({size:"variable"}).serialize("metadata"),(0,$i.publicKey)().serialize(r),(0,$i.publicKey)().serialize(t.mint),(0,$i.string)({size:"variable"}).serialize("token_record"),(0,$i.publicKey)().serialize(t.token)])}Ci.findTokenRecordPda=Uz;async function YMe(e,t,r){return Vie(e,Uz(e,t),r)}Ci.fetchTokenRecordFromSeeds=YMe;async function XMe(e,t,r){return Uie(e,Uz(e,t),r)}Ci.safeFetchTokenRecordFromSeeds=XMe;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.safeFetchUseAuthorityRecordFromSeeds=Di.fetchUseAuthorityRecordFromSeeds=Di.findUseAuthorityRecordPda=Di.getUseAuthorityRecordSize=Di.getUseAuthorityRecordGpaBuilder=Di.safeFetchAllUseAuthorityRecord=Di.fetchAllUseAuthorityRecord=Di.safeFetchUseAuthorityRecord=Di.fetchUseAuthorityRecord=Di.deserializeUseAuthorityRecord=Di.getUseAuthorityRecordAccountDataSerializer=void 0;const Lh=gt,pc=je,R8=sr();function Wie(){return(0,pc.mapSerializer)((0,pc.struct)([["key",(0,R8.getKeySerializer)()],["allowedUses",(0,pc.u64)()],["bump",(0,pc.u8)()]],{description:"UseAuthorityRecordAccountData"}),e=>({...e,key:R8.Key.UseAuthorityRecord}))}Di.getUseAuthorityRecordAccountDataSerializer=Wie;function C2(e){return(0,Lh.deserializeAccount)(e,Wie())}Di.deserializeUseAuthorityRecord=C2;async function $ie(e,t,r){const n=await e.rpc.getAccount((0,Lh.publicKey)(t,!1),r);return(0,Lh.assertAccountExists)(n,"UseAuthorityRecord"),C2(n)}Di.fetchUseAuthorityRecord=$ie;async function Kie(e,t,r){const n=await e.rpc.getAccount((0,Lh.publicKey)(t,!1),r);return n.exists?C2(n):null}Di.safeFetchUseAuthorityRecord=Kie;async function QMe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Lh.publicKey)(i,!1)),r)).map(i=>((0,Lh.assertAccountExists)(i,"UseAuthorityRecord"),C2(i)))}Di.fetchAllUseAuthorityRecord=QMe;async function JMe(e,t,r){return(await e.rpc.getAccounts(t.map(i=>(0,Lh.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>C2(i))}Di.safeFetchAllUseAuthorityRecord=JMe;function ePe(e){const t=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Lh.gpaBuilder)(e,t).registerFields({key:[0,(0,R8.getKeySerializer)()],allowedUses:[1,(0,pc.u64)()],bump:[9,(0,pc.u8)()]}).deserializeUsing(r=>C2(r)).whereField("key",R8.Key.UseAuthorityRecord)}Di.getUseAuthorityRecordGpaBuilder=ePe;function tPe(){return 10}Di.getUseAuthorityRecordSize=tPe;function Wz(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return e.eddsa.findPda(r,[(0,pc.string)({size:"variable"}).serialize("metadata"),(0,pc.publicKey)().serialize(r),(0,pc.publicKey)().serialize(t.mint),(0,pc.string)({size:"variable"}).serialize("user"),(0,pc.publicKey)().serialize(t.useAuthority)])}Di.findUseAuthorityRecordPda=Wz;async function rPe(e,t,r){return $ie(e,Wz(e,t),r)}Di.fetchUseAuthorityRecordFromSeeds=rPe;async function nPe(e,t,r){return Kie(e,Wz(e,t),r)}Di.safeFetchUseAuthorityRecordFromSeeds=nPe;var RK;function br(){return RK||(RK=1,function(e){var t=pr&&pr.__createBinding||(Object.create?function(n,i,s,l){l===void 0&&(l=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,l,a)}:function(n,i,s,l){l===void 0&&(l=s),n[l]=i[s]}),r=pr&&pr.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(na,e),r(ia,e),r(qa,e),r(Ii,e),r(aa,e),r(kMe(),e),r(la,e),r(ca,e),r(jMe(),e),r(zo,e),r(Ci,e),r(Di,e)}(fT)),fT}var $z={},he={};Object.defineProperty(he,"__esModule",{value:!0});he.ReservationAlreadyMadeError=he.ReservationNotSetError=he.ReservationDoesNotExistError=he.ReservationExistsError=he.ShareTotalMustBe100Error=he.NoBalanceInAccountForAuthorizationError=he.OwnerMismatchError=he.PrimarySaleCanOnlyBeFlippedToTrueError=he.InvalidBasisPointsError=he.CreatorNotFoundError=he.NoCreatorsPresentOnMetadataError=he.MustBeOneOfCreatorsError=he.CreatorsMustBeAtleastOneError=he.CreatorsTooLongError=he.DisabledError=he.AuthorizationTokenAccountOwnerMismatchError=he.PrintingMintAuthorizationAccountMismatchError=he.NotEnoughTokensError=he.TokenAccountMintMismatchV2Error=he.TokenAccountMintMismatchError=he.OneTimePrintingAuthMintMismatchError=he.PrintingMintMismatchError=he.DerivedKeyInvalidError=he.TokenAccountOneTimeAuthMintMismatchError=he.TokenBurnFailedError=he.EditionMintDecimalsShouldBeZeroError=he.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=he.PrintingMintDecimalsShouldBeZeroError=he.EditionAlreadyMintedError=he.DestinationMintMismatchError=he.MasterRecordMismatchError=he.TokenMintToFailedError=he.MaxEditionsMintedAlreadyError=he.EditionsMustHaveExactlyOneTokenError=he.MintMismatchError=he.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=he.UriTooLongError=he.SymbolTooLongError=he.NameTooLongError=he.InvalidMintAuthorityError=he.NotMintAuthorityError=he.UpdateAuthorityIsNotSignerError=he.UpdateAuthorityIncorrectError=he.InvalidEditionKeyError=he.InvalidMetadataKeyError=he.UninitializedError=he.AlreadyInitializedError=he.NotRentExemptError=he.InstructionPackErrorError=he.InstructionUnpackErrorError=void 0;he.RevokeCollectionAuthoritySignerIncorrectError=he.InvalidUserError=he.EditionOverrideCannotBeZeroError=he.NotAllowedToChangeSellerFeeBasisPointsError=he.CannotWipeVerifiedCreatorsError=he.CannotRemoveVerifiedCreatorError=he.CannotAdjustVerifiedCreatorError=he.InvalidDelegateError=he.InvalidFreezeAuthorityError=he.InvalidCollectionAuthorityRecordError=he.InvalidUseAuthorityRecordError=he.CollectionAuthorityDoesNotExistError=he.CollectionAuthorityRecordAlreadyExistsError=he.NotEnoughUsesError=he.UnusableError=he.UseAuthorityRecordAlreadyRevokedError=he.UseAuthorityRecordAlreadyExistsError=he.CollectionMustBeAUniqueMasterEditionError=he.InvalidCollectionUpdateAuthorityError=he.CollectionNotFoundError=he.CannotChangeUsesAfterFirstUseError=he.CannotChangeUseMethodAfterFirstUseError=he.InvalidUseMethodError=he.MustBeBurnedError=he.RemovedError=he.CollectionCannotBeVerifiedInThisInstructionError=he.IsMutableCanOnlyBeFlippedToFalseError=he.ReservationArrayShouldBeSizeOneError=he.InvalidEditionIndexError=he.OneTimeAuthMintSupplyMustBeZeroForConversionError=he.PrintingMintSupplyMustBeZeroForConversionError=he.InvalidOwnerError=he.InvalidOperationError=he.TriedToReplaceAnExistingReservationError=he.ReservationNotCompleteError=he.BeyondAlottedAddressSizeError=he.DataTypeMismatchError=he.InvalidTokenProgramError=he.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=he.DuplicateCreatorAddressError=he.DataIsImmutableError=he.PrintingWouldBreachMaximumSupplyError=he.IncorrectOwnerError=he.SpotMismatchError=he.CannotUnverifyAnotherCreatorError=he.CannotVerifyAnotherCreatorError=he.AddressNotInReservationError=he.ReservationBreachesMaximumSupplyError=he.NumericalOverflowErrorError=he.BeyondMaxAddressSizeError=void 0;he.MissingSplTokenProgramError=he.MissingTokenAccountError=he.OnlySaleDelegateCanTransferError=he.InvalidSystemWalletError=he.FeatureNotSupportedError=he.MissingArgumentInBuilderError=he.MissingAccountInBuilderError=he.DelegateNotFoundError=he.DelegateAlreadyExistsError=he.InvalidProgrammableConfigError=he.MissingProgrammableConfigError=he.MissingAuthorizationRulesError=he.InvalidAuthorizationRulesError=he.InvalidMintForTokenStandardError=he.InvalidTokenStandardError=he.MintIsNotSignerError=he.EscrowParentHasDelegateError=he.InvalidBubblegumSignerError=he.InvalidCollectionSizeChangeError=he.NoFreezeAuthoritySetError=he.BorshSerializationErrorError=he.InsufficientTokensError=he.MustBeNonFungibleError=he.InvalidSystemProgramError=he.MustBeEscrowAuthorityError=he.InvalidEscrowBumpSeedError=he.MustUnverifyError=he.EditionNumberGreaterThanMaxSupplyError=he.PrintEditionDoesNotMatchMasterEditionError=he.ReservationListDeprecatedError=he.InvalidEditionMarkerError=he.InvalidPrintEditionError=he.InvalidMasterEditionError=he.NotAPrintEditionError=he.AlreadyUnverifiedError=he.AlreadyVerifiedError=he.CollectionMasterEditionAccountInvalidError=he.CannotUpdateVerifiedCollectionError=he.BorshDeserializationErrorError=he.MasterEditionHasPrintsError=he.NotAMasterEditionError=he.MissingEditionAccountError=he.CouldNotDetermineTokenStandardError=he.NotACollectionParentError=he.NotVerifiedMemberOfCollectionError=he.NotAMemberOfCollectionError=he.MissingCollectionMetadataError=he.SizedCollectionError=he.UnsizedCollectionError=he.TokenCloseFailedError=void 0;he.ExpectedUninitializedAccountError=he.MissingImmutableOwnerExtensionError=he.InvalidTokenExtensionTypeError=he.InvalidMetadataPointerError=he.InvalidMintCloseAuthorityError=he.InvalidMintExtensionTypeError=he.CannotChangeUpdateAuthorityWithDelegateError=he.InvalidMetadataFlagsError=he.InvalidFeeAccountError=he.MissingDelegateRecordError=he.InvalidInstructionError=he.InvalidCloseAuthorityError=he.InvalidTokenRecordError=he.MissingCollectionMasterEditionError=he.MissingCollectionMintError=he.InsufficientTokenBalanceError=he.InvalidUpdateArgsError=he.InvalidParentAccountsError=he.InvalidInstructionsSysvarError=he.InvalidAssociatedTokenAccountProgramError=he.MissingEditionError=he.CannotBurnWithDelegateError=he.MissingEditionMarkerAccountError=he.MissingMasterEditionTokenAccountError=he.MissingMasterEditionMintAccountError=he.InvalidAmountError=he.CannotUpdateAssetWithDelegateError=he.DataIncrementLimitExceededError=he.InvalidLockedTransferAddressError=he.MissingLockedTransferAddressError=he.InvalidDelegateArgsError=he.AmountMustBeGreaterThanZeroError=he.MissingMasterEditionAccountError=he.MissingPrintSupplyError=he.InvalidDelegateRoleError=he.IncorrectTokenStateError=he.InvalidMasterEditionAccountLengthError=he.MissingTokenOwnerAccountError=he.DataIsEmptyOrZeroedError=he.MintSupplyMustBeZeroError=he.MissingTokenRecordError=he.InvalidAuthorityTypeError=he.MissingDelegateRoleError=he.UnlockedTokenError=he.LockedTokenError=he.KeyMismatchError=he.InstructionNotSupportedError=he.InvalidTransferAuthorityError=he.InvalidDelegateRoleForTransferError=he.MissingAuthorizationRulesProgramError=void 0;he.getMplTokenMetadataErrorFromName=he.getMplTokenMetadataErrorFromCode=he.ConditionsForClosingNotMetError=he.AccountAlreadyResizedError=he.InvalidEditionAccountLengthError=void 0;const at=gt,nt=new Map,it=new Map;class Kz extends at.ProgramError{constructor(t,r){super("",t,r),this.name="InstructionUnpackError",this.code=0}}he.InstructionUnpackErrorError=Kz;nt.set(0,Kz);it.set("InstructionUnpackError",Kz);class qz extends at.ProgramError{constructor(t,r){super("",t,r),this.name="InstructionPackError",this.code=1}}he.InstructionPackErrorError=qz;nt.set(1,qz);it.set("InstructionPackError",qz);class Gz extends at.ProgramError{constructor(t,r){super("Lamport balance below rent-exempt threshold",t,r),this.name="NotRentExempt",this.code=2}}he.NotRentExemptError=Gz;nt.set(2,Gz);it.set("NotRentExempt",Gz);class Hz extends at.ProgramError{constructor(t,r){super("Already initialized",t,r),this.name="AlreadyInitialized",this.code=3}}he.AlreadyInitializedError=Hz;nt.set(3,Hz);it.set("AlreadyInitialized",Hz);class Zz extends at.ProgramError{constructor(t,r){super("Uninitialized",t,r),this.name="Uninitialized",this.code=4}}he.UninitializedError=Zz;nt.set(4,Zz);it.set("Uninitialized",Zz);class Yz extends at.ProgramError{constructor(t,r){super(" Metadata's key must match seed of ['metadata', program id, mint] provided",t,r),this.name="InvalidMetadataKey",this.code=5}}he.InvalidMetadataKeyError=Yz;nt.set(5,Yz);it.set("InvalidMetadataKey",Yz);class Xz extends at.ProgramError{constructor(t,r){super("Edition's key must match seed of ['metadata', program id, name, 'edition'] provided",t,r),this.name="InvalidEditionKey",this.code=6}}he.InvalidEditionKeyError=Xz;nt.set(6,Xz);it.set("InvalidEditionKey",Xz);class Qz extends at.ProgramError{constructor(t,r){super("Update Authority given does not match",t,r),this.name="UpdateAuthorityIncorrect",this.code=7}}he.UpdateAuthorityIncorrectError=Qz;nt.set(7,Qz);it.set("UpdateAuthorityIncorrect",Qz);class Jz extends at.ProgramError{constructor(t,r){super("Update Authority needs to be signer to update metadata",t,r),this.name="UpdateAuthorityIsNotSigner",this.code=8}}he.UpdateAuthorityIsNotSignerError=Jz;nt.set(8,Jz);it.set("UpdateAuthorityIsNotSigner",Jz);class eR extends at.ProgramError{constructor(t,r){super("You must be the mint authority and signer on this transaction",t,r),this.name="NotMintAuthority",this.code=9}}he.NotMintAuthorityError=eR;nt.set(9,eR);it.set("NotMintAuthority",eR);class tR extends at.ProgramError{constructor(t,r){super("Mint authority provided does not match the authority on the mint",t,r),this.name="InvalidMintAuthority",this.code=10}}he.InvalidMintAuthorityError=tR;nt.set(10,tR);it.set("InvalidMintAuthority",tR);class rR extends at.ProgramError{constructor(t,r){super("Name too long",t,r),this.name="NameTooLong",this.code=11}}he.NameTooLongError=rR;nt.set(11,rR);it.set("NameTooLong",rR);class nR extends at.ProgramError{constructor(t,r){super("Symbol too long",t,r),this.name="SymbolTooLong",this.code=12}}he.SymbolTooLongError=nR;nt.set(12,nR);it.set("SymbolTooLong",nR);class iR extends at.ProgramError{constructor(t,r){super("URI too long",t,r),this.name="UriTooLong",this.code=13}}he.UriTooLongError=iR;nt.set(13,iR);it.set("UriTooLong",iR);class aR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",this.code=14}}he.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=aR;nt.set(14,aR);it.set("UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",aR);class oR extends at.ProgramError{constructor(t,r){super("Mint given does not match mint on Metadata",t,r),this.name="MintMismatch",this.code=15}}he.MintMismatchError=oR;nt.set(15,oR);it.set("MintMismatch",oR);class sR extends at.ProgramError{constructor(t,r){super("Editions must have exactly one token",t,r),this.name="EditionsMustHaveExactlyOneToken",this.code=16}}he.EditionsMustHaveExactlyOneTokenError=sR;nt.set(16,sR);it.set("EditionsMustHaveExactlyOneToken",sR);class lR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="MaxEditionsMintedAlready",this.code=17}}he.MaxEditionsMintedAlreadyError=lR;nt.set(17,lR);it.set("MaxEditionsMintedAlready",lR);class cR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="TokenMintToFailed",this.code=18}}he.TokenMintToFailedError=cR;nt.set(18,cR);it.set("TokenMintToFailed",cR);class uR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="MasterRecordMismatch",this.code=19}}he.MasterRecordMismatchError=uR;nt.set(19,uR);it.set("MasterRecordMismatch",uR);class dR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="DestinationMintMismatch",this.code=20}}he.DestinationMintMismatchError=dR;nt.set(20,dR);it.set("DestinationMintMismatch",dR);class pR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="EditionAlreadyMinted",this.code=21}}he.EditionAlreadyMintedError=pR;nt.set(21,pR);it.set("EditionAlreadyMinted",pR);class hR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="PrintingMintDecimalsShouldBeZero",this.code=22}}he.PrintingMintDecimalsShouldBeZeroError=hR;nt.set(22,hR);it.set("PrintingMintDecimalsShouldBeZero",hR);class fR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="OneTimePrintingAuthorizationMintDecimalsShouldBeZero",this.code=23}}he.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=fR;nt.set(23,fR);it.set("OneTimePrintingAuthorizationMintDecimalsShouldBeZero",fR);class mR extends at.ProgramError{constructor(t,r){super("EditionMintDecimalsShouldBeZero",t,r),this.name="EditionMintDecimalsShouldBeZero",this.code=24}}he.EditionMintDecimalsShouldBeZeroError=mR;nt.set(24,mR);it.set("EditionMintDecimalsShouldBeZero",mR);class gR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="TokenBurnFailed",this.code=25}}he.TokenBurnFailedError=gR;nt.set(25,gR);it.set("TokenBurnFailed",gR);class yR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="TokenAccountOneTimeAuthMintMismatch",this.code=26}}he.TokenAccountOneTimeAuthMintMismatchError=yR;nt.set(26,yR);it.set("TokenAccountOneTimeAuthMintMismatch",yR);class vR extends at.ProgramError{constructor(t,r){super("Derived key invalid",t,r),this.name="DerivedKeyInvalid",this.code=27}}he.DerivedKeyInvalidError=vR;nt.set(27,vR);it.set("DerivedKeyInvalid",vR);class _R extends at.ProgramError{constructor(t,r){super("The Printing mint does not match that on the master edition!",t,r),this.name="PrintingMintMismatch",this.code=28}}he.PrintingMintMismatchError=_R;nt.set(28,_R);it.set("PrintingMintMismatch",_R);class bR extends at.ProgramError{constructor(t,r){super("The One Time Printing Auth mint does not match that on the master edition!",t,r),this.name="OneTimePrintingAuthMintMismatch",this.code=29}}he.OneTimePrintingAuthMintMismatchError=bR;nt.set(29,bR);it.set("OneTimePrintingAuthMintMismatch",bR);class xR extends at.ProgramError{constructor(t,r){super("The mint of the token account does not match the Printing mint!",t,r),this.name="TokenAccountMintMismatch",this.code=30}}he.TokenAccountMintMismatchError=xR;nt.set(30,xR);it.set("TokenAccountMintMismatch",xR);class wR extends at.ProgramError{constructor(t,r){super("The mint of the token account does not match the master metadata mint!",t,r),this.name="TokenAccountMintMismatchV2",this.code=31}}he.TokenAccountMintMismatchV2Error=wR;nt.set(31,wR);it.set("TokenAccountMintMismatchV2",wR);class SR extends at.ProgramError{constructor(t,r){super("Not enough tokens to mint a limited edition",t,r),this.name="NotEnoughTokens",this.code=32}}he.NotEnoughTokensError=SR;nt.set(32,SR);it.set("NotEnoughTokens",SR);class ER extends at.ProgramError{constructor(t,r){super("",t,r),this.name="PrintingMintAuthorizationAccountMismatch",this.code=33}}he.PrintingMintAuthorizationAccountMismatchError=ER;nt.set(33,ER);it.set("PrintingMintAuthorizationAccountMismatch",ER);class AR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="AuthorizationTokenAccountOwnerMismatch",this.code=34}}he.AuthorizationTokenAccountOwnerMismatchError=AR;nt.set(34,AR);it.set("AuthorizationTokenAccountOwnerMismatch",AR);class TR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="Disabled",this.code=35}}he.DisabledError=TR;nt.set(35,TR);it.set("Disabled",TR);class MR extends at.ProgramError{constructor(t,r){super("Creators list too long",t,r),this.name="CreatorsTooLong",this.code=36}}he.CreatorsTooLongError=MR;nt.set(36,MR);it.set("CreatorsTooLong",MR);class PR extends at.ProgramError{constructor(t,r){super("Creators must be at least one if set",t,r),this.name="CreatorsMustBeAtleastOne",this.code=37}}he.CreatorsMustBeAtleastOneError=PR;nt.set(37,PR);it.set("CreatorsMustBeAtleastOne",PR);class kR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="MustBeOneOfCreators",this.code=38}}he.MustBeOneOfCreatorsError=kR;nt.set(38,kR);it.set("MustBeOneOfCreators",kR);class IR extends at.ProgramError{constructor(t,r){super("This metadata does not have creators",t,r),this.name="NoCreatorsPresentOnMetadata",this.code=39}}he.NoCreatorsPresentOnMetadataError=IR;nt.set(39,IR);it.set("NoCreatorsPresentOnMetadata",IR);class CR extends at.ProgramError{constructor(t,r){super("This creator address was not found",t,r),this.name="CreatorNotFound",this.code=40}}he.CreatorNotFoundError=CR;nt.set(40,CR);it.set("CreatorNotFound",CR);class DR extends at.ProgramError{constructor(t,r){super("Basis points cannot be more than 10000",t,r),this.name="InvalidBasisPoints",this.code=41}}he.InvalidBasisPointsError=DR;nt.set(41,DR);it.set("InvalidBasisPoints",DR);class zR extends at.ProgramError{constructor(t,r){super("Primary sale can only be flipped to true and is immutable",t,r),this.name="PrimarySaleCanOnlyBeFlippedToTrue",this.code=42}}he.PrimarySaleCanOnlyBeFlippedToTrueError=zR;nt.set(42,zR);it.set("PrimarySaleCanOnlyBeFlippedToTrue",zR);class RR extends at.ProgramError{constructor(t,r){super("Owner does not match that on the account given",t,r),this.name="OwnerMismatch",this.code=43}}he.OwnerMismatchError=RR;nt.set(43,RR);it.set("OwnerMismatch",RR);class NR extends at.ProgramError{constructor(t,r){super("This account has no tokens to be used for authorization",t,r),this.name="NoBalanceInAccountForAuthorization",this.code=44}}he.NoBalanceInAccountForAuthorizationError=NR;nt.set(44,NR);it.set("NoBalanceInAccountForAuthorization",NR);class LR extends at.ProgramError{constructor(t,r){super("Share total must equal 100 for creator array",t,r),this.name="ShareTotalMustBe100",this.code=45}}he.ShareTotalMustBe100Error=LR;nt.set(45,LR);it.set("ShareTotalMustBe100",LR);class OR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="ReservationExists",this.code=46}}he.ReservationExistsError=OR;nt.set(46,OR);it.set("ReservationExists",OR);class BR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="ReservationDoesNotExist",this.code=47}}he.ReservationDoesNotExistError=BR;nt.set(47,BR);it.set("ReservationDoesNotExist",BR);class FR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="ReservationNotSet",this.code=48}}he.ReservationNotSetError=FR;nt.set(48,FR);it.set("ReservationNotSet",FR);class jR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="ReservationAlreadyMade",this.code=49}}he.ReservationAlreadyMadeError=jR;nt.set(49,jR);it.set("ReservationAlreadyMade",jR);class VR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="BeyondMaxAddressSize",this.code=50}}he.BeyondMaxAddressSizeError=VR;nt.set(50,VR);it.set("BeyondMaxAddressSize",VR);class UR extends at.ProgramError{constructor(t,r){super("NumericalOverflowError",t,r),this.name="NumericalOverflowError",this.code=51}}he.NumericalOverflowErrorError=UR;nt.set(51,UR);it.set("NumericalOverflowError",UR);class WR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="ReservationBreachesMaximumSupply",this.code=52}}he.ReservationBreachesMaximumSupplyError=WR;nt.set(52,WR);it.set("ReservationBreachesMaximumSupply",WR);class $R extends at.ProgramError{constructor(t,r){super("",t,r),this.name="AddressNotInReservation",this.code=53}}he.AddressNotInReservationError=$R;nt.set(53,$R);it.set("AddressNotInReservation",$R);class KR extends at.ProgramError{constructor(t,r){super("You cannot unilaterally verify another creator, they must sign",t,r),this.name="CannotVerifyAnotherCreator",this.code=54}}he.CannotVerifyAnotherCreatorError=KR;nt.set(54,KR);it.set("CannotVerifyAnotherCreator",KR);class qR extends at.ProgramError{constructor(t,r){super("You cannot unilaterally unverify another creator",t,r),this.name="CannotUnverifyAnotherCreator",this.code=55}}he.CannotUnverifyAnotherCreatorError=qR;nt.set(55,qR);it.set("CannotUnverifyAnotherCreator",qR);class GR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="SpotMismatch",this.code=56}}he.SpotMismatchError=GR;nt.set(56,GR);it.set("SpotMismatch",GR);class HR extends at.ProgramError{constructor(t,r){super("Incorrect account owner",t,r),this.name="IncorrectOwner",this.code=57}}he.IncorrectOwnerError=HR;nt.set(57,HR);it.set("IncorrectOwner",HR);class ZR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="PrintingWouldBreachMaximumSupply",this.code=58}}he.PrintingWouldBreachMaximumSupplyError=ZR;nt.set(58,ZR);it.set("PrintingWouldBreachMaximumSupply",ZR);class YR extends at.ProgramError{constructor(t,r){super("Data is immutable",t,r),this.name="DataIsImmutable",this.code=59}}he.DataIsImmutableError=YR;nt.set(59,YR);it.set("DataIsImmutable",YR);class XR extends at.ProgramError{constructor(t,r){super("No duplicate creator addresses",t,r),this.name="DuplicateCreatorAddress",this.code=60}}he.DuplicateCreatorAddressError=XR;nt.set(60,XR);it.set("DuplicateCreatorAddress",XR);class QR extends at.ProgramError{constructor(t,r){super("",t,r),this.name="ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",this.code=61}}he.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=QR;nt.set(61,QR);it.set("ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",QR);class JR extends at.ProgramError{constructor(t,r){super("Invalid token program",t,r),this.name="InvalidTokenProgram",this.code=62}}he.InvalidTokenProgramError=JR;nt.set(62,JR);it.set("InvalidTokenProgram",JR);class eN extends at.ProgramError{constructor(t,r){super("Data type mismatch",t,r),this.name="DataTypeMismatch",this.code=63}}he.DataTypeMismatchError=eN;nt.set(63,eN);it.set("DataTypeMismatch",eN);class tN extends at.ProgramError{constructor(t,r){super("",t,r),this.name="BeyondAlottedAddressSize",this.code=64}}he.BeyondAlottedAddressSizeError=tN;nt.set(64,tN);it.set("BeyondAlottedAddressSize",tN);class rN extends at.ProgramError{constructor(t,r){super("",t,r),this.name="ReservationNotComplete",this.code=65}}he.ReservationNotCompleteError=rN;nt.set(65,rN);it.set("ReservationNotComplete",rN);class nN extends at.ProgramError{constructor(t,r){super("",t,r),this.name="TriedToReplaceAnExistingReservation",this.code=66}}he.TriedToReplaceAnExistingReservationError=nN;nt.set(66,nN);it.set("TriedToReplaceAnExistingReservation",nN);class iN extends at.ProgramError{constructor(t,r){super("Invalid operation",t,r),this.name="InvalidOperation",this.code=67}}he.InvalidOperationError=iN;nt.set(67,iN);it.set("InvalidOperation",iN);class aN extends at.ProgramError{constructor(t,r){super("Invalid Owner",t,r),this.name="InvalidOwner",this.code=68}}he.InvalidOwnerError=aN;nt.set(68,aN);it.set("InvalidOwner",aN);class oN extends at.ProgramError{constructor(t,r){super("Printing mint supply must be zero for conversion",t,r),this.name="PrintingMintSupplyMustBeZeroForConversion",this.code=69}}he.PrintingMintSupplyMustBeZeroForConversionError=oN;nt.set(69,oN);it.set("PrintingMintSupplyMustBeZeroForConversion",oN);class sN extends at.ProgramError{constructor(t,r){super("One Time Auth mint supply must be zero for conversion",t,r),this.name="OneTimeAuthMintSupplyMustBeZeroForConversion",this.code=70}}he.OneTimeAuthMintSupplyMustBeZeroForConversionError=sN;nt.set(70,sN);it.set("OneTimeAuthMintSupplyMustBeZeroForConversion",sN);class lN extends at.ProgramError{constructor(t,r){super("You tried to insert one edition too many into an edition mark pda",t,r),this.name="InvalidEditionIndex",this.code=71}}he.InvalidEditionIndexError=lN;nt.set(71,lN);it.set("InvalidEditionIndex",lN);class cN extends at.ProgramError{constructor(t,r){super("",t,r),this.name="ReservationArrayShouldBeSizeOne",this.code=72}}he.ReservationArrayShouldBeSizeOneError=cN;nt.set(72,cN);it.set("ReservationArrayShouldBeSizeOne",cN);class uN extends at.ProgramError{constructor(t,r){super("Is Mutable can only be flipped to false",t,r),this.name="IsMutableCanOnlyBeFlippedToFalse",this.code=73}}he.IsMutableCanOnlyBeFlippedToFalseError=uN;nt.set(73,uN);it.set("IsMutableCanOnlyBeFlippedToFalse",uN);class dN extends at.ProgramError{constructor(t,r){super("Collection cannot be verified in this instruction",t,r),this.name="CollectionCannotBeVerifiedInThisInstruction",this.code=74}}he.CollectionCannotBeVerifiedInThisInstructionError=dN;nt.set(74,dN);it.set("CollectionCannotBeVerifiedInThisInstruction",dN);class pN extends at.ProgramError{constructor(t,r){super("This instruction was deprecated in a previous release and is now removed",t,r),this.name="Removed",this.code=75}}he.RemovedError=pN;nt.set(75,pN);it.set("Removed",pN);class hN extends at.ProgramError{constructor(t,r){super("",t,r),this.name="MustBeBurned",this.code=76}}he.MustBeBurnedError=hN;nt.set(76,hN);it.set("MustBeBurned",hN);class fN extends at.ProgramError{constructor(t,r){super("This use method is invalid",t,r),this.name="InvalidUseMethod",this.code=77}}he.InvalidUseMethodError=fN;nt.set(77,fN);it.set("InvalidUseMethod",fN);class mN extends at.ProgramError{constructor(t,r){super("Cannot Change Use Method after the first use",t,r),this.name="CannotChangeUseMethodAfterFirstUse",this.code=78}}he.CannotChangeUseMethodAfterFirstUseError=mN;nt.set(78,mN);it.set("CannotChangeUseMethodAfterFirstUse",mN);class gN extends at.ProgramError{constructor(t,r){super("Cannot Change Remaining or Available uses after the first use",t,r),this.name="CannotChangeUsesAfterFirstUse",this.code=79}}he.CannotChangeUsesAfterFirstUseError=gN;nt.set(79,gN);it.set("CannotChangeUsesAfterFirstUse",gN);class yN extends at.ProgramError{constructor(t,r){super("Collection Not Found on Metadata",t,r),this.name="CollectionNotFound",this.code=80}}he.CollectionNotFoundError=yN;nt.set(80,yN);it.set("CollectionNotFound",yN);class vN extends at.ProgramError{constructor(t,r){super("Collection Update Authority is invalid",t,r),this.name="InvalidCollectionUpdateAuthority",this.code=81}}he.InvalidCollectionUpdateAuthorityError=vN;nt.set(81,vN);it.set("InvalidCollectionUpdateAuthority",vN);class _N extends at.ProgramError{constructor(t,r){super("Collection Must Be a Unique Master Edition v2",t,r),this.name="CollectionMustBeAUniqueMasterEdition",this.code=82}}he.CollectionMustBeAUniqueMasterEditionError=_N;nt.set(82,_N);it.set("CollectionMustBeAUniqueMasterEdition",_N);class bN extends at.ProgramError{constructor(t,r){super("The Use Authority Record Already Exists, to modify it Revoke, then Approve",t,r),this.name="UseAuthorityRecordAlreadyExists",this.code=83}}he.UseAuthorityRecordAlreadyExistsError=bN;nt.set(83,bN);it.set("UseAuthorityRecordAlreadyExists",bN);class xN extends at.ProgramError{constructor(t,r){super("The Use Authority Record is empty or already revoked",t,r),this.name="UseAuthorityRecordAlreadyRevoked",this.code=84}}he.UseAuthorityRecordAlreadyRevokedError=xN;nt.set(84,xN);it.set("UseAuthorityRecordAlreadyRevoked",xN);class wN extends at.ProgramError{constructor(t,r){super("This token has no uses",t,r),this.name="Unusable",this.code=85}}he.UnusableError=wN;nt.set(85,wN);it.set("Unusable",wN);class SN extends at.ProgramError{constructor(t,r){super("There are not enough Uses left on this token.",t,r),this.name="NotEnoughUses",this.code=86}}he.NotEnoughUsesError=SN;nt.set(86,SN);it.set("NotEnoughUses",SN);class EN extends at.ProgramError{constructor(t,r){super("This Collection Authority Record Already Exists.",t,r),this.name="CollectionAuthorityRecordAlreadyExists",this.code=87}}he.CollectionAuthorityRecordAlreadyExistsError=EN;nt.set(87,EN);it.set("CollectionAuthorityRecordAlreadyExists",EN);class AN extends at.ProgramError{constructor(t,r){super("This Collection Authority Record Does Not Exist.",t,r),this.name="CollectionAuthorityDoesNotExist",this.code=88}}he.CollectionAuthorityDoesNotExistError=AN;nt.set(88,AN);it.set("CollectionAuthorityDoesNotExist",AN);class TN extends at.ProgramError{constructor(t,r){super("This Use Authority Record is invalid.",t,r),this.name="InvalidUseAuthorityRecord",this.code=89}}he.InvalidUseAuthorityRecordError=TN;nt.set(89,TN);it.set("InvalidUseAuthorityRecord",TN);class MN extends at.ProgramError{constructor(t,r){super("",t,r),this.name="InvalidCollectionAuthorityRecord",this.code=90}}he.InvalidCollectionAuthorityRecordError=MN;nt.set(90,MN);it.set("InvalidCollectionAuthorityRecord",MN);class PN extends at.ProgramError{constructor(t,r){super("Metadata does not match the freeze authority on the mint",t,r),this.name="InvalidFreezeAuthority",this.code=91}}he.InvalidFreezeAuthorityError=PN;nt.set(91,PN);it.set("InvalidFreezeAuthority",PN);class kN extends at.ProgramError{constructor(t,r){super("All tokens in this account have not been delegated to this user.",t,r),this.name="InvalidDelegate",this.code=92}}he.InvalidDelegateError=kN;nt.set(92,kN);it.set("InvalidDelegate",kN);class IN extends at.ProgramError{constructor(t,r){super("",t,r),this.name="CannotAdjustVerifiedCreator",this.code=93}}he.CannotAdjustVerifiedCreatorError=IN;nt.set(93,IN);it.set("CannotAdjustVerifiedCreator",IN);class CN extends at.ProgramError{constructor(t,r){super("Verified creators cannot be removed.",t,r),this.name="CannotRemoveVerifiedCreator",this.code=94}}he.CannotRemoveVerifiedCreatorError=CN;nt.set(94,CN);it.set("CannotRemoveVerifiedCreator",CN);class DN extends at.ProgramError{constructor(t,r){super("",t,r),this.name="CannotWipeVerifiedCreators",this.code=95}}he.CannotWipeVerifiedCreatorsError=DN;nt.set(95,DN);it.set("CannotWipeVerifiedCreators",DN);class zN extends at.ProgramError{constructor(t,r){super("",t,r),this.name="NotAllowedToChangeSellerFeeBasisPoints",this.code=96}}he.NotAllowedToChangeSellerFeeBasisPointsError=zN;nt.set(96,zN);it.set("NotAllowedToChangeSellerFeeBasisPoints",zN);class RN extends at.ProgramError{constructor(t,r){super("Edition override cannot be zero",t,r),this.name="EditionOverrideCannotBeZero",this.code=97}}he.EditionOverrideCannotBeZeroError=RN;nt.set(97,RN);it.set("EditionOverrideCannotBeZero",RN);class NN extends at.ProgramError{constructor(t,r){super("Invalid User",t,r),this.name="InvalidUser",this.code=98}}he.InvalidUserError=NN;nt.set(98,NN);it.set("InvalidUser",NN);class LN extends at.ProgramError{constructor(t,r){super("Revoke Collection Authority signer is incorrect",t,r),this.name="RevokeCollectionAuthoritySignerIncorrect",this.code=99}}he.RevokeCollectionAuthoritySignerIncorrectError=LN;nt.set(99,LN);it.set("RevokeCollectionAuthoritySignerIncorrect",LN);class ON extends at.ProgramError{constructor(t,r){super("",t,r),this.name="TokenCloseFailed",this.code=100}}he.TokenCloseFailedError=ON;nt.set(100,ON);it.set("TokenCloseFailed",ON);class BN extends at.ProgramError{constructor(t,r){super("Can't use this function on unsized collection",t,r),this.name="UnsizedCollection",this.code=101}}he.UnsizedCollectionError=BN;nt.set(101,BN);it.set("UnsizedCollection",BN);class FN extends at.ProgramError{constructor(t,r){super("Can't use this function on a sized collection",t,r),this.name="SizedCollection",this.code=102}}he.SizedCollectionError=FN;nt.set(102,FN);it.set("SizedCollection",FN);class jN extends at.ProgramError{constructor(t,r){super("Missing collection metadata account",t,r),this.name="MissingCollectionMetadata",this.code=103}}he.MissingCollectionMetadataError=jN;nt.set(103,jN);it.set("MissingCollectionMetadata",jN);class VN extends at.ProgramError{constructor(t,r){super("This NFT is not a member of the specified collection.",t,r),this.name="NotAMemberOfCollection",this.code=104}}he.NotAMemberOfCollectionError=VN;nt.set(104,VN);it.set("NotAMemberOfCollection",VN);class UN extends at.ProgramError{constructor(t,r){super("This NFT is not a verified member of the specified collection.",t,r),this.name="NotVerifiedMemberOfCollection",this.code=105}}he.NotVerifiedMemberOfCollectionError=UN;nt.set(105,UN);it.set("NotVerifiedMemberOfCollection",UN);class WN extends at.ProgramError{constructor(t,r){super("This NFT is not a collection parent NFT.",t,r),this.name="NotACollectionParent",this.code=106}}he.NotACollectionParentError=WN;nt.set(106,WN);it.set("NotACollectionParent",WN);class $N extends at.ProgramError{constructor(t,r){super("Could not determine a TokenStandard type.",t,r),this.name="CouldNotDetermineTokenStandard",this.code=107}}he.CouldNotDetermineTokenStandardError=$N;nt.set(107,$N);it.set("CouldNotDetermineTokenStandard",$N);class KN extends at.ProgramError{constructor(t,r){super("This mint account has an edition but none was provided.",t,r),this.name="MissingEditionAccount",this.code=108}}he.MissingEditionAccountError=KN;nt.set(108,KN);it.set("MissingEditionAccount",KN);class qN extends at.ProgramError{constructor(t,r){super("This edition is not a Master Edition",t,r),this.name="NotAMasterEdition",this.code=109}}he.NotAMasterEditionError=qN;nt.set(109,qN);it.set("NotAMasterEdition",qN);class GN extends at.ProgramError{constructor(t,r){super("This Master Edition has existing prints",t,r),this.name="MasterEditionHasPrints",this.code=110}}he.MasterEditionHasPrintsError=GN;nt.set(110,GN);it.set("MasterEditionHasPrints",GN);class HN extends at.ProgramError{constructor(t,r){super("",t,r),this.name="BorshDeserializationError",this.code=111}}he.BorshDeserializationErrorError=HN;nt.set(111,HN);it.set("BorshDeserializationError",HN);class ZN extends at.ProgramError{constructor(t,r){super("Cannot update a verified collection in this command",t,r),this.name="CannotUpdateVerifiedCollection",this.code=112}}he.CannotUpdateVerifiedCollectionError=ZN;nt.set(112,ZN);it.set("CannotUpdateVerifiedCollection",ZN);class YN extends at.ProgramError{constructor(t,r){super("Edition account doesnt match collection ",t,r),this.name="CollectionMasterEditionAccountInvalid",this.code=113}}he.CollectionMasterEditionAccountInvalidError=YN;nt.set(113,YN);it.set("CollectionMasterEditionAccountInvalid",YN);class XN extends at.ProgramError{constructor(t,r){super("Item is already verified.",t,r),this.name="AlreadyVerified",this.code=114}}he.AlreadyVerifiedError=XN;nt.set(114,XN);it.set("AlreadyVerified",XN);class QN extends at.ProgramError{constructor(t,r){super("",t,r),this.name="AlreadyUnverified",this.code=115}}he.AlreadyUnverifiedError=QN;nt.set(115,QN);it.set("AlreadyUnverified",QN);class JN extends at.ProgramError{constructor(t,r){super("This edition is not a Print Edition",t,r),this.name="NotAPrintEdition",this.code=116}}he.NotAPrintEditionError=JN;nt.set(116,JN);it.set("NotAPrintEdition",JN);class eL extends at.ProgramError{constructor(t,r){super("Invalid Master Edition",t,r),this.name="InvalidMasterEdition",this.code=117}}he.InvalidMasterEditionError=eL;nt.set(117,eL);it.set("InvalidMasterEdition",eL);class tL extends at.ProgramError{constructor(t,r){super("Invalid Print Edition",t,r),this.name="InvalidPrintEdition",this.code=118}}he.InvalidPrintEditionError=tL;nt.set(118,tL);it.set("InvalidPrintEdition",tL);class rL extends at.ProgramError{constructor(t,r){super("Invalid Edition Marker",t,r),this.name="InvalidEditionMarker",this.code=119}}he.InvalidEditionMarkerError=rL;nt.set(119,rL);it.set("InvalidEditionMarker",rL);class nL extends at.ProgramError{constructor(t,r){super("Reservation List is Deprecated",t,r),this.name="ReservationListDeprecated",this.code=120}}he.ReservationListDeprecatedError=nL;nt.set(120,nL);it.set("ReservationListDeprecated",nL);class iL extends at.ProgramError{constructor(t,r){super("Print Edition does not match Master Edition",t,r),this.name="PrintEditionDoesNotMatchMasterEdition",this.code=121}}he.PrintEditionDoesNotMatchMasterEditionError=iL;nt.set(121,iL);it.set("PrintEditionDoesNotMatchMasterEdition",iL);class aL extends at.ProgramError{constructor(t,r){super("Edition Number greater than max supply",t,r),this.name="EditionNumberGreaterThanMaxSupply",this.code=122}}he.EditionNumberGreaterThanMaxSupplyError=aL;nt.set(122,aL);it.set("EditionNumberGreaterThanMaxSupply",aL);class oL extends at.ProgramError{constructor(t,r){super("Must unverify before migrating collections.",t,r),this.name="MustUnverify",this.code=123}}he.MustUnverifyError=oL;nt.set(123,oL);it.set("MustUnverify",oL);class sL extends at.ProgramError{constructor(t,r){super("Invalid Escrow Account Bump Seed",t,r),this.name="InvalidEscrowBumpSeed",this.code=124}}he.InvalidEscrowBumpSeedError=sL;nt.set(124,sL);it.set("InvalidEscrowBumpSeed",sL);class lL extends at.ProgramError{constructor(t,r){super("Must Escrow Authority",t,r),this.name="MustBeEscrowAuthority",this.code=125}}he.MustBeEscrowAuthorityError=lL;nt.set(125,lL);it.set("MustBeEscrowAuthority",lL);class cL extends at.ProgramError{constructor(t,r){super("Invalid System Program",t,r),this.name="InvalidSystemProgram",this.code=126}}he.InvalidSystemProgramError=cL;nt.set(126,cL);it.set("InvalidSystemProgram",cL);class uL extends at.ProgramError{constructor(t,r){super("Must be a Non Fungible Token",t,r),this.name="MustBeNonFungible",this.code=127}}he.MustBeNonFungibleError=uL;nt.set(127,uL);it.set("MustBeNonFungible",uL);class dL extends at.ProgramError{constructor(t,r){super("Insufficient tokens for transfer",t,r),this.name="InsufficientTokens",this.code=128}}he.InsufficientTokensError=dL;nt.set(128,dL);it.set("InsufficientTokens",dL);class pL extends at.ProgramError{constructor(t,r){super("Borsh Serialization Error",t,r),this.name="BorshSerializationError",this.code=129}}he.BorshSerializationErrorError=pL;nt.set(129,pL);it.set("BorshSerializationError",pL);class hL extends at.ProgramError{constructor(t,r){super("Cannot create NFT with no Freeze Authority.",t,r),this.name="NoFreezeAuthoritySet",this.code=130}}he.NoFreezeAuthoritySetError=hL;nt.set(130,hL);it.set("NoFreezeAuthoritySet",hL);class fL extends at.ProgramError{constructor(t,r){super("Invalid collection size change",t,r),this.name="InvalidCollectionSizeChange",this.code=131}}he.InvalidCollectionSizeChangeError=fL;nt.set(131,fL);it.set("InvalidCollectionSizeChange",fL);class mL extends at.ProgramError{constructor(t,r){super("Invalid bubblegum signer",t,r),this.name="InvalidBubblegumSigner",this.code=132}}he.InvalidBubblegumSignerError=mL;nt.set(132,mL);it.set("InvalidBubblegumSigner",mL);class gL extends at.ProgramError{constructor(t,r){super("Escrow parent cannot have a delegate",t,r),this.name="EscrowParentHasDelegate",this.code=133}}he.EscrowParentHasDelegateError=gL;nt.set(133,gL);it.set("EscrowParentHasDelegate",gL);class yL extends at.ProgramError{constructor(t,r){super("Mint needs to be signer to initialize the account",t,r),this.name="MintIsNotSigner",this.code=134}}he.MintIsNotSignerError=yL;nt.set(134,yL);it.set("MintIsNotSigner",yL);class vL extends at.ProgramError{constructor(t,r){super("Invalid token standard",t,r),this.name="InvalidTokenStandard",this.code=135}}he.InvalidTokenStandardError=vL;nt.set(135,vL);it.set("InvalidTokenStandard",vL);class _L extends at.ProgramError{constructor(t,r){super("Invalid mint account for specified token standard",t,r),this.name="InvalidMintForTokenStandard",this.code=136}}he.InvalidMintForTokenStandardError=_L;nt.set(136,_L);it.set("InvalidMintForTokenStandard",_L);class bL extends at.ProgramError{constructor(t,r){super("Invalid authorization rules account",t,r),this.name="InvalidAuthorizationRules",this.code=137}}he.InvalidAuthorizationRulesError=bL;nt.set(137,bL);it.set("InvalidAuthorizationRules",bL);class xL extends at.ProgramError{constructor(t,r){super("Missing authorization rules account",t,r),this.name="MissingAuthorizationRules",this.code=138}}he.MissingAuthorizationRulesError=xL;nt.set(138,xL);it.set("MissingAuthorizationRules",xL);class wL extends at.ProgramError{constructor(t,r){super("Missing programmable configuration",t,r),this.name="MissingProgrammableConfig",this.code=139}}he.MissingProgrammableConfigError=wL;nt.set(139,wL);it.set("MissingProgrammableConfig",wL);class SL extends at.ProgramError{constructor(t,r){super("Invalid programmable configuration",t,r),this.name="InvalidProgrammableConfig",this.code=140}}he.InvalidProgrammableConfigError=SL;nt.set(140,SL);it.set("InvalidProgrammableConfig",SL);class EL extends at.ProgramError{constructor(t,r){super("Delegate already exists",t,r),this.name="DelegateAlreadyExists",this.code=141}}he.DelegateAlreadyExistsError=EL;nt.set(141,EL);it.set("DelegateAlreadyExists",EL);class AL extends at.ProgramError{constructor(t,r){super("Delegate not found",t,r),this.name="DelegateNotFound",this.code=142}}he.DelegateNotFoundError=AL;nt.set(142,AL);it.set("DelegateNotFound",AL);class TL extends at.ProgramError{constructor(t,r){super("Required account not set in instruction builder",t,r),this.name="MissingAccountInBuilder",this.code=143}}he.MissingAccountInBuilderError=TL;nt.set(143,TL);it.set("MissingAccountInBuilder",TL);class ML extends at.ProgramError{constructor(t,r){super("Required argument not set in instruction builder",t,r),this.name="MissingArgumentInBuilder",this.code=144}}he.MissingArgumentInBuilderError=ML;nt.set(144,ML);it.set("MissingArgumentInBuilder",ML);class PL extends at.ProgramError{constructor(t,r){super("Feature not supported currently",t,r),this.name="FeatureNotSupported",this.code=145}}he.FeatureNotSupportedError=PL;nt.set(145,PL);it.set("FeatureNotSupported",PL);class kL extends at.ProgramError{constructor(t,r){super("Invalid system wallet",t,r),this.name="InvalidSystemWallet",this.code=146}}he.InvalidSystemWalletError=kL;nt.set(146,kL);it.set("InvalidSystemWallet",kL);class IL extends at.ProgramError{constructor(t,r){super("Only the sale delegate can transfer while its set",t,r),this.name="OnlySaleDelegateCanTransfer",this.code=147}}he.OnlySaleDelegateCanTransferError=IL;nt.set(147,IL);it.set("OnlySaleDelegateCanTransfer",IL);class CL extends at.ProgramError{constructor(t,r){super("Missing token account",t,r),this.name="MissingTokenAccount",this.code=148}}he.MissingTokenAccountError=CL;nt.set(148,CL);it.set("MissingTokenAccount",CL);class DL extends at.ProgramError{constructor(t,r){super("Missing SPL token program",t,r),this.name="MissingSplTokenProgram",this.code=149}}he.MissingSplTokenProgramError=DL;nt.set(149,DL);it.set("MissingSplTokenProgram",DL);class zL extends at.ProgramError{constructor(t,r){super("Missing authorization rules program",t,r),this.name="MissingAuthorizationRulesProgram",this.code=150}}he.MissingAuthorizationRulesProgramError=zL;nt.set(150,zL);it.set("MissingAuthorizationRulesProgram",zL);class RL extends at.ProgramError{constructor(t,r){super("Invalid delegate role for transfer",t,r),this.name="InvalidDelegateRoleForTransfer",this.code=151}}he.InvalidDelegateRoleForTransferError=RL;nt.set(151,RL);it.set("InvalidDelegateRoleForTransfer",RL);class NL extends at.ProgramError{constructor(t,r){super("Invalid transfer authority",t,r),this.name="InvalidTransferAuthority",this.code=152}}he.InvalidTransferAuthorityError=NL;nt.set(152,NL);it.set("InvalidTransferAuthority",NL);class LL extends at.ProgramError{constructor(t,r){super("Instruction not supported for ProgrammableNonFungible assets",t,r),this.name="InstructionNotSupported",this.code=153}}he.InstructionNotSupportedError=LL;nt.set(153,LL);it.set("InstructionNotSupported",LL);class OL extends at.ProgramError{constructor(t,r){super("Public key does not match expected value",t,r),this.name="KeyMismatch",this.code=154}}he.KeyMismatchError=OL;nt.set(154,OL);it.set("KeyMismatch",OL);class BL extends at.ProgramError{constructor(t,r){super("Token is locked",t,r),this.name="LockedToken",this.code=155}}he.LockedTokenError=BL;nt.set(155,BL);it.set("LockedToken",BL);class FL extends at.ProgramError{constructor(t,r){super("Token is unlocked",t,r),this.name="UnlockedToken",this.code=156}}he.UnlockedTokenError=FL;nt.set(156,FL);it.set("UnlockedToken",FL);class jL extends at.ProgramError{constructor(t,r){super("Missing delegate role",t,r),this.name="MissingDelegateRole",this.code=157}}he.MissingDelegateRoleError=jL;nt.set(157,jL);it.set("MissingDelegateRole",jL);class VL extends at.ProgramError{constructor(t,r){super("Invalid authority type",t,r),this.name="InvalidAuthorityType",this.code=158}}he.InvalidAuthorityTypeError=VL;nt.set(158,VL);it.set("InvalidAuthorityType",VL);class UL extends at.ProgramError{constructor(t,r){super("Missing token record account",t,r),this.name="MissingTokenRecord",this.code=159}}he.MissingTokenRecordError=UL;nt.set(159,UL);it.set("MissingTokenRecord",UL);class WL extends at.ProgramError{constructor(t,r){super("Mint supply must be zero for programmable assets",t,r),this.name="MintSupplyMustBeZero",this.code=160}}he.MintSupplyMustBeZeroError=WL;nt.set(160,WL);it.set("MintSupplyMustBeZero",WL);class $L extends at.ProgramError{constructor(t,r){super("Data is empty or zeroed",t,r),this.name="DataIsEmptyOrZeroed",this.code=161}}he.DataIsEmptyOrZeroedError=$L;nt.set(161,$L);it.set("DataIsEmptyOrZeroed",$L);class KL extends at.ProgramError{constructor(t,r){super("Missing token owner",t,r),this.name="MissingTokenOwnerAccount",this.code=162}}he.MissingTokenOwnerAccountError=KL;nt.set(162,KL);it.set("MissingTokenOwnerAccount",KL);class qL extends at.ProgramError{constructor(t,r){super("Master edition account has an invalid length",t,r),this.name="InvalidMasterEditionAccountLength",this.code=163}}he.InvalidMasterEditionAccountLengthError=qL;nt.set(163,qL);it.set("InvalidMasterEditionAccountLength",qL);class GL extends at.ProgramError{constructor(t,r){super("Incorrect token state",t,r),this.name="IncorrectTokenState",this.code=164}}he.IncorrectTokenStateError=GL;nt.set(164,GL);it.set("IncorrectTokenState",GL);class HL extends at.ProgramError{constructor(t,r){super("Invalid delegate role",t,r),this.name="InvalidDelegateRole",this.code=165}}he.InvalidDelegateRoleError=HL;nt.set(165,HL);it.set("InvalidDelegateRole",HL);class ZL extends at.ProgramError{constructor(t,r){super("Print supply is required for non-fungibles",t,r),this.name="MissingPrintSupply",this.code=166}}he.MissingPrintSupplyError=ZL;nt.set(166,ZL);it.set("MissingPrintSupply",ZL);class YL extends at.ProgramError{constructor(t,r){super("Missing master edition account",t,r),this.name="MissingMasterEditionAccount",this.code=167}}he.MissingMasterEditionAccountError=YL;nt.set(167,YL);it.set("MissingMasterEditionAccount",YL);class XL extends at.ProgramError{constructor(t,r){super("Amount must be greater than zero",t,r),this.name="AmountMustBeGreaterThanZero",this.code=168}}he.AmountMustBeGreaterThanZeroError=XL;nt.set(168,XL);it.set("AmountMustBeGreaterThanZero",XL);class QL extends at.ProgramError{constructor(t,r){super("Invalid delegate args",t,r),this.name="InvalidDelegateArgs",this.code=169}}he.InvalidDelegateArgsError=QL;nt.set(169,QL);it.set("InvalidDelegateArgs",QL);class JL extends at.ProgramError{constructor(t,r){super("Missing address for locked transfer",t,r),this.name="MissingLockedTransferAddress",this.code=170}}he.MissingLockedTransferAddressError=JL;nt.set(170,JL);it.set("MissingLockedTransferAddress",JL);class eO extends at.ProgramError{constructor(t,r){super("Invalid destination address for locked transfer",t,r),this.name="InvalidLockedTransferAddress",this.code=171}}he.InvalidLockedTransferAddressError=eO;nt.set(171,eO);it.set("InvalidLockedTransferAddress",eO);class tO extends at.ProgramError{constructor(t,r){super("Exceeded account realloc increase limit",t,r),this.name="DataIncrementLimitExceeded",this.code=172}}he.DataIncrementLimitExceededError=tO;nt.set(172,tO);it.set("DataIncrementLimitExceeded",tO);class rO extends at.ProgramError{constructor(t,r){super("Cannot update the rule set of a programmable asset that has a delegate",t,r),this.name="CannotUpdateAssetWithDelegate",this.code=173}}he.CannotUpdateAssetWithDelegateError=rO;nt.set(173,rO);it.set("CannotUpdateAssetWithDelegate",rO);class nO extends at.ProgramError{constructor(t,r){super("Invalid token amount for this operation or token standard",t,r),this.name="InvalidAmount",this.code=174}}he.InvalidAmountError=nO;nt.set(174,nO);it.set("InvalidAmount",nO);class iO extends at.ProgramError{constructor(t,r){super("Missing master edition mint account",t,r),this.name="MissingMasterEditionMintAccount",this.code=175}}he.MissingMasterEditionMintAccountError=iO;nt.set(175,iO);it.set("MissingMasterEditionMintAccount",iO);class aO extends at.ProgramError{constructor(t,r){super("Missing master edition token account",t,r),this.name="MissingMasterEditionTokenAccount",this.code=176}}he.MissingMasterEditionTokenAccountError=aO;nt.set(176,aO);it.set("MissingMasterEditionTokenAccount",aO);class oO extends at.ProgramError{constructor(t,r){super("Missing edition marker account",t,r),this.name="MissingEditionMarkerAccount",this.code=177}}he.MissingEditionMarkerAccountError=oO;nt.set(177,oO);it.set("MissingEditionMarkerAccount",oO);class sO extends at.ProgramError{constructor(t,r){super("Cannot burn while persistent delegate is set",t,r),this.name="CannotBurnWithDelegate",this.code=178}}he.CannotBurnWithDelegateError=sO;nt.set(178,sO);it.set("CannotBurnWithDelegate",sO);class lO extends at.ProgramError{constructor(t,r){super("Missing edition account",t,r),this.name="MissingEdition",this.code=179}}he.MissingEditionError=lO;nt.set(179,lO);it.set("MissingEdition",lO);class cO extends at.ProgramError{constructor(t,r){super("Invalid Associated Token Account Program",t,r),this.name="InvalidAssociatedTokenAccountProgram",this.code=180}}he.InvalidAssociatedTokenAccountProgramError=cO;nt.set(180,cO);it.set("InvalidAssociatedTokenAccountProgram",cO);class uO extends at.ProgramError{constructor(t,r){super("Invalid InstructionsSysvar",t,r),this.name="InvalidInstructionsSysvar",this.code=181}}he.InvalidInstructionsSysvarError=uO;nt.set(181,uO);it.set("InvalidInstructionsSysvar",uO);class dO extends at.ProgramError{constructor(t,r){super("Invalid or Unneeded parent accounts",t,r),this.name="InvalidParentAccounts",this.code=182}}he.InvalidParentAccountsError=dO;nt.set(182,dO);it.set("InvalidParentAccounts",dO);class pO extends at.ProgramError{constructor(t,r){super("Authority cannot apply all update args",t,r),this.name="InvalidUpdateArgs",this.code=183}}he.InvalidUpdateArgsError=pO;nt.set(183,pO);it.set("InvalidUpdateArgs",pO);class hO extends at.ProgramError{constructor(t,r){super("Token account does not have enough tokens",t,r),this.name="InsufficientTokenBalance",this.code=184}}he.InsufficientTokenBalanceError=hO;nt.set(184,hO);it.set("InsufficientTokenBalance",hO);class fO extends at.ProgramError{constructor(t,r){super("Missing collection account",t,r),this.name="MissingCollectionMint",this.code=185}}he.MissingCollectionMintError=fO;nt.set(185,fO);it.set("MissingCollectionMint",fO);class mO extends at.ProgramError{constructor(t,r){super("Missing collection master edition account",t,r),this.name="MissingCollectionMasterEdition",this.code=186}}he.MissingCollectionMasterEditionError=mO;nt.set(186,mO);it.set("MissingCollectionMasterEdition",mO);class gO extends at.ProgramError{constructor(t,r){super("Invalid token record account",t,r),this.name="InvalidTokenRecord",this.code=187}}he.InvalidTokenRecordError=gO;nt.set(187,gO);it.set("InvalidTokenRecord",gO);class yO extends at.ProgramError{constructor(t,r){super("The close authority needs to be revoked by the Utility Delegate",t,r),this.name="InvalidCloseAuthority",this.code=188}}he.InvalidCloseAuthorityError=yO;nt.set(188,yO);it.set("InvalidCloseAuthority",yO);class vO extends at.ProgramError{constructor(t,r){super("Invalid or removed instruction",t,r),this.name="InvalidInstruction",this.code=189}}he.InvalidInstructionError=vO;nt.set(189,vO);it.set("InvalidInstruction",vO);class _O extends at.ProgramError{constructor(t,r){super("Missing delegate record",t,r),this.name="MissingDelegateRecord",this.code=190}}he.MissingDelegateRecordError=_O;nt.set(190,_O);it.set("MissingDelegateRecord",_O);class bO extends at.ProgramError{constructor(t,r){super("",t,r),this.name="InvalidFeeAccount",this.code=191}}he.InvalidFeeAccountError=bO;nt.set(191,bO);it.set("InvalidFeeAccount",bO);class xO extends at.ProgramError{constructor(t,r){super("",t,r),this.name="InvalidMetadataFlags",this.code=192}}he.InvalidMetadataFlagsError=xO;nt.set(192,xO);it.set("InvalidMetadataFlags",xO);class wO extends at.ProgramError{constructor(t,r){super("Cannot change the update authority with a delegate",t,r),this.name="CannotChangeUpdateAuthorityWithDelegate",this.code=193}}he.CannotChangeUpdateAuthorityWithDelegateError=wO;nt.set(193,wO);it.set("CannotChangeUpdateAuthorityWithDelegate",wO);class SO extends at.ProgramError{constructor(t,r){super("Invalid mint extension type",t,r),this.name="InvalidMintExtensionType",this.code=194}}he.InvalidMintExtensionTypeError=SO;nt.set(194,SO);it.set("InvalidMintExtensionType",SO);class EO extends at.ProgramError{constructor(t,r){super("Invalid mint close authority",t,r),this.name="InvalidMintCloseAuthority",this.code=195}}he.InvalidMintCloseAuthorityError=EO;nt.set(195,EO);it.set("InvalidMintCloseAuthority",EO);class AO extends at.ProgramError{constructor(t,r){super("Invalid metadata pointer",t,r),this.name="InvalidMetadataPointer",this.code=196}}he.InvalidMetadataPointerError=AO;nt.set(196,AO);it.set("InvalidMetadataPointer",AO);class TO extends at.ProgramError{constructor(t,r){super("Invalid token extension type",t,r),this.name="InvalidTokenExtensionType",this.code=197}}he.InvalidTokenExtensionTypeError=TO;nt.set(197,TO);it.set("InvalidTokenExtensionType",TO);class MO extends at.ProgramError{constructor(t,r){super("Missing immutable owner extension",t,r),this.name="MissingImmutableOwnerExtension",this.code=198}}he.MissingImmutableOwnerExtensionError=MO;nt.set(198,MO);it.set("MissingImmutableOwnerExtension",MO);class PO extends at.ProgramError{constructor(t,r){super("Expected account to be uninitialized",t,r),this.name="ExpectedUninitializedAccount",this.code=199}}he.ExpectedUninitializedAccountError=PO;nt.set(199,PO);it.set("ExpectedUninitializedAccount",PO);class kO extends at.ProgramError{constructor(t,r){super("Edition account has an invalid length",t,r),this.name="InvalidEditionAccountLength",this.code=200}}he.InvalidEditionAccountLengthError=kO;nt.set(200,kO);it.set("InvalidEditionAccountLength",kO);class IO extends at.ProgramError{constructor(t,r){super("Account has already been resized",t,r),this.name="AccountAlreadyResized",this.code=201}}he.AccountAlreadyResizedError=IO;nt.set(201,IO);it.set("AccountAlreadyResized",IO);class CO extends at.ProgramError{constructor(t,r){super("Conditions for closing not met",t,r),this.name="ConditionsForClosingNotMet",this.code=202}}he.ConditionsForClosingNotMetError=CO;nt.set(202,CO);it.set("ConditionsForClosingNotMet",CO);function iPe(e,t,r){const n=nt.get(e);return n?new n(t,r):null}he.getMplTokenMetadataErrorFromCode=iPe;function aPe(e,t,r){const n=it.get(e);return n?new n(t,r):null}he.getMplTokenMetadataErrorFromName=aPe;(function(e){var t=pr&&pr.__createBinding||(Object.create?function(n,i,s,l){l===void 0&&(l=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,l,a)}:function(n,i,s,l){l===void 0&&(l=s),n[l]=i[s]}),r=pr&&pr.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(he,e)})($z);var FT={},jf={},Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.getAccountMetasAndSigners=Xt.expectPda=Xt.expectPublicKey=Xt.expectSome=void 0;const xx=gt;function oPe(e){if(e==null)throw new Error("Expected a value but received null or undefined.");return e}Xt.expectSome=oPe;function sPe(e){if(!e)throw new Error("Expected a PublicKey.");return(0,xx.publicKey)(e,!1)}Xt.expectPublicKey=sPe;function lPe(e){if(!e||!Array.isArray(e)||!(0,xx.isPda)(e))throw new Error("Expected a PDA.");return e}Xt.expectPda=lPe;function cPe(e,t,r){const n=[],i=[];return e.forEach(s=>{if(!s.value){if(t==="omitted")return;n.push({pubkey:r,isSigner:!1,isWritable:!1});return}(0,xx.isSigner)(s.value)&&i.push(s.value),n.push({pubkey:(0,xx.publicKey)(s.value,!1),isSigner:(0,xx.isSigner)(s.value),isWritable:s.isWritable})}),[n,i]}Xt.getAccountMetasAndSigners=cPe;var NK;function uPe(){if(NK)return jf;NK=1,Object.defineProperty(jf,"__esModule",{value:!0}),jf.approveCollectionAuthority=jf.getApproveCollectionAuthorityInstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()]],{description:"ApproveCollectionAuthorityInstructionData"}),l=>({...l,discriminator:23}))}jf.getApproveCollectionAuthorityInstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={collectionAuthorityRecord:{index:0,isWritable:!0,value:a.collectionAuthorityRecord??null},newCollectionAuthority:{index:1,isWritable:!1,value:a.newCollectionAuthority??null},updateAuthority:{index:2,isWritable:!0,value:a.updateAuthority??null},payer:{index:3,isWritable:!0,value:a.payer??null},metadata:{index:4,isWritable:!1,value:a.metadata??null},mint:{index:5,isWritable:!1,value:a.mint??null},systemProgram:{index:6,isWritable:!1,value:a.systemProgram??null},rent:{index:7,isWritable:!1,value:a.rent??null}};f.updateAuthority.value||(f.updateAuthority.value=l.identity),f.payer.value||(f.payer.value=l.payer),f.metadata.value||(f.metadata.value=(0,r.findMetadataPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.systemProgram.value||(f.systemProgram.value=l.programs.getPublicKey("splSystem","11111111111111111111111111111111"),f.systemProgram.isWritable=!1);const g=Object.values(f).sort((I,k)=>I.index-k.index),[v,_]=(0,n.getAccountMetasAndSigners)(g,"omitted",p),T=i().serialize({}),z=0;return(0,e.transactionBuilder)([{instruction:{keys:v,programId:p,data:T},signers:_,bytesCreatedOnChain:z}])}return jf.approveCollectionAuthority=s,jf}var Vf={},LK;function dPe(){if(LK)return Vf;LK=1,Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.approveUseAuthority=Vf.getApproveUseAuthorityInstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["numberOfUses",(0,t.u64)()]],{description:"ApproveUseAuthorityInstructionData"}),l=>({...l,discriminator:20}))}Vf.getApproveUseAuthorityInstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={useAuthorityRecord:{index:0,isWritable:!0,value:a.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:a.owner??null},payer:{index:2,isWritable:!0,value:a.payer??null},user:{index:3,isWritable:!1,value:a.user??null},ownerTokenAccount:{index:4,isWritable:!0,value:a.ownerTokenAccount??null},metadata:{index:5,isWritable:!1,value:a.metadata??null},mint:{index:6,isWritable:!1,value:a.mint??null},burner:{index:7,isWritable:!1,value:a.burner??null},tokenProgram:{index:8,isWritable:!1,value:a.tokenProgram??null},systemProgram:{index:9,isWritable:!1,value:a.systemProgram??null},rent:{index:10,isWritable:!1,value:a.rent??null}},g={...a};f.payer.value||(f.payer.value=l.payer),f.metadata.value||(f.metadata.value=(0,r.findMetadataPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.tokenProgram.value||(f.tokenProgram.value=l.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),f.tokenProgram.isWritable=!1),f.systemProgram.value||(f.systemProgram.value=l.programs.getPublicKey("splSystem","11111111111111111111111111111111"),f.systemProgram.isWritable=!1);const v=Object.values(f).sort((k,C)=>k.index-C.index),[_,T]=(0,n.getAccountMetasAndSigners)(v,"omitted",p),z=i().serialize(g),I=0;return(0,e.transactionBuilder)([{instruction:{keys:_,programId:p,data:z},signers:T,bytesCreatedOnChain:I}])}return Vf.approveUseAuthority=s,Vf}var Pv={};Object.defineProperty(Pv,"__esModule",{value:!0});Pv.bubblegumSetCollectionSize=Pv.getBubblegumSetCollectionSizeInstructionDataSerializer=void 0;const pPe=gt,jT=je,hPe=Xt,fPe=sr();function qie(){return(0,jT.mapSerializer)((0,jT.struct)([["discriminator",(0,jT.u8)()],["setCollectionSizeArgs",(0,fPe.getSetCollectionSizeArgsSerializer)()]],{description:"BubblegumSetCollectionSizeInstructionData"}),e=>({...e,discriminator:36}))}Pv.getBubblegumSetCollectionSizeInstructionDataSerializer=qie;function mPe(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={collectionMetadata:{index:0,isWritable:!0,value:t.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!1,value:t.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:t.collectionMint??null},bubblegumSigner:{index:3,isWritable:!1,value:t.bubblegumSigner??null},collectionAuthorityRecord:{index:4,isWritable:!1,value:t.collectionAuthorityRecord??null}},i={...t},s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,hPe.getAccountMetasAndSigners)(s,"omitted",r),p=qie().serialize(i),f=0;return(0,pPe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}Pv.bubblegumSetCollectionSize=mPe;var kv={};Object.defineProperty(kv,"__esModule",{value:!0});kv.burnEditionNft=kv.getBurnEditionNftInstructionDataSerializer=void 0;const gPe=gt,VT=je,yPe=Xt;function Gie(){return(0,VT.mapSerializer)((0,VT.struct)([["discriminator",(0,VT.u8)()]],{description:"BurnEditionNftInstructionData"}),e=>({...e,discriminator:37}))}kv.getBurnEditionNftInstructionDataSerializer=Gie;function vPe(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={metadata:{index:0,isWritable:!0,value:t.metadata??null},owner:{index:1,isWritable:!0,value:t.owner??null},printEditionMint:{index:2,isWritable:!0,value:t.printEditionMint??null},masterEditionMint:{index:3,isWritable:!1,value:t.masterEditionMint??null},printEditionTokenAccount:{index:4,isWritable:!0,value:t.printEditionTokenAccount??null},masterEditionTokenAccount:{index:5,isWritable:!1,value:t.masterEditionTokenAccount??null},masterEditionAccount:{index:6,isWritable:!0,value:t.masterEditionAccount??null},printEditionAccount:{index:7,isWritable:!0,value:t.printEditionAccount??null},editionMarkerAccount:{index:8,isWritable:!0,value:t.editionMarkerAccount??null},splTokenProgram:{index:9,isWritable:!1,value:t.splTokenProgram??null}};n.splTokenProgram.value||(n.splTokenProgram.value=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n.splTokenProgram.isWritable=!1);const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,yPe.getAccountMetasAndSigners)(i,"programId",r),a=Gie().serialize({}),p=0;return(0,gPe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}kv.burnEditionNft=vPe;var Uf={},OK;function _Pe(){if(OK)return Uf;OK=1,Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.burnNft=Uf.getBurnNftInstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()]],{description:"BurnNftInstructionData"}),l=>({...l,discriminator:29}))}Uf.getBurnNftInstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={metadata:{index:0,isWritable:!0,value:a.metadata??null},owner:{index:1,isWritable:!0,value:a.owner??null},mint:{index:2,isWritable:!0,value:a.mint??null},tokenAccount:{index:3,isWritable:!0,value:a.tokenAccount??null},masterEditionAccount:{index:4,isWritable:!0,value:a.masterEditionAccount??null},splTokenProgram:{index:5,isWritable:!1,value:a.splTokenProgram??null},collectionMetadata:{index:6,isWritable:!0,value:a.collectionMetadata??null}};f.metadata.value||(f.metadata.value=(0,r.findMetadataPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.splTokenProgram.value||(f.splTokenProgram.value=l.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),f.splTokenProgram.isWritable=!1);const g=Object.values(f).sort((I,k)=>I.index-k.index),[v,_]=(0,n.getAccountMetasAndSigners)(g,"omitted",p),T=i().serialize({}),z=0;return(0,e.transactionBuilder)([{instruction:{keys:v,programId:p,data:T},signers:_,bytesCreatedOnChain:z}])}return Uf.burnNft=s,Uf}var Wf={},BK;function bPe(){if(BK)return Wf;BK=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.burnV1=Wf.getBurnV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["burnV1Discriminator",(0,r.u8)()],["amount",(0,r.u64)()]],{description:"BurnV1InstructionData"}),f=>({...f,discriminator:41,burnV1Discriminator:0,amount:f.amount??1}))}Wf.getBurnV1InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={authority:{index:0,isWritable:!0,value:g.authority??null},collectionMetadata:{index:1,isWritable:!0,value:g.collectionMetadata??null},metadata:{index:2,isWritable:!0,value:g.metadata??null},edition:{index:3,isWritable:!0,value:g.edition??null},mint:{index:4,isWritable:!0,value:g.mint??null},token:{index:5,isWritable:!0,value:g.token??null},masterEdition:{index:6,isWritable:!0,value:g.masterEdition??null},masterEditionMint:{index:7,isWritable:!1,value:g.masterEditionMint??null},masterEditionToken:{index:8,isWritable:!1,value:g.masterEditionToken??null},editionMarker:{index:9,isWritable:!0,value:g.editionMarker??null},tokenRecord:{index:10,isWritable:!0,value:g.tokenRecord??null},systemProgram:{index:11,isWritable:!1,value:g.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:g.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:g.splTokenProgram??null}},T={...g};_.authority.value||(_.authority.value=f.identity),_.metadata.value||(_.metadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.edition.value||(0,n.resolveIsNonFungible)(f,_,T,v,!0)&&(_.edition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),T.tokenOwner||(T.tokenOwner=f.identity.publicKey),_.token.value||(_.token.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),owner:(0,s.expectSome)(T.tokenOwner)})),_.masterEdition.value||_.masterEditionMint.value&&(_.masterEdition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.masterEditionMint.value)})),_.tokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.tokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.splTokenProgram.value||(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize(T),L=0;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return Wf.burnV1=p,Wf}var $f={},FK;function xPe(){if(FK)return $f;FK=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.closeAccounts=$f.getCloseAccountsInstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()]],{description:"CloseAccountsInstructionData"}),l=>({...l,discriminator:57}))}$f.getCloseAccountsInstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={metadata:{index:0,isWritable:!0,value:a.metadata??null},edition:{index:1,isWritable:!0,value:a.edition??null},mint:{index:2,isWritable:!0,value:a.mint??null},authority:{index:3,isWritable:!1,value:a.authority??null},destination:{index:4,isWritable:!0,value:a.destination??null}};f.metadata.value||(f.metadata.value=(0,r.findMetadataPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.edition.value||(f.edition.value=(0,r.findMasterEditionPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.authority.value||(f.authority.value=l.identity);const g=Object.values(f).sort((I,k)=>I.index-k.index),[v,_]=(0,n.getAccountMetasAndSigners)(g,"programId",p),T=i().serialize({}),z=0;return(0,e.transactionBuilder)([{instruction:{keys:v,programId:p,data:T},signers:_,bytesCreatedOnChain:z}])}return $f.closeAccounts=s,$f}var Kf={},jK;function wPe(){if(jK)return Kf;jK=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.closeEscrowAccount=Kf.getCloseEscrowAccountInstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()]],{description:"CloseEscrowAccountInstructionData"}),l=>({...l,discriminator:39}))}Kf.getCloseEscrowAccountInstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={escrow:{index:0,isWritable:!0,value:a.escrow??null},metadata:{index:1,isWritable:!0,value:a.metadata??null},mint:{index:2,isWritable:!1,value:a.mint??null},tokenAccount:{index:3,isWritable:!1,value:a.tokenAccount??null},edition:{index:4,isWritable:!1,value:a.edition??null},payer:{index:5,isWritable:!0,value:a.payer??null},systemProgram:{index:6,isWritable:!1,value:a.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:a.sysvarInstructions??null}};f.metadata.value||(f.metadata.value=(0,r.findMetadataPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.edition.value||(f.edition.value=(0,r.findMasterEditionPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.payer.value||(f.payer.value=l.payer),f.systemProgram.value||(f.systemProgram.value=l.programs.getPublicKey("splSystem","11111111111111111111111111111111"),f.systemProgram.isWritable=!1),f.sysvarInstructions.value||(f.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const g=Object.values(f).sort((I,k)=>I.index-k.index),[v,_]=(0,n.getAccountMetasAndSigners)(g,"programId",p),T=i().serialize({}),z=0;return(0,e.transactionBuilder)([{instruction:{keys:v,programId:p,data:T},signers:_,bytesCreatedOnChain:z}])}return Kf.closeEscrowAccount=s,Kf}var Iv={};Object.defineProperty(Iv,"__esModule",{value:!0});Iv.collect=Iv.getCollectInstructionDataSerializer=void 0;const SPe=gt,UT=je,EPe=Xt;function Hie(){return(0,UT.mapSerializer)((0,UT.struct)([["discriminator",(0,UT.u8)()]],{description:"CollectInstructionData"}),e=>({...e,discriminator:54}))}Iv.getCollectInstructionDataSerializer=Hie;function APe(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={authority:{index:0,isWritable:!1,value:t.authority??null},recipient:{index:1,isWritable:!1,value:t.recipient??null}};n.authority.value||(n.authority.value=e.identity);const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,EPe.getAccountMetasAndSigners)(i,"programId",r),a=Hie().serialize({}),p=0;return(0,SPe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Iv.collect=APe;var Cv={};Object.defineProperty(Cv,"__esModule",{value:!0});Cv.convertMasterEditionV1ToV2=Cv.getConvertMasterEditionV1ToV2InstructionDataSerializer=void 0;const TPe=gt,WT=je,MPe=Xt;function Zie(){return(0,WT.mapSerializer)((0,WT.struct)([["discriminator",(0,WT.u8)()]],{description:"ConvertMasterEditionV1ToV2InstructionData"}),e=>({...e,discriminator:12}))}Cv.getConvertMasterEditionV1ToV2InstructionDataSerializer=Zie;function PPe(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={masterEdition:{index:0,isWritable:!0,value:t.masterEdition??null},oneTimeAuth:{index:1,isWritable:!0,value:t.oneTimeAuth??null},printingMint:{index:2,isWritable:!0,value:t.printingMint??null}},i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,MPe.getAccountMetasAndSigners)(i,"programId",r),a=Zie().serialize({}),p=0;return(0,TPe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Cv.convertMasterEditionV1ToV2=PPe;var qf={},VK;function kPe(){if(VK)return qf;VK=1,Object.defineProperty(qf,"__esModule",{value:!0}),qf.createEscrowAccount=qf.getCreateEscrowAccountInstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()]],{description:"CreateEscrowAccountInstructionData"}),l=>({...l,discriminator:38}))}qf.getCreateEscrowAccountInstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={escrow:{index:0,isWritable:!0,value:a.escrow??null},metadata:{index:1,isWritable:!0,value:a.metadata??null},mint:{index:2,isWritable:!1,value:a.mint??null},tokenAccount:{index:3,isWritable:!1,value:a.tokenAccount??null},edition:{index:4,isWritable:!1,value:a.edition??null},payer:{index:5,isWritable:!0,value:a.payer??null},systemProgram:{index:6,isWritable:!1,value:a.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:a.sysvarInstructions??null},authority:{index:8,isWritable:!1,value:a.authority??null}};f.metadata.value||(f.metadata.value=(0,r.findMetadataPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.edition.value||(f.edition.value=(0,r.findMasterEditionPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.payer.value||(f.payer.value=l.payer),f.systemProgram.value||(f.systemProgram.value=l.programs.getPublicKey("splSystem","11111111111111111111111111111111"),f.systemProgram.isWritable=!1),f.sysvarInstructions.value||(f.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const g=Object.values(f).sort((I,k)=>I.index-k.index),[v,_]=(0,n.getAccountMetasAndSigners)(g,"omitted",p),T=i().serialize({}),z=0;return(0,e.transactionBuilder)([{instruction:{keys:v,programId:p,data:T},signers:_,bytesCreatedOnChain:z}])}return qf.createEscrowAccount=s,qf}var Gf={},UK;function IPe(){if(UK)return Gf;UK=1,Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.createMasterEditionV3=Gf.getCreateMasterEditionV3InstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["maxSupply",(0,t.option)((0,t.u64)())]],{description:"CreateMasterEditionV3InstructionData"}),l=>({...l,discriminator:17}))}Gf.getCreateMasterEditionV3InstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={edition:{index:0,isWritable:!0,value:a.edition??null},mint:{index:1,isWritable:!0,value:a.mint??null},updateAuthority:{index:2,isWritable:!1,value:a.updateAuthority??null},mintAuthority:{index:3,isWritable:!1,value:a.mintAuthority??null},payer:{index:4,isWritable:!0,value:a.payer??null},metadata:{index:5,isWritable:!0,value:a.metadata??null},tokenProgram:{index:6,isWritable:!1,value:a.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:a.systemProgram??null},rent:{index:8,isWritable:!1,value:a.rent??null}},g={...a};f.edition.value||(f.edition.value=(0,r.findMasterEditionPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.updateAuthority.value||(f.updateAuthority.value=l.identity),f.payer.value||(f.payer.value=l.payer),f.metadata.value||(f.metadata.value=(0,r.findMetadataPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.tokenProgram.value||(f.tokenProgram.value=l.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),f.tokenProgram.isWritable=!1),f.systemProgram.value||(f.systemProgram.value=l.programs.getPublicKey("splSystem","11111111111111111111111111111111"),f.systemProgram.isWritable=!1);const v=Object.values(f).sort((k,C)=>k.index-C.index),[_,T]=(0,n.getAccountMetasAndSigners)(v,"omitted",p),z=i().serialize(g),I=0;return(0,e.transactionBuilder)([{instruction:{keys:_,programId:p,data:z},signers:T,bytesCreatedOnChain:I}])}return Gf.createMasterEditionV3=s,Gf}var Hf={},WK;function CPe(){if(WK)return Hf;WK=1,Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.createMetadataAccountV3=Hf.getCreateMetadataAccountV3InstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt,i=sr();function s(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["data",(0,i.getDataV2Serializer)()],["isMutable",(0,t.bool)()],["collectionDetails",(0,t.option)((0,i.getCollectionDetailsSerializer)())]],{description:"CreateMetadataAccountV3InstructionData"}),a=>({...a,discriminator:33}))}Hf.getCreateMetadataAccountV3InstructionDataSerializer=s;function l(a,p){const f=a.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),g={metadata:{index:0,isWritable:!0,value:p.metadata??null},mint:{index:1,isWritable:!1,value:p.mint??null},mintAuthority:{index:2,isWritable:!1,value:p.mintAuthority??null},payer:{index:3,isWritable:!0,value:p.payer??null},updateAuthority:{index:4,isWritable:!1,value:p.updateAuthority??null},systemProgram:{index:5,isWritable:!1,value:p.systemProgram??null},rent:{index:6,isWritable:!1,value:p.rent??null}},v={...p};g.metadata.value||(g.metadata.value=(0,r.findMetadataPda)(a,{mint:(0,n.expectPublicKey)(g.mint.value)})),g.payer.value||(g.payer.value=a.payer),g.updateAuthority.value||(g.updateAuthority.value=a.identity),g.systemProgram.value||(g.systemProgram.value=a.programs.getPublicKey("splSystem","11111111111111111111111111111111"),g.systemProgram.isWritable=!1);const _=Object.values(g).sort((C,L)=>C.index-L.index),[T,z]=(0,n.getAccountMetasAndSigners)(_,"omitted",f),I=s().serialize(v),k=0;return(0,e.transactionBuilder)([{instruction:{keys:T,programId:f,data:I},signers:z,bytesCreatedOnChain:k}])}return Hf.createMetadataAccountV3=l,Hf}var Zf={},$K;function DPe(){if($K)return Zf;$K=1,Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.createV1=Zf.getCreateV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt,s=sr();function l(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["createV1Discriminator",(0,t.u8)()],["name",(0,t.string)()],["symbol",(0,t.string)()],["uri",(0,t.string)()],["sellerFeeBasisPoints",(0,e.mapAmountSerializer)((0,t.u16)(),"%",2)],["creators",(0,t.option)((0,t.array)((0,s.getCreatorSerializer)()))],["primarySaleHappened",(0,t.bool)()],["isMutable",(0,t.bool)()],["tokenStandard",(0,s.getTokenStandardSerializer)()],["collection",(0,t.option)((0,s.getCollectionSerializer)())],["uses",(0,t.option)((0,s.getUsesSerializer)())],["collectionDetails",(0,t.option)((0,s.getCollectionDetailsSerializer)())],["ruleSet",(0,t.option)((0,t.publicKey)())],["decimals",(0,t.option)((0,t.u8)())],["printSupply",(0,t.option)((0,s.getPrintSupplySerializer)())]],{description:"CreateV1InstructionData"}),p=>({...p,discriminator:42,createV1Discriminator:0,symbol:p.symbol??"",primarySaleHappened:p.primarySaleHappened??!1,isMutable:p.isMutable??!0,tokenStandard:p.tokenStandard??s.TokenStandard.NonFungible,collection:p.collection??(0,e.none)(),uses:p.uses??(0,e.none)(),ruleSet:p.ruleSet??(0,e.none)()}))}Zf.getCreateV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={metadata:{index:0,isWritable:!0,value:f.metadata??null},masterEdition:{index:1,isWritable:!0,value:f.masterEdition??null},mint:{index:2,isWritable:!0,value:f.mint??null},authority:{index:3,isWritable:!1,value:f.authority??null},payer:{index:4,isWritable:!0,value:f.payer??null},updateAuthority:{index:5,isWritable:!1,value:f.updateAuthority??null},systemProgram:{index:6,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:8,isWritable:!1,value:f.splTokenProgram??null}},_={...f};v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),_.tokenStandard||(_.tokenStandard=s.TokenStandard.NonFungible),v.masterEdition.value||(0,r.resolveIsNonFungible)(p,v,_,g,!0)&&(v.masterEdition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.authority.value||(v.authority.value=p.identity),v.payer.value||(v.payer.value=p.payer),v.updateAuthority.value||(v.updateAuthority.value=(0,i.expectSome)(v.authority.value)),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.splTokenProgram.value||(0,r.resolveIsNonFungibleOrIsMintSigner)(p,v,_,g,!1)&&(v.splTokenProgram.value=p.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),v.splTokenProgram.isWritable=!1),_.creators||(_.creators=(0,r.resolveCreators)(p,v,_,g,!1)),_.isCollection||(_.isCollection=!1),_.collectionDetails||(_.collectionDetails=(0,r.resolveCollectionDetails)(p,v,_,g,!1)),_.decimals||(_.decimals=(0,r.resolveDecimals)(p,v,_,g,!1)),_.printSupply||(_.printSupply=(0,r.resolvePrintSupply)(p,v,_,g,!1));const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize(_),C=(0,r.resolveCreateV1Bytes)(p,v,_,g);return(0,e.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return Zf.createV1=a,Zf}var Yf={},KK;function zPe(){if(KK)return Yf;KK=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.delegateAuthorityItemV1=Yf.getDelegateAuthorityItemV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt,s=sr();function l(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["delegateAuthorityItemV1Discriminator",(0,t.u8)()],["authorizationData",(0,t.option)((0,s.getAuthorizationDataSerializer)())]],{description:"DelegateAuthorityItemV1InstructionData"}),p=>({...p,discriminator:44,delegateAuthorityItemV1Discriminator:9,authorizationData:p.authorizationData??(0,e.none)()}))}Yf.getDelegateAuthorityItemV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};v.authority.value||(v.authority.value=p.identity),_.updateAuthority||(_.updateAuthority=(0,i.expectPublicKey)(v.authority.value)),v.delegateRecord.value||(v.delegateRecord.value=(0,n.findMetadataDelegateRecordPda)(p,{delegateRole:s.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,i.expectSome)(_.updateAuthority),mint:(0,i.expectPublicKey)(v.mint.value),delegate:(0,i.expectPublicKey)(v.delegate.value)})),v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,r.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize(_),C=0;return(0,e.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return Yf.delegateAuthorityItemV1=a,Yf}var Xf={},qK;function RPe(){if(qK)return Xf;qK=1,Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.delegateCollectionItemV1=Xf.getDelegateCollectionItemV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt,s=sr();function l(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["delegateCollectionItemV1Discriminator",(0,t.u8)()],["authorizationData",(0,t.option)((0,s.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionItemV1InstructionData"}),p=>({...p,discriminator:44,delegateCollectionItemV1Discriminator:11,authorizationData:p.authorizationData??(0,e.none)()}))}Xf.getDelegateCollectionItemV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};v.authority.value||(v.authority.value=p.identity),_.updateAuthority||(_.updateAuthority=(0,i.expectPublicKey)(v.authority.value)),v.delegateRecord.value||(v.delegateRecord.value=(0,n.findMetadataDelegateRecordPda)(p,{delegateRole:s.MetadataDelegateRole.CollectionItem,updateAuthority:(0,i.expectSome)(_.updateAuthority),mint:(0,i.expectPublicKey)(v.mint.value),delegate:(0,i.expectPublicKey)(v.delegate.value)})),v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,r.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize(_),C=0;return(0,e.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return Xf.delegateCollectionItemV1=a,Xf}var Qf={},GK;function NPe(){if(GK)return Qf;GK=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.delegateCollectionV1=Qf.getDelegateCollectionV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt,s=sr();function l(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["delegateCollectionV1Discriminator",(0,t.u8)()],["authorizationData",(0,t.option)((0,s.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionV1InstructionData"}),p=>({...p,discriminator:44,delegateCollectionV1Discriminator:0,authorizationData:p.authorizationData??(0,e.none)()}))}Qf.getDelegateCollectionV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};v.authority.value||(v.authority.value=p.identity),_.updateAuthority||(_.updateAuthority=(0,i.expectPublicKey)(v.authority.value)),v.delegateRecord.value||(v.delegateRecord.value=(0,n.findMetadataDelegateRecordPda)(p,{delegateRole:s.MetadataDelegateRole.Collection,updateAuthority:(0,i.expectSome)(_.updateAuthority),mint:(0,i.expectPublicKey)(v.mint.value),delegate:(0,i.expectPublicKey)(v.delegate.value)})),v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,r.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize(_),C=0;return(0,e.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return Qf.delegateCollectionV1=a,Qf}var Jf={},HK;function LPe(){if(HK)return Jf;HK=1,Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.delegateDataItemV1=Jf.getDelegateDataItemV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt,s=sr();function l(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["delegateDataItemV1Discriminator",(0,t.u8)()],["authorizationData",(0,t.option)((0,s.getAuthorizationDataSerializer)())]],{description:"DelegateDataItemV1InstructionData"}),p=>({...p,discriminator:44,delegateDataItemV1Discriminator:10,authorizationData:p.authorizationData??(0,e.none)()}))}Jf.getDelegateDataItemV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};v.authority.value||(v.authority.value=p.identity),_.updateAuthority||(_.updateAuthority=(0,i.expectPublicKey)(v.authority.value)),v.delegateRecord.value||(v.delegateRecord.value=(0,n.findMetadataDelegateRecordPda)(p,{delegateRole:s.MetadataDelegateRole.DataItem,updateAuthority:(0,i.expectSome)(_.updateAuthority),mint:(0,i.expectPublicKey)(v.mint.value),delegate:(0,i.expectPublicKey)(v.delegate.value)})),v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,r.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize(_),C=0;return(0,e.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return Jf.delegateDataItemV1=a,Jf}var e1={},ZK;function OPe(){if(ZK)return e1;ZK=1,Object.defineProperty(e1,"__esModule",{value:!0}),e1.delegateDataV1=e1.getDelegateDataV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt,s=sr();function l(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["delegateDataV1Discriminator",(0,t.u8)()],["authorizationData",(0,t.option)((0,s.getAuthorizationDataSerializer)())]],{description:"DelegateDataV1InstructionData"}),p=>({...p,discriminator:44,delegateDataV1Discriminator:3,authorizationData:p.authorizationData??(0,e.none)()}))}e1.getDelegateDataV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};v.authority.value||(v.authority.value=p.identity),_.updateAuthority||(_.updateAuthority=(0,i.expectPublicKey)(v.authority.value)),v.delegateRecord.value||(v.delegateRecord.value=(0,n.findMetadataDelegateRecordPda)(p,{delegateRole:s.MetadataDelegateRole.Data,updateAuthority:(0,i.expectSome)(_.updateAuthority),mint:(0,i.expectPublicKey)(v.mint.value),delegate:(0,i.expectPublicKey)(v.delegate.value)})),v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,r.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize(_),C=0;return(0,e.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return e1.delegateDataV1=a,e1}var t1={},YK;function BPe(){if(YK)return t1;YK=1,Object.defineProperty(t1,"__esModule",{value:!0}),t1.delegateLockedTransferV1=t1.getDelegateLockedTransferV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["delegateLockedTransferV1Discriminator",(0,r.u8)()],["amount",(0,r.u64)()],["lockedAddress",(0,r.publicKey)()],["authorizationData",(0,r.option)((0,l.getAuthorizationDataSerializer)())]],{description:"DelegateLockedTransferV1InstructionData"}),f=>({...f,discriminator:44,delegateLockedTransferV1Discriminator:7,amount:f.amount??1,authorizationData:f.authorizationData??(0,t.none)()}))}t1.getDelegateLockedTransferV1InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={delegateRecord:{index:0,isWritable:!0,value:g.delegateRecord??null},delegate:{index:1,isWritable:!1,value:g.delegate??null},metadata:{index:2,isWritable:!0,value:g.metadata??null},masterEdition:{index:3,isWritable:!1,value:g.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:g.tokenRecord??null},mint:{index:5,isWritable:!1,value:g.mint??null},token:{index:6,isWritable:!0,value:g.token??null},authority:{index:7,isWritable:!1,value:g.authority??null},payer:{index:8,isWritable:!0,value:g.payer??null},systemProgram:{index:9,isWritable:!1,value:g.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:g.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:g.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:g.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:g.authorizationRules??null}},T={...g};T.tokenOwner||(T.tokenOwner=f.identity.publicKey),_.token.value||(_.token.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),owner:(0,s.expectSome)(T.tokenOwner)})),_.delegateRecord.value||(_.delegateRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.metadata.value||(_.metadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.masterEdition.value||(0,n.resolveIsNonFungible)(f,_,T,v,!1)&&(_.masterEdition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.tokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.tokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.authority.value||(_.authority.value=f.identity),_.payer.value||(_.payer.value=f.payer),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.splTokenProgram.value||(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1),_.authorizationRulesProgram.value||_.authorizationRules.value&&(_.authorizationRulesProgram.value=f.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),_.authorizationRulesProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize(T),L=0;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return t1.delegateLockedTransferV1=p,t1}var r1={},XK;function FPe(){if(XK)return r1;XK=1,Object.defineProperty(r1,"__esModule",{value:!0}),r1.delegatePrintDelegateV1=r1.getDelegatePrintDelegateV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt,s=sr();function l(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["delegatePrintDelegateV1Discriminator",(0,t.u8)()],["authorizationData",(0,t.option)((0,s.getAuthorizationDataSerializer)())]],{description:"DelegatePrintDelegateV1InstructionData"}),p=>({...p,discriminator:44,delegatePrintDelegateV1Discriminator:13,authorizationData:p.authorizationData??(0,e.none)()}))}r1.getDelegatePrintDelegateV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,r.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.authority.value||(v.authority.value=p.identity),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize(_),C=0;return(0,e.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return r1.delegatePrintDelegateV1=a,r1}var n1={},QK;function jPe(){if(QK)return n1;QK=1,Object.defineProperty(n1,"__esModule",{value:!0}),n1.delegateProgrammableConfigItemV1=n1.getDelegateProgrammableConfigItemV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt,s=sr();function l(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["delegateProgrammableConfigItemV1Discriminator",(0,t.u8)()],["authorizationData",(0,t.option)((0,s.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigItemV1InstructionData"}),p=>({...p,discriminator:44,delegateProgrammableConfigItemV1Discriminator:12,authorizationData:p.authorizationData??(0,e.none)()}))}n1.getDelegateProgrammableConfigItemV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};v.authority.value||(v.authority.value=p.identity),_.updateAuthority||(_.updateAuthority=(0,i.expectPublicKey)(v.authority.value)),v.delegateRecord.value||(v.delegateRecord.value=(0,n.findMetadataDelegateRecordPda)(p,{delegateRole:s.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,i.expectSome)(_.updateAuthority),mint:(0,i.expectPublicKey)(v.mint.value),delegate:(0,i.expectPublicKey)(v.delegate.value)})),v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,r.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize(_),C=0;return(0,e.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return n1.delegateProgrammableConfigItemV1=a,n1}var i1={},JK;function VPe(){if(JK)return i1;JK=1,Object.defineProperty(i1,"__esModule",{value:!0}),i1.delegateProgrammableConfigV1=i1.getDelegateProgrammableConfigV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt,s=sr();function l(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["delegateProgrammableConfigV1Discriminator",(0,t.u8)()],["authorizationData",(0,t.option)((0,s.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigV1InstructionData"}),p=>({...p,discriminator:44,delegateProgrammableConfigV1Discriminator:8,authorizationData:p.authorizationData??(0,e.none)()}))}i1.getDelegateProgrammableConfigV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};v.authority.value||(v.authority.value=p.identity),_.updateAuthority||(_.updateAuthority=(0,i.expectPublicKey)(v.authority.value)),v.delegateRecord.value||(v.delegateRecord.value=(0,n.findMetadataDelegateRecordPda)(p,{delegateRole:s.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,i.expectSome)(_.updateAuthority),mint:(0,i.expectPublicKey)(v.mint.value),delegate:(0,i.expectPublicKey)(v.delegate.value)})),v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,r.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize(_),C=0;return(0,e.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return i1.delegateProgrammableConfigV1=a,i1}var a1={},eq;function UPe(){if(eq)return a1;eq=1,Object.defineProperty(a1,"__esModule",{value:!0}),a1.delegateSaleV1=a1.getDelegateSaleV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["delegateSaleV1Discriminator",(0,r.u8)()],["amount",(0,r.u64)()],["authorizationData",(0,r.option)((0,l.getAuthorizationDataSerializer)())]],{description:"DelegateSaleV1InstructionData"}),f=>({...f,discriminator:44,delegateSaleV1Discriminator:1,amount:f.amount??1,authorizationData:f.authorizationData??(0,t.none)()}))}a1.getDelegateSaleV1InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={delegateRecord:{index:0,isWritable:!0,value:g.delegateRecord??null},delegate:{index:1,isWritable:!1,value:g.delegate??null},metadata:{index:2,isWritable:!0,value:g.metadata??null},masterEdition:{index:3,isWritable:!1,value:g.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:g.tokenRecord??null},mint:{index:5,isWritable:!1,value:g.mint??null},token:{index:6,isWritable:!0,value:g.token??null},authority:{index:7,isWritable:!1,value:g.authority??null},payer:{index:8,isWritable:!0,value:g.payer??null},systemProgram:{index:9,isWritable:!1,value:g.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:g.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:g.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:g.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:g.authorizationRules??null}},T={...g};T.tokenOwner||(T.tokenOwner=f.identity.publicKey),_.token.value||(_.token.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),owner:(0,s.expectSome)(T.tokenOwner)})),_.delegateRecord.value||(_.delegateRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.metadata.value||(_.metadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.masterEdition.value||(0,n.resolveIsNonFungible)(f,_,T,v,!1)&&(_.masterEdition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.tokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.tokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.authority.value||(_.authority.value=f.identity),_.payer.value||(_.payer.value=f.payer),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.splTokenProgram.value||(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1),_.authorizationRulesProgram.value||_.authorizationRules.value&&(_.authorizationRulesProgram.value=f.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),_.authorizationRulesProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize(T),L=0;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return a1.delegateSaleV1=p,a1}var o1={},tq;function WPe(){if(tq)return o1;tq=1,Object.defineProperty(o1,"__esModule",{value:!0}),o1.delegateStakingV1=o1.getDelegateStakingV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["delegateStakingV1Discriminator",(0,r.u8)()],["amount",(0,r.u64)()],["authorizationData",(0,r.option)((0,l.getAuthorizationDataSerializer)())]],{description:"DelegateStakingV1InstructionData"}),f=>({...f,discriminator:44,delegateStakingV1Discriminator:5,amount:f.amount??1,authorizationData:f.authorizationData??(0,t.none)()}))}o1.getDelegateStakingV1InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={delegateRecord:{index:0,isWritable:!0,value:g.delegateRecord??null},delegate:{index:1,isWritable:!1,value:g.delegate??null},metadata:{index:2,isWritable:!0,value:g.metadata??null},masterEdition:{index:3,isWritable:!1,value:g.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:g.tokenRecord??null},mint:{index:5,isWritable:!1,value:g.mint??null},token:{index:6,isWritable:!0,value:g.token??null},authority:{index:7,isWritable:!1,value:g.authority??null},payer:{index:8,isWritable:!0,value:g.payer??null},systemProgram:{index:9,isWritable:!1,value:g.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:g.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:g.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:g.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:g.authorizationRules??null}},T={...g};T.tokenOwner||(T.tokenOwner=f.identity.publicKey),_.token.value||(_.token.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),owner:(0,s.expectSome)(T.tokenOwner)})),_.delegateRecord.value||(_.delegateRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.metadata.value||(_.metadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.masterEdition.value||(0,n.resolveIsNonFungible)(f,_,T,v,!1)&&(_.masterEdition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.tokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.tokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.authority.value||(_.authority.value=f.identity),_.payer.value||(_.payer.value=f.payer),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.splTokenProgram.value||(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1),_.authorizationRulesProgram.value||_.authorizationRules.value&&(_.authorizationRulesProgram.value=f.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),_.authorizationRulesProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize(T),L=0;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return o1.delegateStakingV1=p,o1}var s1={},rq;function $Pe(){if(rq)return s1;rq=1,Object.defineProperty(s1,"__esModule",{value:!0}),s1.delegateStandardV1=s1.getDelegateStandardV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt;function l(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["delegateStandardV1Discriminator",(0,r.u8)()],["amount",(0,r.u64)()]],{description:"DelegateStandardV1InstructionData"}),p=>({...p,discriminator:44,delegateStandardV1Discriminator:6,amount:p.amount??1}))}s1.getDelegateStandardV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};_.tokenOwner||(_.tokenOwner=p.identity.publicKey),v.token.value||(v.token.value=(0,e.findAssociatedTokenPda)(p,{mint:(0,s.expectPublicKey)(v.mint.value),owner:(0,s.expectSome)(_.tokenOwner)})),v.delegateRecord.value||(v.delegateRecord.value=(0,i.findTokenRecordPda)(p,{mint:(0,s.expectPublicKey)(v.mint.value),token:(0,s.expectPublicKey)(v.token.value)})),v.metadata.value||(v.metadata.value=(0,i.findMetadataPda)(p,{mint:(0,s.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,n.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,i.findMasterEditionPda)(p,{mint:(0,s.expectPublicKey)(v.mint.value)})),v.authority.value||(v.authority.value=p.identity),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.splTokenProgram.value||(v.splTokenProgram.value=p.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),v.splTokenProgram.isWritable=!1),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,s.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize(_),C=0;return(0,t.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return s1.delegateStandardV1=a,s1}var l1={},nq;function KPe(){if(nq)return l1;nq=1,Object.defineProperty(l1,"__esModule",{value:!0}),l1.delegateTransferV1=l1.getDelegateTransferV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["delegateTransferV1Discriminator",(0,r.u8)()],["amount",(0,r.u64)()],["authorizationData",(0,r.option)((0,l.getAuthorizationDataSerializer)())]],{description:"DelegateTransferV1InstructionData"}),f=>({...f,discriminator:44,delegateTransferV1Discriminator:2,amount:f.amount??1,authorizationData:f.authorizationData??(0,t.none)()}))}l1.getDelegateTransferV1InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={delegateRecord:{index:0,isWritable:!0,value:g.delegateRecord??null},delegate:{index:1,isWritable:!1,value:g.delegate??null},metadata:{index:2,isWritable:!0,value:g.metadata??null},masterEdition:{index:3,isWritable:!1,value:g.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:g.tokenRecord??null},mint:{index:5,isWritable:!1,value:g.mint??null},token:{index:6,isWritable:!0,value:g.token??null},authority:{index:7,isWritable:!1,value:g.authority??null},payer:{index:8,isWritable:!0,value:g.payer??null},systemProgram:{index:9,isWritable:!1,value:g.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:g.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:g.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:g.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:g.authorizationRules??null}},T={...g};T.tokenOwner||(T.tokenOwner=f.identity.publicKey),_.token.value||(_.token.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),owner:(0,s.expectSome)(T.tokenOwner)})),_.delegateRecord.value||(_.delegateRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.metadata.value||(_.metadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.masterEdition.value||(0,n.resolveIsNonFungible)(f,_,T,v,!1)&&(_.masterEdition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.tokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.tokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.authority.value||(_.authority.value=f.identity),_.payer.value||(_.payer.value=f.payer),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.splTokenProgram.value||(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1),_.authorizationRulesProgram.value||_.authorizationRules.value&&(_.authorizationRulesProgram.value=f.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),_.authorizationRulesProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize(T),L=0;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return l1.delegateTransferV1=p,l1}var c1={},iq;function qPe(){if(iq)return c1;iq=1,Object.defineProperty(c1,"__esModule",{value:!0}),c1.delegateUtilityV1=c1.getDelegateUtilityV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["delegateUtilityV1Discriminator",(0,r.u8)()],["amount",(0,r.u64)()],["authorizationData",(0,r.option)((0,l.getAuthorizationDataSerializer)())]],{description:"DelegateUtilityV1InstructionData"}),f=>({...f,discriminator:44,delegateUtilityV1Discriminator:4,amount:f.amount??1,authorizationData:f.authorizationData??(0,t.none)()}))}c1.getDelegateUtilityV1InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={delegateRecord:{index:0,isWritable:!0,value:g.delegateRecord??null},delegate:{index:1,isWritable:!1,value:g.delegate??null},metadata:{index:2,isWritable:!0,value:g.metadata??null},masterEdition:{index:3,isWritable:!1,value:g.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:g.tokenRecord??null},mint:{index:5,isWritable:!1,value:g.mint??null},token:{index:6,isWritable:!0,value:g.token??null},authority:{index:7,isWritable:!1,value:g.authority??null},payer:{index:8,isWritable:!0,value:g.payer??null},systemProgram:{index:9,isWritable:!1,value:g.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:g.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:g.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:g.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:g.authorizationRules??null}},T={...g};T.tokenOwner||(T.tokenOwner=f.identity.publicKey),_.token.value||(_.token.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),owner:(0,s.expectSome)(T.tokenOwner)})),_.delegateRecord.value||(_.delegateRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.metadata.value||(_.metadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.masterEdition.value||(0,n.resolveIsNonFungible)(f,_,T,v,!1)&&(_.masterEdition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.tokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.tokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.authority.value||(_.authority.value=f.identity),_.payer.value||(_.payer.value=f.payer),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.splTokenProgram.value||(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1),_.authorizationRulesProgram.value||_.authorizationRules.value&&(_.authorizationRulesProgram.value=f.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),_.authorizationRulesProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize(T),L=0;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return c1.delegateUtilityV1=p,c1}var u1={},aq;function GPe(){if(aq)return u1;aq=1,Object.defineProperty(u1,"__esModule",{value:!0}),u1.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=u1.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()]],{description:"DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionData"}),l=>({...l,discriminator:3}))}u1.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={metadata:{index:0,isWritable:!0,value:a.metadata??null},edition:{index:1,isWritable:!0,value:a.edition??null},masterEdition:{index:2,isWritable:!0,value:a.masterEdition??null},mint:{index:3,isWritable:!0,value:a.mint??null},mintAuthority:{index:4,isWritable:!1,value:a.mintAuthority??null},printingMint:{index:5,isWritable:!0,value:a.printingMint??null},masterTokenAccount:{index:6,isWritable:!0,value:a.masterTokenAccount??null},editionMarker:{index:7,isWritable:!0,value:a.editionMarker??null},burnAuthority:{index:8,isWritable:!1,value:a.burnAuthority??null},payer:{index:9,isWritable:!1,value:a.payer??null},masterUpdateAuthority:{index:10,isWritable:!1,value:a.masterUpdateAuthority??null},masterMetadata:{index:11,isWritable:!1,value:a.masterMetadata??null},tokenProgram:{index:12,isWritable:!1,value:a.tokenProgram??null},systemProgram:{index:13,isWritable:!1,value:a.systemProgram??null},rent:{index:14,isWritable:!1,value:a.rent??null},reservationList:{index:15,isWritable:!0,value:a.reservationList??null}};f.metadata.value||(f.metadata.value=(0,r.findMetadataPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.edition.value||(f.edition.value=(0,r.findMasterEditionPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.masterEdition.value||(f.masterEdition.value=(0,r.findMasterEditionPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.editionMarker.value||(f.editionMarker.value=(0,r.findMasterEditionPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.payer.value||(f.payer.value=l.payer),f.tokenProgram.value||(f.tokenProgram.value=l.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),f.tokenProgram.isWritable=!1),f.systemProgram.value||(f.systemProgram.value=l.programs.getPublicKey("splSystem","11111111111111111111111111111111"),f.systemProgram.isWritable=!1),f.rent.value||(f.rent.value=(0,e.publicKey)("SysvarRent111111111111111111111111111111111"));const g=Object.values(f).sort((I,k)=>I.index-k.index),[v,_]=(0,n.getAccountMetasAndSigners)(g,"omitted",p),T=i().serialize({}),z=0;return(0,e.transactionBuilder)([{instruction:{keys:v,programId:p,data:T},signers:_,bytesCreatedOnChain:z}])}return u1.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=s,u1}var d1={},oq;function HPe(){if(oq)return d1;oq=1,Object.defineProperty(d1,"__esModule",{value:!0}),d1.freezeDelegatedAccount=d1.getFreezeDelegatedAccountInstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()]],{description:"FreezeDelegatedAccountInstructionData"}),l=>({...l,discriminator:26}))}d1.getFreezeDelegatedAccountInstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={delegate:{index:0,isWritable:!0,value:a.delegate??null},tokenAccount:{index:1,isWritable:!0,value:a.tokenAccount??null},edition:{index:2,isWritable:!1,value:a.edition??null},mint:{index:3,isWritable:!1,value:a.mint??null},tokenProgram:{index:4,isWritable:!1,value:a.tokenProgram??null}};f.edition.value||(f.edition.value=(0,r.findMasterEditionPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.tokenProgram.value||(f.tokenProgram.value=l.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),f.tokenProgram.isWritable=!1);const g=Object.values(f).sort((I,k)=>I.index-k.index),[v,_]=(0,n.getAccountMetasAndSigners)(g,"programId",p),T=i().serialize({}),z=0;return(0,e.transactionBuilder)([{instruction:{keys:v,programId:p,data:T},signers:_,bytesCreatedOnChain:z}])}return d1.freezeDelegatedAccount=s,d1}var p1={},sq;function ZPe(){if(sq)return p1;sq=1,Object.defineProperty(p1,"__esModule",{value:!0}),p1.lockV1=p1.getLockV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["lockV1Discriminator",(0,r.u8)()],["authorizationData",(0,r.option)((0,l.getAuthorizationDataSerializer)())]],{description:"LockV1InstructionData"}),f=>({...f,discriminator:46,lockV1Discriminator:0,authorizationData:f.authorizationData??(0,t.none)()}))}p1.getLockV1InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={authority:{index:0,isWritable:!1,value:g.authority??null},tokenOwner:{index:1,isWritable:!1,value:g.tokenOwner??null},token:{index:2,isWritable:!0,value:g.token??null},mint:{index:3,isWritable:!1,value:g.mint??null},metadata:{index:4,isWritable:!0,value:g.metadata??null},edition:{index:5,isWritable:!1,value:g.edition??null},tokenRecord:{index:6,isWritable:!0,value:g.tokenRecord??null},payer:{index:7,isWritable:!0,value:g.payer??null},systemProgram:{index:8,isWritable:!1,value:g.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:g.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:g.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:g.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:g.authorizationRules??null}},T={...g};_.authority.value||(_.authority.value=f.identity),_.tokenOwner.value||(_.tokenOwner={..._.tokenOwner,...(0,n.resolveOptionalTokenOwner)(f,_,T,v,!1)}),_.token.value||(_.token.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),owner:(0,s.expectPublicKey)(_.tokenOwner.value)})),_.metadata.value||(_.metadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.edition.value||(0,n.resolveIsNonFungible)(f,_,T,v,!1)&&(_.edition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.tokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.tokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.payer.value||(_.payer.value=f.payer),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.splTokenProgram.value||T.tokenStandard!==l.TokenStandard.ProgrammableNonFungible&&(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1),_.authorizationRulesProgram.value||_.authorizationRules.value&&(_.authorizationRulesProgram.value=f.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),_.authorizationRulesProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize(T),L=0;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return p1.lockV1=p,p1}var h1={},lq;function YPe(){if(lq)return h1;lq=1,Object.defineProperty(h1,"__esModule",{value:!0}),h1.migrate=h1.getMigrateInstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()]],{description:"MigrateInstructionData"}),l=>({...l,discriminator:48}))}h1.getMigrateInstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={metadata:{index:0,isWritable:!0,value:a.metadata??null},edition:{index:1,isWritable:!0,value:a.edition??null},token:{index:2,isWritable:!0,value:a.token??null},tokenOwner:{index:3,isWritable:!1,value:a.tokenOwner??null},mint:{index:4,isWritable:!1,value:a.mint??null},payer:{index:5,isWritable:!0,value:a.payer??null},authority:{index:6,isWritable:!1,value:a.authority??null},collectionMetadata:{index:7,isWritable:!1,value:a.collectionMetadata??null},delegateRecord:{index:8,isWritable:!1,value:a.delegateRecord??null},tokenRecord:{index:9,isWritable:!0,value:a.tokenRecord??null},systemProgram:{index:10,isWritable:!1,value:a.systemProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:a.sysvarInstructions??null},splTokenProgram:{index:12,isWritable:!1,value:a.splTokenProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:a.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:a.authorizationRules??null}};f.metadata.value||(f.metadata.value=(0,r.findMetadataPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.edition.value||(f.edition.value=(0,r.findMasterEditionPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.payer.value||(f.payer.value=l.payer),f.authority.value||(f.authority.value=l.identity),f.tokenRecord.value||(f.tokenRecord.value=(0,r.findTokenRecordPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value),token:(0,n.expectPublicKey)(f.token.value)})),f.systemProgram.value||(f.systemProgram.value=l.programs.getPublicKey("splSystem","11111111111111111111111111111111"),f.systemProgram.isWritable=!1),f.sysvarInstructions.value||(f.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),f.splTokenProgram.value||(f.splTokenProgram.value=l.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),f.splTokenProgram.isWritable=!1),f.authorizationRulesProgram.value||f.authorizationRules.value&&(f.authorizationRulesProgram.value=l.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),f.authorizationRulesProgram.isWritable=!1);const g=Object.values(f).sort((I,k)=>I.index-k.index),[v,_]=(0,n.getAccountMetasAndSigners)(g,"programId",p),T=i().serialize({}),z=0;return(0,e.transactionBuilder)([{instruction:{keys:v,programId:p,data:T},signers:_,bytesCreatedOnChain:z}])}return h1.migrate=s,h1}var Dv={};Object.defineProperty(Dv,"__esModule",{value:!0});Dv.mintNewEditionFromMasterEditionViaToken=Dv.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=void 0;const XPe=gt,$T=je,QPe=Xt,JPe=sr();function Yie(){return(0,$T.mapSerializer)((0,$T.struct)([["discriminator",(0,$T.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,JPe.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaTokenInstructionData"}),e=>({...e,discriminator:11}))}Dv.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=Yie;function eke(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={newMetadata:{index:0,isWritable:!0,value:t.newMetadata??null},newEdition:{index:1,isWritable:!0,value:t.newEdition??null},masterEdition:{index:2,isWritable:!0,value:t.masterEdition??null},newMint:{index:3,isWritable:!0,value:t.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:t.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:t.newMintAuthority??null},payer:{index:6,isWritable:!0,value:t.payer??null},tokenAccountOwner:{index:7,isWritable:!1,value:t.tokenAccountOwner??null},tokenAccount:{index:8,isWritable:!1,value:t.tokenAccount??null},newMetadataUpdateAuthority:{index:9,isWritable:!1,value:t.newMetadataUpdateAuthority??null},metadata:{index:10,isWritable:!1,value:t.metadata??null},tokenProgram:{index:11,isWritable:!1,value:t.tokenProgram??null},systemProgram:{index:12,isWritable:!1,value:t.systemProgram??null},rent:{index:13,isWritable:!1,value:t.rent??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.tokenProgram.value||(n.tokenProgram.value=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n.tokenProgram.isWritable=!1),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,QPe.getAccountMetasAndSigners)(s,"omitted",r),p=Yie().serialize(i),f=0;return(0,XPe.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}Dv.mintNewEditionFromMasterEditionViaToken=eke;var zv={};Object.defineProperty(zv,"__esModule",{value:!0});zv.mintNewEditionFromMasterEditionViaVaultProxy=zv.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=void 0;const tke=gt,KT=je,rke=Xt,nke=sr();function Xie(){return(0,KT.mapSerializer)((0,KT.struct)([["discriminator",(0,KT.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,nke.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaVaultProxyInstructionData"}),e=>({...e,discriminator:13}))}zv.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=Xie;function ike(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={newMetadata:{index:0,isWritable:!0,value:t.newMetadata??null},newEdition:{index:1,isWritable:!0,value:t.newEdition??null},masterEdition:{index:2,isWritable:!0,value:t.masterEdition??null},newMint:{index:3,isWritable:!0,value:t.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:t.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:t.newMintAuthority??null},payer:{index:6,isWritable:!0,value:t.payer??null},vaultAuthority:{index:7,isWritable:!1,value:t.vaultAuthority??null},safetyDepositStore:{index:8,isWritable:!1,value:t.safetyDepositStore??null},safetyDepositBox:{index:9,isWritable:!1,value:t.safetyDepositBox??null},vault:{index:10,isWritable:!1,value:t.vault??null},newMetadataUpdateAuthority:{index:11,isWritable:!1,value:t.newMetadataUpdateAuthority??null},metadata:{index:12,isWritable:!1,value:t.metadata??null},tokenProgram:{index:13,isWritable:!1,value:t.tokenProgram??null},tokenVaultProgram:{index:14,isWritable:!1,value:t.tokenVaultProgram??null},systemProgram:{index:15,isWritable:!1,value:t.systemProgram??null},rent:{index:16,isWritable:!1,value:t.rent??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.tokenProgram.value||(n.tokenProgram.value=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n.tokenProgram.isWritable=!1),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,rke.getAccountMetasAndSigners)(s,"omitted",r),p=Xie().serialize(i),f=0;return(0,tke.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}zv.mintNewEditionFromMasterEditionViaVaultProxy=ike;var f1={},cq;function ake(){if(cq)return f1;cq=1,Object.defineProperty(f1,"__esModule",{value:!0}),f1.mintV1=f1.getMintV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["mintV1Discriminator",(0,r.u8)()],["amount",(0,r.u64)()],["authorizationData",(0,r.option)((0,l.getAuthorizationDataSerializer)())]],{description:"MintV1InstructionData"}),f=>({...f,discriminator:43,mintV1Discriminator:0,amount:f.amount??1,authorizationData:f.authorizationData??(0,t.none)()}))}f1.getMintV1InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={token:{index:0,isWritable:!0,value:g.token??null},tokenOwner:{index:1,isWritable:!1,value:g.tokenOwner??null},metadata:{index:2,isWritable:!1,value:g.metadata??null},masterEdition:{index:3,isWritable:!0,value:g.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:g.tokenRecord??null},mint:{index:5,isWritable:!0,value:g.mint??null},authority:{index:6,isWritable:!1,value:g.authority??null},delegateRecord:{index:7,isWritable:!1,value:g.delegateRecord??null},payer:{index:8,isWritable:!0,value:g.payer??null},systemProgram:{index:9,isWritable:!1,value:g.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:g.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:g.splTokenProgram??null},splAtaProgram:{index:12,isWritable:!1,value:g.splAtaProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:g.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:g.authorizationRules??null}},T={...g};_.tokenOwner.value||(_.tokenOwner={..._.tokenOwner,...(0,n.resolveOptionalTokenOwner)(f,_,T,v,!1)}),_.token.value||(_.token.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),owner:(0,s.expectPublicKey)(_.tokenOwner.value)})),_.metadata.value||(_.metadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.masterEdition.value||(0,n.resolveIsNonFungible)(f,_,T,v,!0)&&(_.masterEdition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.tokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.tokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.authority.value||(_.authority.value=f.identity),_.payer.value||(_.payer.value=f.payer),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.splTokenProgram.value||(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1),_.splAtaProgram.value||(_.splAtaProgram.value=f.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),_.splAtaProgram.isWritable=!1),_.authorizationRulesProgram.value||_.authorizationRules.value&&(_.authorizationRulesProgram.value=f.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),_.authorizationRulesProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize(T),L=468;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return f1.mintV1=p,f1}var m1={},uq;function oke(){if(uq)return m1;uq=1,Object.defineProperty(m1,"__esModule",{value:!0}),m1.printV1=m1.getPrintV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["printV1Discriminator",(0,r.u8)()],["editionNumber",(0,r.u64)()]],{description:"PrintV1InstructionData"}),f=>({...f,discriminator:55,printV1Discriminator:0}))}m1.getPrintV1InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={editionMetadata:{index:0,isWritable:!0,value:g.editionMetadata??null},edition:{index:1,isWritable:!0,value:g.edition??null},editionMint:{index:2,isWritable:!0,value:g.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:g.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:g.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:g.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:g.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:g.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:g.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:g.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:g.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:g.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:g.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:g.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:g.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:g.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:g.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:g.systemProgram??null}},T={...g};_.editionMetadata.value||(_.editionMetadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.editionMint.value)})),_.edition.value||(_.edition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.editionMint.value)})),_.editionTokenAccountOwner.value||(_.editionTokenAccountOwner.value=f.identity.publicKey),_.editionTokenAccount.value||(_.editionTokenAccount.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.editionMint.value),owner:(0,s.expectPublicKey)(_.editionTokenAccountOwner.value)})),_.masterTokenAccountOwner.value||(_.masterTokenAccountOwner.value=f.identity),_.editionMintAuthority.value||(_.editionMintAuthority.value=(0,s.expectSome)(_.masterTokenAccountOwner.value)),_.editionTokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.editionTokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.editionMint.value),token:(0,s.expectPublicKey)(_.editionTokenAccount.value)})),_.masterEdition.value||(_.masterEdition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectSome)(T.masterEditionMint)})),_.editionMarkerPda.value||(T.tokenStandard===l.TokenStandard.ProgrammableNonFungible?_.editionMarkerPda.value=(0,i.findEditionMarkerV2Pda)(f,{mint:(0,s.expectSome)(T.masterEditionMint)}):_.editionMarkerPda.value=(0,n.findEditionMarkerFromEditionNumberPda)(f,{mint:(0,s.expectSome)(T.masterEditionMint),editionNumber:(0,s.expectSome)(T.editionNumber)})),_.payer.value||(_.payer.value=f.payer),_.masterTokenAccount.value||(_.masterTokenAccount.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectSome)(T.masterEditionMint),owner:(0,s.expectPublicKey)(_.masterTokenAccountOwner.value)})),_.masterMetadata.value||(_.masterMetadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectSome)(T.masterEditionMint)})),_.updateAuthority.value||(_.updateAuthority.value=f.identity.publicKey),_.splTokenProgram.value||(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1),_.splAtaProgram.value||(_.splAtaProgram.value=f.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),_.splAtaProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize(T),L=0;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return m1.printV1=p,m1}var g1={},dq;function ske(){if(dq)return g1;dq=1,Object.defineProperty(g1,"__esModule",{value:!0}),g1.printV2=g1.getPrintV2InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["printV2Discriminator",(0,r.u8)()],["editionNumber",(0,r.u64)()]],{description:"PrintV2InstructionData"}),f=>({...f,discriminator:55,printV2Discriminator:1}))}g1.getPrintV2InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={editionMetadata:{index:0,isWritable:!0,value:g.editionMetadata??null},edition:{index:1,isWritable:!0,value:g.edition??null},editionMint:{index:2,isWritable:!0,value:g.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:g.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:g.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:g.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:g.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:g.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:g.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:g.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:g.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:g.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:g.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:g.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:g.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:g.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:g.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:g.systemProgram??null},holderDelegateRecord:{index:18,isWritable:!1,value:g.holderDelegateRecord??null},delegate:{index:19,isWritable:!1,value:g.delegate??null}},T={...g};_.editionMetadata.value||(_.editionMetadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.editionMint.value)})),_.edition.value||(_.edition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.editionMint.value)})),_.editionTokenAccountOwner.value||(_.editionTokenAccountOwner.value=f.identity.publicKey),_.editionTokenAccount.value||(_.editionTokenAccount.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.editionMint.value),owner:(0,s.expectPublicKey)(_.editionTokenAccountOwner.value)})),_.payer.value||(_.payer.value=f.payer),_.editionMintAuthority.value||(_.holderDelegateRecord.value?_.delegate.value?_.editionMintAuthority.value=(0,s.expectSome)(_.delegate.value):_.editionMintAuthority.value=(0,s.expectSome)(_.payer.value):_.editionMintAuthority.value=f.identity),_.editionTokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.editionTokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.editionMint.value),token:(0,s.expectPublicKey)(_.editionTokenAccount.value)})),_.masterEdition.value||(_.masterEdition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectSome)(T.masterEditionMint)})),_.editionMarkerPda.value||(T.tokenStandard===l.TokenStandard.ProgrammableNonFungible?_.editionMarkerPda.value=(0,i.findEditionMarkerV2Pda)(f,{mint:(0,s.expectSome)(T.masterEditionMint)}):_.editionMarkerPda.value=(0,n.findEditionMarkerFromEditionNumberPda)(f,{mint:(0,s.expectSome)(T.masterEditionMint),editionNumber:(0,s.expectSome)(T.editionNumber)})),_.masterTokenAccountOwner.value||_.holderDelegateRecord.value||(_.masterTokenAccountOwner.value=f.identity),_.masterTokenAccount.value||(_.masterTokenAccount.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectSome)(T.masterEditionMint),owner:(0,s.expectPublicKey)(_.masterTokenAccountOwner.value)})),_.masterMetadata.value||(_.masterMetadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectSome)(T.masterEditionMint)})),_.updateAuthority.value||(_.updateAuthority.value=f.identity.publicKey),_.splTokenProgram.value||(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1),_.splAtaProgram.value||(_.splAtaProgram.value=f.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),_.splAtaProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize(T),L=0;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return g1.printV2=p,g1}var Rv={};Object.defineProperty(Rv,"__esModule",{value:!0});Rv.puffMetadata=Rv.getPuffMetadataInstructionDataSerializer=void 0;const lke=gt,qT=je,cke=Xt;function Qie(){return(0,qT.mapSerializer)((0,qT.struct)([["discriminator",(0,qT.u8)()]],{description:"PuffMetadataInstructionData"}),e=>({...e,discriminator:14}))}Rv.getPuffMetadataInstructionDataSerializer=Qie;function uke(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={metadata:{index:0,isWritable:!0,value:t.metadata??null}},i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,cke.getAccountMetasAndSigners)(i,"programId",r),a=Qie().serialize({}),p=0;return(0,lke.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Rv.puffMetadata=uke;var Nv={};Object.defineProperty(Nv,"__esModule",{value:!0});Nv.removeCreatorVerification=Nv.getRemoveCreatorVerificationInstructionDataSerializer=void 0;const dke=gt,GT=je,pke=Xt;function Jie(){return(0,GT.mapSerializer)((0,GT.struct)([["discriminator",(0,GT.u8)()]],{description:"RemoveCreatorVerificationInstructionData"}),e=>({...e,discriminator:28}))}Nv.getRemoveCreatorVerificationInstructionDataSerializer=Jie;function hke(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={metadata:{index:0,isWritable:!0,value:t.metadata??null},creator:{index:1,isWritable:!1,value:t.creator??null}},i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,pke.getAccountMetasAndSigners)(i,"programId",r),a=Jie().serialize({}),p=0;return(0,dke.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Nv.removeCreatorVerification=hke;var y1={},pq;function fke(){if(pq)return y1;pq=1,Object.defineProperty(y1,"__esModule",{value:!0}),y1.resize=y1.getResizeInstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()]],{description:"ResizeInstructionData"}),l=>({...l,discriminator:56}))}y1.getResizeInstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={metadata:{index:0,isWritable:!0,value:a.metadata??null},edition:{index:1,isWritable:!0,value:a.edition??null},mint:{index:2,isWritable:!1,value:a.mint??null},payer:{index:3,isWritable:!0,value:a.payer??null},authority:{index:4,isWritable:!1,value:a.authority??null},token:{index:5,isWritable:!1,value:a.token??null},systemProgram:{index:6,isWritable:!1,value:a.systemProgram??null}};f.metadata.value||(f.metadata.value=(0,r.findMetadataPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.edition.value||(f.edition.value=(0,r.findMasterEditionPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.payer.value||(f.payer.value=l.payer),f.systemProgram.value||(f.systemProgram.value=l.programs.getPublicKey("splSystem","11111111111111111111111111111111"),f.systemProgram.isWritable=!1);const g=Object.values(f).sort((I,k)=>I.index-k.index),[v,_]=(0,n.getAccountMetasAndSigners)(g,"programId",p),T=i().serialize({}),z=0;return(0,e.transactionBuilder)([{instruction:{keys:v,programId:p,data:T},signers:_,bytesCreatedOnChain:z}])}return y1.resize=s,y1}var v1={},hq;function mke(){if(hq)return v1;hq=1,Object.defineProperty(v1,"__esModule",{value:!0}),v1.revokeAuthorityItemV1=v1.getRevokeAuthorityItemV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt,s=sr();function l(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["revokeAuthorityItemV1Discriminator",(0,t.u8)()]],{description:"RevokeAuthorityItemV1InstructionData"}),p=>({...p,discriminator:45,revokeAuthorityItemV1Discriminator:10}))}v1.getRevokeAuthorityItemV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};v.authority.value||(v.authority.value=p.identity),_.updateAuthority||(_.updateAuthority=(0,i.expectPublicKey)(v.authority.value)),v.delegateRecord.value||(v.delegateRecord.value=(0,n.findMetadataDelegateRecordPda)(p,{delegateRole:s.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,i.expectSome)(_.updateAuthority),mint:(0,i.expectPublicKey)(v.mint.value),delegate:(0,i.expectPublicKey)(v.delegate.value)})),v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,r.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize({}),C=0;return(0,e.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return v1.revokeAuthorityItemV1=a,v1}var _1={},fq;function gke(){if(fq)return _1;fq=1,Object.defineProperty(_1,"__esModule",{value:!0}),_1.revokeCollectionAuthority=_1.getRevokeCollectionAuthorityInstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()]],{description:"RevokeCollectionAuthorityInstructionData"}),l=>({...l,discriminator:24}))}_1.getRevokeCollectionAuthorityInstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={collectionAuthorityRecord:{index:0,isWritable:!0,value:a.collectionAuthorityRecord??null},delegateAuthority:{index:1,isWritable:!0,value:a.delegateAuthority??null},revokeAuthority:{index:2,isWritable:!0,value:a.revokeAuthority??null},metadata:{index:3,isWritable:!1,value:a.metadata??null},mint:{index:4,isWritable:!1,value:a.mint??null}};f.metadata.value||(f.metadata.value=(0,r.findMetadataPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)}));const g=Object.values(f).sort((I,k)=>I.index-k.index),[v,_]=(0,n.getAccountMetasAndSigners)(g,"programId",p),T=i().serialize({}),z=0;return(0,e.transactionBuilder)([{instruction:{keys:v,programId:p,data:T},signers:_,bytesCreatedOnChain:z}])}return _1.revokeCollectionAuthority=s,_1}var b1={},mq;function yke(){if(mq)return b1;mq=1,Object.defineProperty(b1,"__esModule",{value:!0}),b1.revokeCollectionItemV1=b1.getRevokeCollectionItemV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt,s=sr();function l(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["revokeCollectionItemV1Discriminator",(0,t.u8)()]],{description:"RevokeCollectionItemV1InstructionData"}),p=>({...p,discriminator:45,revokeCollectionItemV1Discriminator:12}))}b1.getRevokeCollectionItemV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};v.authority.value||(v.authority.value=p.identity),_.updateAuthority||(_.updateAuthority=(0,i.expectPublicKey)(v.authority.value)),v.delegateRecord.value||(v.delegateRecord.value=(0,n.findMetadataDelegateRecordPda)(p,{delegateRole:s.MetadataDelegateRole.CollectionItem,updateAuthority:(0,i.expectSome)(_.updateAuthority),mint:(0,i.expectPublicKey)(v.mint.value),delegate:(0,i.expectPublicKey)(v.delegate.value)})),v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,r.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize({}),C=0;return(0,e.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return b1.revokeCollectionItemV1=a,b1}var x1={},gq;function vke(){if(gq)return x1;gq=1,Object.defineProperty(x1,"__esModule",{value:!0}),x1.revokeCollectionV1=x1.getRevokeCollectionV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt,s=sr();function l(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["revokeCollectionV1Discriminator",(0,t.u8)()]],{description:"RevokeCollectionV1InstructionData"}),p=>({...p,discriminator:45,revokeCollectionV1Discriminator:0}))}x1.getRevokeCollectionV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};v.authority.value||(v.authority.value=p.identity),_.updateAuthority||(_.updateAuthority=(0,i.expectPublicKey)(v.authority.value)),v.delegateRecord.value||(v.delegateRecord.value=(0,n.findMetadataDelegateRecordPda)(p,{delegateRole:s.MetadataDelegateRole.Collection,updateAuthority:(0,i.expectSome)(_.updateAuthority),mint:(0,i.expectPublicKey)(v.mint.value),delegate:(0,i.expectPublicKey)(v.delegate.value)})),v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,r.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize({}),C=0;return(0,e.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return x1.revokeCollectionV1=a,x1}var w1={},yq;function _ke(){if(yq)return w1;yq=1,Object.defineProperty(w1,"__esModule",{value:!0}),w1.revokeDataItemV1=w1.getRevokeDataItemV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt,s=sr();function l(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["revokeDataItemV1Discriminator",(0,t.u8)()]],{description:"RevokeDataItemV1InstructionData"}),p=>({...p,discriminator:45,revokeDataItemV1Discriminator:11}))}w1.getRevokeDataItemV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};v.authority.value||(v.authority.value=p.identity),_.updateAuthority||(_.updateAuthority=(0,i.expectPublicKey)(v.authority.value)),v.delegateRecord.value||(v.delegateRecord.value=(0,n.findMetadataDelegateRecordPda)(p,{delegateRole:s.MetadataDelegateRole.DataItem,updateAuthority:(0,i.expectSome)(_.updateAuthority),mint:(0,i.expectPublicKey)(v.mint.value),delegate:(0,i.expectPublicKey)(v.delegate.value)})),v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,r.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize({}),C=0;return(0,e.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return w1.revokeDataItemV1=a,w1}var S1={},vq;function bke(){if(vq)return S1;vq=1,Object.defineProperty(S1,"__esModule",{value:!0}),S1.revokeDataV1=S1.getRevokeDataV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt,s=sr();function l(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["revokeDataV1Discriminator",(0,t.u8)()]],{description:"RevokeDataV1InstructionData"}),p=>({...p,discriminator:45,revokeDataV1Discriminator:3}))}S1.getRevokeDataV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};v.authority.value||(v.authority.value=p.identity),_.updateAuthority||(_.updateAuthority=(0,i.expectPublicKey)(v.authority.value)),v.delegateRecord.value||(v.delegateRecord.value=(0,n.findMetadataDelegateRecordPda)(p,{delegateRole:s.MetadataDelegateRole.Data,updateAuthority:(0,i.expectSome)(_.updateAuthority),mint:(0,i.expectPublicKey)(v.mint.value),delegate:(0,i.expectPublicKey)(v.delegate.value)})),v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,r.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize({}),C=0;return(0,e.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return S1.revokeDataV1=a,S1}var E1={},_q;function xke(){if(_q)return E1;_q=1,Object.defineProperty(E1,"__esModule",{value:!0}),E1.revokeLockedTransferV1=E1.getRevokeLockedTransferV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["revokeLockedTransferV1Discriminator",(0,r.u8)()]],{description:"RevokeLockedTransferV1InstructionData"}),f=>({...f,discriminator:45,revokeLockedTransferV1Discriminator:7}))}E1.getRevokeLockedTransferV1InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={delegateRecord:{index:0,isWritable:!0,value:g.delegateRecord??null},delegate:{index:1,isWritable:!1,value:g.delegate??null},metadata:{index:2,isWritable:!0,value:g.metadata??null},masterEdition:{index:3,isWritable:!1,value:g.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:g.tokenRecord??null},mint:{index:5,isWritable:!1,value:g.mint??null},token:{index:6,isWritable:!0,value:g.token??null},authority:{index:7,isWritable:!1,value:g.authority??null},payer:{index:8,isWritable:!0,value:g.payer??null},systemProgram:{index:9,isWritable:!1,value:g.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:g.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:g.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:g.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:g.authorizationRules??null}},T={...g};T.tokenOwner||(T.tokenOwner=f.identity.publicKey),_.token.value||(_.token.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),owner:(0,s.expectSome)(T.tokenOwner)})),_.delegateRecord.value||(_.delegateRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.metadata.value||(_.metadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.masterEdition.value||(0,n.resolveIsNonFungible)(f,_,T,v,!1)&&(_.masterEdition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.tokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.tokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.authority.value||(_.authority.value=f.identity),_.payer.value||(_.payer.value=f.payer),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.splTokenProgram.value||(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1),_.authorizationRulesProgram.value||_.authorizationRules.value&&(_.authorizationRulesProgram.value=f.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),_.authorizationRulesProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize({}),L=0;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return E1.revokeLockedTransferV1=p,E1}var A1={},bq;function wke(){if(bq)return A1;bq=1,Object.defineProperty(A1,"__esModule",{value:!0}),A1.revokeMigrationV1=A1.getRevokeMigrationV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["revokeMigrationV1Discriminator",(0,r.u8)()]],{description:"RevokeMigrationV1InstructionData"}),f=>({...f,discriminator:45,revokeMigrationV1Discriminator:9}))}A1.getRevokeMigrationV1InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={delegateRecord:{index:0,isWritable:!0,value:g.delegateRecord??null},delegate:{index:1,isWritable:!1,value:g.delegate??null},metadata:{index:2,isWritable:!0,value:g.metadata??null},masterEdition:{index:3,isWritable:!1,value:g.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:g.tokenRecord??null},mint:{index:5,isWritable:!1,value:g.mint??null},token:{index:6,isWritable:!0,value:g.token??null},authority:{index:7,isWritable:!1,value:g.authority??null},payer:{index:8,isWritable:!0,value:g.payer??null},systemProgram:{index:9,isWritable:!1,value:g.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:g.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:g.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:g.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:g.authorizationRules??null}},T={...g};T.tokenOwner||(T.tokenOwner=f.identity.publicKey),_.token.value||(_.token.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),owner:(0,s.expectSome)(T.tokenOwner)})),_.delegateRecord.value||(_.delegateRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.metadata.value||(_.metadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.masterEdition.value||(0,n.resolveIsNonFungible)(f,_,T,v,!1)&&(_.masterEdition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.tokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.tokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.authority.value||(_.authority.value=f.identity),_.payer.value||(_.payer.value=f.payer),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.splTokenProgram.value||(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1),_.authorizationRulesProgram.value||_.authorizationRules.value&&(_.authorizationRulesProgram.value=f.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),_.authorizationRulesProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize({}),L=0;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return A1.revokeMigrationV1=p,A1}var T1={},xq;function Ske(){if(xq)return T1;xq=1,Object.defineProperty(T1,"__esModule",{value:!0}),T1.revokePrintDelegateV1=T1.getRevokePrintDelegateV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt;function s(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["revokePrintDelegateV1Discriminator",(0,t.u8)()]],{description:"RevokePrintDelegateV1InstructionData"}),a=>({...a,discriminator:45,revokePrintDelegateV1Discriminator:14}))}T1.getRevokePrintDelegateV1InstructionDataSerializer=s;function l(a,p){const f=a.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),g={delegateRecord:{index:0,isWritable:!0,value:p.delegateRecord??null},delegate:{index:1,isWritable:!1,value:p.delegate??null},metadata:{index:2,isWritable:!0,value:p.metadata??null},masterEdition:{index:3,isWritable:!1,value:p.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:p.tokenRecord??null},mint:{index:5,isWritable:!1,value:p.mint??null},token:{index:6,isWritable:!0,value:p.token??null},authority:{index:7,isWritable:!1,value:p.authority??null},payer:{index:8,isWritable:!0,value:p.payer??null},systemProgram:{index:9,isWritable:!1,value:p.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:p.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:p.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:p.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:p.authorizationRules??null}};g.metadata.value||(g.metadata.value=(0,n.findMetadataPda)(a,{mint:(0,i.expectPublicKey)(g.mint.value)})),g.masterEdition.value||(0,r.resolveIsNonFungible)(a,g,p,f,!1)&&(g.masterEdition.value=(0,n.findMasterEditionPda)(a,{mint:(0,i.expectPublicKey)(g.mint.value)})),g.authority.value||(g.authority.value=a.identity),g.payer.value||(g.payer.value=a.payer),g.systemProgram.value||(g.systemProgram.value=a.programs.getPublicKey("splSystem","11111111111111111111111111111111"),g.systemProgram.isWritable=!1),g.sysvarInstructions.value||(g.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),g.authorizationRulesProgram.value||g.authorizationRules.value&&(g.authorizationRulesProgram.value=a.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),g.authorizationRulesProgram.isWritable=!1);const v=Object.values(g).sort((k,C)=>k.index-C.index),[_,T]=(0,i.getAccountMetasAndSigners)(v,"programId",f),z=s().serialize({}),I=0;return(0,e.transactionBuilder)([{instruction:{keys:_,programId:f,data:z},signers:T,bytesCreatedOnChain:I}])}return T1.revokePrintDelegateV1=l,T1}var M1={},wq;function Eke(){if(wq)return M1;wq=1,Object.defineProperty(M1,"__esModule",{value:!0}),M1.revokeProgrammableConfigItemV1=M1.getRevokeProgrammableConfigItemV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt,s=sr();function l(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["revokeProgrammableConfigItemV1Discriminator",(0,t.u8)()]],{description:"RevokeProgrammableConfigItemV1InstructionData"}),p=>({...p,discriminator:45,revokeProgrammableConfigItemV1Discriminator:13}))}M1.getRevokeProgrammableConfigItemV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};v.authority.value||(v.authority.value=p.identity),_.updateAuthority||(_.updateAuthority=(0,i.expectPublicKey)(v.authority.value)),v.delegateRecord.value||(v.delegateRecord.value=(0,n.findMetadataDelegateRecordPda)(p,{delegateRole:s.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,i.expectSome)(_.updateAuthority),mint:(0,i.expectPublicKey)(v.mint.value),delegate:(0,i.expectPublicKey)(v.delegate.value)})),v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,r.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize({}),C=0;return(0,e.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return M1.revokeProgrammableConfigItemV1=a,M1}var P1={},Sq;function Ake(){if(Sq)return P1;Sq=1,Object.defineProperty(P1,"__esModule",{value:!0}),P1.revokeProgrammableConfigV1=P1.getRevokeProgrammableConfigV1InstructionDataSerializer=void 0;const e=gt,t=je,r=_n(),n=br(),i=Xt,s=sr();function l(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["revokeProgrammableConfigV1Discriminator",(0,t.u8)()]],{description:"RevokeProgrammableConfigV1InstructionData"}),p=>({...p,discriminator:45,revokeProgrammableConfigV1Discriminator:8}))}P1.getRevokeProgrammableConfigV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};v.authority.value||(v.authority.value=p.identity),_.updateAuthority||(_.updateAuthority=(0,i.expectPublicKey)(v.authority.value)),v.delegateRecord.value||(v.delegateRecord.value=(0,n.findMetadataDelegateRecordPda)(p,{delegateRole:s.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,i.expectSome)(_.updateAuthority),mint:(0,i.expectPublicKey)(v.mint.value),delegate:(0,i.expectPublicKey)(v.delegate.value)})),v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,r.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize({}),C=0;return(0,e.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return P1.revokeProgrammableConfigV1=a,P1}var k1={},Eq;function Tke(){if(Eq)return k1;Eq=1,Object.defineProperty(k1,"__esModule",{value:!0}),k1.revokeSaleV1=k1.getRevokeSaleV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["revokeSaleV1Discriminator",(0,r.u8)()]],{description:"RevokeSaleV1InstructionData"}),f=>({...f,discriminator:45,revokeSaleV1Discriminator:1}))}k1.getRevokeSaleV1InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={delegateRecord:{index:0,isWritable:!0,value:g.delegateRecord??null},delegate:{index:1,isWritable:!1,value:g.delegate??null},metadata:{index:2,isWritable:!0,value:g.metadata??null},masterEdition:{index:3,isWritable:!1,value:g.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:g.tokenRecord??null},mint:{index:5,isWritable:!1,value:g.mint??null},token:{index:6,isWritable:!0,value:g.token??null},authority:{index:7,isWritable:!1,value:g.authority??null},payer:{index:8,isWritable:!0,value:g.payer??null},systemProgram:{index:9,isWritable:!1,value:g.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:g.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:g.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:g.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:g.authorizationRules??null}},T={...g};T.tokenOwner||(T.tokenOwner=f.identity.publicKey),_.token.value||(_.token.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),owner:(0,s.expectSome)(T.tokenOwner)})),_.delegateRecord.value||(_.delegateRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.metadata.value||(_.metadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.masterEdition.value||(0,n.resolveIsNonFungible)(f,_,T,v,!1)&&(_.masterEdition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.tokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.tokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.authority.value||(_.authority.value=f.identity),_.payer.value||(_.payer.value=f.payer),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.splTokenProgram.value||(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1),_.authorizationRulesProgram.value||_.authorizationRules.value&&(_.authorizationRulesProgram.value=f.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),_.authorizationRulesProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize({}),L=0;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return k1.revokeSaleV1=p,k1}var I1={},Aq;function Mke(){if(Aq)return I1;Aq=1,Object.defineProperty(I1,"__esModule",{value:!0}),I1.revokeStakingV1=I1.getRevokeStakingV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["revokeStakingV1Discriminator",(0,r.u8)()]],{description:"RevokeStakingV1InstructionData"}),f=>({...f,discriminator:45,revokeStakingV1Discriminator:5}))}I1.getRevokeStakingV1InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={delegateRecord:{index:0,isWritable:!0,value:g.delegateRecord??null},delegate:{index:1,isWritable:!1,value:g.delegate??null},metadata:{index:2,isWritable:!0,value:g.metadata??null},masterEdition:{index:3,isWritable:!1,value:g.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:g.tokenRecord??null},mint:{index:5,isWritable:!1,value:g.mint??null},token:{index:6,isWritable:!0,value:g.token??null},authority:{index:7,isWritable:!1,value:g.authority??null},payer:{index:8,isWritable:!0,value:g.payer??null},systemProgram:{index:9,isWritable:!1,value:g.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:g.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:g.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:g.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:g.authorizationRules??null}},T={...g};T.tokenOwner||(T.tokenOwner=f.identity.publicKey),_.token.value||(_.token.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),owner:(0,s.expectSome)(T.tokenOwner)})),_.delegateRecord.value||(_.delegateRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.metadata.value||(_.metadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.masterEdition.value||(0,n.resolveIsNonFungible)(f,_,T,v,!1)&&(_.masterEdition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.tokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.tokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.authority.value||(_.authority.value=f.identity),_.payer.value||(_.payer.value=f.payer),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.splTokenProgram.value||(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1),_.authorizationRulesProgram.value||_.authorizationRules.value&&(_.authorizationRulesProgram.value=f.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),_.authorizationRulesProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize({}),L=0;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return I1.revokeStakingV1=p,I1}var C1={},Tq;function Pke(){if(Tq)return C1;Tq=1,Object.defineProperty(C1,"__esModule",{value:!0}),C1.revokeStandardV1=C1.getRevokeStandardV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt;function l(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["revokeStandardV1Discriminator",(0,r.u8)()]],{description:"RevokeStandardV1InstructionData"}),p=>({...p,discriminator:45,revokeStandardV1Discriminator:6}))}C1.getRevokeStandardV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={delegateRecord:{index:0,isWritable:!0,value:f.delegateRecord??null},delegate:{index:1,isWritable:!1,value:f.delegate??null},metadata:{index:2,isWritable:!0,value:f.metadata??null},masterEdition:{index:3,isWritable:!1,value:f.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:f.tokenRecord??null},mint:{index:5,isWritable:!1,value:f.mint??null},token:{index:6,isWritable:!0,value:f.token??null},authority:{index:7,isWritable:!1,value:f.authority??null},payer:{index:8,isWritable:!0,value:f.payer??null},systemProgram:{index:9,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:f.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:f.authorizationRules??null}},_={...f};_.tokenOwner||(_.tokenOwner=p.identity.publicKey),v.token.value||(v.token.value=(0,e.findAssociatedTokenPda)(p,{mint:(0,s.expectPublicKey)(v.mint.value),owner:(0,s.expectSome)(_.tokenOwner)})),v.delegateRecord.value||(v.delegateRecord.value=(0,i.findTokenRecordPda)(p,{mint:(0,s.expectPublicKey)(v.mint.value),token:(0,s.expectPublicKey)(v.token.value)})),v.metadata.value||(v.metadata.value=(0,i.findMetadataPda)(p,{mint:(0,s.expectPublicKey)(v.mint.value)})),v.masterEdition.value||(0,n.resolveIsNonFungible)(p,v,_,g,!1)&&(v.masterEdition.value=(0,i.findMasterEditionPda)(p,{mint:(0,s.expectPublicKey)(v.mint.value)})),v.authority.value||(v.authority.value=p.identity),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.splTokenProgram.value||(v.splTokenProgram.value=p.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),v.splTokenProgram.isWritable=!1),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,s.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize({}),C=0;return(0,t.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return C1.revokeStandardV1=a,C1}var D1={},Mq;function kke(){if(Mq)return D1;Mq=1,Object.defineProperty(D1,"__esModule",{value:!0}),D1.revokeTransferV1=D1.getRevokeTransferV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["revokeTransferV1Discriminator",(0,r.u8)()]],{description:"RevokeTransferV1InstructionData"}),f=>({...f,discriminator:45,revokeTransferV1Discriminator:2}))}D1.getRevokeTransferV1InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={delegateRecord:{index:0,isWritable:!0,value:g.delegateRecord??null},delegate:{index:1,isWritable:!1,value:g.delegate??null},metadata:{index:2,isWritable:!0,value:g.metadata??null},masterEdition:{index:3,isWritable:!1,value:g.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:g.tokenRecord??null},mint:{index:5,isWritable:!1,value:g.mint??null},token:{index:6,isWritable:!0,value:g.token??null},authority:{index:7,isWritable:!1,value:g.authority??null},payer:{index:8,isWritable:!0,value:g.payer??null},systemProgram:{index:9,isWritable:!1,value:g.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:g.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:g.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:g.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:g.authorizationRules??null}},T={...g};T.tokenOwner||(T.tokenOwner=f.identity.publicKey),_.token.value||(_.token.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),owner:(0,s.expectSome)(T.tokenOwner)})),_.delegateRecord.value||(_.delegateRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.metadata.value||(_.metadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.masterEdition.value||(0,n.resolveIsNonFungible)(f,_,T,v,!1)&&(_.masterEdition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.tokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.tokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.authority.value||(_.authority.value=f.identity),_.payer.value||(_.payer.value=f.payer),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.splTokenProgram.value||(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1),_.authorizationRulesProgram.value||_.authorizationRules.value&&(_.authorizationRulesProgram.value=f.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),_.authorizationRulesProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize({}),L=0;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return D1.revokeTransferV1=p,D1}var z1={},Pq;function Ike(){if(Pq)return z1;Pq=1,Object.defineProperty(z1,"__esModule",{value:!0}),z1.revokeUseAuthority=z1.getRevokeUseAuthorityInstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()]],{description:"RevokeUseAuthorityInstructionData"}),l=>({...l,discriminator:21}))}z1.getRevokeUseAuthorityInstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={useAuthorityRecord:{index:0,isWritable:!0,value:a.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:a.owner??null},user:{index:2,isWritable:!1,value:a.user??null},ownerTokenAccount:{index:3,isWritable:!0,value:a.ownerTokenAccount??null},mint:{index:4,isWritable:!1,value:a.mint??null},metadata:{index:5,isWritable:!1,value:a.metadata??null},tokenProgram:{index:6,isWritable:!1,value:a.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:a.systemProgram??null},rent:{index:8,isWritable:!1,value:a.rent??null}};f.metadata.value||(f.metadata.value=(0,r.findMetadataPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.tokenProgram.value||(f.tokenProgram.value=l.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),f.tokenProgram.isWritable=!1),f.systemProgram.value||(f.systemProgram.value=l.programs.getPublicKey("splSystem","11111111111111111111111111111111"),f.systemProgram.isWritable=!1);const g=Object.values(f).sort((I,k)=>I.index-k.index),[v,_]=(0,n.getAccountMetasAndSigners)(g,"omitted",p),T=i().serialize({}),z=0;return(0,e.transactionBuilder)([{instruction:{keys:v,programId:p,data:T},signers:_,bytesCreatedOnChain:z}])}return z1.revokeUseAuthority=s,z1}var R1={},kq;function Cke(){if(kq)return R1;kq=1,Object.defineProperty(R1,"__esModule",{value:!0}),R1.revokeUtilityV1=R1.getRevokeUtilityV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["revokeUtilityV1Discriminator",(0,r.u8)()]],{description:"RevokeUtilityV1InstructionData"}),f=>({...f,discriminator:45,revokeUtilityV1Discriminator:4}))}R1.getRevokeUtilityV1InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={delegateRecord:{index:0,isWritable:!0,value:g.delegateRecord??null},delegate:{index:1,isWritable:!1,value:g.delegate??null},metadata:{index:2,isWritable:!0,value:g.metadata??null},masterEdition:{index:3,isWritable:!1,value:g.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:g.tokenRecord??null},mint:{index:5,isWritable:!1,value:g.mint??null},token:{index:6,isWritable:!0,value:g.token??null},authority:{index:7,isWritable:!1,value:g.authority??null},payer:{index:8,isWritable:!0,value:g.payer??null},systemProgram:{index:9,isWritable:!1,value:g.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:g.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:g.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:g.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:g.authorizationRules??null}},T={...g};T.tokenOwner||(T.tokenOwner=f.identity.publicKey),_.token.value||(_.token.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),owner:(0,s.expectSome)(T.tokenOwner)})),_.delegateRecord.value||(_.delegateRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.metadata.value||(_.metadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.masterEdition.value||(0,n.resolveIsNonFungible)(f,_,T,v,!1)&&(_.masterEdition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.tokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.tokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.authority.value||(_.authority.value=f.identity),_.payer.value||(_.payer.value=f.payer),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.splTokenProgram.value||(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1),_.authorizationRulesProgram.value||_.authorizationRules.value&&(_.authorizationRulesProgram.value=f.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),_.authorizationRulesProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize({}),L=0;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return R1.revokeUtilityV1=p,R1}var Lv={};Object.defineProperty(Lv,"__esModule",{value:!0});Lv.setAndVerifyCollection=Lv.getSetAndVerifyCollectionInstructionDataSerializer=void 0;const Dke=gt,HT=je,zke=Xt;function eae(){return(0,HT.mapSerializer)((0,HT.struct)([["discriminator",(0,HT.u8)()]],{description:"SetAndVerifyCollectionInstructionData"}),e=>({...e,discriminator:25}))}Lv.getSetAndVerifyCollectionInstructionDataSerializer=eae;function Rke(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={metadata:{index:0,isWritable:!0,value:t.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:t.collectionAuthority??null},payer:{index:2,isWritable:!0,value:t.payer??null},updateAuthority:{index:3,isWritable:!1,value:t.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:t.collectionMint??null},collection:{index:5,isWritable:!1,value:t.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:t.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:t.collectionAuthorityRecord??null}};n.payer.value||(n.payer.value=e.payer),n.updateAuthority.value||(n.updateAuthority.value=e.identity.publicKey);const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,zke.getAccountMetasAndSigners)(i,"omitted",r),a=eae().serialize({}),p=0;return(0,Dke.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Lv.setAndVerifyCollection=Rke;var Ov={};Object.defineProperty(Ov,"__esModule",{value:!0});Ov.setAndVerifySizedCollectionItem=Ov.getSetAndVerifySizedCollectionItemInstructionDataSerializer=void 0;const Nke=gt,ZT=je,Lke=Xt;function tae(){return(0,ZT.mapSerializer)((0,ZT.struct)([["discriminator",(0,ZT.u8)()]],{description:"SetAndVerifySizedCollectionItemInstructionData"}),e=>({...e,discriminator:32}))}Ov.getSetAndVerifySizedCollectionItemInstructionDataSerializer=tae;function Oke(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={metadata:{index:0,isWritable:!0,value:t.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:t.collectionAuthority??null},payer:{index:2,isWritable:!0,value:t.payer??null},updateAuthority:{index:3,isWritable:!1,value:t.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:t.collectionMint??null},collection:{index:5,isWritable:!0,value:t.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:t.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:t.collectionAuthorityRecord??null}};n.payer.value||(n.payer.value=e.payer),n.updateAuthority.value||(n.updateAuthority.value=e.identity.publicKey);const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,Lke.getAccountMetasAndSigners)(i,"omitted",r),a=tae().serialize({}),p=0;return(0,Nke.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Ov.setAndVerifySizedCollectionItem=Oke;var Bv={};Object.defineProperty(Bv,"__esModule",{value:!0});Bv.setCollectionSize=Bv.getSetCollectionSizeInstructionDataSerializer=void 0;const Bke=gt,YT=je,Fke=Xt,jke=sr();function rae(){return(0,YT.mapSerializer)((0,YT.struct)([["discriminator",(0,YT.u8)()],["setCollectionSizeArgs",(0,jke.getSetCollectionSizeArgsSerializer)()]],{description:"SetCollectionSizeInstructionData"}),e=>({...e,discriminator:34}))}Bv.getSetCollectionSizeInstructionDataSerializer=rae;function Vke(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={collectionMetadata:{index:0,isWritable:!0,value:t.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!0,value:t.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:t.collectionMint??null},collectionAuthorityRecord:{index:3,isWritable:!1,value:t.collectionAuthorityRecord??null}},i={...t},s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,Fke.getAccountMetasAndSigners)(s,"omitted",r),p=rae().serialize(i),f=0;return(0,Bke.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}Bv.setCollectionSize=Vke;var N1={},Iq;function Uke(){if(Iq)return N1;Iq=1,Object.defineProperty(N1,"__esModule",{value:!0}),N1.setTokenStandard=N1.getSetTokenStandardInstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()]],{description:"SetTokenStandardInstructionData"}),l=>({...l,discriminator:35}))}N1.getSetTokenStandardInstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={metadata:{index:0,isWritable:!0,value:a.metadata??null},updateAuthority:{index:1,isWritable:!1,value:a.updateAuthority??null},mint:{index:2,isWritable:!1,value:a.mint??null},edition:{index:3,isWritable:!1,value:a.edition??null}};f.metadata.value||(f.metadata.value=(0,r.findMetadataPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.updateAuthority.value||(f.updateAuthority.value=l.identity);const g=Object.values(f).sort((I,k)=>I.index-k.index),[v,_]=(0,n.getAccountMetasAndSigners)(g,"omitted",p),T=i().serialize({}),z=0;return(0,e.transactionBuilder)([{instruction:{keys:v,programId:p,data:T},signers:_,bytesCreatedOnChain:z}])}return N1.setTokenStandard=s,N1}var Fv={};Object.defineProperty(Fv,"__esModule",{value:!0});Fv.signMetadata=Fv.getSignMetadataInstructionDataSerializer=void 0;const Wke=gt,XT=je,$ke=Xt;function nae(){return(0,XT.mapSerializer)((0,XT.struct)([["discriminator",(0,XT.u8)()]],{description:"SignMetadataInstructionData"}),e=>({...e,discriminator:7}))}Fv.getSignMetadataInstructionDataSerializer=nae;function Kke(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={metadata:{index:0,isWritable:!0,value:t.metadata??null},creator:{index:1,isWritable:!1,value:t.creator??null}},i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,$ke.getAccountMetasAndSigners)(i,"programId",r),a=nae().serialize({}),p=0;return(0,Wke.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Fv.signMetadata=Kke;var L1={},Cq;function qke(){if(Cq)return L1;Cq=1,Object.defineProperty(L1,"__esModule",{value:!0}),L1.thawDelegatedAccount=L1.getThawDelegatedAccountInstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()]],{description:"ThawDelegatedAccountInstructionData"}),l=>({...l,discriminator:27}))}L1.getThawDelegatedAccountInstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={delegate:{index:0,isWritable:!0,value:a.delegate??null},tokenAccount:{index:1,isWritable:!0,value:a.tokenAccount??null},edition:{index:2,isWritable:!1,value:a.edition??null},mint:{index:3,isWritable:!1,value:a.mint??null},tokenProgram:{index:4,isWritable:!1,value:a.tokenProgram??null}};f.edition.value||(f.edition.value=(0,r.findMasterEditionPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.tokenProgram.value||(f.tokenProgram.value=l.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),f.tokenProgram.isWritable=!1);const g=Object.values(f).sort((I,k)=>I.index-k.index),[v,_]=(0,n.getAccountMetasAndSigners)(g,"programId",p),T=i().serialize({}),z=0;return(0,e.transactionBuilder)([{instruction:{keys:v,programId:p,data:T},signers:_,bytesCreatedOnChain:z}])}return L1.thawDelegatedAccount=s,L1}var jv={};Object.defineProperty(jv,"__esModule",{value:!0});jv.transferOutOfEscrow=jv.getTransferOutOfEscrowInstructionDataSerializer=void 0;const Dq=gt,k3=je,Gke=Xt;function iae(){return(0,k3.mapSerializer)((0,k3.struct)([["discriminator",(0,k3.u8)()],["amount",(0,k3.u64)()]],{description:"TransferOutOfEscrowInstructionData"}),e=>({...e,discriminator:40,amount:e.amount??1}))}jv.getTransferOutOfEscrowInstructionDataSerializer=iae;function Hke(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={escrow:{index:0,isWritable:!1,value:t.escrow??null},metadata:{index:1,isWritable:!0,value:t.metadata??null},payer:{index:2,isWritable:!0,value:t.payer??null},attributeMint:{index:3,isWritable:!1,value:t.attributeMint??null},attributeSrc:{index:4,isWritable:!0,value:t.attributeSrc??null},attributeDst:{index:5,isWritable:!0,value:t.attributeDst??null},escrowMint:{index:6,isWritable:!1,value:t.escrowMint??null},escrowAccount:{index:7,isWritable:!1,value:t.escrowAccount??null},systemProgram:{index:8,isWritable:!1,value:t.systemProgram??null},ataProgram:{index:9,isWritable:!1,value:t.ataProgram??null},tokenProgram:{index:10,isWritable:!1,value:t.tokenProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:t.sysvarInstructions??null},authority:{index:12,isWritable:!1,value:t.authority??null}},i={...t};n.payer.value||(n.payer.value=e.payer),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1),n.ataProgram.value||(n.ataProgram.value=e.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),n.ataProgram.isWritable=!1),n.tokenProgram.value||(n.tokenProgram.value=e.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n.tokenProgram.isWritable=!1),n.sysvarInstructions.value||(n.sysvarInstructions.value=(0,Dq.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,Gke.getAccountMetasAndSigners)(s,"omitted",r),p=iae().serialize(i),f=0;return(0,Dq.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}jv.transferOutOfEscrow=Hke;var O1={},zq;function Zke(){if(zq)return O1;zq=1,Object.defineProperty(O1,"__esModule",{value:!0}),O1.transferV1=O1.getTransferV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=br(),i=Xt,s=sr();function l(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["transferV1Discriminator",(0,r.u8)()],["amount",(0,r.u64)()],["authorizationData",(0,r.option)((0,s.getAuthorizationDataSerializer)())]],{description:"TransferV1InstructionData"}),p=>({...p,discriminator:49,transferV1Discriminator:0,amount:p.amount??1,authorizationData:p.authorizationData??(0,t.none)()}))}O1.getTransferV1InstructionDataSerializer=l;function a(p,f){const g=p.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),v={token:{index:0,isWritable:!0,value:f.token??null},tokenOwner:{index:1,isWritable:!1,value:f.tokenOwner??null},destinationToken:{index:2,isWritable:!0,value:f.destinationToken??null},destinationOwner:{index:3,isWritable:!1,value:f.destinationOwner??null},mint:{index:4,isWritable:!1,value:f.mint??null},metadata:{index:5,isWritable:!0,value:f.metadata??null},edition:{index:6,isWritable:!1,value:f.edition??null},tokenRecord:{index:7,isWritable:!0,value:f.tokenRecord??null},destinationTokenRecord:{index:8,isWritable:!0,value:f.destinationTokenRecord??null},authority:{index:9,isWritable:!1,value:f.authority??null},payer:{index:10,isWritable:!0,value:f.payer??null},systemProgram:{index:11,isWritable:!1,value:f.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:f.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:f.splTokenProgram??null},splAtaProgram:{index:14,isWritable:!1,value:f.splAtaProgram??null},authorizationRulesProgram:{index:15,isWritable:!1,value:f.authorizationRulesProgram??null},authorizationRules:{index:16,isWritable:!1,value:f.authorizationRules??null}},_={...f};v.tokenOwner.value||(v.tokenOwner.value=p.identity.publicKey),v.token.value||(v.token.value=(0,e.findAssociatedTokenPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value),owner:(0,i.expectPublicKey)(v.tokenOwner.value)})),v.destinationToken.value||(v.destinationToken.value=(0,e.findAssociatedTokenPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value),owner:(0,i.expectPublicKey)(v.destinationOwner.value)})),v.metadata.value||(v.metadata.value=(0,n.findMetadataPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.edition.value||_.tokenStandard===s.TokenStandard.ProgrammableNonFungible&&(v.edition.value=(0,n.findMasterEditionPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value)})),v.tokenRecord.value||_.tokenStandard===s.TokenStandard.ProgrammableNonFungible&&(v.tokenRecord.value=(0,n.findTokenRecordPda)(p,{mint:(0,i.expectPublicKey)(v.mint.value),token:(0,i.expectPublicKey)(v.token.value)})),v.destinationTokenRecord.value||_.tokenStandard===s.TokenStandard.ProgrammableNonFungible&&(v.destinationTokenRecord.value=(0,n.findTokenRecordPda)(p,{token:(0,i.expectPublicKey)(v.destinationToken.value),mint:(0,i.expectPublicKey)(v.mint.value)})),v.authority.value||(v.authority.value=p.identity),v.payer.value||(v.payer.value=p.payer),v.systemProgram.value||(v.systemProgram.value=p.programs.getPublicKey("splSystem","11111111111111111111111111111111"),v.systemProgram.isWritable=!1),v.sysvarInstructions.value||(v.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),v.splTokenProgram.value||(v.splTokenProgram.value=p.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),v.splTokenProgram.isWritable=!1),v.splAtaProgram.value||(v.splAtaProgram.value=p.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),v.splAtaProgram.isWritable=!1),v.authorizationRulesProgram.value||v.authorizationRules.value&&(v.authorizationRulesProgram.value=p.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),v.authorizationRulesProgram.isWritable=!1);const T=Object.values(v).sort((L,N)=>L.index-N.index),[z,I]=(0,i.getAccountMetasAndSigners)(T,"programId",g),k=l().serialize(_),C=0;return(0,t.transactionBuilder)([{instruction:{keys:z,programId:g,data:k},signers:I,bytesCreatedOnChain:C}])}return O1.transferV1=a,O1}var B1={},Rq;function Yke(){if(Rq)return B1;Rq=1,Object.defineProperty(B1,"__esModule",{value:!0}),B1.unlockV1=B1.getUnlockV1InstructionDataSerializer=void 0;const e=Si,t=gt,r=je,n=_n(),i=br(),s=Xt,l=sr();function a(){return(0,r.mapSerializer)((0,r.struct)([["discriminator",(0,r.u8)()],["unlockV1Discriminator",(0,r.u8)()],["authorizationData",(0,r.option)((0,l.getAuthorizationDataSerializer)())]],{description:"UnlockV1InstructionData"}),f=>({...f,discriminator:47,unlockV1Discriminator:0,authorizationData:f.authorizationData??(0,t.none)()}))}B1.getUnlockV1InstructionDataSerializer=a;function p(f,g){const v=f.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_={authority:{index:0,isWritable:!1,value:g.authority??null},tokenOwner:{index:1,isWritable:!1,value:g.tokenOwner??null},token:{index:2,isWritable:!0,value:g.token??null},mint:{index:3,isWritable:!1,value:g.mint??null},metadata:{index:4,isWritable:!0,value:g.metadata??null},edition:{index:5,isWritable:!1,value:g.edition??null},tokenRecord:{index:6,isWritable:!0,value:g.tokenRecord??null},payer:{index:7,isWritable:!0,value:g.payer??null},systemProgram:{index:8,isWritable:!1,value:g.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:g.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:g.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:g.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:g.authorizationRules??null}},T={...g};_.authority.value||(_.authority.value=f.identity),_.tokenOwner.value||(_.tokenOwner={..._.tokenOwner,...(0,n.resolveOptionalTokenOwner)(f,_,T,v,!1)}),_.token.value||(_.token.value=(0,e.findAssociatedTokenPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),owner:(0,s.expectPublicKey)(_.tokenOwner.value)})),_.metadata.value||(_.metadata.value=(0,i.findMetadataPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.edition.value||(0,n.resolveIsNonFungible)(f,_,T,v,!1)&&(_.edition.value=(0,i.findMasterEditionPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value)})),_.tokenRecord.value||T.tokenStandard===l.TokenStandard.ProgrammableNonFungible&&(_.tokenRecord.value=(0,i.findTokenRecordPda)(f,{mint:(0,s.expectPublicKey)(_.mint.value),token:(0,s.expectPublicKey)(_.token.value)})),_.payer.value||(_.payer.value=f.payer),_.systemProgram.value||(_.systemProgram.value=f.programs.getPublicKey("splSystem","11111111111111111111111111111111"),_.systemProgram.isWritable=!1),_.sysvarInstructions.value||(_.sysvarInstructions.value=(0,t.publicKey)("Sysvar1nstructions1111111111111111111111111")),_.splTokenProgram.value||T.tokenStandard!==l.TokenStandard.ProgrammableNonFungible&&(_.splTokenProgram.value=f.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_.splTokenProgram.isWritable=!1),_.authorizationRulesProgram.value||_.authorizationRules.value&&(_.authorizationRulesProgram.value=f.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),_.authorizationRulesProgram.isWritable=!1);const z=Object.values(_).sort((N,$)=>N.index-$.index),[I,k]=(0,s.getAccountMetasAndSigners)(z,"programId",v),C=a().serialize(T),L=0;return(0,t.transactionBuilder)([{instruction:{keys:I,programId:v,data:C},signers:k,bytesCreatedOnChain:L}])}return B1.unlockV1=p,B1}var Vv={};Object.defineProperty(Vv,"__esModule",{value:!0});Vv.unverifyCollection=Vv.getUnverifyCollectionInstructionDataSerializer=void 0;const Xke=gt,QT=je,Qke=Xt;function aae(){return(0,QT.mapSerializer)((0,QT.struct)([["discriminator",(0,QT.u8)()]],{description:"UnverifyCollectionInstructionData"}),e=>({...e,discriminator:22}))}Vv.getUnverifyCollectionInstructionDataSerializer=aae;function Jke(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={metadata:{index:0,isWritable:!0,value:t.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:t.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:t.collectionMint??null},collection:{index:3,isWritable:!1,value:t.collection??null},collectionMasterEditionAccount:{index:4,isWritable:!1,value:t.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:5,isWritable:!1,value:t.collectionAuthorityRecord??null}},i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,Qke.getAccountMetasAndSigners)(i,"omitted",r),a=aae().serialize({}),p=0;return(0,Xke.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Vv.unverifyCollection=Jke;var F1={},Nq;function eIe(){if(Nq)return F1;Nq=1,Object.defineProperty(F1,"__esModule",{value:!0}),F1.unverifyCollectionV1=F1.getUnverifyCollectionV1InstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["unverifyCollectionV1Discriminator",(0,t.u8)()]],{description:"UnverifyCollectionV1InstructionData"}),l=>({...l,discriminator:53,unverifyCollectionV1Discriminator:1}))}F1.getUnverifyCollectionV1InstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={authority:{index:0,isWritable:!1,value:a.authority??null},delegateRecord:{index:1,isWritable:!1,value:a.delegateRecord??null},metadata:{index:2,isWritable:!0,value:a.metadata??null},collectionMint:{index:3,isWritable:!1,value:a.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:a.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:a.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:a.sysvarInstructions??null}};f.authority.value||(f.authority.value=l.identity),f.collectionMetadata.value||(f.collectionMetadata.value=(0,r.findMetadataPda)(l,{mint:(0,n.expectPublicKey)(f.collectionMint.value)})),f.systemProgram.value||(f.systemProgram.value=l.programs.getPublicKey("splSystem","11111111111111111111111111111111"),f.systemProgram.isWritable=!1),f.sysvarInstructions.value||(f.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const g=Object.values(f).sort((I,k)=>I.index-k.index),[v,_]=(0,n.getAccountMetasAndSigners)(g,"programId",p),T=i().serialize({}),z=0;return(0,e.transactionBuilder)([{instruction:{keys:v,programId:p,data:T},signers:_,bytesCreatedOnChain:z}])}return F1.unverifyCollectionV1=s,F1}var Uv={};Object.defineProperty(Uv,"__esModule",{value:!0});Uv.unverifyCreatorV1=Uv.getUnverifyCreatorV1InstructionDataSerializer=void 0;const Lq=gt,I3=je,tIe=Xt;function oae(){return(0,I3.mapSerializer)((0,I3.struct)([["discriminator",(0,I3.u8)()],["unverifyCreatorV1Discriminator",(0,I3.u8)()]],{description:"UnverifyCreatorV1InstructionData"}),e=>({...e,discriminator:53,unverifyCreatorV1Discriminator:0}))}Uv.getUnverifyCreatorV1InstructionDataSerializer=oae;function rIe(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={authority:{index:0,isWritable:!1,value:t.authority??null},delegateRecord:{index:1,isWritable:!1,value:t.delegateRecord??null},metadata:{index:2,isWritable:!0,value:t.metadata??null},collectionMint:{index:3,isWritable:!1,value:t.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:t.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:t.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:t.sysvarInstructions??null}};n.authority.value||(n.authority.value=e.identity),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1),n.sysvarInstructions.value||(n.sysvarInstructions.value=(0,Lq.publicKey)("Sysvar1nstructions1111111111111111111111111"));const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,tIe.getAccountMetasAndSigners)(i,"programId",r),a=oae().serialize({}),p=0;return(0,Lq.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Uv.unverifyCreatorV1=rIe;var Wv={};Object.defineProperty(Wv,"__esModule",{value:!0});Wv.unverifySizedCollectionItem=Wv.getUnverifySizedCollectionItemInstructionDataSerializer=void 0;const nIe=gt,JT=je,iIe=Xt;function sae(){return(0,JT.mapSerializer)((0,JT.struct)([["discriminator",(0,JT.u8)()]],{description:"UnverifySizedCollectionItemInstructionData"}),e=>({...e,discriminator:31}))}Wv.getUnverifySizedCollectionItemInstructionDataSerializer=sae;function aIe(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={metadata:{index:0,isWritable:!0,value:t.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:t.collectionAuthority??null},payer:{index:2,isWritable:!0,value:t.payer??null},collectionMint:{index:3,isWritable:!1,value:t.collectionMint??null},collection:{index:4,isWritable:!0,value:t.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:t.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:t.collectionAuthorityRecord??null}};n.payer.value||(n.payer.value=e.payer);const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,iIe.getAccountMetasAndSigners)(i,"omitted",r),a=sae().serialize({}),p=0;return(0,nIe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Wv.unverifySizedCollectionItem=aIe;var j1={},Oq;function oIe(){if(Oq)return j1;Oq=1,Object.defineProperty(j1,"__esModule",{value:!0}),j1.updateAsAuthorityItemDelegateV2=j1.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt,i=sr();function s(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["updateAsAuthorityItemDelegateV2Discriminator",(0,t.u8)()],["newUpdateAuthority",(0,t.option)((0,t.publicKey)())],["primarySaleHappened",(0,t.option)((0,t.bool)())],["isMutable",(0,t.option)((0,t.bool)())],["tokenStandard",(0,t.option)((0,i.getTokenStandardSerializer)())],["authorizationData",(0,t.option)((0,i.getAuthorizationDataSerializer)())]],{description:"UpdateAsAuthorityItemDelegateV2InstructionData"}),a=>({...a,discriminator:50,updateAsAuthorityItemDelegateV2Discriminator:2,newUpdateAuthority:a.newUpdateAuthority??(0,e.none)(),primarySaleHappened:a.primarySaleHappened??(0,e.none)(),isMutable:a.isMutable??(0,e.none)(),tokenStandard:a.tokenStandard??(0,e.none)(),authorizationData:a.authorizationData??(0,e.none)()}))}j1.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=s;function l(a,p){const f=a.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),g={authority:{index:0,isWritable:!1,value:p.authority??null},delegateRecord:{index:1,isWritable:!1,value:p.delegateRecord??null},token:{index:2,isWritable:!1,value:p.token??null},mint:{index:3,isWritable:!1,value:p.mint??null},metadata:{index:4,isWritable:!0,value:p.metadata??null},edition:{index:5,isWritable:!1,value:p.edition??null},payer:{index:6,isWritable:!0,value:p.payer??null},systemProgram:{index:7,isWritable:!1,value:p.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:p.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:p.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:p.authorizationRules??null}},v={...p};g.authority.value||(g.authority.value=a.identity),v.updateAuthority||(v.updateAuthority=a.identity.publicKey),g.delegateRecord.value||(g.delegateRecord.value=(0,r.findMetadataDelegateRecordPda)(a,{delegateRole:i.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,n.expectSome)(v.updateAuthority),delegate:(0,n.expectPublicKey)(g.authority.value),mint:(0,n.expectPublicKey)(g.mint.value)})),g.metadata.value||(g.metadata.value=(0,r.findMetadataPda)(a,{mint:(0,n.expectPublicKey)(g.mint.value)})),g.payer.value||(g.payer.value=a.payer),g.systemProgram.value||(g.systemProgram.value=a.programs.getPublicKey("splSystem","11111111111111111111111111111111"),g.systemProgram.isWritable=!1),g.sysvarInstructions.value||(g.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),g.authorizationRulesProgram.value||g.authorizationRules.value&&(g.authorizationRulesProgram.value=a.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),g.authorizationRulesProgram.isWritable=!1);const _=Object.values(g).sort((C,L)=>C.index-L.index),[T,z]=(0,n.getAccountMetasAndSigners)(_,"programId",f),I=s().serialize(v),k=0;return(0,e.transactionBuilder)([{instruction:{keys:T,programId:f,data:I},signers:z,bytesCreatedOnChain:k}])}return j1.updateAsAuthorityItemDelegateV2=l,j1}var V1={},Bq;function sIe(){if(Bq)return V1;Bq=1,Object.defineProperty(V1,"__esModule",{value:!0}),V1.updateAsCollectionDelegateV2=V1.getUpdateAsCollectionDelegateV2InstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt,i=sr();function s(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["updateAsCollectionDelegateV2Discriminator",(0,t.u8)()],["collection",(0,i.getCollectionToggleSerializer)()],["authorizationData",(0,t.option)((0,i.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionDelegateV2InstructionData"}),a=>({...a,discriminator:50,updateAsCollectionDelegateV2Discriminator:3,collection:a.collection??(0,i.collectionToggle)("None"),authorizationData:a.authorizationData??(0,e.none)()}))}V1.getUpdateAsCollectionDelegateV2InstructionDataSerializer=s;function l(a,p){const f=a.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),g={authority:{index:0,isWritable:!1,value:p.authority??null},delegateRecord:{index:1,isWritable:!1,value:p.delegateRecord??null},token:{index:2,isWritable:!1,value:p.token??null},mint:{index:3,isWritable:!1,value:p.mint??null},metadata:{index:4,isWritable:!0,value:p.metadata??null},edition:{index:5,isWritable:!1,value:p.edition??null},payer:{index:6,isWritable:!0,value:p.payer??null},systemProgram:{index:7,isWritable:!1,value:p.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:p.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:p.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:p.authorizationRules??null}},v={...p};g.authority.value||(g.authority.value=a.identity),v.delegateMint||(v.delegateMint=(0,n.expectPublicKey)(g.mint.value)),v.delegateUpdateAuthority||(v.delegateUpdateAuthority=a.identity.publicKey),g.delegateRecord.value||(g.delegateRecord.value=(0,r.findMetadataDelegateRecordPda)(a,{mint:(0,n.expectSome)(v.delegateMint),delegateRole:i.MetadataDelegateRole.Collection,updateAuthority:(0,n.expectSome)(v.delegateUpdateAuthority),delegate:(0,n.expectPublicKey)(g.authority.value)})),g.metadata.value||(g.metadata.value=(0,r.findMetadataPda)(a,{mint:(0,n.expectPublicKey)(g.mint.value)})),g.payer.value||(g.payer.value=a.payer),g.systemProgram.value||(g.systemProgram.value=a.programs.getPublicKey("splSystem","11111111111111111111111111111111"),g.systemProgram.isWritable=!1),g.sysvarInstructions.value||(g.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),g.authorizationRulesProgram.value||g.authorizationRules.value&&(g.authorizationRulesProgram.value=a.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),g.authorizationRulesProgram.isWritable=!1);const _=Object.values(g).sort((C,L)=>C.index-L.index),[T,z]=(0,n.getAccountMetasAndSigners)(_,"programId",f),I=s().serialize(v),k=0;return(0,e.transactionBuilder)([{instruction:{keys:T,programId:f,data:I},signers:z,bytesCreatedOnChain:k}])}return V1.updateAsCollectionDelegateV2=l,V1}var U1={},Fq;function lIe(){if(Fq)return U1;Fq=1,Object.defineProperty(U1,"__esModule",{value:!0}),U1.updateAsCollectionItemDelegateV2=U1.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt,i=sr();function s(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["updateAsCollectionItemDelegateV2Discriminator",(0,t.u8)()],["collection",(0,i.getCollectionToggleSerializer)()],["authorizationData",(0,t.option)((0,i.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionItemDelegateV2InstructionData"}),a=>({...a,discriminator:50,updateAsCollectionItemDelegateV2Discriminator:7,collection:a.collection??(0,i.collectionToggle)("None"),authorizationData:a.authorizationData??(0,e.none)()}))}U1.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=s;function l(a,p){const f=a.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),g={authority:{index:0,isWritable:!1,value:p.authority??null},delegateRecord:{index:1,isWritable:!1,value:p.delegateRecord??null},token:{index:2,isWritable:!1,value:p.token??null},mint:{index:3,isWritable:!1,value:p.mint??null},metadata:{index:4,isWritable:!0,value:p.metadata??null},edition:{index:5,isWritable:!1,value:p.edition??null},payer:{index:6,isWritable:!0,value:p.payer??null},systemProgram:{index:7,isWritable:!1,value:p.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:p.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:p.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:p.authorizationRules??null}},v={...p};g.authority.value||(g.authority.value=a.identity),v.updateAuthority||(v.updateAuthority=a.identity.publicKey),g.delegateRecord.value||(g.delegateRecord.value=(0,r.findMetadataDelegateRecordPda)(a,{delegateRole:i.MetadataDelegateRole.CollectionItem,updateAuthority:(0,n.expectSome)(v.updateAuthority),delegate:(0,n.expectPublicKey)(g.authority.value),mint:(0,n.expectPublicKey)(g.mint.value)})),g.metadata.value||(g.metadata.value=(0,r.findMetadataPda)(a,{mint:(0,n.expectPublicKey)(g.mint.value)})),g.payer.value||(g.payer.value=a.payer),g.systemProgram.value||(g.systemProgram.value=a.programs.getPublicKey("splSystem","11111111111111111111111111111111"),g.systemProgram.isWritable=!1),g.sysvarInstructions.value||(g.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),g.authorizationRulesProgram.value||g.authorizationRules.value&&(g.authorizationRulesProgram.value=a.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),g.authorizationRulesProgram.isWritable=!1);const _=Object.values(g).sort((C,L)=>C.index-L.index),[T,z]=(0,n.getAccountMetasAndSigners)(_,"programId",f),I=s().serialize(v),k=0;return(0,e.transactionBuilder)([{instruction:{keys:T,programId:f,data:I},signers:z,bytesCreatedOnChain:k}])}return U1.updateAsCollectionItemDelegateV2=l,U1}var W1={},jq;function cIe(){if(jq)return W1;jq=1,Object.defineProperty(W1,"__esModule",{value:!0}),W1.updateAsDataDelegateV2=W1.getUpdateAsDataDelegateV2InstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt,i=sr();function s(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["updateAsDataDelegateV2Discriminator",(0,t.u8)()],["data",(0,t.option)((0,i.getDataSerializer)())],["authorizationData",(0,t.option)((0,i.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataDelegateV2InstructionData"}),a=>({...a,discriminator:50,updateAsDataDelegateV2Discriminator:4,data:a.data??(0,e.none)(),authorizationData:a.authorizationData??(0,e.none)()}))}W1.getUpdateAsDataDelegateV2InstructionDataSerializer=s;function l(a,p){const f=a.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),g={authority:{index:0,isWritable:!1,value:p.authority??null},delegateRecord:{index:1,isWritable:!1,value:p.delegateRecord??null},token:{index:2,isWritable:!1,value:p.token??null},mint:{index:3,isWritable:!1,value:p.mint??null},metadata:{index:4,isWritable:!0,value:p.metadata??null},edition:{index:5,isWritable:!1,value:p.edition??null},payer:{index:6,isWritable:!0,value:p.payer??null},systemProgram:{index:7,isWritable:!1,value:p.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:p.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:p.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:p.authorizationRules??null}},v={...p};g.authority.value||(g.authority.value=a.identity),v.delegateMint||(v.delegateMint=(0,n.expectPublicKey)(g.mint.value)),v.delegateUpdateAuthority||(v.delegateUpdateAuthority=a.identity.publicKey),g.delegateRecord.value||(g.delegateRecord.value=(0,r.findMetadataDelegateRecordPda)(a,{mint:(0,n.expectSome)(v.delegateMint),delegateRole:i.MetadataDelegateRole.Data,updateAuthority:(0,n.expectSome)(v.delegateUpdateAuthority),delegate:(0,n.expectPublicKey)(g.authority.value)})),g.metadata.value||(g.metadata.value=(0,r.findMetadataPda)(a,{mint:(0,n.expectPublicKey)(g.mint.value)})),g.payer.value||(g.payer.value=a.payer),g.systemProgram.value||(g.systemProgram.value=a.programs.getPublicKey("splSystem","11111111111111111111111111111111"),g.systemProgram.isWritable=!1),g.sysvarInstructions.value||(g.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),g.authorizationRulesProgram.value||g.authorizationRules.value&&(g.authorizationRulesProgram.value=a.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),g.authorizationRulesProgram.isWritable=!1);const _=Object.values(g).sort((C,L)=>C.index-L.index),[T,z]=(0,n.getAccountMetasAndSigners)(_,"programId",f),I=s().serialize(v),k=0;return(0,e.transactionBuilder)([{instruction:{keys:T,programId:f,data:I},signers:z,bytesCreatedOnChain:k}])}return W1.updateAsDataDelegateV2=l,W1}var $1={},Vq;function uIe(){if(Vq)return $1;Vq=1,Object.defineProperty($1,"__esModule",{value:!0}),$1.updateAsDataItemDelegateV2=$1.getUpdateAsDataItemDelegateV2InstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt,i=sr();function s(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["updateAsDataItemDelegateV2Discriminator",(0,t.u8)()],["data",(0,t.option)((0,i.getDataSerializer)())],["authorizationData",(0,t.option)((0,i.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataItemDelegateV2InstructionData"}),a=>({...a,discriminator:50,updateAsDataItemDelegateV2Discriminator:6,data:a.data??(0,e.none)(),authorizationData:a.authorizationData??(0,e.none)()}))}$1.getUpdateAsDataItemDelegateV2InstructionDataSerializer=s;function l(a,p){const f=a.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),g={authority:{index:0,isWritable:!1,value:p.authority??null},delegateRecord:{index:1,isWritable:!1,value:p.delegateRecord??null},token:{index:2,isWritable:!1,value:p.token??null},mint:{index:3,isWritable:!1,value:p.mint??null},metadata:{index:4,isWritable:!0,value:p.metadata??null},edition:{index:5,isWritable:!1,value:p.edition??null},payer:{index:6,isWritable:!0,value:p.payer??null},systemProgram:{index:7,isWritable:!1,value:p.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:p.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:p.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:p.authorizationRules??null}},v={...p};g.authority.value||(g.authority.value=a.identity),v.updateAuthority||(v.updateAuthority=a.identity.publicKey),g.delegateRecord.value||(g.delegateRecord.value=(0,r.findMetadataDelegateRecordPda)(a,{delegateRole:i.MetadataDelegateRole.DataItem,updateAuthority:(0,n.expectSome)(v.updateAuthority),delegate:(0,n.expectPublicKey)(g.authority.value),mint:(0,n.expectPublicKey)(g.mint.value)})),g.metadata.value||(g.metadata.value=(0,r.findMetadataPda)(a,{mint:(0,n.expectPublicKey)(g.mint.value)})),g.payer.value||(g.payer.value=a.payer),g.systemProgram.value||(g.systemProgram.value=a.programs.getPublicKey("splSystem","11111111111111111111111111111111"),g.systemProgram.isWritable=!1),g.sysvarInstructions.value||(g.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),g.authorizationRulesProgram.value||g.authorizationRules.value&&(g.authorizationRulesProgram.value=a.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),g.authorizationRulesProgram.isWritable=!1);const _=Object.values(g).sort((C,L)=>C.index-L.index),[T,z]=(0,n.getAccountMetasAndSigners)(_,"programId",f),I=s().serialize(v),k=0;return(0,e.transactionBuilder)([{instruction:{keys:T,programId:f,data:I},signers:z,bytesCreatedOnChain:k}])}return $1.updateAsDataItemDelegateV2=l,$1}var K1={},Uq;function dIe(){if(Uq)return K1;Uq=1,Object.defineProperty(K1,"__esModule",{value:!0}),K1.updateAsProgrammableConfigDelegateV2=K1.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt,i=sr();function s(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["updateAsProgrammableConfigDelegateV2Discriminator",(0,t.u8)()],["ruleSet",(0,i.getRuleSetToggleSerializer)()],["authorizationData",(0,t.option)((0,i.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigDelegateV2InstructionData"}),a=>({...a,discriminator:50,updateAsProgrammableConfigDelegateV2Discriminator:5,ruleSet:a.ruleSet??(0,i.ruleSetToggle)("None"),authorizationData:a.authorizationData??(0,e.none)()}))}K1.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=s;function l(a,p){const f=a.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),g={authority:{index:0,isWritable:!1,value:p.authority??null},delegateRecord:{index:1,isWritable:!1,value:p.delegateRecord??null},token:{index:2,isWritable:!1,value:p.token??null},mint:{index:3,isWritable:!1,value:p.mint??null},metadata:{index:4,isWritable:!0,value:p.metadata??null},edition:{index:5,isWritable:!1,value:p.edition??null},payer:{index:6,isWritable:!0,value:p.payer??null},systemProgram:{index:7,isWritable:!1,value:p.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:p.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:p.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:p.authorizationRules??null}},v={...p};g.authority.value||(g.authority.value=a.identity),v.delegateMint||(v.delegateMint=(0,n.expectPublicKey)(g.mint.value)),v.delegateUpdateAuthority||(v.delegateUpdateAuthority=a.identity.publicKey),g.delegateRecord.value||(g.delegateRecord.value=(0,r.findMetadataDelegateRecordPda)(a,{mint:(0,n.expectSome)(v.delegateMint),delegateRole:i.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,n.expectSome)(v.delegateUpdateAuthority),delegate:(0,n.expectPublicKey)(g.authority.value)})),g.metadata.value||(g.metadata.value=(0,r.findMetadataPda)(a,{mint:(0,n.expectPublicKey)(g.mint.value)})),g.payer.value||(g.payer.value=a.payer),g.systemProgram.value||(g.systemProgram.value=a.programs.getPublicKey("splSystem","11111111111111111111111111111111"),g.systemProgram.isWritable=!1),g.sysvarInstructions.value||(g.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),g.authorizationRulesProgram.value||g.authorizationRules.value&&(g.authorizationRulesProgram.value=a.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),g.authorizationRulesProgram.isWritable=!1);const _=Object.values(g).sort((C,L)=>C.index-L.index),[T,z]=(0,n.getAccountMetasAndSigners)(_,"programId",f),I=s().serialize(v),k=0;return(0,e.transactionBuilder)([{instruction:{keys:T,programId:f,data:I},signers:z,bytesCreatedOnChain:k}])}return K1.updateAsProgrammableConfigDelegateV2=l,K1}var q1={},Wq;function pIe(){if(Wq)return q1;Wq=1,Object.defineProperty(q1,"__esModule",{value:!0}),q1.updateAsProgrammableConfigItemDelegateV2=q1.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt,i=sr();function s(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["updateAsProgrammableConfigItemDelegateV2Discriminator",(0,t.u8)()],["ruleSet",(0,i.getRuleSetToggleSerializer)()],["authorizationData",(0,t.option)((0,i.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigItemDelegateV2InstructionData"}),a=>({...a,discriminator:50,updateAsProgrammableConfigItemDelegateV2Discriminator:8,ruleSet:a.ruleSet??(0,i.ruleSetToggle)("None"),authorizationData:a.authorizationData??(0,e.none)()}))}q1.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=s;function l(a,p){const f=a.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),g={authority:{index:0,isWritable:!1,value:p.authority??null},delegateRecord:{index:1,isWritable:!1,value:p.delegateRecord??null},token:{index:2,isWritable:!1,value:p.token??null},mint:{index:3,isWritable:!1,value:p.mint??null},metadata:{index:4,isWritable:!0,value:p.metadata??null},edition:{index:5,isWritable:!1,value:p.edition??null},payer:{index:6,isWritable:!0,value:p.payer??null},systemProgram:{index:7,isWritable:!1,value:p.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:p.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:p.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:p.authorizationRules??null}},v={...p};g.authority.value||(g.authority.value=a.identity),v.updateAuthority||(v.updateAuthority=a.identity.publicKey),g.delegateRecord.value||(g.delegateRecord.value=(0,r.findMetadataDelegateRecordPda)(a,{delegateRole:i.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,n.expectSome)(v.updateAuthority),delegate:(0,n.expectPublicKey)(g.authority.value),mint:(0,n.expectPublicKey)(g.mint.value)})),g.metadata.value||(g.metadata.value=(0,r.findMetadataPda)(a,{mint:(0,n.expectPublicKey)(g.mint.value)})),g.payer.value||(g.payer.value=a.payer),g.systemProgram.value||(g.systemProgram.value=a.programs.getPublicKey("splSystem","11111111111111111111111111111111"),g.systemProgram.isWritable=!1),g.sysvarInstructions.value||(g.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),g.authorizationRulesProgram.value||g.authorizationRules.value&&(g.authorizationRulesProgram.value=a.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),g.authorizationRulesProgram.isWritable=!1);const _=Object.values(g).sort((C,L)=>C.index-L.index),[T,z]=(0,n.getAccountMetasAndSigners)(_,"programId",f),I=s().serialize(v),k=0;return(0,e.transactionBuilder)([{instruction:{keys:T,programId:f,data:I},signers:z,bytesCreatedOnChain:k}])}return q1.updateAsProgrammableConfigItemDelegateV2=l,q1}var G1={},$q;function hIe(){if($q)return G1;$q=1,Object.defineProperty(G1,"__esModule",{value:!0}),G1.updateAsUpdateAuthorityV2=G1.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt,i=sr();function s(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["updateAsUpdateAuthorityV2Discriminator",(0,t.u8)()],["newUpdateAuthority",(0,t.option)((0,t.publicKey)())],["data",(0,t.option)((0,i.getDataSerializer)())],["primarySaleHappened",(0,t.option)((0,t.bool)())],["isMutable",(0,t.option)((0,t.bool)())],["collection",(0,i.getCollectionToggleSerializer)()],["collectionDetails",(0,i.getCollectionDetailsToggleSerializer)()],["uses",(0,i.getUsesToggleSerializer)()],["ruleSet",(0,i.getRuleSetToggleSerializer)()],["tokenStandard",(0,t.option)((0,i.getTokenStandardSerializer)())],["authorizationData",(0,t.option)((0,i.getAuthorizationDataSerializer)())]],{description:"UpdateAsUpdateAuthorityV2InstructionData"}),a=>({...a,discriminator:50,updateAsUpdateAuthorityV2Discriminator:1,newUpdateAuthority:a.newUpdateAuthority??(0,e.none)(),data:a.data??(0,e.none)(),primarySaleHappened:a.primarySaleHappened??(0,e.none)(),isMutable:a.isMutable??(0,e.none)(),collection:a.collection??(0,i.collectionToggle)("None"),collectionDetails:a.collectionDetails??(0,i.collectionDetailsToggle)("None"),uses:a.uses??(0,i.usesToggle)("None"),ruleSet:a.ruleSet??(0,i.ruleSetToggle)("None"),tokenStandard:a.tokenStandard??(0,e.none)(),authorizationData:a.authorizationData??(0,e.none)()}))}G1.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=s;function l(a,p){const f=a.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),g={authority:{index:0,isWritable:!1,value:p.authority??null},delegateRecord:{index:1,isWritable:!1,value:p.delegateRecord??null},token:{index:2,isWritable:!1,value:p.token??null},mint:{index:3,isWritable:!1,value:p.mint??null},metadata:{index:4,isWritable:!0,value:p.metadata??null},edition:{index:5,isWritable:!1,value:p.edition??null},payer:{index:6,isWritable:!0,value:p.payer??null},systemProgram:{index:7,isWritable:!1,value:p.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:p.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:p.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:p.authorizationRules??null}},v={...p};g.authority.value||(g.authority.value=a.identity),g.metadata.value||(g.metadata.value=(0,r.findMetadataPda)(a,{mint:(0,n.expectPublicKey)(g.mint.value)})),g.payer.value||(g.payer.value=a.payer),g.systemProgram.value||(g.systemProgram.value=a.programs.getPublicKey("splSystem","11111111111111111111111111111111"),g.systemProgram.isWritable=!1),g.sysvarInstructions.value||(g.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),g.authorizationRulesProgram.value||g.authorizationRules.value&&(g.authorizationRulesProgram.value=a.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),g.authorizationRulesProgram.isWritable=!1);const _=Object.values(g).sort((C,L)=>C.index-L.index),[T,z]=(0,n.getAccountMetasAndSigners)(_,"programId",f),I=s().serialize(v),k=0;return(0,e.transactionBuilder)([{instruction:{keys:T,programId:f,data:I},signers:z,bytesCreatedOnChain:k}])}return G1.updateAsUpdateAuthorityV2=l,G1}var $v={};Object.defineProperty($v,"__esModule",{value:!0});$v.updateMetadataAccountV2=$v.getUpdateMetadataAccountV2InstructionDataSerializer=void 0;const Jb=gt,Gc=je,fIe=Xt,mIe=sr();function lae(){return(0,Gc.mapSerializer)((0,Gc.struct)([["discriminator",(0,Gc.u8)()],["data",(0,Gc.option)((0,mIe.getDataV2Serializer)())],["newUpdateAuthority",(0,Gc.option)((0,Gc.publicKey)())],["primarySaleHappened",(0,Gc.option)((0,Gc.bool)())],["isMutable",(0,Gc.option)((0,Gc.bool)())]],{description:"UpdateMetadataAccountV2InstructionData"}),e=>({...e,discriminator:15,data:e.data??(0,Jb.none)(),newUpdateAuthority:e.newUpdateAuthority??(0,Jb.none)(),primarySaleHappened:e.primarySaleHappened??(0,Jb.none)(),isMutable:e.isMutable??(0,Jb.none)()}))}$v.getUpdateMetadataAccountV2InstructionDataSerializer=lae;function gIe(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={metadata:{index:0,isWritable:!0,value:t.metadata??null},updateAuthority:{index:1,isWritable:!1,value:t.updateAuthority??null}},i={...t};n.updateAuthority.value||(n.updateAuthority.value=e.identity);const s=Object.values(n).sort((g,v)=>g.index-v.index),[l,a]=(0,fIe.getAccountMetasAndSigners)(s,"programId",r),p=lae().serialize(i),f=0;return(0,Jb.transactionBuilder)([{instruction:{keys:l,programId:r,data:p},signers:a,bytesCreatedOnChain:f}])}$v.updateMetadataAccountV2=gIe;var Kv={};Object.defineProperty(Kv,"__esModule",{value:!0});Kv.updatePrimarySaleHappenedViaToken=Kv.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=void 0;const yIe=gt,eM=je,vIe=Xt;function cae(){return(0,eM.mapSerializer)((0,eM.struct)([["discriminator",(0,eM.u8)()]],{description:"UpdatePrimarySaleHappenedViaTokenInstructionData"}),e=>({...e,discriminator:4}))}Kv.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=cae;function _Ie(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={metadata:{index:0,isWritable:!0,value:t.metadata??null},owner:{index:1,isWritable:!1,value:t.owner??null},token:{index:2,isWritable:!1,value:t.token??null}},i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,vIe.getAccountMetasAndSigners)(i,"programId",r),a=cae().serialize({}),p=0;return(0,yIe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Kv.updatePrimarySaleHappenedViaToken=_Ie;var H1={},Kq;function bIe(){if(Kq)return H1;Kq=1,Object.defineProperty(H1,"__esModule",{value:!0}),H1.updateV1=H1.getUpdateV1InstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt,i=sr();function s(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["updateV1Discriminator",(0,t.u8)()],["newUpdateAuthority",(0,t.option)((0,t.publicKey)())],["data",(0,t.option)((0,i.getDataSerializer)())],["primarySaleHappened",(0,t.option)((0,t.bool)())],["isMutable",(0,t.option)((0,t.bool)())],["collection",(0,i.getCollectionToggleSerializer)()],["collectionDetails",(0,i.getCollectionDetailsToggleSerializer)()],["uses",(0,i.getUsesToggleSerializer)()],["ruleSet",(0,i.getRuleSetToggleSerializer)()],["authorizationData",(0,t.option)((0,i.getAuthorizationDataSerializer)())]],{description:"UpdateV1InstructionData"}),a=>({...a,discriminator:50,updateV1Discriminator:0,newUpdateAuthority:a.newUpdateAuthority??(0,e.none)(),data:a.data??(0,e.none)(),primarySaleHappened:a.primarySaleHappened??(0,e.none)(),isMutable:a.isMutable??(0,e.none)(),collection:a.collection??(0,i.collectionToggle)("None"),collectionDetails:a.collectionDetails??(0,i.collectionDetailsToggle)("None"),uses:a.uses??(0,i.usesToggle)("None"),ruleSet:a.ruleSet??(0,i.ruleSetToggle)("None"),authorizationData:a.authorizationData??(0,e.none)()}))}H1.getUpdateV1InstructionDataSerializer=s;function l(a,p){const f=a.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),g={authority:{index:0,isWritable:!1,value:p.authority??null},delegateRecord:{index:1,isWritable:!1,value:p.delegateRecord??null},token:{index:2,isWritable:!1,value:p.token??null},mint:{index:3,isWritable:!1,value:p.mint??null},metadata:{index:4,isWritable:!0,value:p.metadata??null},edition:{index:5,isWritable:!1,value:p.edition??null},payer:{index:6,isWritable:!0,value:p.payer??null},systemProgram:{index:7,isWritable:!1,value:p.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:p.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:p.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:p.authorizationRules??null}},v={...p};g.authority.value||(g.authority.value=a.identity),g.metadata.value||(g.metadata.value=(0,r.findMetadataPda)(a,{mint:(0,n.expectPublicKey)(g.mint.value)})),g.payer.value||(g.payer.value=a.payer),g.systemProgram.value||(g.systemProgram.value=a.programs.getPublicKey("splSystem","11111111111111111111111111111111"),g.systemProgram.isWritable=!1),g.sysvarInstructions.value||(g.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),g.authorizationRulesProgram.value||g.authorizationRules.value&&(g.authorizationRulesProgram.value=a.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),g.authorizationRulesProgram.isWritable=!1);const _=Object.values(g).sort((C,L)=>C.index-L.index),[T,z]=(0,n.getAccountMetasAndSigners)(_,"programId",f),I=s().serialize(v),k=0;return(0,e.transactionBuilder)([{instruction:{keys:T,programId:f,data:I},signers:z,bytesCreatedOnChain:k}])}return H1.updateV1=l,H1}var Z1={},qq;function xIe(){if(qq)return Z1;qq=1,Object.defineProperty(Z1,"__esModule",{value:!0}),Z1.useV1=Z1.getUseV1InstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt,i=sr();function s(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["useV1Discriminator",(0,t.u8)()],["authorizationData",(0,t.option)((0,i.getAuthorizationDataSerializer)())]],{description:"UseV1InstructionData"}),a=>({...a,discriminator:51,useV1Discriminator:0,authorizationData:a.authorizationData??(0,e.none)()}))}Z1.getUseV1InstructionDataSerializer=s;function l(a,p){const f=a.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),g={authority:{index:0,isWritable:!1,value:p.authority??null},delegateRecord:{index:1,isWritable:!0,value:p.delegateRecord??null},token:{index:2,isWritable:!0,value:p.token??null},mint:{index:3,isWritable:!1,value:p.mint??null},metadata:{index:4,isWritable:!0,value:p.metadata??null},edition:{index:5,isWritable:!0,value:p.edition??null},payer:{index:6,isWritable:!1,value:p.payer??null},systemProgram:{index:7,isWritable:!1,value:p.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:p.sysvarInstructions??null},splTokenProgram:{index:9,isWritable:!1,value:p.splTokenProgram??null},authorizationRulesProgram:{index:10,isWritable:!1,value:p.authorizationRulesProgram??null},authorizationRules:{index:11,isWritable:!1,value:p.authorizationRules??null}},v={...p};g.authority.value||(g.authority.value=a.identity),g.metadata.value||(g.metadata.value=(0,r.findMetadataPda)(a,{mint:(0,n.expectPublicKey)(g.mint.value)})),g.payer.value||(g.payer.value=a.payer),g.systemProgram.value||(g.systemProgram.value=a.programs.getPublicKey("splSystem","11111111111111111111111111111111"),g.systemProgram.isWritable=!1),g.sysvarInstructions.value||(g.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111")),g.authorizationRulesProgram.value||g.authorizationRules.value&&(g.authorizationRulesProgram.value=a.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),g.authorizationRulesProgram.isWritable=!1);const _=Object.values(g).sort((C,L)=>C.index-L.index),[T,z]=(0,n.getAccountMetasAndSigners)(_,"programId",f),I=s().serialize(v),k=0;return(0,e.transactionBuilder)([{instruction:{keys:T,programId:f,data:I},signers:z,bytesCreatedOnChain:k}])}return Z1.useV1=l,Z1}var Y1={},Gq;function wIe(){if(Gq)return Y1;Gq=1,Object.defineProperty(Y1,"__esModule",{value:!0}),Y1.utilize=Y1.getUtilizeInstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["numberOfUses",(0,t.u64)()]],{description:"UtilizeInstructionData"}),l=>({...l,discriminator:19}))}Y1.getUtilizeInstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={metadata:{index:0,isWritable:!0,value:a.metadata??null},tokenAccount:{index:1,isWritable:!0,value:a.tokenAccount??null},mint:{index:2,isWritable:!0,value:a.mint??null},useAuthority:{index:3,isWritable:!0,value:a.useAuthority??null},owner:{index:4,isWritable:!1,value:a.owner??null},tokenProgram:{index:5,isWritable:!1,value:a.tokenProgram??null},ataProgram:{index:6,isWritable:!1,value:a.ataProgram??null},systemProgram:{index:7,isWritable:!1,value:a.systemProgram??null},rent:{index:8,isWritable:!1,value:a.rent??null},useAuthorityRecord:{index:9,isWritable:!0,value:a.useAuthorityRecord??null},burner:{index:10,isWritable:!1,value:a.burner??null}},g={...a};f.metadata.value||(f.metadata.value=(0,r.findMetadataPda)(l,{mint:(0,n.expectPublicKey)(f.mint.value)})),f.tokenProgram.value||(f.tokenProgram.value=l.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),f.tokenProgram.isWritable=!1),f.ataProgram.value||(f.ataProgram.value=l.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),f.ataProgram.isWritable=!1),f.systemProgram.value||(f.systemProgram.value=l.programs.getPublicKey("splSystem","11111111111111111111111111111111"),f.systemProgram.isWritable=!1),f.rent.value||(f.rent.value=(0,e.publicKey)("SysvarRent111111111111111111111111111111111"));const v=Object.values(f).sort((k,C)=>k.index-C.index),[_,T]=(0,n.getAccountMetasAndSigners)(v,"omitted",p),z=i().serialize(g),I=0;return(0,e.transactionBuilder)([{instruction:{keys:_,programId:p,data:z},signers:T,bytesCreatedOnChain:I}])}return Y1.utilize=s,Y1}var qv={};Object.defineProperty(qv,"__esModule",{value:!0});qv.verifyCollection=qv.getVerifyCollectionInstructionDataSerializer=void 0;const SIe=gt,tM=je,EIe=Xt;function uae(){return(0,tM.mapSerializer)((0,tM.struct)([["discriminator",(0,tM.u8)()]],{description:"VerifyCollectionInstructionData"}),e=>({...e,discriminator:18}))}qv.getVerifyCollectionInstructionDataSerializer=uae;function AIe(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={metadata:{index:0,isWritable:!0,value:t.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:t.collectionAuthority??null},payer:{index:2,isWritable:!0,value:t.payer??null},collectionMint:{index:3,isWritable:!1,value:t.collectionMint??null},collection:{index:4,isWritable:!1,value:t.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:t.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:t.collectionAuthorityRecord??null}};n.payer.value||(n.payer.value=e.payer);const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,EIe.getAccountMetasAndSigners)(i,"omitted",r),a=uae().serialize({}),p=0;return(0,SIe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}qv.verifyCollection=AIe;var X1={},Hq;function TIe(){if(Hq)return X1;Hq=1,Object.defineProperty(X1,"__esModule",{value:!0}),X1.verifyCollectionV1=X1.getVerifyCollectionV1InstructionDataSerializer=void 0;const e=gt,t=je,r=br(),n=Xt;function i(){return(0,t.mapSerializer)((0,t.struct)([["discriminator",(0,t.u8)()],["verifyCollectionV1Discriminator",(0,t.u8)()]],{description:"VerifyCollectionV1InstructionData"}),l=>({...l,discriminator:52,verifyCollectionV1Discriminator:1}))}X1.getVerifyCollectionV1InstructionDataSerializer=i;function s(l,a){const p=l.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f={authority:{index:0,isWritable:!1,value:a.authority??null},delegateRecord:{index:1,isWritable:!1,value:a.delegateRecord??null},metadata:{index:2,isWritable:!0,value:a.metadata??null},collectionMint:{index:3,isWritable:!1,value:a.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:a.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:a.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:a.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:a.sysvarInstructions??null}};f.authority.value||(f.authority.value=l.identity),f.collectionMetadata.value||(f.collectionMetadata.value=(0,r.findMetadataPda)(l,{mint:(0,n.expectPublicKey)(f.collectionMint.value)})),f.collectionMasterEdition.value||(f.collectionMasterEdition.value=(0,r.findMasterEditionPda)(l,{mint:(0,n.expectPublicKey)(f.collectionMint.value)})),f.systemProgram.value||(f.systemProgram.value=l.programs.getPublicKey("splSystem","11111111111111111111111111111111"),f.systemProgram.isWritable=!1),f.sysvarInstructions.value||(f.sysvarInstructions.value=(0,e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const g=Object.values(f).sort((I,k)=>I.index-k.index),[v,_]=(0,n.getAccountMetasAndSigners)(g,"programId",p),T=i().serialize({}),z=0;return(0,e.transactionBuilder)([{instruction:{keys:v,programId:p,data:T},signers:_,bytesCreatedOnChain:z}])}return X1.verifyCollectionV1=s,X1}var Gv={};Object.defineProperty(Gv,"__esModule",{value:!0});Gv.verifyCreatorV1=Gv.getVerifyCreatorV1InstructionDataSerializer=void 0;const Zq=gt,C3=je,MIe=Xt;function dae(){return(0,C3.mapSerializer)((0,C3.struct)([["discriminator",(0,C3.u8)()],["verifyCreatorV1Discriminator",(0,C3.u8)()]],{description:"VerifyCreatorV1InstructionData"}),e=>({...e,discriminator:52,verifyCreatorV1Discriminator:0}))}Gv.getVerifyCreatorV1InstructionDataSerializer=dae;function PIe(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={authority:{index:0,isWritable:!1,value:t.authority??null},delegateRecord:{index:1,isWritable:!1,value:t.delegateRecord??null},metadata:{index:2,isWritable:!0,value:t.metadata??null},collectionMint:{index:3,isWritable:!1,value:t.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:t.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:t.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:t.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:t.sysvarInstructions??null}};n.authority.value||(n.authority.value=e.identity),n.systemProgram.value||(n.systemProgram.value=e.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1),n.sysvarInstructions.value||(n.sysvarInstructions.value=(0,Zq.publicKey)("Sysvar1nstructions1111111111111111111111111"));const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,MIe.getAccountMetasAndSigners)(i,"programId",r),a=dae().serialize({}),p=0;return(0,Zq.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Gv.verifyCreatorV1=PIe;var Hv={};Object.defineProperty(Hv,"__esModule",{value:!0});Hv.verifySizedCollectionItem=Hv.getVerifySizedCollectionItemInstructionDataSerializer=void 0;const kIe=gt,rM=je,IIe=Xt;function pae(){return(0,rM.mapSerializer)((0,rM.struct)([["discriminator",(0,rM.u8)()]],{description:"VerifySizedCollectionItemInstructionData"}),e=>({...e,discriminator:30}))}Hv.getVerifySizedCollectionItemInstructionDataSerializer=pae;function CIe(e,t){const r=e.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),n={metadata:{index:0,isWritable:!0,value:t.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:t.collectionAuthority??null},payer:{index:2,isWritable:!0,value:t.payer??null},collectionMint:{index:3,isWritable:!1,value:t.collectionMint??null},collection:{index:4,isWritable:!0,value:t.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:t.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:t.collectionAuthorityRecord??null}};n.payer.value||(n.payer.value=e.payer);const i=Object.values(n).sort((f,g)=>f.index-g.index),[s,l]=(0,IIe.getAccountMetasAndSigners)(i,"omitted",r),a=pae().serialize({}),p=0;return(0,kIe.transactionBuilder)([{instruction:{keys:s,programId:r,data:a},signers:l,bytesCreatedOnChain:p}])}Hv.verifySizedCollectionItem=CIe;var Yq;function DIe(){return Yq||(Yq=1,function(e){var t=pr&&pr.__createBinding||(Object.create?function(n,i,s,l){l===void 0&&(l=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,l,a)}:function(n,i,s,l){l===void 0&&(l=s),n[l]=i[s]}),r=pr&&pr.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(uPe(),e),r(dPe(),e),r(Pv,e),r(kv,e),r(_Pe(),e),r(bPe(),e),r(xPe(),e),r(wPe(),e),r(Iv,e),r(Cv,e),r(kPe(),e),r(IPe(),e),r(CPe(),e),r(DPe(),e),r(zPe(),e),r(RPe(),e),r(NPe(),e),r(LPe(),e),r(OPe(),e),r(BPe(),e),r(FPe(),e),r(jPe(),e),r(VPe(),e),r(UPe(),e),r(WPe(),e),r($Pe(),e),r(KPe(),e),r(qPe(),e),r(GPe(),e),r(HPe(),e),r(ZPe(),e),r(YPe(),e),r(Dv,e),r(zv,e),r(ake(),e),r(oke(),e),r(ske(),e),r(Rv,e),r(Nv,e),r(fke(),e),r(mke(),e),r(gke(),e),r(yke(),e),r(vke(),e),r(_ke(),e),r(bke(),e),r(xke(),e),r(wke(),e),r(Ske(),e),r(Eke(),e),r(Ake(),e),r(Tke(),e),r(Mke(),e),r(Pke(),e),r(kke(),e),r(Ike(),e),r(Cke(),e),r(Lv,e),r(Ov,e),r(Bv,e),r(Uke(),e),r(Fv,e),r(qke(),e),r(jv,e),r(Zke(),e),r(Yke(),e),r(Vv,e),r(eIe(),e),r(Uv,e),r(Wv,e),r(oIe(),e),r(sIe(),e),r(lIe(),e),r(cIe(),e),r(uIe(),e),r(dIe(),e),r(pIe(),e),r(hIe(),e),r($v,e),r(Kv,e),r(bIe(),e),r(xIe(),e),r(wIe(),e),r(qv,e),r(TIe(),e),r(Gv,e),r(Hv,e)}(FT)),FT}var hae={},fae={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMplTokenMetadataProgramId=e.getMplTokenMetadataProgram=e.createMplTokenMetadataProgram=e.MPL_TOKEN_METADATA_PROGRAM_ID=void 0;const t=$z;e.MPL_TOKEN_METADATA_PROGRAM_ID="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";function r(){return{name:"mplTokenMetadata",publicKey:e.MPL_TOKEN_METADATA_PROGRAM_ID,getErrorFromCode(s,l){return(0,t.getMplTokenMetadataErrorFromCode)(s,this,l)},getErrorFromName(s,l){return(0,t.getMplTokenMetadataErrorFromName)(s,this,l)},isOnCluster(){return!0}}}e.createMplTokenMetadataProgram=r;function n(s,l){return s.programs.get("mplTokenMetadata",l)}e.getMplTokenMetadataProgram=n;function i(s,l){return s.programs.getPublicKey("mplTokenMetadata",e.MPL_TOKEN_METADATA_PROGRAM_ID,l)}e.getMplTokenMetadataProgramId=i})(fae);(function(e){var t=pr&&pr.__createBinding||(Object.create?function(n,i,s,l){l===void 0&&(l=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,l,a)}:function(n,i,s,l){l===void 0&&(l=s),n[l]=i[s]}),r=pr&&pr.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(fae,e)})(hae);var Xq;function Qm(){return Xq||(Xq=1,function(e){var t=pr&&pr.__createBinding||(Object.create?function(n,i,s,l){l===void 0&&(l=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,l,a)}:function(n,i,s,l){l===void 0&&(l=s),n[l]=i[s]}),r=pr&&pr.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(br(),e),r($z,e),r(DIe(),e),r(hae,e),r(Xt,e),r(sr(),e)}(hT)),hT}var mae={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createFungibleAsset=e.createFungible=e.createProgrammableNft=e.createNft=e.createAndMint=void 0;const t=gt,r=Qm(),n=(p,f)=>(0,t.transactionBuilder)().add((0,r.createV1)(p,f)).add((0,r.mintV1)(p,{...f,mint:(0,t.publicKey)(f.mint)}));e.createAndMint=n;const i=(p,f)=>(0,e.createAndMint)(p,{...f,tokenStandard:r.TokenStandard.NonFungible,amount:1});e.createNft=i;const s=(p,f)=>(0,e.createAndMint)(p,{...f,tokenStandard:r.TokenStandard.ProgrammableNonFungible,amount:1});e.createProgrammableNft=s;const l=(p,f)=>(0,r.createV1)(p,{...f,tokenStandard:r.TokenStandard.Fungible});e.createFungible=l;const a=(p,f)=>(0,r.createV1)(p,{...f,tokenStandard:r.TokenStandard.FungibleAsset});e.createFungibleAsset=a})(mae);var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.deserializeDigitalAssetWithToken=Ro.fetchAllDigitalAssetWithTokenByMint=Ro.fetchAllDigitalAssetWithTokenByOwnerAndMint=Ro.fetchAllDigitalAssetWithTokenByOwner=Ro.fetchDigitalAssetWithTokenByMint=Ro.fetchDigitalAssetWithAssociatedToken=Ro.fetchDigitalAssetWithToken=void 0;const gh=gt,PS=Si,gae=Fz(),fc=Qm();async function yae(e,t,r,n){const[i,s,l,a,p]=await e.rpc.getAccounts([t,(0,fc.findMetadataPda)(e,{mint:t})[0],(0,fc.findMasterEditionPda)(e,{mint:t})[0],r,(0,fc.findTokenRecordPda)(e,{mint:t,token:r})[0]],n);return(0,gh.assertAccountExists)(i,"Mint"),(0,gh.assertAccountExists)(s,"Metadata"),(0,gh.assertAccountExists)(a,"Token"),DO(i,s,a,l.exists?l:void 0,p.exists?p:void 0)}Ro.fetchDigitalAssetWithToken=yae;async function zIe(e,t,r,n){const[i]=(0,PS.findAssociatedTokenPda)(e,{mint:t,owner:r});return yae(e,t,i,n)}Ro.fetchDigitalAssetWithAssociatedToken=zIe;async function RIe(e,t,r){const n=await _ae(e,t,r);if(n.length===0)throw new Error("No valid token accounts found for the provided mint");if(n.length>1)throw new Error("Multiple valid token accounts found for the provided mintuse `fetchAllDigitalAssetWithTokenByMint` instead to retrieve them all.");return n[0]}Ro.fetchDigitalAssetWithTokenByMint=RIe;async function vae(e,t,r){const n=await(0,PS.fetchAllTokenByOwner)(e,t,r),i=n.flatMap(l=>[l.mint,(0,fc.findMetadataPda)(e,{mint:l.mint})[0],(0,fc.findMasterEditionPda)(e,{mint:l.mint})[0],(0,fc.findTokenRecordPda)(e,{mint:l.mint,token:l.publicKey})[0]]),s=await e.rpc.getAccounts(i,r);return(0,gh.zipMap)(n,(0,gh.chunk)(s,4),(l,a)=>{if(!a||a.length!==4)return[];const[p,f,g,v]=a;if(!p.exists||!f.exists)return[];try{return[{...(0,gae.deserializeDigitalAsset)(p,f,g.exists?g:void 0),token:l,tokenRecord:v.exists?(0,fc.deserializeTokenRecord)(v):void 0}]}catch{return[]}}).flat()}Ro.fetchAllDigitalAssetWithTokenByOwner=vae;function NIe(e,t,r,n){return vae(e,t,{...n,mint:r})}Ro.fetchAllDigitalAssetWithTokenByOwnerAndMint=NIe;async function _ae(e,t,r){const i=(await(0,PS.findLargestTokensByMint)(e,t,r)).filter(v=>v.amount.basisPoints>0).map(v=>v.publicKey),s=[t,(0,fc.findMetadataPda)(e,{mint:t})[0],(0,fc.findMasterEditionPda)(e,{mint:t})[0]];s.push(...i.flatMap(v=>[v,(0,fc.findTokenRecordPda)(e,{mint:t,token:v})[0]]));const l=await e.rpc.getAccounts(s,r),[a,p,f,...g]=l;return(0,gh.assertAccountExists)(a,"Mint"),(0,gh.assertAccountExists)(p,"Metadata"),(0,gh.chunk)(g,2).flatMap(([v,_])=>v.exists?[DO(a,p,v,f.exists?f:void 0,_.exists?_:void 0)]:[])}Ro.fetchAllDigitalAssetWithTokenByMint=_ae;function DO(e,t,r,n,i){return{...(0,gae.deserializeDigitalAsset)(e,t,n),token:(0,PS.deserializeToken)(r),tokenRecord:i?(0,fc.deserializeTokenRecord)(i):void 0}}Ro.deserializeDigitalAssetWithToken=DO;var kS={};Object.defineProperty(kS,"__esModule",{value:!0});kS.fetchJsonMetadata=void 0;const LIe=Hh,OIe=async(e,t)=>{try{return await e.downloader.downloadJson(t)}catch(r){throw new LIe.TokenMetadataError(`Failed to fetch JSON metadata from ${t}`,r)}};kS.fetchJsonMetadata=OIe;var IS={};Object.defineProperty(IS,"__esModule",{value:!0});IS.mplTokenMetadata=void 0;const BIe=Si,FIe=Qm(),jIe=()=>({install(e){e.use((0,BIe.mplToolbox)()),e.programs.add((0,FIe.createMplTokenMetadataProgram)(),!1)}});IS.mplTokenMetadata=jIe;(function(e){var t=pr&&pr.__createBinding||(Object.create?function(n,i,s,l){l===void 0&&(l=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,l,a)}:function(n,i,s,l){l===void 0&&(l=s),n[l]=i[s]}),r=pr&&pr.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Qm(),e),r(_n(),e),r(mae,e),r(Fz(),e),r(Ro,e),r(Hh,e),r(kS,e),r(IS,e)})(_x);const bae=R.createContext(void 0),Pi=[{lat:28.4996139,lng:77.2457196,name:"India Gate NFT Gallery"},{lat:28.5148783,lng:77.2339564,name:"National Museum Digital Arts"},{lat:28.5146879,lng:77.2424753,name:"Pragati Maidan Collectibles"},{lat:28.5172767,lng:77.2237611,name:"Delhi High Court Heritage NFTs"},{lat:28.4962337,lng:77.239757,name:"Purana Qila Digital Hub"},{lat:28.5135381,lng:77.2293277,name:"Central Secretariat Gallery"},{lat:28.5123091,lng:77.2331352,name:"National Archives Collection"},{lat:28.5183798,lng:77.2346119,name:"Connaught Place NFT Market"}];function VIe({children:e}){const[t,r]=R.useState([{id:"1",name:"India Gate Memorial NFT",description:"Exclusive digital collectible capturing the majestic India Gate. Limited edition design celebrating this iconic monument.",imageUrl:"https://images.unsplash.com/photo-1500673922987-e212871fec22",shopName:Pi[0].name,category:"rare",location:{lat:Pi[0].lat,lng:Pi[0].lng},claimedAt:""},{id:"2",name:"National Museum Artifacts",description:"Digital representation of precious artifacts from the National Museum. A blend of history and digital art.",imageUrl:"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07",shopName:Pi[1].name,category:"legendary",location:{lat:Pi[1].lat,lng:Pi[1].lng},claimedAt:""},{id:"3",name:"Pragati Maidan Innovation",description:"Modern NFT art inspired by the innovative spirit of Pragati Maidan. Each piece represents progress.",imageUrl:"https://images.unsplash.com/photo-1472396961693-142e6e269027",shopName:Pi[2].name,category:"epic",location:{lat:Pi[2].lat,lng:Pi[2].lng},claimedAt:""},{id:"4",name:"Heritage Justice Collection",description:"Digital art collection inspired by the Delhi High Court architecture. Limited availability.",imageUrl:"https://images.unsplash.com/photo-1501084817091-a4f3d1d19e07",shopName:Pi[3].name,category:"rare",location:{lat:Pi[3].lat,lng:Pi[3].lng},claimedAt:""},{id:"5",name:"Purana Qila Chronicles",description:"Dynamic NFT artwork capturing the ancient beauty of Purana Qila. A must-have for history enthusiasts.",imageUrl:"https://images.unsplash.com/photo-1477959858617-67f85cf4f1df",shopName:Pi[4].name,category:"epic",location:{lat:Pi[4].lat,lng:Pi[4].lng},claimedAt:""},{id:"6",name:"Secretariat Serenity",description:"Premium digital collectible showcasing the grandeur of Central Secretariat. Exclusive to this location.",imageUrl:"https://images.unsplash.com/photo-1493246507139-91e8fad9978e",shopName:Pi[5].name,category:"legendary",location:{lat:Pi[5].lat,lng:Pi[5].lng},claimedAt:""},{id:"7",name:"Archives Anthology",description:"Historical NFT collection from the National Archives. Limited edition series.",imageUrl:"https://images.unsplash.com/photo-1460411794035-42aac080490a",shopName:Pi[6].name,category:"epic",location:{lat:Pi[6].lat,lng:Pi[6].lng},claimedAt:""},{id:"8",name:"CP Digital Collection",description:"Contemporary art NFT from Connaught Place. A perfect blend of colonial architecture and digital art.",imageUrl:"https://images.unsplash.com/photo-1496449903678-68ddcb189a24",shopName:Pi[7].name,category:"common",location:{lat:Pi[7].lat,lng:Pi[7].lng},claimedAt:""}]),[n,i]=R.useState([{id:"1",title:"Visit Local Shop A",description:"Visit Local Shop A and scan the QR code to claim an exclusive NFT",progress:0,shopName:"Local Shop A",reward:"Exclusive Shop A NFT",type:"shop"},{id:"2",title:"Purchase from Local Shop B",description:"Make a purchase at Local Shop B and claim your reward",progress:50,shopName:"Local Shop B",reward:"10% Discount on Next Purchase",type:"shop"},{id:"3",title:"Collect 5 NFTs",description:"Collect 5 different NFTs from any shop",progress:20,shopName:"Platform Challenge",reward:"Rare Platform NFT",type:"platform"},{id:"4",title:"Summer Festival NFT Hunt",description:"Visit 3 shops participating in the summer festival",progress:33,shopName:"Summer Festival",reward:"Limited Edition Summer NFT",expiresAt:new Date("2025-06-30"),type:"event"}]),[s]=R.useState([{id:"1",name:"India Gate NFT Gallery",logo:"https://via.placeholder.com/50",location:{lat:28.5061144,lng:77.2382497}},{id:"2",name:"National Museum Digital Arts",logo:"https://via.placeholder.com/50",location:{lat:28.5148783,lng:77.2339564}},{id:"3",name:"Pragati Maidan Collectibles",logo:"https://via.placeholder.com/50",location:{lat:28.5146879,lng:77.2424753}}]),[l,a]=R.useState([]),[p,f]=R.useState(!1),[g,v]=R.useState(null),[_,T]=R.useState(null),[z,I]=R.useState(null),[k,C]=R.useState(null);B9();const L=Iy(),[N,$]=R.useState(!1);R.useEffect(()=>{let et=!0;return(async()=>{if(et){f(!0),v(null);try{const ye=new _D(kee("devnet"));let j=Xre(ye.rpcEndpoint);if(!j)throw new Error("Failed to create Umi instance");j.use(_x.mplTokenMetadata()),et&&(C(j),v(null))}catch(ye){console.error("Blockchain initialization failed:",ye),et&&v(ye instanceof Error?ye.message:"Failed to initialize blockchain connection")}finally{et&&f(!1)}}})(),()=>{et=!1}},[]);const ee=()=>{"geolocation"in navigator&&navigator.geolocation.watchPosition(et=>{I({lat:et.coords.latitude,lng:et.coords.longitude})},et=>{console.error("Error getting location:",et),v("Failed to get user location")})},re=R.useCallback(async et=>{if(!L.publicKey||!L.connected)return!1;$(!0);try{const Ke={...et,claimedAt:new Date().toISOString(),mint:"pending"};return a(ye=>[...ye,Ke]),!0}catch(Ke){return console.error("Error claiming NFT:",Ke),!1}finally{$(!1)}},[L.publicKey,L.connected]),ne=R.useCallback((et,Ke)=>{a(ye=>ye.map(j=>j.id===et?{...j,mint:Ke}:j))},[]),ie=async()=>t.filter(et=>et.claimedAt!==""),me=async()=>{f(!0);try{await new Promise(et=>setTimeout(et,1500)),r([...t])}catch(et){v("Failed to refresh NFTs"),console.error(et)}finally{f(!1)}},Ze=(et,Ke)=>t.filter(ye=>{let j=!0,Z=!0;return et&&et!=="all"&&(j=ye.category===et),Ke&&(Z=(ye.distance||0)<=Ke),j&&Z});return B.jsx(bae.Provider,{value:{nfts:t,claimedNFTs:l,tasks:n,shops:s,claimNFT:re,updateNFTMint:ne,getUserNFTs:ie,loading:p,error:g,selectedNFT:_,setSelectedNFT:T,setCurrentNFT:T,filterNFTs:Ze,refreshNFTs:me,userLocation:z,setUserLocation:I,watchUserLocation:ee,stopWatchingLocation:()=>{},isLoading:N},children:e})}function H4(){const e=R.useContext(bae);if(e===void 0)throw new Error("useNFT must be used within a NFTProvider");return e}const nM=768;function UIe(){const[e,t]=R.useState(void 0);return R.useEffect(()=>{const r=window.matchMedia(`(max-width: ${nM-1}px)`),n=()=>{t(window.innerWidth<nM)};return r.addEventListener("change",n),t(window.innerWidth<nM),()=>r.removeEventListener("change",n)},[]),!!e}const WIe=k4("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Xn=R.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},s)=>{const l=n?n2:"button";return B.jsx(l,{className:yr(WIe({variant:t,size:r,className:e})),ref:s,...i})});Xn.displayName="Button";const xae=R.forwardRef(({className:e,type:t,...r},n)=>B.jsx("input",{type:t,className:yr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));xae.displayName="Input";var $Ie="Separator",Qq="horizontal",KIe=["horizontal","vertical"],wae=R.forwardRef((e,t)=>{const{decorative:r,orientation:n=Qq,...i}=e,s=qIe(n)?n:Qq,a=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return B.jsx(on.div,{"data-orientation":s,...a,...i,ref:t})});wae.displayName=$Ie;function qIe(e){return KIe.includes(e)}var Sae=wae;const Eae=R.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>B.jsx(Sae,{ref:i,decorative:r,orientation:t,className:yr("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Eae.displayName=Sae.displayName;var iM="focusScope.autoFocusOnMount",aM="focusScope.autoFocusOnUnmount",Jq={bubbles:!1,cancelable:!0},GIe="FocusScope",zO=R.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=e,[a,p]=R.useState(null),f=Ds(i),g=Ds(s),v=R.useRef(null),_=ri(t,I=>p(I)),T=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(n){let I=function(N){if(T.paused||!a)return;const $=N.target;a.contains($)?v.current=$:kp(v.current,{select:!0})},k=function(N){if(T.paused||!a)return;const $=N.relatedTarget;$!==null&&(a.contains($)||kp(v.current,{select:!0}))},C=function(N){if(document.activeElement===document.body)for(const ee of N)ee.removedNodes.length>0&&kp(a)};document.addEventListener("focusin",I),document.addEventListener("focusout",k);const L=new MutationObserver(C);return a&&L.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",k),L.disconnect()}}},[n,a,T.paused]),R.useEffect(()=>{if(a){tG.add(T);const I=document.activeElement;if(!a.contains(I)){const C=new CustomEvent(iM,Jq);a.addEventListener(iM,f),a.dispatchEvent(C),C.defaultPrevented||(HIe(JIe(Aae(a)),{select:!0}),document.activeElement===I&&kp(a))}return()=>{a.removeEventListener(iM,f),setTimeout(()=>{const C=new CustomEvent(aM,Jq);a.addEventListener(aM,g),a.dispatchEvent(C),C.defaultPrevented||kp(I??document.body,{select:!0}),a.removeEventListener(aM,g),tG.remove(T)},0)}}},[a,f,g,T]);const z=R.useCallback(I=>{if(!r&&!n||T.paused)return;const k=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,C=document.activeElement;if(k&&C){const L=I.currentTarget,[N,$]=ZIe(L);N&&$?!I.shiftKey&&C===$?(I.preventDefault(),r&&kp(N,{select:!0})):I.shiftKey&&C===N&&(I.preventDefault(),r&&kp($,{select:!0})):C===L&&I.preventDefault()}},[r,n,T.paused]);return B.jsx(on.div,{tabIndex:-1,...l,ref:_,onKeyDown:z})});zO.displayName=GIe;function HIe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(kp(n,{select:t}),document.activeElement!==r)return}function ZIe(e){const t=Aae(e),r=eG(t,e),n=eG(t.reverse(),e);return[r,n]}function Aae(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function eG(e,t){for(const r of e)if(!YIe(r,{upTo:t}))return r}function YIe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XIe(e){return e instanceof HTMLInputElement&&"select"in e}function kp(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&XIe(e)&&t&&e.select()}}var tG=QIe();function QIe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=rG(e,t),e.unshift(t)},remove(t){var r;e=rG(e,t),(r=e[0])==null||r.resume()}}}function rG(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function JIe(e){return e.filter(t=>t.tagName!=="A")}var oM=0;function Tae(){R.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??nG()),document.body.insertAdjacentElement("beforeend",e[1]??nG()),oM++,()=>{oM===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),oM--}},[])}function nG(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Oo=function(){return Oo=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Oo.apply(this,arguments)};function RO(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Mae(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var wx="right-scroll-bar-position",Sx="width-before-scroll-bar",eCe="with-scroll-bars-hidden",tCe="--removed-body-scroll-bar-size";function sM(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function rCe(e,t){var r=R.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var nCe=typeof window<"u"?R.useLayoutEffect:R.useEffect,iG=new WeakMap;function Pae(e,t){var r=rCe(t||null,function(n){return e.forEach(function(i){return sM(i,n)})});return nCe(function(){var n=iG.get(r);if(n){var i=new Set(n),s=new Set(e),l=r.current;i.forEach(function(a){s.has(a)||sM(a,null)}),s.forEach(function(a){i.has(a)||sM(a,l)})}iG.set(r,e)},[e]),r}function iCe(e){return e}function aCe(e,t){t===void 0&&(t=iCe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var l=t(s,n);return r.push(l),function(){r=r.filter(function(a){return a!==l})}},assignSyncMedium:function(s){for(n=!0;r.length;){var l=r;r=[],l.forEach(s)}r={push:function(a){return s(a)},filter:function(){return r}}},assignMedium:function(s){n=!0;var l=[];if(r.length){var a=r;r=[],a.forEach(s),l=r}var p=function(){var g=l;l=[],g.forEach(s)},f=function(){return Promise.resolve().then(p)};f(),r={push:function(g){l.push(g),f()},filter:function(g){return l=l.filter(g),r}}}};return i}function kae(e){e===void 0&&(e={});var t=aCe(null);return t.options=Oo({async:!0,ssr:!1},e),t}var Iae=function(e){var t=e.sideCar,r=RO(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return R.createElement(n,Oo({},r))};Iae.isSideCarExport=!0;function Cae(e,t){return e.useMedium(t),Iae}var Dae=kae(),lM=function(){},CS=R.forwardRef(function(e,t){var r=R.useRef(null),n=R.useState({onScrollCapture:lM,onWheelCapture:lM,onTouchMoveCapture:lM}),i=n[0],s=n[1],l=e.forwardProps,a=e.children,p=e.className,f=e.removeScrollBar,g=e.enabled,v=e.shards,_=e.sideCar,T=e.noIsolation,z=e.inert,I=e.allowPinchZoom,k=e.as,C=k===void 0?"div":k,L=e.gapMode,N=RO(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=_,ee=Pae([r,t]),re=Oo(Oo({},N),i);return R.createElement(R.Fragment,null,g&&R.createElement($,{sideCar:Dae,removeScrollBar:f,shards:v,noIsolation:T,inert:z,setCallbacks:s,allowPinchZoom:!!I,lockRef:r,gapMode:L}),l?R.cloneElement(R.Children.only(a),Oo(Oo({},re),{ref:ee})):R.createElement(C,Oo({},re,{className:p,ref:ee}),a))});CS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};CS.classNames={fullWidth:Sx,zeroRight:wx};var aG,oCe=function(){if(aG)return aG;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sCe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=oCe();return t&&e.setAttribute("nonce",t),e}function lCe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function cCe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var uCe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=sCe())&&(lCe(t,r),cCe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},dCe=function(){var e=uCe();return function(t,r){R.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},NO=function(){var e=dCe(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},pCe={left:0,top:0,right:0,gap:0},cM=function(e){return parseInt(e||"",10)||0},hCe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[cM(r),cM(n),cM(i)]},fCe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pCe;var t=hCe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},mCe=NO(),uy="data-scroll-locked",gCe=function(e,t,r,n){var i=e.left,s=e.top,l=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(eCe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(uy,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wx,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Sx,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(wx," .").concat(wx,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Sx," .").concat(Sx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(uy,`] {
    `).concat(tCe,": ").concat(a,`px;
  }
`)},oG=function(){var e=parseInt(document.body.getAttribute(uy)||"0",10);return isFinite(e)?e:0},yCe=function(){R.useEffect(function(){return document.body.setAttribute(uy,(oG()+1).toString()),function(){var e=oG()-1;e<=0?document.body.removeAttribute(uy):document.body.setAttribute(uy,e.toString())}},[])},zae=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;yCe();var s=R.useMemo(function(){return fCe(i)},[i]);return R.createElement(mCe,{styles:gCe(s,!t,i,r?"":"!important")})},Xk=!1;if(typeof window<"u")try{var D3=Object.defineProperty({},"passive",{get:function(){return Xk=!0,!0}});window.addEventListener("test",D3,D3),window.removeEventListener("test",D3,D3)}catch{Xk=!1}var pg=Xk?{passive:!1}:!1,vCe=function(e){return e.tagName==="TEXTAREA"},Rae=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!vCe(e)&&r[t]==="visible")},_Ce=function(e){return Rae(e,"overflowY")},bCe=function(e){return Rae(e,"overflowX")},sG=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Nae(e,n);if(i){var s=Lae(e,n),l=s[1],a=s[2];if(l>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},xCe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},wCe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Nae=function(e,t){return e==="v"?_Ce(t):bCe(t)},Lae=function(e,t){return e==="v"?xCe(t):wCe(t)},SCe=function(e,t){return e==="h"&&t==="rtl"?-1:1},ECe=function(e,t,r,n,i){var s=SCe(e,window.getComputedStyle(t).direction),l=s*n,a=r.target,p=t.contains(a),f=!1,g=l>0,v=0,_=0;do{var T=Lae(e,a),z=T[0],I=T[1],k=T[2],C=I-k-s*z;(z||C)&&Nae(e,a)&&(v+=C,_+=z),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!p&&a!==document.body||p&&(t.contains(a)||t===a));return(g&&(i&&Math.abs(v)<1||!i&&l>v)||!g&&(i&&Math.abs(_)<1||!i&&-l>_))&&(f=!0),f},z3=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},lG=function(e){return[e.deltaX,e.deltaY]},cG=function(e){return e&&"current"in e?e.current:e},ACe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},TCe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},MCe=0,hg=[];function PCe(e){var t=R.useRef([]),r=R.useRef([0,0]),n=R.useRef(),i=R.useState(MCe++)[0],s=R.useState(NO)[0],l=R.useRef(e);R.useEffect(function(){l.current=e},[e]),R.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var I=Mae([e.lockRef.current],(e.shards||[]).map(cG),!0).filter(Boolean);return I.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),I.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=R.useCallback(function(I,k){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!l.current.allowPinchZoom;var C=z3(I),L=r.current,N="deltaX"in I?I.deltaX:L[0]-C[0],$="deltaY"in I?I.deltaY:L[1]-C[1],ee,re=I.target,ne=Math.abs(N)>Math.abs($)?"h":"v";if("touches"in I&&ne==="h"&&re.type==="range")return!1;var ie=sG(ne,re);if(!ie)return!0;if(ie?ee=ne:(ee=ne==="v"?"h":"v",ie=sG(ne,re)),!ie)return!1;if(!n.current&&"changedTouches"in I&&(N||$)&&(n.current=ee),!ee)return!0;var me=n.current||ee;return ECe(me,k,I,me==="h"?N:$,!0)},[]),p=R.useCallback(function(I){var k=I;if(!(!hg.length||hg[hg.length-1]!==s)){var C="deltaY"in k?lG(k):z3(k),L=t.current.filter(function(ee){return ee.name===k.type&&(ee.target===k.target||k.target===ee.shadowParent)&&ACe(ee.delta,C)})[0];if(L&&L.should){k.cancelable&&k.preventDefault();return}if(!L){var N=(l.current.shards||[]).map(cG).filter(Boolean).filter(function(ee){return ee.contains(k.target)}),$=N.length>0?a(k,N[0]):!l.current.noIsolation;$&&k.cancelable&&k.preventDefault()}}},[]),f=R.useCallback(function(I,k,C,L){var N={name:I,delta:k,target:C,should:L,shadowParent:kCe(C)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function($){return $!==N})},1)},[]),g=R.useCallback(function(I){r.current=z3(I),n.current=void 0},[]),v=R.useCallback(function(I){f(I.type,lG(I),I.target,a(I,e.lockRef.current))},[]),_=R.useCallback(function(I){f(I.type,z3(I),I.target,a(I,e.lockRef.current))},[]);R.useEffect(function(){return hg.push(s),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:_}),document.addEventListener("wheel",p,pg),document.addEventListener("touchmove",p,pg),document.addEventListener("touchstart",g,pg),function(){hg=hg.filter(function(I){return I!==s}),document.removeEventListener("wheel",p,pg),document.removeEventListener("touchmove",p,pg),document.removeEventListener("touchstart",g,pg)}},[]);var T=e.removeScrollBar,z=e.inert;return R.createElement(R.Fragment,null,z?R.createElement(s,{styles:TCe(i)}):null,T?R.createElement(zae,{gapMode:e.gapMode}):null)}function kCe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ICe=Cae(Dae,PCe);var Oae=R.forwardRef(function(e,t){return R.createElement(CS,Oo({},e,{ref:t,sideCar:ICe}))});Oae.classNames=CS.classNames;const Bae=Oae;var CCe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},fg=new WeakMap,R3=new WeakMap,N3={},uM=0,Fae=function(e){return e&&(e.host||Fae(e.parentNode))},DCe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Fae(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},zCe=function(e,t,r,n){var i=DCe(t,Array.isArray(e)?e:[e]);N3[r]||(N3[r]=new WeakMap);var s=N3[r],l=[],a=new Set,p=new Set(i),f=function(v){!v||a.has(v)||(a.add(v),f(v.parentNode))};i.forEach(f);var g=function(v){!v||p.has(v)||Array.prototype.forEach.call(v.children,function(_){if(a.has(_))g(_);else try{var T=_.getAttribute(n),z=T!==null&&T!=="false",I=(fg.get(_)||0)+1,k=(s.get(_)||0)+1;fg.set(_,I),s.set(_,k),l.push(_),I===1&&z&&R3.set(_,!0),k===1&&_.setAttribute(r,"true"),z||_.setAttribute(n,"true")}catch(C){console.error("aria-hidden: cannot operate on ",_,C)}})};return g(t),a.clear(),uM++,function(){l.forEach(function(v){var _=fg.get(v)-1,T=s.get(v)-1;fg.set(v,_),s.set(v,T),_||(R3.has(v)||v.removeAttribute(n),R3.delete(v)),T||v.removeAttribute(r)}),uM--,uM||(fg=new WeakMap,fg=new WeakMap,R3=new WeakMap,N3={})}},LO=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=t||CCe(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),zCe(n,i,r,"aria-hidden")):function(){return null}},DS="Dialog",[jae,wUe]=nl(DS),[RCe,Ic]=jae(DS),Vae=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:l=!0}=e,a=R.useRef(null),p=R.useRef(null),[f,g]=Uh({prop:n,defaultProp:i??!1,onChange:s,caller:DS});return B.jsx(RCe,{scope:t,triggerRef:a,contentRef:p,contentId:Ad(),titleId:Ad(),descriptionId:Ad(),open:f,onOpenChange:g,onOpenToggle:R.useCallback(()=>g(v=>!v),[g]),modal:l,children:r})};Vae.displayName=DS;var Uae="DialogTrigger",Wae=R.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ic(Uae,r),s=ri(t,i.triggerRef);return B.jsx(on.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":FO(i.open),...n,ref:s,onClick:Er(e.onClick,i.onOpenToggle)})});Wae.displayName=Uae;var OO="DialogPortal",[NCe,$ae]=jae(OO,{forceMount:void 0}),Kae=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,s=Ic(OO,t);return B.jsx(NCe,{scope:t,forceMount:r,children:R.Children.map(n,l=>B.jsx(zl,{present:r||s.open,children:B.jsx(c9,{asChild:!0,container:i,children:l})}))})};Kae.displayName=OO;var N8="DialogOverlay",qae=R.forwardRef((e,t)=>{const r=$ae(N8,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Ic(N8,e.__scopeDialog);return s.modal?B.jsx(zl,{present:n||s.open,children:B.jsx(OCe,{...i,ref:t})}):null});qae.displayName=N8;var LCe=vy("DialogOverlay.RemoveScroll"),OCe=R.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ic(N8,r);return B.jsx(Bae,{as:LCe,allowPinchZoom:!0,shards:[i.contentRef],children:B.jsx(on.div,{"data-state":FO(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Vm="DialogContent",Gae=R.forwardRef((e,t)=>{const r=$ae(Vm,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Ic(Vm,e.__scopeDialog);return B.jsx(zl,{present:n||s.open,children:s.modal?B.jsx(BCe,{...i,ref:t}):B.jsx(FCe,{...i,ref:t})})});Gae.displayName=Vm;var BCe=R.forwardRef((e,t)=>{const r=Ic(Vm,e.__scopeDialog),n=R.useRef(null),i=ri(t,r.contentRef,n);return R.useEffect(()=>{const s=n.current;if(s)return LO(s)},[]),B.jsx(Hae,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Er(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Er(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,a=l.button===0&&l.ctrlKey===!0;(l.button===2||a)&&s.preventDefault()}),onFocusOutside:Er(e.onFocusOutside,s=>s.preventDefault())})}),FCe=R.forwardRef((e,t)=>{const r=Ic(Vm,e.__scopeDialog),n=R.useRef(!1),i=R.useRef(!1);return B.jsx(Hae,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var l,a;(l=e.onCloseAutoFocus)==null||l.call(e,s),s.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var p,f;(p=e.onInteractOutside)==null||p.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;((f=r.triggerRef.current)==null?void 0:f.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Hae=R.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...l}=e,a=Ic(Vm,r),p=R.useRef(null),f=ri(t,p);return Tae(),B.jsxs(B.Fragment,{children:[B.jsx(zO,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:B.jsx(M4,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":FO(a.open),...l,ref:f,onDismiss:()=>a.onOpenChange(!1)})}),B.jsxs(B.Fragment,{children:[B.jsx(jCe,{titleId:a.titleId}),B.jsx(UCe,{contentRef:p,descriptionId:a.descriptionId})]})]})}),BO="DialogTitle",Zae=R.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ic(BO,r);return B.jsx(on.h2,{id:i.titleId,...n,ref:t})});Zae.displayName=BO;var Yae="DialogDescription",Xae=R.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ic(Yae,r);return B.jsx(on.p,{id:i.descriptionId,...n,ref:t})});Xae.displayName=Yae;var Qae="DialogClose",Jae=R.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ic(Qae,r);return B.jsx(on.button,{type:"button",...n,ref:t,onClick:Er(e.onClick,()=>i.onOpenChange(!1))})});Jae.displayName=Qae;function FO(e){return e?"open":"closed"}var eoe="DialogTitleWarning",[SUe,toe]=F1e(eoe,{contentName:Vm,titleName:BO,docsSlug:"dialog"}),jCe=({titleId:e})=>{const t=toe(eoe),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return R.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},VCe="DialogDescriptionWarning",UCe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${toe(VCe).contentName}}.`;return R.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},WCe=Vae,$Ce=Wae,KCe=Kae,roe=qae,noe=Gae,ioe=Zae,aoe=Xae,ooe=Jae;const jO=WCe,soe=$Ce,qCe=ooe,GCe=KCe,loe=R.forwardRef(({className:e,...t},r)=>B.jsx(roe,{className:yr("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));loe.displayName=roe.displayName;const HCe=k4("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),zS=R.forwardRef(({side:e="right",className:t,children:r,...n},i)=>B.jsxs(GCe,{children:[B.jsx(loe,{}),B.jsxs(noe,{ref:i,className:yr(HCe({side:e}),t),...n,children:[r,B.jsxs(ooe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[B.jsx(TC,{className:"h-4 w-4"}),B.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zS.displayName=noe.displayName;const VO=({className:e,...t})=>B.jsx("div",{className:yr("flex flex-col space-y-2 text-center sm:text-left",e),...t});VO.displayName="SheetHeader";const UO=R.forwardRef(({className:e,...t},r)=>B.jsx(ioe,{ref:r,className:yr("text-lg font-semibold text-foreground",e),...t}));UO.displayName=ioe.displayName;const WO=R.forwardRef(({className:e,...t},r)=>B.jsx(aoe,{ref:r,className:yr("text-sm text-muted-foreground",e),...t}));WO.displayName=aoe.displayName;function uG({className:e,...t}){return B.jsx("div",{className:yr("animate-pulse rounded-md bg-muted",e),...t})}const ZCe="sidebar:state",YCe=60*60*24*7,XCe="16rem",QCe="18rem",JCe="3rem",eDe="b",coe=R.createContext(null);function RS(){const e=R.useContext(coe);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const uoe=R.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:i,children:s,...l},a)=>{const p=UIe(),[f,g]=R.useState(!1),[v,_]=R.useState(e),T=t??v,z=R.useCallback(L=>{const N=typeof L=="function"?L(T):L;r?r(N):_(N),document.cookie=`${ZCe}=${N}; path=/; max-age=${YCe}`},[r,T]),I=R.useCallback(()=>p?g(L=>!L):z(L=>!L),[p,z,g]);R.useEffect(()=>{const L=N=>{N.key===eDe&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),I())};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[I]);const k=T?"expanded":"collapsed",C=R.useMemo(()=>({state:k,open:T,setOpen:z,isMobile:p,openMobile:f,setOpenMobile:g,toggleSidebar:I}),[k,T,z,p,f,g,I]);return B.jsx(coe.Provider,{value:C,children:B.jsx(UQ,{delayDuration:0,children:B.jsx("div",{style:{"--sidebar-width":XCe,"--sidebar-width-icon":JCe,...i},className:yr("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:a,...l,children:s})})})});uoe.displayName="SidebarProvider";const doe=R.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:i,...s},l)=>{const{isMobile:a,state:p,openMobile:f,setOpenMobile:g}=RS();return r==="none"?B.jsx("div",{className:yr("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:l,...s,children:i}):a?B.jsx(jO,{open:f,onOpenChange:g,...s,children:B.jsx(zS,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":QCe},side:e,children:B.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):B.jsxs("div",{ref:l,className:"group peer hidden md:block text-sidebar-foreground","data-state":p,"data-collapsible":p==="collapsed"?r:"","data-variant":t,"data-side":e,children:[B.jsx("div",{className:yr("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),B.jsx("div",{className:yr("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...s,children:B.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});doe.displayName="Sidebar";const tDe=R.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:i}=RS();return B.jsxs(Xn,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:yr("h-7 w-7",e),onClick:s=>{t==null||t(s),i()},...r,children:[B.jsx(Wme,{}),B.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});tDe.displayName="SidebarTrigger";const poe=R.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=RS();return B.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:yr("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});poe.displayName="SidebarRail";const hoe=R.forwardRef(({className:e,...t},r)=>B.jsx("main",{ref:r,className:yr("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));hoe.displayName="SidebarInset";const rDe=R.forwardRef(({className:e,...t},r)=>B.jsx(xae,{ref:r,"data-sidebar":"input",className:yr("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));rDe.displayName="SidebarInput";const foe=R.forwardRef(({className:e,...t},r)=>B.jsx("div",{ref:r,"data-sidebar":"header",className:yr("flex flex-col gap-2 p-2",e),...t}));foe.displayName="SidebarHeader";const moe=R.forwardRef(({className:e,...t},r)=>B.jsx("div",{ref:r,"data-sidebar":"footer",className:yr("flex flex-col gap-2 p-2",e),...t}));moe.displayName="SidebarFooter";const nDe=R.forwardRef(({className:e,...t},r)=>B.jsx(Eae,{ref:r,"data-sidebar":"separator",className:yr("mx-2 w-auto bg-sidebar-border",e),...t}));nDe.displayName="SidebarSeparator";const goe=R.forwardRef(({className:e,...t},r)=>B.jsx("div",{ref:r,"data-sidebar":"content",className:yr("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));goe.displayName="SidebarContent";const yoe=R.forwardRef(({className:e,...t},r)=>B.jsx("div",{ref:r,"data-sidebar":"group",className:yr("relative flex w-full min-w-0 flex-col p-2",e),...t}));yoe.displayName="SidebarGroup";const voe=R.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const i=t?n2:"div";return B.jsx(i,{ref:n,"data-sidebar":"group-label",className:yr("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});voe.displayName="SidebarGroupLabel";const iDe=R.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const i=t?n2:"button";return B.jsx(i,{ref:n,"data-sidebar":"group-action",className:yr("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});iDe.displayName="SidebarGroupAction";const _oe=R.forwardRef(({className:e,...t},r)=>B.jsx("div",{ref:r,"data-sidebar":"group-content",className:yr("w-full text-sm",e),...t}));_oe.displayName="SidebarGroupContent";const boe=R.forwardRef(({className:e,...t},r)=>B.jsx("ul",{ref:r,"data-sidebar":"menu",className:yr("flex w-full min-w-0 flex-col gap-1",e),...t}));boe.displayName="SidebarMenu";const xoe=R.forwardRef(({className:e,...t},r)=>B.jsx("li",{ref:r,"data-sidebar":"menu-item",className:yr("group/menu-item relative",e),...t}));xoe.displayName="SidebarMenuItem";const aDe=k4("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),woe=R.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:i,className:s,...l},a)=>{const p=e?n2:"button",{isMobile:f,state:g}=RS(),v=B.jsx(p,{ref:a,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:yr(aDe({variant:r,size:n}),s),...l});return i?(typeof i=="string"&&(i={children:i}),B.jsxs(Eye,{children:[B.jsx(Aye,{asChild:!0,children:v}),B.jsx(WQ,{side:"right",align:"center",hidden:g!=="collapsed"||f,...i})]})):v});woe.displayName="SidebarMenuButton";const oDe=R.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},i)=>{const s=t?n2:"button";return B.jsx(s,{ref:i,"data-sidebar":"menu-action",className:yr("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});oDe.displayName="SidebarMenuAction";const sDe=R.forwardRef(({className:e,...t},r)=>B.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:yr("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));sDe.displayName="SidebarMenuBadge";const lDe=R.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const i=R.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return B.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:yr("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&B.jsx(uG,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),B.jsx(uG,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});lDe.displayName="SidebarMenuSkeleton";const cDe=R.forwardRef(({className:e,...t},r)=>B.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:yr("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));cDe.displayName="SidebarMenuSub";const uDe=R.forwardRef(({...e},t)=>B.jsx("li",{ref:t,...e}));uDe.displayName="SidebarMenuSubItem";const dDe=R.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...i},s)=>{const l=e?n2:"a";return B.jsx(l,{ref:s,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:yr("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})});dDe.displayName="SidebarMenuSubButton";const $O=R.createContext({});function KO(e){const t=R.useRef(null);return t.current===null&&(t.current=e()),t.current}const qO=typeof window<"u",Soe=qO?R.useLayoutEffect:R.useEffect,NS=R.createContext(null),GO=R.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class pDe extends R.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=n instanceof HTMLElement&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function hDe({children:e,isPresent:t,anchorX:r}){const n=R.useId(),i=R.useRef(null),s=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=R.useContext(GO);return R.useInsertionEffect(()=>{const{width:a,height:p,top:f,left:g,right:v}=s.current;if(t||!i.current||!a||!p)return;const _=r==="left"?`left: ${g}`:`right: ${v}`;i.current.dataset.motionPopId=n;const T=document.createElement("style");return l&&(T.nonce=l),document.head.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${p}px !important;
            ${_}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(T)&&document.head.removeChild(T)}},[t]),B.jsx(pDe,{isPresent:t,childRef:i,sizeRef:s,children:R.cloneElement(e,{ref:i})})}const fDe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:l,anchorX:a})=>{const p=KO(mDe),f=R.useId();let g=!0,v=R.useMemo(()=>(g=!1,{id:f,initial:t,isPresent:r,custom:i,onExitComplete:_=>{p.set(_,!0);for(const T of p.values())if(!T)return;n&&n()},register:_=>(p.set(_,!1),()=>p.delete(_))}),[r,p,n]);return s&&g&&(v={...v}),R.useMemo(()=>{p.forEach((_,T)=>p.set(T,!1))},[r]),R.useEffect(()=>{!r&&!p.size&&n&&n()},[r]),l==="popLayout"&&(e=B.jsx(hDe,{isPresent:r,anchorX:a,children:e})),B.jsx(NS.Provider,{value:v,children:e})};function mDe(){return new Map}function Eoe(e=!0){const t=R.useContext(NS);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=R.useId();R.useEffect(()=>{if(e)return i(s)},[e]);const l=R.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,l]:[!0]}const L3=e=>e.key||"";function dG(e){const t=[];return R.Children.forEach(e,r=>{R.isValidElement(r)&&t.push(r)}),t}const Zv=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:l=!1,anchorX:a="left"})=>{const[p,f]=Eoe(l),g=R.useMemo(()=>dG(e),[e]),v=l&&!p?[]:g.map(L3),_=R.useRef(!0),T=R.useRef(g),z=KO(()=>new Map),[I,k]=R.useState(g),[C,L]=R.useState(g);Soe(()=>{_.current=!1,T.current=g;for(let ee=0;ee<C.length;ee++){const re=L3(C[ee]);v.includes(re)?z.delete(re):z.get(re)!==!0&&z.set(re,!1)}},[C,v.length,v.join("-")]);const N=[];if(g!==I){let ee=[...g];for(let re=0;re<C.length;re++){const ne=C[re],ie=L3(ne);v.includes(ie)||(ee.splice(re,0,ne),N.push(ne))}return s==="wait"&&N.length&&(ee=N),L(dG(ee)),k(g),null}const{forceRender:$}=R.useContext($O);return B.jsx(B.Fragment,{children:C.map(ee=>{const re=L3(ee),ne=l&&!p?!1:g===C||v.includes(re),ie=()=>{if(z.has(re))z.set(re,!0);else return;let me=!0;z.forEach(Ze=>{Ze||(me=!1)}),me&&($==null||$(),L(T.current),l&&(f==null||f()),n&&n())};return B.jsx(fDe,{isPresent:ne,initial:!_.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,onExitComplete:ne?void 0:ie,anchorX:a,children:ee},re)})})};function HO(e,t){e.indexOf(t)===-1&&e.push(t)}function ZO(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Nd=(e,t,r)=>r>t?t:r<e?e:r;let YO=()=>{};const Aoe=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Toe=e=>/^0[^.\s]+$/u.test(e);function XO(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ml=e=>e,gDe=(e,t)=>r=>t(e(r)),Z4=(...e)=>e.reduce(gDe),u4=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class QO{constructor(){this.subscriptions=[]}add(t){return HO(this.subscriptions,t),()=>ZO(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const l=this.subscriptions[s];l&&l(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ou=e=>e*1e3,su=e=>e/1e3;function Moe(e,t){return t?e*(1e3/t):0}const Poe=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,yDe=1e-7,vDe=12;function _De(e,t,r,n,i){let s,l,a=0;do l=t+(r-t)/2,s=Poe(l,n,i)-e,s>0?r=l:t=l;while(Math.abs(s)>yDe&&++a<vDe);return l}function Y4(e,t,r,n){if(e===t&&r===n)return Ml;const i=s=>_De(s,0,1,e,r);return s=>s===0||s===1?s:Poe(i(s),t,n)}const koe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ioe=e=>t=>1-e(1-t),Coe=Y4(.33,1.53,.69,.99),JO=Ioe(Coe),Doe=koe(JO),zoe=e=>(e*=2)<1?.5*JO(e):.5*(2-Math.pow(2,-10*(e-1))),eB=e=>1-Math.sin(Math.acos(e)),Roe=Ioe(eB),Noe=koe(eB),bDe=Y4(.42,0,1,1),xDe=Y4(0,0,.58,1),Loe=Y4(.42,0,.58,1),wDe=e=>Array.isArray(e)&&typeof e[0]!="number",Ooe=e=>Array.isArray(e)&&typeof e[0]=="number",SDe={linear:Ml,easeIn:bDe,easeInOut:Loe,easeOut:xDe,circIn:eB,circInOut:Noe,circOut:Roe,backIn:JO,backInOut:Doe,backOut:Coe,anticipate:zoe},EDe=e=>typeof e=="string",pG=e=>{if(Ooe(e)){YO(e.length===4);const[t,r,n,i]=e;return Y4(t,r,n,i)}else if(EDe(e))return SDe[e];return e},O3=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],hG={value:null,addProjectionMetrics:null};function ADe(e,t){let r=new Set,n=new Set,i=!1,s=!1;const l=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},p=0;function f(v){l.has(v)&&(g.schedule(v),e()),p++,v(a)}const g={schedule:(v,_=!1,T=!1)=>{const I=T&&i?r:n;return _&&l.add(v),I.has(v)||I.add(v),v},cancel:v=>{n.delete(v),l.delete(v)},process:v=>{if(a=v,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(f),t&&hG.value&&hG.value.frameloop[t].push(p),p=0,r.clear(),i=!1,s&&(s=!1,g.process(v))}};return g}const TDe=40;function Boe(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,l=O3.reduce((N,$)=>(N[$]=ADe(s,t?$:void 0),N),{}),{setup:a,read:p,resolveKeyframes:f,preUpdate:g,update:v,preRender:_,render:T,postRender:z}=l,I=()=>{const N=MotionGlobalConfig.useManualTiming?i.timestamp:performance.now();r=!1,MotionGlobalConfig.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(N-i.timestamp,TDe),1)),i.timestamp=N,i.isProcessing=!0,a.process(i),p.process(i),f.process(i),g.process(i),v.process(i),_.process(i),T.process(i),z.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(I))},k=()=>{r=!0,n=!0,i.isProcessing||e(I)};return{schedule:O3.reduce((N,$)=>{const ee=l[$];return N[$]=(re,ne=!1,ie=!1)=>(r||k(),ee.schedule(re,ne,ie)),N},{}),cancel:N=>{for(let $=0;$<O3.length;$++)l[O3[$]].cancel(N)},state:i,steps:l}}const{schedule:Yi,cancel:Oh,state:ao,steps:dM}=Boe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ml,!0);let E5;function MDe(){E5=void 0}const Ps={now:()=>(E5===void 0&&Ps.set(ao.isProcessing||MotionGlobalConfig.useManualTiming?ao.timestamp:performance.now()),E5),set:e=>{E5=e,queueMicrotask(MDe)}},Foe=e=>t=>typeof t=="string"&&t.startsWith(e),tB=Foe("--"),PDe=Foe("var(--"),rB=e=>PDe(e)?kDe.test(e.split("/*")[0].trim()):!1,kDe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,D2={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},d4={...D2,transform:e=>Nd(0,1,e)},B3={...D2,default:1},Ex=e=>Math.round(e*1e5)/1e5,nB=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function IDe(e){return e==null}const CDe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iB=(e,t)=>r=>!!(typeof r=="string"&&CDe.test(r)&&r.startsWith(e)||t&&!IDe(r)&&Object.prototype.hasOwnProperty.call(r,t)),joe=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,l,a]=n.match(nB);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(l),alpha:a!==void 0?parseFloat(a):1}},DDe=e=>Nd(0,255,e),pM={...D2,transform:e=>Math.round(DDe(e))},_m={test:iB("rgb","red"),parse:joe("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+pM.transform(e)+", "+pM.transform(t)+", "+pM.transform(r)+", "+Ex(d4.transform(n))+")"};function zDe(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Qk={test:iB("#"),parse:zDe,transform:_m.transform},X4=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ip=X4("deg"),lu=X4("%"),Jr=X4("px"),RDe=X4("vh"),NDe=X4("vw"),fG=(()=>({...lu,parse:e=>lu.parse(e)/100,transform:e=>lu.transform(e*100)}))(),$g={test:iB("hsl","hue"),parse:joe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+lu.transform(Ex(t))+", "+lu.transform(Ex(r))+", "+Ex(d4.transform(n))+")"},Io={test:e=>_m.test(e)||Qk.test(e)||$g.test(e),parse:e=>_m.test(e)?_m.parse(e):$g.test(e)?$g.parse(e):Qk.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_m.transform(e):$g.transform(e)},LDe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ODe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(nB))==null?void 0:t.length)||0)+(((r=e.match(LDe))==null?void 0:r.length)||0)>0}const Voe="number",Uoe="color",BDe="var",FDe="var(",mG="${}",jDe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function p4(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(jDe,p=>(Io.test(p)?(n.color.push(s),i.push(Uoe),r.push(Io.parse(p))):p.startsWith(FDe)?(n.var.push(s),i.push(BDe),r.push(p)):(n.number.push(s),i.push(Voe),r.push(parseFloat(p))),++s,mG)).split(mG);return{values:r,split:a,indexes:n,types:i}}function Woe(e){return p4(e).values}function $oe(e){const{split:t,types:r}=p4(e),n=t.length;return i=>{let s="";for(let l=0;l<n;l++)if(s+=t[l],i[l]!==void 0){const a=r[l];a===Voe?s+=Ex(i[l]):a===Uoe?s+=Io.transform(i[l]):s+=i[l]}return s}}const VDe=e=>typeof e=="number"?0:e;function UDe(e){const t=Woe(e);return $oe(e)(t.map(VDe))}const Bh={test:ODe,parse:Woe,createTransformer:$oe,getAnimatableNone:UDe};function hM(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function WDe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,l=0;if(!t)i=s=l=r;else{const a=r<.5?r*(1+t):r+t-r*t,p=2*r-a;i=hM(p,a,e+1/3),s=hM(p,a,e),l=hM(p,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(l*255),alpha:n}}function L8(e,t){return r=>r>0?t:e}const Hi=(e,t,r)=>e+(t-e)*r,fM=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},$De=[Qk,_m,$g],KDe=e=>$De.find(t=>t.test(e));function gG(e){const t=KDe(e);if(!t)return!1;let r=t.parse(e);return t===$g&&(r=WDe(r)),r}const yG=(e,t)=>{const r=gG(e),n=gG(t);if(!r||!n)return L8(e,t);const i={...r};return s=>(i.red=fM(r.red,n.red,s),i.green=fM(r.green,n.green,s),i.blue=fM(r.blue,n.blue,s),i.alpha=Hi(r.alpha,n.alpha,s),_m.transform(i))},Jk=new Set(["none","hidden"]);function qDe(e,t){return Jk.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function GDe(e,t){return r=>Hi(e,t,r)}function aB(e){return typeof e=="number"?GDe:typeof e=="string"?rB(e)?L8:Io.test(e)?yG:YDe:Array.isArray(e)?Koe:typeof e=="object"?Io.test(e)?yG:HDe:L8}function Koe(e,t){const r=[...e],n=r.length,i=e.map((s,l)=>aB(s)(s,t[l]));return s=>{for(let l=0;l<n;l++)r[l]=i[l](s);return r}}function HDe(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=aB(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function ZDe(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],l=e.indexes[s][n[s]],a=e.values[l]??0;r[i]=a,n[s]++}return r}const YDe=(e,t)=>{const r=Bh.createTransformer(t),n=p4(e),i=p4(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Jk.has(e)&&!i.values.length||Jk.has(t)&&!n.values.length?qDe(e,t):Z4(Koe(ZDe(n,i),i.values),r):L8(e,t)};function qoe(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Hi(e,t,r):aB(e)(e,t)}const XDe=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Yi.update(t,!0),stop:()=>Oh(t),now:()=>ao.isProcessing?ao.timestamp:Ps.now()}},Goe=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=e(s/(i-1))+", ";return`linear(${n.substring(0,n.length-2)})`},O8=2e4;function oB(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<O8;)t+=r,n=e.next(t);return t>=O8?1/0:t}function QDe(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(oB(n),O8);return{type:"keyframes",ease:s=>n.next(i*s).value/t,duration:su(i)}}const JDe=5;function Hoe(e,t,r){const n=Math.max(t-JDe,0);return Moe(r-e(n),t-n)}const ua={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mM=.001;function eze({duration:e=ua.duration,bounce:t=ua.bounce,velocity:r=ua.velocity,mass:n=ua.mass}){let i,s,l=1-t;l=Nd(ua.minDamping,ua.maxDamping,l),e=Nd(ua.minDuration,ua.maxDuration,su(e)),l<1?(i=f=>{const g=f*l,v=g*e,_=g-r,T=eI(f,l),z=Math.exp(-v);return mM-_/T*z},s=f=>{const v=f*l*e,_=v*r+r,T=Math.pow(l,2)*Math.pow(f,2)*e,z=Math.exp(-v),I=eI(Math.pow(f,2),l);return(-i(f)+mM>0?-1:1)*((_-T)*z)/I}):(i=f=>{const g=Math.exp(-f*e),v=(f-r)*e+1;return-mM+g*v},s=f=>{const g=Math.exp(-f*e),v=(r-f)*(e*e);return g*v});const a=5/e,p=rze(i,s,a);if(e=ou(e),isNaN(p))return{stiffness:ua.stiffness,damping:ua.damping,duration:e};{const f=Math.pow(p,2)*n;return{stiffness:f,damping:l*2*Math.sqrt(n*f),duration:e}}}const tze=12;function rze(e,t,r){let n=r;for(let i=1;i<tze;i++)n=n-e(n)/t(n);return n}function eI(e,t){return e*Math.sqrt(1-t*t)}const nze=["duration","bounce"],ize=["stiffness","damping","mass"];function vG(e,t){return t.some(r=>e[r]!==void 0)}function aze(e){let t={velocity:ua.velocity,stiffness:ua.stiffness,damping:ua.damping,mass:ua.mass,isResolvedFromDuration:!1,...e};if(!vG(e,ize)&&vG(e,nze))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Nd(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:ua.mass,stiffness:i,damping:s}}else{const r=eze(e);t={...t,...r,mass:ua.mass},t.isResolvedFromDuration=!0}return t}function B8(e=ua.visualDuration,t=ua.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],l=r.keyframes[r.keyframes.length-1],a={done:!1,value:s},{stiffness:p,damping:f,mass:g,duration:v,velocity:_,isResolvedFromDuration:T}=aze({...r,velocity:-su(r.velocity||0)}),z=_||0,I=f/(2*Math.sqrt(p*g)),k=l-s,C=su(Math.sqrt(p/g)),L=Math.abs(k)<5;n||(n=L?ua.restSpeed.granular:ua.restSpeed.default),i||(i=L?ua.restDelta.granular:ua.restDelta.default);let N;if(I<1){const ee=eI(C,I);N=re=>{const ne=Math.exp(-I*C*re);return l-ne*((z+I*C*k)/ee*Math.sin(ee*re)+k*Math.cos(ee*re))}}else if(I===1)N=ee=>l-Math.exp(-C*ee)*(k+(z+C*k)*ee);else{const ee=C*Math.sqrt(I*I-1);N=re=>{const ne=Math.exp(-I*C*re),ie=Math.min(ee*re,300);return l-ne*((z+I*C*k)*Math.sinh(ie)+ee*k*Math.cosh(ie))/ee}}const $={calculatedDuration:T&&v||null,next:ee=>{const re=N(ee);if(T)a.done=ee>=v;else{let ne=ee===0?z:0;I<1&&(ne=ee===0?ou(z):Hoe(N,ee,re));const ie=Math.abs(ne)<=n,me=Math.abs(l-re)<=i;a.done=ie&&me}return a.value=a.done?l:re,a},toString:()=>{const ee=Math.min(oB($),O8),re=Goe(ne=>$.next(ee*ne).value,ee,30);return ee+"ms "+re},toTransition:()=>{}};return $}B8.applyToOptions=e=>{const t=QDe(e,100,B8);return e.ease=t.ease,e.duration=ou(t.duration),e.type="keyframes",e};function tI({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:l,min:a,max:p,restDelta:f=.5,restSpeed:g}){const v=e[0],_={done:!1,value:v},T=ie=>a!==void 0&&ie<a||p!==void 0&&ie>p,z=ie=>a===void 0?p:p===void 0||Math.abs(a-ie)<Math.abs(p-ie)?a:p;let I=r*t;const k=v+I,C=l===void 0?k:l(k);C!==k&&(I=C-v);const L=ie=>-I*Math.exp(-ie/n),N=ie=>C+L(ie),$=ie=>{const me=L(ie),Ze=N(ie);_.done=Math.abs(me)<=f,_.value=_.done?C:Ze};let ee,re;const ne=ie=>{T(_.value)&&(ee=ie,re=B8({keyframes:[_.value,z(_.value)],velocity:Hoe(N,ie,_.value),damping:i,stiffness:s,restDelta:f,restSpeed:g}))};return ne(0),{calculatedDuration:null,next:ie=>{let me=!1;return!re&&ee===void 0&&(me=!0,$(ie),ne(ie)),ee!==void 0&&ie>=ee?re.next(ie-ee):(!me&&$(ie),_)}}}function oze(e,t,r){const n=[],i=r||MotionGlobalConfig.mix||qoe,s=e.length-1;for(let l=0;l<s;l++){let a=i(e[l],e[l+1]);if(t){const p=Array.isArray(t)?t[l]||Ml:t;a=Z4(p,a)}n.push(a)}return n}function sze(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(YO(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=oze(t,n,i),p=a.length,f=g=>{if(l&&g<e[0])return t[0];let v=0;if(p>1)for(;v<e.length-2&&!(g<e[v+1]);v++);const _=u4(e[v],e[v+1],g);return a[v](_)};return r?g=>f(Nd(e[0],e[s-1],g)):f}function lze(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=u4(0,t,n);e.push(Hi(r,1,i))}}function cze(e){const t=[0];return lze(t,e.length-1),t}function uze(e,t){return e.map(r=>r*t)}function dze(e,t){return e.map(()=>t||Loe).splice(0,e.length-1)}function Ax({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=wDe(n)?n.map(pG):pG(n),s={done:!1,value:t[0]},l=uze(r&&r.length===t.length?r:cze(t),e),a=sze(l,t,{ease:Array.isArray(i)?i:dze(t,i)});return{calculatedDuration:e,next:p=>(s.value=a(p),s.done=p>=e,s)}}const pze=e=>e!==null;function sB(e,{repeat:t,repeatType:r="loop"},n,i=1){const s=e.filter(pze),a=i<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const hze={decay:tI,inertia:tI,tween:Ax,keyframes:Ax,spring:B8};function Zoe(e){typeof e.type=="string"&&(e.type=hze[e.type])}class lB{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const fze=e=>e/100;class Yoe extends lB{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;if(r&&r.updatedAt!==Ps.now()&&this.tick(Ps.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Zoe(t);const{type:r=Ax,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:l=0}=t;let{keyframes:a}=t;const p=r||Ax;p!==Ax&&typeof a[0]!="number"&&(this.mixKeyframes=Z4(fze,qoe(a[0],a[1])),a=[0,100]);const f=p({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...a].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=oB(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=f}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:l,resolvedDuration:a,calculatedDuration:p}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:g,repeat:v,repeatType:_,repeatDelay:T,type:z,onUpdate:I,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const C=this.currentTime-f*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let N=this.currentTime,$=n;if(v){const ie=Math.min(this.currentTime,i)/a;let me=Math.floor(ie),Ze=ie%1;!Ze&&ie>=1&&(Ze=1),Ze===1&&me--,me=Math.min(me,v+1),!!(me%2)&&(_==="reverse"?(Ze=1-Ze,T&&(Ze-=T/a)):_==="mirror"&&($=l)),N=Nd(0,1,Ze)*a}const ee=L?{done:!1,value:g[0]}:$.next(N);s&&(ee.value=s(ee.value));let{done:re}=ee;!L&&p!==null&&(re=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const ne=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return ne&&z!==tI&&(ee.value=sB(g,this.options,k,this.speed)),I&&I(ee.value),ne&&this.finish(),ee}then(t,r){return this.finished.then(t,r)}get duration(){return su(this.calculatedDuration)}get time(){return su(this.currentTime)}set time(t){t=ou(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ps.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=su(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=XDe,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),r&&r();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ps.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),t.observe(this)}}function mze(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const bm=e=>e*180/Math.PI,rI=e=>{const t=bm(Math.atan2(e[1],e[0]));return nI(t)},gze={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:rI,rotateZ:rI,skewX:e=>bm(Math.atan(e[1])),skewY:e=>bm(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},nI=e=>(e=e%360,e<0&&(e+=360),e),_G=rI,bG=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),xG=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),yze={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bG,scaleY:xG,scale:e=>(bG(e)+xG(e))/2,rotateX:e=>nI(bm(Math.atan2(e[6],e[5]))),rotateY:e=>nI(bm(Math.atan2(-e[2],e[0]))),rotateZ:_G,rotate:_G,skewX:e=>bm(Math.atan(e[4])),skewY:e=>bm(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function wG(e){return e.includes("scale")?1:0}function iI(e,t){if(!e||e==="none")return wG(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=yze,i=r;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=gze,i=a}if(!i)return wG(t);const s=n[t],l=i[1].split(",").map(_ze);return typeof s=="function"?s(l):l[s]}const vze=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return iI(r,t)};function _ze(e){return parseFloat(e.trim())}const z2=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],R2=(()=>new Set(z2))(),SG=e=>e===D2||e===Jr,bze=new Set(["x","y","z"]),xze=z2.filter(e=>!bze.has(e));function wze(e){const t=[];return xze.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Pm={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>iI(t,"x"),y:(e,{transform:t})=>iI(t,"y")};Pm.translateX=Pm.x;Pm.translateY=Pm.y;const km=new Set;let aI=!1,oI=!1,sI=!1;function Xoe(){if(oI){const e=Array.from(km).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=wze(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,l])=>{var a;(a=n.getValue(s))==null||a.set(l)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}oI=!1,aI=!1,km.forEach(e=>e.complete(sI)),km.clear()}function Qoe(){km.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(oI=!0)})}function Sze(){sI=!0,Qoe(),Xoe(),sI=!1}class cB{constructor(t,r,n,i,s,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(km.add(this),aI||(aI=!0,Yi.read(Qoe),Yi.resolveKeyframes(Xoe))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),l=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const a=n.readValue(r,l);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=l),i&&s===void 0&&i.set(t[0])}mze(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),km.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,km.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Eze=e=>e.startsWith("--");function Aze(e,t,r){Eze(t)?e.style.setProperty(t,r):e.style[t]=r}const Tze=XO(()=>window.ScrollTimeline!==void 0),Mze={};function Pze(e,t){const r=XO(e);return()=>Mze[t]??r()}const Joe=Pze(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ex=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,EG={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ex([0,.65,.55,1]),circOut:ex([.55,0,1,.45]),backIn:ex([.31,.01,.66,-.59]),backOut:ex([.33,1.53,.69,.99])};function ese(e,t){if(e)return typeof e=="function"?Joe()?Goe(e,t):"ease-out":Ooe(e)?ex(e):Array.isArray(e)?e.map(r=>ese(r,t)||EG.easeOut):EG[e]}function kze(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:l="loop",ease:a="easeOut",times:p}={},f=void 0){const g={[t]:r};p&&(g.offset=p);const v=ese(a,i);Array.isArray(v)&&(g.easing=v);const _={delay:n,duration:i,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:s+1,direction:l==="reverse"?"alternate":"normal"};return f&&(_.pseudoElement=f),e.animate(g,_)}function tse(e){return typeof e=="function"&&"applyToOptions"in e}function Ize({type:e,...t}){return tse(e)&&Joe()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Cze extends lB{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:l=!1,finalKeyframe:a,onComplete:p}=t;this.isPseudoElement=!!s,this.allowFlatten=l,this.options=t,YO(typeof t.type!="string");const f=Ize(t);this.animation=kze(r,n,i,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const g=sB(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(g):Aze(r,n,g),this.animation.cancel()}p==null||p(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return su(Number(t))}get time(){return su(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ou(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Tze()?(this.animation.timeline=t,Ml):r(this)}}const rse={anticipate:zoe,backInOut:Doe,circInOut:Noe};function Dze(e){return e in rse}function zze(e){typeof e.ease=="string"&&Dze(e.ease)&&(e.ease=rse[e.ease])}const AG=10;class Rze extends Cze{constructor(t){zze(t),Zoe(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...l}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const a=new Yoe({...l,autoplay:!1}),p=ou(this.finishedTime??this.time);r.setWithVelocity(a.sample(p-AG).value,a.sample(p).value,AG),a.stop()}}const TG=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Bh.test(e)||e==="0")&&!e.startsWith("url("));function Nze(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Lze(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],l=TG(i,t),a=TG(s,t);return!l||!a?!1:Nze(e)||(r==="spring"||tse(r))&&n}const Oze=new Set(["opacity","clipPath","filter","transform"]),Bze=XO(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Fze(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:s,type:l}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:p}=t.owner.getProps();return Bze()&&r&&Oze.has(r)&&(r!=="transform"||!p)&&!a&&!n&&i!=="mirror"&&s!==0&&l!=="inertia"}const jze=40;class Vze extends lB{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:l="loop",keyframes:a,name:p,motionValue:f,element:g,...v}){var z;super(),this.stop=()=>{var I,k;this._animation?(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)):(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=Ps.now();const _={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:l,name:p,motionValue:f,element:g,...v},T=(g==null?void 0:g.KeyframeResolver)||cB;this.keyframeResolver=new T(a,(I,k,C)=>this.onKeyframesResolved(I,k,_,!C),p,f,g),(z=this.keyframeResolver)==null||z.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:s,type:l,velocity:a,delay:p,isHandoff:f,onUpdate:g}=n;this.resolvedAt=Ps.now(),Lze(t,s,l,a)||((MotionGlobalConfig.instantAnimations||!p)&&(g==null||g(sB(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const _={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>jze?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},T=!f&&Fze(_)?new Rze({..._,element:_.motionValue.owner.current}):new Yoe(_);T.finished.then(()=>this.notifyFinished()).catch(Ml),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||Sze(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const Uze=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Wze(e){const t=Uze.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function nse(e,t,r=1){const[n,i]=Wze(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const l=s.trim();return Aoe(l)?parseFloat(l):l}return rB(i)?nse(i,t,r+1):i}function uB(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const ise=new Set(["width","height","top","left","right","bottom",...z2]),$ze={test:e=>e==="auto",parse:e=>e},ase=e=>t=>t.test(e),ose=[D2,Jr,lu,Ip,NDe,RDe,$ze],MG=e=>ose.find(ase(e));function Kze(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Toe(e):!0}const qze=new Set(["brightness","contrast","saturate","opacity"]);function Gze(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(nB)||[];if(!n)return e;const i=r.replace(n,"");let s=qze.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const Hze=/\b([a-z-]*)\(.*?\)/gu,lI={...Bh,getAnimatableNone:e=>{const t=e.match(Hze);return t?t.map(Gze).join(" "):e}},PG={...D2,transform:Math.round},Zze={rotate:Ip,rotateX:Ip,rotateY:Ip,rotateZ:Ip,scale:B3,scaleX:B3,scaleY:B3,scaleZ:B3,skew:Ip,skewX:Ip,skewY:Ip,distance:Jr,translateX:Jr,translateY:Jr,translateZ:Jr,x:Jr,y:Jr,z:Jr,perspective:Jr,transformPerspective:Jr,opacity:d4,originX:fG,originY:fG,originZ:Jr},dB={borderWidth:Jr,borderTopWidth:Jr,borderRightWidth:Jr,borderBottomWidth:Jr,borderLeftWidth:Jr,borderRadius:Jr,radius:Jr,borderTopLeftRadius:Jr,borderTopRightRadius:Jr,borderBottomRightRadius:Jr,borderBottomLeftRadius:Jr,width:Jr,maxWidth:Jr,height:Jr,maxHeight:Jr,top:Jr,right:Jr,bottom:Jr,left:Jr,padding:Jr,paddingTop:Jr,paddingRight:Jr,paddingBottom:Jr,paddingLeft:Jr,margin:Jr,marginTop:Jr,marginRight:Jr,marginBottom:Jr,marginLeft:Jr,backgroundPositionX:Jr,backgroundPositionY:Jr,...Zze,zIndex:PG,fillOpacity:d4,strokeOpacity:d4,numOctaves:PG},Yze={...dB,color:Io,backgroundColor:Io,outlineColor:Io,fill:Io,stroke:Io,borderColor:Io,borderTopColor:Io,borderRightColor:Io,borderBottomColor:Io,borderLeftColor:Io,filter:lI,WebkitFilter:lI},sse=e=>Yze[e];function lse(e,t){let r=sse(e);return r!==lI&&(r=Bh),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Xze=new Set(["auto","none","0"]);function Qze(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!Xze.has(s)&&p4(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=lse(r,i)}class Jze extends cB{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let f=t[p];if(typeof f=="string"&&(f=f.trim(),rB(f))){const g=nse(f,r.current);g!==void 0&&(t[p]=g),p===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!ise.has(n)||t.length!==2)return;const[i,s]=t,l=MG(i),a=MG(s);if(l!==a)if(SG(l)&&SG(a))for(let p=0;p<t.length;p++){const f=t[p];typeof f=="string"&&(t[p]=parseFloat(f))}else Pm[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||Kze(t[i]))&&n.push(i);n.length&&Qze(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pm[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,l=n[s];n[s]=Pm[r](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([p,f])=>{t.getValue(p).set(f)}),this.resolveNoneKeyframes()}}function eRe(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;t&&(n=t.current);const i=(r==null?void 0:r[e])??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const{schedule:pB,cancel:EUe}=Boe(queueMicrotask,!1),nc={x:!1,y:!1};function cse(){return nc.x||nc.y}function tRe(e){return e==="x"||e==="y"?nc[e]?null:(nc[e]=!0,()=>{nc[e]=!1}):nc.x||nc.y?null:(nc.x=nc.y=!0,()=>{nc.x=nc.y=!1})}function use(e,t){const r=eRe(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function kG(e){return!(e.pointerType==="touch"||cse())}function rRe(e,t,r={}){const[n,i,s]=use(e,r),l=a=>{if(!kG(a))return;const{target:p}=a,f=t(p,a);if(typeof f!="function"||!p)return;const g=v=>{kG(v)&&(f(v),p.removeEventListener("pointerleave",g))};p.addEventListener("pointerleave",g,i)};return n.forEach(a=>{a.addEventListener("pointerenter",l,i)}),s}const dse=(e,t)=>t?e===t?!0:dse(e,t.parentElement):!1,hB=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,nRe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iRe(e){return nRe.has(e.tagName)||e.tabIndex!==-1}const tx=new WeakSet;function IG(e){return t=>{t.key==="Enter"&&e(t)}}function gM(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const aRe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=IG(()=>{if(tx.has(r))return;gM(r,"down");const i=IG(()=>{gM(r,"up")}),s=()=>gM(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function CG(e){return hB(e)&&!cse()}function oRe(e,t,r={}){const[n,i,s]=use(e,r),l=a=>{const p=a.currentTarget;if(!CG(a)||tx.has(p))return;tx.add(p);const f=t(p,a),g=(T,z)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),!(!CG(T)||!tx.has(p))&&(tx.delete(p),typeof f=="function"&&f(T,{success:z}))},v=T=>{g(T,p===window||p===document||r.useGlobalTarget||dse(p,T.target))},_=T=>{g(T,!1)};window.addEventListener("pointerup",v,i),window.addEventListener("pointercancel",_,i)};return n.forEach(a=>{(r.useGlobalTarget?window:a).addEventListener("pointerdown",l,i),a instanceof HTMLElement&&(a.addEventListener("focus",f=>aRe(f,i)),!iRe(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}const DG=30,sRe=e=>!isNaN(parseFloat(e));class lRe{constructor(t,r={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{var l,a;const s=Ps.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current)),i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ps.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=sRe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new QO);const n=this.events[t].add(r);return t==="change"?()=>{n(),Yi.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ps.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>DG)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,DG);return Moe(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t;(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function h4(e,t){return new lRe(e,t)}const cRe=[...ose,Io,Bh],uRe=e=>cRe.find(ase(e)),pse=(e,t)=>t&&typeof e=="number"?t.transform(e):e,hse=R.createContext({strict:!1}),zG={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yv={};for(const e in zG)Yv[e]={isEnabled:t=>zG[e].some(r=>!!t[r])};function dRe(e){for(const t in e)Yv[t]={...Yv[t],...e[t]}}const pRe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function F8(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||pRe.has(e)}let fse=e=>!F8(e);function hRe(e){e&&(fse=t=>t.startsWith("on")?!F8(t):e(t))}try{hRe(require("@emotion/is-prop-valid").default)}catch{}function fRe(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(fse(i)||r===!0&&F8(i)||!t&&!F8(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function mRe(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const LS=R.createContext({});function OS(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function f4(e){return typeof e=="string"||Array.isArray(e)}const fB=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mB=["initial",...fB];function BS(e){return OS(e.animate)||mB.some(t=>f4(e[t]))}function mse(e){return!!(BS(e)||e.variants)}function gRe(e,t){if(BS(e)){const{initial:r,animate:n}=e;return{initial:r===!1||f4(r)?r:void 0,animate:f4(n)?n:void 0}}return e.inherit!==!1?t:{}}function yRe(e){const{initial:t,animate:r}=gRe(e,R.useContext(LS));return R.useMemo(()=>({initial:t,animate:r}),[RG(t),RG(r)])}function RG(e){return Array.isArray(e)?e.join(" "):e}const vRe=Symbol.for("motionComponentSymbol");function Kg(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function _Re(e,t,r){return R.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Kg(r)&&(r.current=n))},[t])}const gB=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bRe="framerAppearId",gse="data-"+gB(bRe),yse=R.createContext({});function xRe(e,t,r,n,i){var I,k;const{visualElement:s}=R.useContext(LS),l=R.useContext(hse),a=R.useContext(NS),p=R.useContext(GO).reducedMotion,f=R.useRef(null);n=n||l.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:s,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:p}));const g=f.current,v=R.useContext(yse);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&wRe(f.current,r,i,v);const _=R.useRef(!1);R.useInsertionEffect(()=>{g&&_.current&&g.update(r,a)});const T=r[gse],z=R.useRef(!!T&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,T))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,T)));return Soe(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),pB.render(g.render),z.current&&g.animationState&&g.animationState.animateChanges())}),R.useEffect(()=>{g&&(!z.current&&g.animationState&&g.animationState.animateChanges(),z.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,T)}),z.current=!1))}),g}function wRe(e,t,r,n){const{layoutId:i,layout:s,drag:l,dragConstraints:a,layoutScroll:p,layoutRoot:f,layoutCrossfade:g}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:vse(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!l||a&&Kg(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:g,layoutScroll:p,layoutRoot:f})}function vse(e){if(e)return e.options.allowProjection!==!1?e.projection:vse(e.parent)}function SRe({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){e&&dRe(e);function s(a,p){let f;const g={...R.useContext(GO),...a,layoutId:ERe(a)},{isStatic:v}=g,_=yRe(a),T=n(a,v);if(!v&&qO){ARe();const z=TRe(g);f=z.MeasureLayout,_.visualElement=xRe(i,T,g,t,z.ProjectionNode)}return B.jsxs(LS.Provider,{value:_,children:[f&&_.visualElement?B.jsx(f,{visualElement:_.visualElement,...g}):null,r(i,a,_Re(T,_.visualElement,p),T,v,_.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=R.forwardRef(s);return l[vRe]=i,l}function ERe({layoutId:e}){const t=R.useContext($O).id;return t&&e!==void 0?t+"-"+e:e}function ARe(e,t){R.useContext(hse).strict}function TRe(e){const{drag:t,layout:r}=Yv;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const m4={};function MRe(e){for(const t in e)m4[t]=e[t],tB(t)&&(m4[t].isCSSVariable=!0)}function _se(e,{layout:t,layoutId:r}){return R2.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!m4[e]||e==="opacity")}const Fo=e=>!!(e&&e.getVelocity),PRe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kRe=z2.length;function IRe(e,t,r){let n="",i=!0;for(let s=0;s<kRe;s++){const l=z2[s],a=e[l];if(a===void 0)continue;let p=!0;if(typeof a=="number"?p=a===(l.startsWith("scale")?1:0):p=parseFloat(a)===0,!p||r){const f=pse(a,dB[l]);if(!p){i=!1;const g=PRe[l]||l;n+=`${g}(${f}) `}r&&(t[l]=f)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function yB(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let l=!1,a=!1;for(const p in t){const f=t[p];if(R2.has(p)){l=!0;continue}else if(tB(p)){i[p]=f;continue}else{const g=pse(f,dB[p]);p.startsWith("origin")?(a=!0,s[p]=g):n[p]=g}}if(t.transform||(l||r?n.transform=IRe(t,e.transform,r):n.transform&&(n.transform="none")),a){const{originX:p="50%",originY:f="50%",originZ:g=0}=s;n.transformOrigin=`${p} ${f} ${g}`}}const vB=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bse(e,t,r){for(const n in t)!Fo(t[n])&&!_se(n,r)&&(e[n]=t[n])}function CRe({transformTemplate:e},t){return R.useMemo(()=>{const r=vB();return yB(r,t,e),Object.assign({},r.vars,r.style)},[t])}function DRe(e,t){const r=e.style||{},n={};return bse(n,r,e),Object.assign(n,CRe(e,t)),n}function zRe(e,t){const r={},n=DRe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const RRe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _B(e){return typeof e!="string"||e.includes("-")?!1:!!(RRe.indexOf(e)>-1||/[A-Z]/u.test(e))}const NRe={offset:"stroke-dashoffset",array:"stroke-dasharray"},LRe={offset:"strokeDashoffset",array:"strokeDasharray"};function ORe(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?NRe:LRe;e[s.offset]=Jr.transform(-n);const l=Jr.transform(t),a=Jr.transform(r);e[s.array]=`${l} ${a}`}function xse(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:l=0,...a},p,f,g){if(yB(e,a,f),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:_}=e;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),r!==void 0&&(v.y=r),n!==void 0&&(v.scale=n),i!==void 0&&ORe(v,i,s,l,!1)}const wse=()=>({...vB(),attrs:{}}),Sse=e=>typeof e=="string"&&e.toLowerCase()==="svg";function BRe(e,t,r,n){const i=R.useMemo(()=>{const s=wse();return xse(s,t,Sse(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};bse(s,e.style,e),i.style={...s,...i.style}}return i}function FRe(e=!1){return(r,n,i,{latestValues:s},l)=>{const p=(_B(r)?BRe:zRe)(n,s,l,r),f=fRe(n,typeof r=="string",e),g=r!==R.Fragment?{...f,...p,ref:i}:{},{children:v}=n,_=R.useMemo(()=>Fo(v)?v.get():v,[v]);return R.createElement(r,{...g,children:_})}}function NG(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function bB(e,t,r,n){if(typeof t=="function"){const[i,s]=NG(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=NG(n);t=t(r!==void 0?r:e.custom,i,s)}return t}function A5(e){return Fo(e)?e.get():e}function jRe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:VRe(r,n,i,e),renderState:t()}}const Ese=e=>(t,r)=>{const n=R.useContext(LS),i=R.useContext(NS),s=()=>jRe(e,t,n,i);return r?s():KO(s)};function VRe(e,t,r,n){const i={},s=n(e,{});for(const _ in s)i[_]=A5(s[_]);let{initial:l,animate:a}=e;const p=BS(e),f=mse(e);t&&f&&!p&&e.inherit!==!1&&(l===void 0&&(l=t.initial),a===void 0&&(a=t.animate));let g=r?r.initial===!1:!1;g=g||l===!1;const v=g?a:l;if(v&&typeof v!="boolean"&&!OS(v)){const _=Array.isArray(v)?v:[v];for(let T=0;T<_.length;T++){const z=bB(e,_[T]);if(z){const{transitionEnd:I,transition:k,...C}=z;for(const L in C){let N=C[L];if(Array.isArray(N)){const $=g?N.length-1:0;N=N[$]}N!==null&&(i[L]=N)}for(const L in I)i[L]=I[L]}}}return i}function xB(e,t,r){var s;const{style:n}=e,i={};for(const l in n)(Fo(n[l])||t.style&&Fo(t.style[l])||_se(l,e)||((s=r==null?void 0:r.getValue(l))==null?void 0:s.liveStyle)!==void 0)&&(i[l]=n[l]);return i}const URe={useVisualState:Ese({scrapeMotionValuesFromProps:xB,createRenderState:vB})};function Ase(e,t,r){const n=xB(e,t,r);for(const i in e)if(Fo(e[i])||Fo(t[i])){const s=z2.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}const WRe={useVisualState:Ese({scrapeMotionValuesFromProps:Ase,createRenderState:wse})};function $Re(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={..._B(n)?WRe:URe,preloadedFeatures:e,useRender:FRe(i),createVisualElement:t,Component:n};return SRe(l)}}function g4(e,t,r){const n=e.getProps();return bB(n,t,r!==void 0?r:n.custom,e)}const cI=e=>Array.isArray(e);function KRe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,h4(r))}function qRe(e){return cI(e)?e[e.length-1]||0:e}function GRe(e,t){const r=g4(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const l in s){const a=qRe(s[l]);KRe(e,l,a)}}function HRe(e){return!!(Fo(e)&&e.add)}function uI(e,t){const r=e.getValue("willChange");if(HRe(r))return r.add(t);if(!r&&MotionGlobalConfig.WillChange){const n=new MotionGlobalConfig.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Tse(e){return e.props[gse]}const ZRe=e=>e!==null;function YRe(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(ZRe),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const XRe={type:"spring",stiffness:500,damping:25,restSpeed:10},QRe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),JRe={type:"keyframes",duration:.8},eNe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tNe=(e,{keyframes:t})=>t.length>2?JRe:R2.has(e)?e.startsWith("scale")?QRe(t[1]):XRe:eNe;function rNe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:l,repeatDelay:a,from:p,elapsed:f,...g}){return!!Object.keys(g).length}const wB=(e,t,r,n={},i,s)=>l=>{const a=uB(n,e)||{},p=a.delay||n.delay||0;let{elapsed:f=0}=n;f=f-ou(p);const g={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-f,onUpdate:_=>{t.set(_),a.onUpdate&&a.onUpdate(_)},onComplete:()=>{l(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};rNe(a)||Object.assign(g,tNe(e,g)),g.duration&&(g.duration=ou(g.duration)),g.repeatDelay&&(g.repeatDelay=ou(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(v=!0,g.duration=0,g.delay=0),g.allowFlatten=!a.type&&!a.ease,v&&!s&&t.get()!==void 0){const _=YRe(g.keyframes,a);if(_!==void 0){Yi.update(()=>{g.onUpdate(_),g.onComplete()});return}}return new Vze(g)};function nNe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Mse(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:l,...a}=t;n&&(s=n);const p=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const g in a){const v=e.getValue(g,e.latestValues[g]??null),_=a[g];if(_===void 0||f&&nNe(f,g))continue;const T={delay:r,...uB(s||{},g)},z=v.get();if(z!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===z&&!T.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const C=Tse(e);if(C){const L=window.MotionHandoffAnimation(C,g,Yi);L!==null&&(T.startTime=L,I=!0)}}uI(e,g),v.start(wB(g,v,_,e.shouldReduceMotion&&ise.has(g)?{type:!1}:T,e,I));const k=v.animation;k&&p.push(k)}return l&&Promise.all(p).then(()=>{Yi.update(()=>{l&&GRe(e,l)})}),p}function dI(e,t,r={}){var p;const n=g4(e,t,r.type==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(Mse(e,n,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:_}=i;return iNe(e,t,g+f,v,_,r)}:()=>Promise.resolve(),{when:a}=i;if(a){const[f,g]=a==="beforeChildren"?[s,l]:[l,s];return f().then(()=>g())}else return Promise.all([s(),l(r.delay)])}function iNe(e,t,r=0,n=0,i=1,s){const l=[],a=(e.variantChildren.size-1)*n,p=i===1?(f=0)=>f*n:(f=0)=>a-f*n;return Array.from(e.variantChildren).sort(aNe).forEach((f,g)=>{f.notify("AnimationStart",t),l.push(dI(f,t,{...s,delay:r+p(g)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(l)}function aNe(e,t){return e.sortNodePosition(t)}function oNe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>dI(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=dI(e,t,r);else{const i=typeof t=="function"?g4(e,t,r.custom):t;n=Promise.all(Mse(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function Pse(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const sNe=mB.length;function kse(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?kse(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<sNe;r++){const n=mB[r],i=e.props[n];(f4(i)||i===!1)&&(t[n]=i)}return t}const lNe=[...fB].reverse(),cNe=fB.length;function uNe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>oNe(e,r,n)))}function dNe(e){let t=uNe(e),r=LG(),n=!0;const i=p=>(f,g)=>{var _;const v=g4(e,g,p==="exit"?(_=e.presenceContext)==null?void 0:_.custom:void 0);if(v){const{transition:T,transitionEnd:z,...I}=v;f={...f,...I,...z}}return f};function s(p){t=p(e)}function l(p){const{props:f}=e,g=kse(e.parent)||{},v=[],_=new Set;let T={},z=1/0;for(let k=0;k<cNe;k++){const C=lNe[k],L=r[C],N=f[C]!==void 0?f[C]:g[C],$=f4(N),ee=C===p?L.isActive:null;ee===!1&&(z=k);let re=N===g[C]&&N!==f[C]&&$;if(re&&n&&e.manuallyAnimateOnMount&&(re=!1),L.protectedKeys={...T},!L.isActive&&ee===null||!N&&!L.prevProp||OS(N)||typeof N=="boolean")continue;const ne=pNe(L.prevProp,N);let ie=ne||C===p&&L.isActive&&!re&&$||k>z&&$,me=!1;const Ze=Array.isArray(N)?N:[N];let et=Ze.reduce(i(C),{});ee===!1&&(et={});const{prevResolvedValues:Ke={}}=L,ye={...Ke,...et},j=le=>{ie=!0,_.has(le)&&(me=!0,_.delete(le)),L.needsAnimating[le]=!0;const Q=e.getValue(le);Q&&(Q.liveStyle=!1)};for(const le in ye){const Q=et[le],ce=Ke[le];if(T.hasOwnProperty(le))continue;let Ee=!1;cI(Q)&&cI(ce)?Ee=!Pse(Q,ce):Ee=Q!==ce,Ee?Q!=null?j(le):_.add(le):Q!==void 0&&_.has(le)?j(le):L.protectedKeys[le]=!0}L.prevProp=N,L.prevResolvedValues=et,L.isActive&&(T={...T,...et}),n&&e.blockInitialAnimation&&(ie=!1),ie&&(!(re&&ne)||me)&&v.push(...Ze.map(le=>({animation:le,options:{type:C}})))}if(_.size){const k={};if(typeof f.initial!="boolean"){const C=g4(e,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&(k.transition=C.transition)}_.forEach(C=>{const L=e.getBaseTarget(C),N=e.getValue(C);N&&(N.liveStyle=!0),k[C]=L??null}),v.push({animation:k})}let I=!!v.length;return n&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(I=!1),n=!1,I?t(v):Promise.resolve()}function a(p,f){var v;if(r[p].isActive===f)return Promise.resolve();(v=e.variantChildren)==null||v.forEach(_=>{var T;return(T=_.animationState)==null?void 0:T.setActive(p,f)}),r[p].isActive=f;const g=l(p);for(const _ in r)r[_].protectedKeys={};return g}return{animateChanges:l,setActive:a,setAnimateFunction:s,getState:()=>r,reset:()=>{r=LG(),n=!0}}}function pNe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Pse(t,e):!1}function Q1(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LG(){return{animate:Q1(!0),whileInView:Q1(),whileHover:Q1(),whileTap:Q1(),whileDrag:Q1(),whileFocus:Q1(),exit:Q1()}}class Yh{constructor(t){this.isMounted=!1,this.node=t}update(){}}class hNe extends Yh{constructor(t){super(t),t.animationState||(t.animationState=dNe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();OS(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let fNe=0;class mNe extends Yh{constructor(){super(...arguments),this.id=fNe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const gNe={animation:{Feature:hNe},exit:{Feature:mNe}};function y4(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Q4(e){return{point:{x:e.pageX,y:e.pageY}}}const yNe=e=>t=>hB(t)&&e(t,Q4(t));function Tx(e,t,r,n){return y4(e,t,yNe(r),n)}function Ise({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function vNe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function _Ne(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const Cse=1e-4,bNe=1-Cse,xNe=1+Cse,Dse=.01,wNe=0-Dse,SNe=0+Dse;function ss(e){return e.max-e.min}function ENe(e,t,r){return Math.abs(e-t)<=r}function OG(e,t,r,n=.5){e.origin=n,e.originPoint=Hi(t.min,t.max,e.origin),e.scale=ss(r)/ss(t),e.translate=Hi(r.min,r.max,e.origin)-e.originPoint,(e.scale>=bNe&&e.scale<=xNe||isNaN(e.scale))&&(e.scale=1),(e.translate>=wNe&&e.translate<=SNe||isNaN(e.translate))&&(e.translate=0)}function Mx(e,t,r,n){OG(e.x,t.x,r.x,n?n.originX:void 0),OG(e.y,t.y,r.y,n?n.originY:void 0)}function BG(e,t,r){e.min=r.min+t.min,e.max=e.min+ss(t)}function ANe(e,t,r){BG(e.x,t.x,r.x),BG(e.y,t.y,r.y)}function FG(e,t,r){e.min=t.min-r.min,e.max=e.min+ss(t)}function Px(e,t,r){FG(e.x,t.x,r.x),FG(e.y,t.y,r.y)}const jG=()=>({translate:0,scale:1,origin:0,originPoint:0}),qg=()=>({x:jG(),y:jG()}),VG=()=>({min:0,max:0}),ha=()=>({x:VG(),y:VG()});function yl(e){return[e("x"),e("y")]}function yM(e){return e===void 0||e===1}function pI({scale:e,scaleX:t,scaleY:r}){return!yM(e)||!yM(t)||!yM(r)}function im(e){return pI(e)||zse(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function zse(e){return UG(e.x)||UG(e.y)}function UG(e){return e&&e!=="0%"}function j8(e,t,r){const n=e-r,i=t*n;return r+i}function WG(e,t,r,n,i){return i!==void 0&&(e=j8(e,i,n)),j8(e,r,n)+t}function hI(e,t=0,r=1,n,i){e.min=WG(e.min,t,r,n,i),e.max=WG(e.max,t,r,n,i)}function Rse(e,{x:t,y:r}){hI(e.x,t.translate,t.scale,t.originPoint),hI(e.y,r.translate,r.scale,r.originPoint)}const $G=.999999999999,KG=1.0000000000001;function TNe(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,l;for(let a=0;a<i;a++){s=r[a],l=s.projectionDelta;const{visualElement:p}=s.options;p&&p.props.style&&p.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Hg(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Rse(e,l)),n&&im(s.latestValues)&&Hg(e,s.latestValues))}t.x<KG&&t.x>$G&&(t.x=1),t.y<KG&&t.y>$G&&(t.y=1)}function Gg(e,t){e.min=e.min+t,e.max=e.max+t}function qG(e,t,r,n,i=.5){const s=Hi(e.min,e.max,i);hI(e,t,r,s,n)}function Hg(e,t){qG(e.x,t.x,t.scaleX,t.scale,t.originX),qG(e.y,t.y,t.scaleY,t.scale,t.originY)}function Nse(e,t){return Ise(_Ne(e.getBoundingClientRect(),t))}function MNe(e,t,r){const n=Nse(e,r),{scroll:i}=t;return i&&(Gg(n.x,i.offset.x),Gg(n.y,i.offset.y)),n}const Lse=({current:e})=>e?e.ownerDocument.defaultView:null,GG=(e,t)=>Math.abs(e-t);function PNe(e,t){const r=GG(e.x,t.x),n=GG(e.y,t.y);return Math.sqrt(r**2+n**2)}class Ose{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=_M(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,T=PNe(v.offset,{x:0,y:0})>=3;if(!_&&!T)return;const{point:z}=v,{timestamp:I}=ao;this.history.push({...z,timestamp:I});const{onStart:k,onMove:C}=this.handlers;_||(k&&k(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=vM(_,this.transformPagePoint),Yi.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:T,onSessionEnd:z,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=_M(v.type==="pointercancel"?this.lastMoveEventInfo:vM(_,this.transformPagePoint),this.history);this.startEvent&&T&&T(v,k),z&&z(v,k)},!hB(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const l=Q4(t),a=vM(l,this.transformPagePoint),{point:p}=a,{timestamp:f}=ao;this.history=[{...p,timestamp:f}];const{onSessionStart:g}=r;g&&g(t,_M(a,this.history)),this.removeListeners=Z4(Tx(this.contextWindow,"pointermove",this.handlePointerMove),Tx(this.contextWindow,"pointerup",this.handlePointerUp),Tx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Oh(this.updatePoint)}}function vM(e,t){return t?{point:t(e.point)}:e}function HG(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _M({point:e},t){return{point:e,delta:HG(e,Bse(t)),offset:HG(e,kNe(t)),velocity:INe(t,.1)}}function kNe(e){return e[0]}function Bse(e){return e[e.length-1]}function INe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=Bse(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>ou(t)));)r--;if(!n)return{x:0,y:0};const s=su(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const l={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function CNe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Hi(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Hi(r,e,n.max):Math.min(e,r)),e}function ZG(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function DNe(e,{top:t,left:r,bottom:n,right:i}){return{x:ZG(e.x,r,i),y:ZG(e.y,t,n)}}function YG(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function zNe(e,t){return{x:YG(e.x,t.x),y:YG(e.y,t.y)}}function RNe(e,t){let r=.5;const n=ss(e),i=ss(t);return i>n?r=u4(t.min,t.max-n,e.min):n>i&&(r=u4(e.min,e.max-i,t.min)),Nd(0,1,r)}function NNe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const fI=.35;function LNe(e=fI){return e===!1?e=0:e===!0&&(e=fI),{x:XG(e,"left","right"),y:XG(e,"top","bottom")}}function XG(e,t,r){return{min:QG(e,t),max:QG(e,r)}}function QG(e,t){return typeof e=="number"?e:e[t]||0}const ONe=new WeakMap;class BNe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ha(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Q4(g).point)},s=(g,v)=>{const{drag:_,dragPropagation:T,onDragStart:z}=this.getProps();if(_&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tRe(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yl(k=>{let C=this.getAxisMotionValue(k).get()||0;if(lu.test(C)){const{projection:L}=this.visualElement;if(L&&L.layout){const N=L.layout.layoutBox[k];N&&(C=ss(N)*(parseFloat(C)/100))}}this.originPoint[k]=C}),z&&Yi.postRender(()=>z(g,v)),uI(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},l=(g,v)=>{const{dragPropagation:_,dragDirectionLock:T,onDirectionLock:z,onDrag:I}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:k}=v;if(T&&this.currentDirection===null){this.currentDirection=FNe(k),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",v.point,k),this.updateAxis("y",v.point,k),this.visualElement.render(),I&&I(g,v)},a=(g,v)=>this.stop(g,v),p=()=>yl(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new Ose(t,{onSessionStart:i,onStart:s,onMove:l,onSessionEnd:a,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:Lse(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Yi.postRender(()=>s(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!F3(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=CNe(l,this.constraints[t],this.elastic[t])),s.set(l)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Kg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=DNe(n.layoutBox,t):this.constraints=!1,this.elastic=LNe(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&yl(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=NNe(n.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Kg(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=MNe(n,i.root,this.visualElement.getTransformPagePoint());let l=zNe(i.layout.layoutBox,s);if(r){const a=r(vNe(l));this.hasMutatedConstraints=!!a,a&&(l=Ise(a))}return l}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:l,onDragTransitionEnd:a}=this.getProps(),p=this.constraints||{},f=yl(g=>{if(!F3(g,r,this.currentDirection))return;let v=p&&p[g]||{};l&&(v={min:0,max:0});const _=i?200:1e6,T=i?40:1e7,z={type:"inertia",velocity:n?t[g]:0,bounceStiffness:_,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...s,...v};return this.startAxisValueAnimation(g,z)});return Promise.all(f).then(a)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return uI(this.visualElement,t),n.start(wB(t,n,0,r,this.visualElement,!1))}stopAnimation(){yl(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){yl(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){yl(r=>{const{drag:n}=this.getProps();if(!F3(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:l,max:a}=i.layout.layoutBox[r];s.set(t[r]-Hi(l,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Kg(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};yl(l=>{const a=this.getAxisMotionValue(l);if(a&&this.constraints!==!1){const p=a.get();i[l]=RNe({min:p,max:p},this.constraints[l])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),yl(l=>{if(!F3(l,t,null))return;const a=this.getAxisMotionValue(l),{min:p,max:f}=this.constraints[l];a.set(Hi(p,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;ONe.set(this.visualElement,this);const t=this.visualElement.current,r=Tx(t,"pointerdown",p=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(p)}),n=()=>{const{dragConstraints:p}=this.getProps();Kg(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Yi.read(n);const l=y4(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:p,hasLayoutChanged:f})=>{this.isDragging&&f&&(yl(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=p[g].translate,v.set(v.get()+p[g].translate))}),this.visualElement.render())});return()=>{l(),r(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:l=fI,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:l,dragMomentum:a}}}function F3(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function FNe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class jNe extends Yh{constructor(t){super(t),this.removeGroupControls=Ml,this.removeListeners=Ml,this.controls=new BNe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ml}unmount(){this.removeGroupControls(),this.removeListeners()}}const JG=e=>(t,r)=>{e&&Yi.postRender(()=>e(t,r))};class VNe extends Yh{constructor(){super(...arguments),this.removePointerDownListener=Ml}onPointerDown(t){this.session=new Ose(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Lse(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:JG(t),onStart:JG(r),onMove:n,onEnd:(s,l)=>{delete this.session,i&&Yi.postRender(()=>i(s,l))}}}mount(){this.removePointerDownListener=Tx(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const T5={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eH(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vb={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Jr.test(e))e=parseFloat(e);else return e;const r=eH(e,t.target.x),n=eH(e,t.target.y);return`${r}% ${n}%`}},UNe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Bh.parse(e);if(i.length>5)return n;const s=Bh.createTransformer(e),l=typeof i[0]!="number"?1:0,a=r.x.scale*t.x,p=r.y.scale*t.y;i[0+l]/=a,i[1+l]/=p;const f=Hi(a,p,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),s(i)}};class WNe extends R.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;MRe($Ne),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),T5.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:l}=n;return l&&(l.isPresent=s,i||t.layoutDependency!==r||r===void 0||t.isPresent!==s?l.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?l.promote():l.relegate()||Yi.postRender(()=>{const a=l.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),pB.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Fse(e){const[t,r]=Eoe(),n=R.useContext($O);return B.jsx(WNe,{...e,layoutGroup:n,switchLayoutGroup:R.useContext(yse),isPresent:t,safeToRemove:r})}const $Ne={borderRadius:{...Vb,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vb,borderTopRightRadius:Vb,borderBottomLeftRadius:Vb,borderBottomRightRadius:Vb,boxShadow:UNe};function KNe(e,t,r){const n=Fo(e)?e:h4(e);return n.start(wB("",n,t,r)),n.animation}function qNe(e){return e instanceof SVGElement&&e.tagName!=="svg"}const GNe=(e,t)=>e.depth-t.depth;class HNe{constructor(){this.children=[],this.isDirty=!1}add(t){HO(this.children,t),this.isDirty=!0}remove(t){ZO(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(GNe),this.isDirty=!1,this.children.forEach(t)}}function ZNe(e,t){const r=Ps.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(Oh(n),e(s-t))};return Yi.setup(n,!0),()=>Oh(n)}const jse=["TopLeft","TopRight","BottomLeft","BottomRight"],YNe=jse.length,tH=e=>typeof e=="string"?parseFloat(e):e,rH=e=>typeof e=="number"||Jr.test(e);function XNe(e,t,r,n,i,s){i?(e.opacity=Hi(0,r.opacity??1,QNe(n)),e.opacityExit=Hi(t.opacity??1,0,JNe(n))):s&&(e.opacity=Hi(t.opacity??1,r.opacity??1,n));for(let l=0;l<YNe;l++){const a=`border${jse[l]}Radius`;let p=nH(t,a),f=nH(r,a);if(p===void 0&&f===void 0)continue;p||(p=0),f||(f=0),p===0||f===0||rH(p)===rH(f)?(e[a]=Math.max(Hi(tH(p),tH(f),n),0),(lu.test(f)||lu.test(p))&&(e[a]+="%")):e[a]=f}(t.rotate||r.rotate)&&(e.rotate=Hi(t.rotate||0,r.rotate||0,n))}function nH(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const QNe=Vse(0,.5,Roe),JNe=Vse(.5,.95,Ml);function Vse(e,t,r){return n=>n<e?0:n>t?1:r(u4(e,t,n))}function iH(e,t){e.min=t.min,e.max=t.max}function gl(e,t){iH(e.x,t.x),iH(e.y,t.y)}function aH(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function oH(e,t,r,n,i){return e-=t,e=j8(e,1/r,n),i!==void 0&&(e=j8(e,1/i,n)),e}function eLe(e,t=0,r=1,n=.5,i,s=e,l=e){if(lu.test(t)&&(t=parseFloat(t),t=Hi(l.min,l.max,t/100)-l.min),typeof t!="number")return;let a=Hi(s.min,s.max,n);e===s&&(a-=t),e.min=oH(e.min,t,r,a,i),e.max=oH(e.max,t,r,a,i)}function sH(e,t,[r,n,i],s,l){eLe(e,t[r],t[n],t[i],t.scale,s,l)}const tLe=["x","scaleX","originX"],rLe=["y","scaleY","originY"];function lH(e,t,r,n){sH(e.x,t,tLe,r?r.x:void 0,n?n.x:void 0),sH(e.y,t,rLe,r?r.y:void 0,n?n.y:void 0)}function cH(e){return e.translate===0&&e.scale===1}function Use(e){return cH(e.x)&&cH(e.y)}function uH(e,t){return e.min===t.min&&e.max===t.max}function nLe(e,t){return uH(e.x,t.x)&&uH(e.y,t.y)}function dH(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Wse(e,t){return dH(e.x,t.x)&&dH(e.y,t.y)}function pH(e){return ss(e.x)/ss(e.y)}function hH(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class iLe{constructor(){this.members=[]}add(t){HO(this.members,t),t.scheduleRender()}remove(t){if(ZO(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aLe(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,l=(r==null?void 0:r.z)||0;if((i||s||l)&&(n=`translate3d(${i}px, ${s}px, ${l}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:f,rotate:g,rotateX:v,rotateY:_,skewX:T,skewY:z}=r;f&&(n=`perspective(${f}px) ${n}`),g&&(n+=`rotate(${g}deg) `),v&&(n+=`rotateX(${v}deg) `),_&&(n+=`rotateY(${_}deg) `),T&&(n+=`skewX(${T}deg) `),z&&(n+=`skewY(${z}deg) `)}const a=e.x.scale*t.x,p=e.y.scale*t.y;return(a!==1||p!==1)&&(n+=`scale(${a}, ${p})`),n||"none"}const bM=["","X","Y","Z"],oLe={visibility:"hidden"},fH=1e3;let sLe=0;function xM(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function $se(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Tse(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Yi,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&$se(n)}function Kse({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(l={},a=t==null?void 0:t()){this.id=sLe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uLe),this.nodes.forEach(mLe),this.nodes.forEach(gLe),this.nodes.forEach(dLe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new HNe)}addEventListener(l,a){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new QO),this.eventHandlers.get(l).add(a)}notifyListeners(l,...a){const p=this.eventHandlers.get(l);p&&p.notify(...a)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=qNe(l),this.instance=l;const{layoutId:a,layout:p,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||a)&&(this.isLayoutDirty=!0),e){let g;const v=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=ZNe(v,250),T5.hasAnimatedSinceResize&&(T5.hasAnimatedSinceResize=!1,this.nodes.forEach(gH))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&f&&(a||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const z=this.options.transition||f.getDefaultTransition()||xLe,{onLayoutAnimationStart:I,onLayoutAnimationComplete:k}=f.getProps(),C=!this.targetLayout||!Wse(this.targetLayout,T),L=!v&&_;if(this.options.layoutRoot||this.resumeFrom||L||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,L);const N={...uB(z,"layout"),onPlay:I,onComplete:k};(f.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else v||gH(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Oh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yLe),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$se(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:a,layout:p}=this.options;if(a===void 0&&!p)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mH);return}this.isUpdating||this.nodes.forEach(hLe),this.isUpdating=!1,this.nodes.forEach(fLe),this.nodes.forEach(lLe),this.nodes.forEach(cLe),this.clearAllSnapshots();const a=Ps.now();ao.delta=Nd(0,1e3/60,a-ao.timestamp),ao.timestamp=a,ao.isProcessing=!0,dM.update.process(ao),dM.preRender.process(ao),dM.render.process(ao),ao.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pB.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pLe),this.sharedNodes.forEach(vLe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ss(this.snapshot.measuredBox.x)&&!ss(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ha(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(a=!1),a&&this.instance){const p=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:p,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Use(this.projectionDelta),p=this.getTransformTemplate(),f=p?p(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;l&&this.instance&&(a||im(this.latestValues)||g)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const a=this.measurePageBox();let p=this.removeElementScroll(a);return l&&(p=this.removeTransform(p)),wLe(p),{animationId:this.root.animationId,measuredBox:a,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:l}=this.options;if(!l)return ha();const a=l.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(SLe))){const{scroll:g}=this.root;g&&(Gg(a.x,g.offset.x),Gg(a.y,g.offset.y))}return a}removeElementScroll(l){var p;const a=ha();if(gl(a,l),(p=this.scroll)!=null&&p.wasRoot)return a;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:v,options:_}=g;g!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&gl(a,l),Gg(a.x,v.offset.x),Gg(a.y,v.offset.y))}return a}applyTransform(l,a=!1){const p=ha();gl(p,l);for(let f=0;f<this.path.length;f++){const g=this.path[f];!a&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Hg(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),im(g.latestValues)&&Hg(p,g.latestValues)}return im(this.latestValues)&&Hg(p,this.latestValues),p}removeTransform(l){const a=ha();gl(a,l);for(let p=0;p<this.path.length;p++){const f=this.path[p];if(!f.instance||!im(f.latestValues))continue;pI(f.latestValues)&&f.updateSnapshot();const g=ha(),v=f.measurePageBox();gl(g,v),lH(a,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return im(this.latestValues)&&lH(a,this.latestValues),a}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ao.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var _;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==a;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=ao.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ha(),this.relativeTargetOrigin=ha(),Px(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),gl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ha(),this.targetWithTransforms=ha()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ANe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gl(this.target,this.layout.layoutBox),Rse(this.target,this.targetDelta)):gl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ha(),this.relativeTargetOrigin=ha(),Px(this.relativeTargetOrigin,this.target,T.target),gl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||pI(this.parent.latestValues)||zse(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var z;const l=this.getLead(),a=!!this.resumingFrom||this!==l;let p=!0;if((this.isProjectionDirty||(z=this.parent)!=null&&z.isProjectionDirty)&&(p=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===ao.timestamp&&(p=!1),p)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;gl(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;TNe(this.layoutCorrected,this.treeScale,this.path,a),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ha());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aH(this.prevProjectionDelta.x,this.projectionDelta.x),aH(this.prevProjectionDelta.y,this.projectionDelta.y)),Mx(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!hH(this.projectionDelta.x,this.prevProjectionDelta.x)||!hH(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),l){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qg(),this.projectionDelta=qg(),this.projectionDeltaWithTransform=qg()}setAnimationOrigin(l,a=!1){const p=this.snapshot,f=p?p.latestValues:{},g={...this.latestValues},v=qg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const _=ha(),T=p?p.source:void 0,z=this.layout?this.layout.source:void 0,I=T!==z,k=this.getStack(),C=!k||k.members.length<=1,L=!!(I&&!C&&this.options.crossfade===!0&&!this.path.some(bLe));this.animationProgress=0;let N;this.mixTargetDelta=$=>{const ee=$/1e3;yH(v.x,l.x,ee),yH(v.y,l.y,ee),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Px(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_Le(this.relativeTarget,this.relativeTargetOrigin,_,ee),N&&nLe(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=ha()),gl(N,this.relativeTarget)),I&&(this.animationValues=g,XNe(g,f,this.latestValues,ee,L,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Oh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yi.update(()=>{T5.hasAnimatedSinceResize=!0,this.currentAnimation=KNe(0,fH,{...l,onUpdate:a=>{this.mixTargetDelta(a),l.onUpdate&&l.onUpdate(a)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:a,target:p,layout:f,latestValues:g}=l;if(!(!a||!p||!f)){if(this!==l&&this.layout&&f&&qse(this.options.animationType,this.layout.layoutBox,f.layoutBox)){p=this.target||ha();const v=ss(this.layout.layoutBox.x);p.x.min=l.target.x.min,p.x.max=p.x.min+v;const _=ss(this.layout.layoutBox.y);p.y.min=l.target.y.min,p.y.max=p.y.min+_}gl(a,p),Hg(a,g),Mx(this.projectionDeltaWithTransform,this.layoutCorrected,a,g)}}registerSharedNode(l,a){this.sharedNodes.has(l)||this.sharedNodes.set(l,new iLe),this.sharedNodes.get(l).add(a);const f=a.options.initialPromotionConfig;a.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(a):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:a,preserveFollowOpacity:p}={}){const f=this.getStack();f&&f.promote(this,p),l&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let a=!1;const{latestValues:p}=l;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(a=!0),!a)return;const f={};p.z&&xM("z",l,f,this.animationValues);for(let g=0;g<bM.length;g++)xM(`rotate${bM[g]}`,l,f,this.animationValues),xM(`skew${bM[g]}`,l,f,this.animationValues);l.render();for(const g in f)l.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return oLe;const a={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=A5(l==null?void 0:l.pointerEvents)||"",a.transform=p?p(this.latestValues,""):"none",a;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=A5(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!im(this.latestValues)&&(T.transform=p?p({},""):"none",this.hasProjected=!1),T}const g=f.animationValues||f.latestValues;this.applyTransformsToTarget(),a.transform=aLe(this.projectionDeltaWithTransform,this.treeScale,g),p&&(a.transform=p(g,a.transform));const{x:v,y:_}=this.projectionDelta;a.transformOrigin=`${v.origin*100}% ${_.origin*100}% 0`,f.animationValues?a.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:a.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const T in m4){if(g[T]===void 0)continue;const{correct:z,applyTo:I,isCSSVariable:k}=m4[T],C=a.transform==="none"?g[T]:z(g[T],f);if(I){const L=I.length;for(let N=0;N<L;N++)a[I[N]]=C}else k?this.options.visualElement.renderState.vars[T]=C:a[T]=C}return this.options.layoutId&&(a.pointerEvents=f===this?A5(l==null?void 0:l.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var a;return(a=l.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(mH),this.root.sharedNodes.clear()}}}function lLe(e){e.updateLayout()}function cLe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,l=t.source!==e.layout.source;s==="size"?yl(v=>{const _=l?t.measuredBox[v]:t.layoutBox[v],T=ss(_);_.min=n[v].min,_.max=_.min+T}):qse(s,t.layoutBox,n)&&yl(v=>{const _=l?t.measuredBox[v]:t.layoutBox[v],T=ss(n[v]);_.max=_.min+T,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+T)});const a=qg();Mx(a,n,t.layoutBox);const p=qg();l?Mx(p,e.applyTransform(i,!0),t.measuredBox):Mx(p,n,t.layoutBox);const f=!Use(a);let g=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:T}=v;if(_&&T){const z=ha();Px(z,t.layoutBox,_.layoutBox);const I=ha();Px(I,n,T.layoutBox),Wse(z,I)||(g=!0),v.options.layoutRoot&&(e.relativeTarget=I,e.relativeTargetOrigin=z,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:p,layoutDelta:a,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function uLe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dLe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pLe(e){e.clearSnapshot()}function mH(e){e.clearMeasurements()}function hLe(e){e.isLayoutDirty=!1}function fLe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function gH(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mLe(e){e.resolveTargetDelta()}function gLe(e){e.calcProjection()}function yLe(e){e.resetSkewAndRotation()}function vLe(e){e.removeLeadSnapshot()}function yH(e,t,r){e.translate=Hi(t.translate,0,r),e.scale=Hi(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function vH(e,t,r,n){e.min=Hi(t.min,r.min,n),e.max=Hi(t.max,r.max,n)}function _Le(e,t,r,n){vH(e.x,t.x,r.x,n),vH(e.y,t.y,r.y,n)}function bLe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const xLe={duration:.45,ease:[.4,0,.1,1]},_H=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),bH=_H("applewebkit/")&&!_H("chrome/")?Math.round:Ml;function xH(e){e.min=bH(e.min),e.max=bH(e.max)}function wLe(e){xH(e.x),xH(e.y)}function qse(e,t,r){return e==="position"||e==="preserve-aspect"&&!ENe(pH(t),pH(r),.2)}function SLe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const ELe=Kse({attachResizeListener:(e,t)=>y4(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wM={current:void 0},Gse=Kse({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!wM.current){const e=new ELe({});e.mount(window),e.setOptions({layoutScroll:!0}),wM.current=e}return wM.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ALe={pan:{Feature:VNe},drag:{Feature:jNe,ProjectionNode:Gse,MeasureLayout:Fse}};function wH(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Yi.postRender(()=>s(t,Q4(t)))}class TLe extends Yh{mount(){const{current:t}=this.node;t&&(this.unmount=rRe(t,(r,n)=>(wH(this.node,n,"Start"),i=>wH(this.node,i,"End"))))}unmount(){}}class MLe extends Yh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Z4(y4(this.node.current,"focus",()=>this.onFocus()),y4(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function SH(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Yi.postRender(()=>s(t,Q4(t)))}class PLe extends Yh{mount(){const{current:t}=this.node;t&&(this.unmount=oRe(t,(r,n)=>(SH(this.node,n,"Start"),(i,{success:s})=>SH(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mI=new WeakMap,SM=new WeakMap,kLe=e=>{const t=mI.get(e.target);t&&t(e)},ILe=e=>{e.forEach(kLe)};function CLe({root:e,...t}){const r=e||document;SM.has(r)||SM.set(r,{});const n=SM.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(ILe,{root:e,...t})),n[i]}function DLe(e,t,r){const n=CLe(t);return mI.set(e,r),n.observe(e),()=>{mI.delete(e),n.unobserve(e)}}const zLe={some:0,all:1};class RLe extends Yh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:zLe[i]},a=p=>{const{isIntersecting:f}=p;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=f?g:v;_&&_(p)};return DLe(this.node.current,l,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(NLe(t,r))&&this.startObserver()}unmount(){}}function NLe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const LLe={inView:{Feature:RLe},tap:{Feature:PLe},focus:{Feature:MLe},hover:{Feature:TLe}},OLe={layout:{ProjectionNode:Gse,MeasureLayout:Fse}},gI={current:null},Hse={current:!1};function BLe(){if(Hse.current=!0,!!qO)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>gI.current=e.matches;e.addListener(t),t()}else gI.current=!1}const FLe=new WeakMap;function jLe(e,t,r){for(const n in t){const i=t[n],s=r[n];if(Fo(i))e.addValue(n,i);else if(Fo(s))e.addValue(n,h4(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const l=e.getValue(n);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=e.getStaticValue(n);e.addValue(n,h4(l!==void 0?l:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const EH=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VLe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:l},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cB,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Ps.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Yi.render(this.render,!1,!0))};const{latestValues:p,renderState:f}=l;this.latestValues=p,this.baseTarget={...p},this.initialValues=r.initial?{...p}:{},this.renderState=f,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=BS(r),this.isVariantNode=mse(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const _ in v){const T=v[_];p[_]!==void 0&&Fo(T)&&T.set(p[_],!1)}}mount(t){this.current=t,FLe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Hse.current||BLe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gI.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Oh(this.notifyUpdate),Oh(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=R2.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Yi.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s(),l&&l(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Yv){const r=Yv[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ha()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<EH.length;n++){const i=EH[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,l=t[s];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=jLe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=h4(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Aoe(n)||Toe(n))?n=parseFloat(n):!uRe(n)&&Bh.test(r)&&(n=lse(t,r)),this.setBaseTarget(t,Fo(n)?n.get():n)),Fo(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const l=bB(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);l&&(n=l[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Fo(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new QO),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Zse extends VLe{constructor(){super(...arguments),this.KeyframeResolver=Jze}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Fo(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Yse(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}function ULe(e){return window.getComputedStyle(e)}class WLe extends Zse{constructor(){super(...arguments),this.type="html",this.renderInstance=Yse}readValueFromInstance(t,r){if(R2.has(r))return vze(t,r);{const n=ULe(t),i=(tB(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Nse(t,r)}build(t,r,n){yB(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return xB(t,r,n)}}const Xse=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $Le(e,t,r,n){Yse(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(Xse.has(i)?i:gB(i),t.attrs[i])}class KLe extends Zse{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ha}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(R2.has(r)){const n=sse(r);return n&&n.default||0}return r=Xse.has(r)?r:gB(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Ase(t,r,n)}build(t,r,n){xse(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){$Le(t,r,n,i)}mount(t){this.isSVGTag=Sse(t.tagName),super.mount(t)}}const qLe=(e,t)=>_B(e)?new KLe(t):new WLe(t,{allowProjection:e!==R.Fragment}),GLe=$Re({...gNe,...LLe,...ALe,...OLe},qLe),Gr=mRe(GLe),HLe=[{title:"Explore",icon:Nm,path:"/explore"},{title:"Map",icon:Ume,path:"/map"},{title:"Rewards",icon:Bme,path:"/rewards"},{title:"Shop",icon:Kme,path:"/shop"},{title:"Profile",icon:WX,path:"/profile"}];function ZLe(){const e=$h();return B.jsxs(doe,{variant:"floating",className:"z-50",children:[B.jsx(foe,{className:"flex items-center justify-center py-6",children:B.jsxs(Gr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"flex items-center gap-2",children:[B.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-amber-400 to-orange-600 flex items-center justify-center",children:B.jsx(Nm,{className:"h-6 w-6 text-white"})}),B.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"ASTRALIS"})]})}),B.jsx(goe,{children:B.jsxs(yoe,{children:[B.jsx(voe,{className:"text-xs font-semibold text-gray-500",children:"NAVIGATION"}),B.jsx(_oe,{children:B.jsx(boe,{children:HLe.map(t=>{const r=e.pathname.startsWith(t.path);return B.jsx(xoe,{children:B.jsx(woe,{asChild:!0,isActive:r,className:"transition-all duration-300 hover:translate-x-1",children:B.jsxs(l2e,{to:t.path,className:"flex items-center gap-3",children:[B.jsx(Gr.div,{whileHover:{rotate:r?0:10},animate:{scale:r?1.1:1,color:r?"var(--sidebar-accent-foreground)":"inherit"},transition:{type:"spring",stiffness:400,damping:10},children:B.jsx(t.icon,{className:"h-5 w-5"})}),B.jsx("span",{className:"font-medium",children:t.title})]})})},t.title)})})})]})}),B.jsx(moe,{className:"p-4",children:B.jsxs("div",{className:"rounded-lg bg-gradient-to-r from-amber-50 to-orange-50 p-3 text-xs text-amber-800",children:[B.jsx("p",{className:"font-medium",children:"Explore the world"}),B.jsx("p",{className:"mt-1 opacity-80",children:"Collect unique NFTs at real locations"})]})}),B.jsx(poe,{})]})}function YLe(){return B.jsx(uoe,{children:B.jsxs("div",{className:"min-h-screen flex w-full overflow-hidden relative",children:[B.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[B.jsx("div",{className:"absolute top-0 -left-40 h-[30rem] w-[30rem] rounded-full bg-gradient-to-r from-amber-200/20 to-orange-300/20 blur-3xl"}),B.jsx("div",{className:"absolute bottom-0 right-0 h-[35rem] w-[35rem] rounded-full bg-gradient-to-r from-blue-200/20 to-teal-300/20 blur-3xl"}),B.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-[40rem] w-[40rem] rounded-full bg-gradient-to-r from-purple-200/10 to-pink-300/10 blur-3xl"}),B.jsx("div",{className:"absolute inset-0",children:Array.from({length:20}).map((e,t)=>B.jsx(Gr.div,{className:"absolute h-1 w-1 rounded-full bg-amber-400/30",initial:{x:Math.random()*100+"%",y:Math.random()*100+"%",opacity:Math.random()*.5+.3},animate:{y:[Math.random()*100+"%",Math.random()*100+"%"],x:[Math.random()*100+"%",Math.random()*100+"%"]},transition:{repeat:Number.POSITIVE_INFINITY,duration:Math.random()*60+60,ease:"linear"}},t))})]}),B.jsx(ZLe,{}),B.jsx(hoe,{className:"bg-white/80 backdrop-blur-md",children:B.jsx("main",{className:"flex-1 p-6 overflow-auto",children:B.jsx(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:B.jsx(Zve,{})})})})]})})}const jo=R.forwardRef(({className:e,...t},r)=>B.jsx("div",{ref:r,className:yr("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));jo.displayName="Card";const XLe=R.forwardRef(({className:e,...t},r)=>B.jsx("div",{ref:r,className:yr("flex flex-col space-y-1.5 p-6",e),...t}));XLe.displayName="CardHeader";const QLe=R.forwardRef(({className:e,...t},r)=>B.jsx("h3",{ref:r,className:yr("text-2xl font-semibold leading-none tracking-tight",e),...t}));QLe.displayName="CardTitle";const JLe=R.forwardRef(({className:e,...t},r)=>B.jsx("p",{ref:r,className:yr("text-sm text-muted-foreground",e),...t}));JLe.displayName="CardDescription";const eOe=R.forwardRef(({className:e,...t},r)=>B.jsx("div",{ref:r,className:yr("p-6 pt-0",e),...t}));eOe.displayName="CardContent";const tOe=R.forwardRef(({className:e,...t},r)=>B.jsx("div",{ref:r,className:yr("flex items-center p-6 pt-0",e),...t}));tOe.displayName="CardFooter";const rOe=k4("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Um({className:e,variant:t,...r}){return B.jsx("div",{className:yr(rOe({variant:t}),e),...r})}function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qn.apply(null,arguments)}function AH(e,[t,r]){return Math.min(r,Math.max(t,e))}function Xa(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function SB(e,t=[]){let r=[];function n(s,l){const a=R.createContext(l),p=r.length;r=[...r,l];function f(v){const{scope:_,children:T,...z}=v,I=(_==null?void 0:_[e][p])||a,k=R.useMemo(()=>z,Object.values(z));return R.createElement(I.Provider,{value:k},T)}function g(v,_){const T=(_==null?void 0:_[e][p])||a,z=R.useContext(T);if(z)return z;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${s}\``)}return f.displayName=s+"Provider",[f,g]}const i=()=>{const s=r.map(l=>R.createContext(l));return function(a){const p=(a==null?void 0:a[e])||s;return R.useMemo(()=>({[`__scope${e}`]:{...a,[e]:p}}),[a,p])}};return i.scopeName=e,[n,nOe(i,...t)]}function nOe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const l=n.reduce((a,{useScope:p,scopeName:f})=>{const v=p(s)[`__scope${f}`];return{...a,...v}},{});return R.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function iOe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Qse(...e){return t=>e.forEach(r=>iOe(r,t))}function Wo(...e){return R.useCallback(Qse(...e),e)}const v4=R.forwardRef((e,t)=>{const{children:r,...n}=e,i=R.Children.toArray(r),s=i.find(oOe);if(s){const l=s.props.children,a=i.map(p=>p===s?R.Children.count(l)>1?R.Children.only(null):R.isValidElement(l)?l.props.children:null:p);return R.createElement(yI,Qn({},n,{ref:t}),R.isValidElement(l)?R.cloneElement(l,void 0,a):null)}return R.createElement(yI,Qn({},n,{ref:t}),r)});v4.displayName="Slot";const yI=R.forwardRef((e,t)=>{const{children:r,...n}=e;return R.isValidElement(r)?R.cloneElement(r,{...sOe(n,r.props),ref:t?Qse(t,r.ref):r.ref}):R.Children.count(r)>1?R.Children.only(null):null});yI.displayName="SlotClone";const aOe=({children:e})=>R.createElement(R.Fragment,null,e);function oOe(e){return R.isValidElement(e)&&e.type===aOe}function sOe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{s(...a),i(...a)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function lOe(e){const t=e+"CollectionProvider",[r,n]=SB(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=T=>{const{scope:z,children:I}=T,k=dt.useRef(null),C=dt.useRef(new Map).current;return dt.createElement(i,{scope:z,itemMap:C,collectionRef:k},I)},a=e+"CollectionSlot",p=dt.forwardRef((T,z)=>{const{scope:I,children:k}=T,C=s(a,I),L=Wo(z,C.collectionRef);return dt.createElement(v4,{ref:L},k)}),f=e+"CollectionItemSlot",g="data-radix-collection-item",v=dt.forwardRef((T,z)=>{const{scope:I,children:k,...C}=T,L=dt.useRef(null),N=Wo(z,L),$=s(f,I);return dt.useEffect(()=>($.itemMap.set(L,{ref:L,...C}),()=>void $.itemMap.delete(L))),dt.createElement(v4,{[g]:"",ref:N},k)});function _(T){const z=s(e+"CollectionConsumer",T);return dt.useCallback(()=>{const k=z.collectionRef.current;if(!k)return[];const C=Array.from(k.querySelectorAll(`[${g}]`));return Array.from(z.itemMap.values()).sort(($,ee)=>C.indexOf($.ref.current)-C.indexOf(ee.ref.current))},[z.collectionRef,z.itemMap])}return[{Provider:l,Slot:p,ItemSlot:v},_,n]}const cOe=R.createContext(void 0);function uOe(e){const t=R.useContext(cOe);return e||t||"ltr"}const dOe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],po=dOe.reduce((e,t)=>{const r=R.forwardRef((n,i)=>{const{asChild:s,...l}=n,a=s?v4:t;return R.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),R.createElement(a,Qn({},l,{ref:i}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function pOe(e,t){e&&Pc.flushSync(()=>e.dispatchEvent(t))}function Ld(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e}),R.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function hOe(e,t=globalThis==null?void 0:globalThis.document){const r=Ld(e);R.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n),()=>t.removeEventListener("keydown",n)},[r,t])}const vI="dismissableLayer.update",fOe="dismissableLayer.pointerDownOutside",mOe="dismissableLayer.focusOutside";let TH;const gOe=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yOe=R.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:l,onInteractOutside:a,onDismiss:p,...f}=e,g=R.useContext(gOe),[v,_]=R.useState(null),T=(r=v==null?void 0:v.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,z]=R.useState({}),I=Wo(t,ie=>_(ie)),k=Array.from(g.layers),[C]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),L=k.indexOf(C),N=v?k.indexOf(v):-1,$=g.layersWithOutsidePointerEventsDisabled.size>0,ee=N>=L,re=vOe(ie=>{const me=ie.target,Ze=[...g.branches].some(et=>et.contains(me));!ee||Ze||(s==null||s(ie),a==null||a(ie),ie.defaultPrevented||p==null||p())},T),ne=_Oe(ie=>{const me=ie.target;[...g.branches].some(et=>et.contains(me))||(l==null||l(ie),a==null||a(ie),ie.defaultPrevented||p==null||p())},T);return hOe(ie=>{N===g.layers.size-1&&(i==null||i(ie),!ie.defaultPrevented&&p&&(ie.preventDefault(),p()))},T),R.useEffect(()=>{if(v)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(TH=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(v)),g.layers.add(v),MH(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=TH)}},[v,T,n,g]),R.useEffect(()=>()=>{v&&(g.layers.delete(v),g.layersWithOutsidePointerEventsDisabled.delete(v),MH())},[v,g]),R.useEffect(()=>{const ie=()=>z({});return document.addEventListener(vI,ie),()=>document.removeEventListener(vI,ie)},[]),R.createElement(po.div,Qn({},f,{ref:I,style:{pointerEvents:$?ee?"auto":"none":void 0,...e.style},onFocusCapture:Xa(e.onFocusCapture,ne.onFocusCapture),onBlurCapture:Xa(e.onBlurCapture,ne.onBlurCapture),onPointerDownCapture:Xa(e.onPointerDownCapture,re.onPointerDownCapture)}))});function vOe(e,t=globalThis==null?void 0:globalThis.document){const r=Ld(e),n=R.useRef(!1),i=R.useRef(()=>{});return R.useEffect(()=>{const s=a=>{if(a.target&&!n.current){let f=function(){Jse(fOe,r,p,{discrete:!0})};const p={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=f,t.addEventListener("click",i.current,{once:!0})):f()}n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function _Oe(e,t=globalThis==null?void 0:globalThis.document){const r=Ld(e),n=R.useRef(!1);return R.useEffect(()=>{const i=s=>{s.target&&!n.current&&Jse(mOe,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function MH(){const e=new CustomEvent(vI);document.dispatchEvent(e)}function Jse(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?pOe(i,s):i.dispatchEvent(s)}let EM=0;function bOe(){R.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:PH()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:PH()),EM++,()=>{EM===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),EM--}},[])}function PH(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const AM="focusScope.autoFocusOnMount",TM="focusScope.autoFocusOnUnmount",kH={bubbles:!1,cancelable:!0},xOe=R.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=e,[a,p]=R.useState(null),f=Ld(i),g=Ld(s),v=R.useRef(null),_=Wo(t,I=>p(I)),T=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(n){let I=function(N){if(T.paused||!a)return;const $=N.target;a.contains($)?v.current=$:Cp(v.current,{select:!0})},k=function(N){if(T.paused||!a)return;const $=N.relatedTarget;$!==null&&(a.contains($)||Cp(v.current,{select:!0}))},C=function(N){const $=document.activeElement;for(const ee of N)ee.removedNodes.length>0&&(a!=null&&a.contains($)||Cp(a))};document.addEventListener("focusin",I),document.addEventListener("focusout",k);const L=new MutationObserver(C);return a&&L.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",k),L.disconnect()}}},[n,a,T.paused]),R.useEffect(()=>{if(a){CH.add(T);const I=document.activeElement;if(!a.contains(I)){const C=new CustomEvent(AM,kH);a.addEventListener(AM,f),a.dispatchEvent(C),C.defaultPrevented||(wOe(MOe(ele(a)),{select:!0}),document.activeElement===I&&Cp(a))}return()=>{a.removeEventListener(AM,f),setTimeout(()=>{const C=new CustomEvent(TM,kH);a.addEventListener(TM,g),a.dispatchEvent(C),C.defaultPrevented||Cp(I??document.body,{select:!0}),a.removeEventListener(TM,g),CH.remove(T)},0)}}},[a,f,g,T]);const z=R.useCallback(I=>{if(!r&&!n||T.paused)return;const k=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,C=document.activeElement;if(k&&C){const L=I.currentTarget,[N,$]=SOe(L);N&&$?!I.shiftKey&&C===$?(I.preventDefault(),r&&Cp(N,{select:!0})):I.shiftKey&&C===N&&(I.preventDefault(),r&&Cp($,{select:!0})):C===L&&I.preventDefault()}},[r,n,T.paused]);return R.createElement(po.div,Qn({tabIndex:-1},l,{ref:_,onKeyDown:z}))});function wOe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Cp(n,{select:t}),document.activeElement!==r)return}function SOe(e){const t=ele(e),r=IH(t,e),n=IH(t.reverse(),e);return[r,n]}function ele(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function IH(e,t){for(const r of e)if(!EOe(r,{upTo:t}))return r}function EOe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function AOe(e){return e instanceof HTMLInputElement&&"select"in e}function Cp(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&AOe(e)&&t&&e.select()}}const CH=TOe();function TOe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=DH(e,t),e.unshift(t)},remove(t){var r;e=DH(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function DH(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function MOe(e){return e.filter(t=>t.tagName!=="A")}const Dl=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},POe=q8["useId".toString()]||(()=>{});let kOe=0;function tle(e){const[t,r]=R.useState(POe());return Dl(()=>{e||r(n=>n??String(kOe++))},[e]),e||(t?`radix-${t}`:"")}function IOe(e){const[t,r]=R.useState(void 0);return Dl(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let l,a;if("borderBoxSize"in s){const p=s.borderBoxSize,f=Array.isArray(p)?p[0]:p;l=f.inlineSize,a=f.blockSize}else l=e.offsetWidth,a=e.offsetHeight;r({width:l,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}const rle="Popper",[nle,ile]=SB(rle),[COe,ale]=nle(rle),DOe=e=>{const{__scopePopper:t,children:r}=e,[n,i]=R.useState(null);return R.createElement(COe,{scope:t,anchor:n,onAnchorChange:i},r)},zOe="PopperAnchor",ROe=R.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=ale(zOe,r),l=R.useRef(null),a=Wo(t,l);return R.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:R.createElement(po.div,Qn({},i,{ref:a}))}),ole="PopperContent",[NOe,TUe]=nle(ole),LOe=R.forwardRef((e,t)=>{var r,n,i,s,l,a,p,f;const{__scopePopper:g,side:v="bottom",sideOffset:_=0,align:T="center",alignOffset:z=0,arrowPadding:I=0,collisionBoundary:k=[],collisionPadding:C=0,sticky:L="partial",hideWhenDetached:N=!1,avoidCollisions:$=!0,onPlaced:ee,...re}=e,ne=ale(ole,g),[ie,me]=R.useState(null),Ze=Wo(t,be=>me(be)),[et,Ke]=R.useState(null),ye=IOe(et),j=(r=ye==null?void 0:ye.width)!==null&&r!==void 0?r:0,Z=(n=ye==null?void 0:ye.height)!==null&&n!==void 0?n:0,oe=v+(T!=="center"?"-"+T:""),le=typeof C=="number"?C:{top:0,right:0,bottom:0,left:0,...C},Q=Array.isArray(k)?k:[k],ce=Q.length>0,Ee={padding:le,boundary:Q.filter(OOe),altBoundary:ce},{refs:fe,floatingStyles:K,placement:pe,isPositioned:Et,middlewareData:zt}=dQ({strategy:"fixed",placement:oe,whileElementsMounted:cQ,elements:{reference:ne.anchor},middleware:[pQ({mainAxis:_+Z,alignmentAxis:z}),$&&hQ({mainAxis:!0,crossAxis:!1,limiter:L==="partial"?fQ():void 0,...Ee}),$&&mQ({...Ee}),gQ({...Ee,apply:({elements:be,rects:rt,availableWidth:pt,availableHeight:Ct})=>{const{width:Jt,height:Rr}=rt.reference,Br=be.floating.style;Br.setProperty("--radix-popper-available-width",`${pt}px`),Br.setProperty("--radix-popper-available-height",`${Ct}px`),Br.setProperty("--radix-popper-anchor-width",`${Jt}px`),Br.setProperty("--radix-popper-anchor-height",`${Rr}px`)}}),et&&vQ({element:et,padding:I}),BOe({arrowWidth:j,arrowHeight:Z}),N&&yQ({strategy:"referenceHidden"})]}),[Ve,Be]=sle(pe),ut=Ld(ee);Dl(()=>{Et&&(ut==null||ut())},[Et,ut]);const bt=(i=zt.arrow)===null||i===void 0?void 0:i.x,Ht=(s=zt.arrow)===null||s===void 0?void 0:s.y,_e=((l=zt.arrow)===null||l===void 0?void 0:l.centerOffset)!==0,[Me,we]=R.useState();return Dl(()=>{ie&&we(window.getComputedStyle(ie).zIndex)},[ie]),R.createElement("div",{ref:fe.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:Et?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(a=zt.transformOrigin)===null||a===void 0?void 0:a.x,(p=zt.transformOrigin)===null||p===void 0?void 0:p.y].join(" ")},dir:e.dir},R.createElement(NOe,{scope:g,placedSide:Ve,onArrowChange:Ke,arrowX:bt,arrowY:Ht,shouldHideArrow:_e},R.createElement(po.div,Qn({"data-side":Ve,"data-align":Be},re,{ref:Ze,style:{...re.style,animation:Et?void 0:"none",opacity:(f=zt.hide)!==null&&f!==void 0&&f.referenceHidden?0:void 0}}))))});function OOe(e){return e!==null}const BOe=e=>({name:"transformOrigin",options:e,fn(t){var r,n,i,s,l;const{placement:a,rects:p,middlewareData:f}=t,v=((r=f.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,_=v?0:e.arrowWidth,T=v?0:e.arrowHeight,[z,I]=sle(a),k={start:"0%",center:"50%",end:"100%"}[I],C=((n=(i=f.arrow)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0)+_/2,L=((s=(l=f.arrow)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0)+T/2;let N="",$="";return z==="bottom"?(N=v?k:`${C}px`,$=`${-T}px`):z==="top"?(N=v?k:`${C}px`,$=`${p.floating.height+T}px`):z==="right"?(N=`${-T}px`,$=v?k:`${L}px`):z==="left"&&(N=`${p.floating.width+T}px`,$=v?k:`${L}px`),{data:{x:N,y:$}}}});function sle(e){const[t,r="center"]=e.split("-");return[t,r]}const FOe=DOe,jOe=ROe,VOe=LOe,UOe=R.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...i}=e;return n?bC.createPortal(R.createElement(po.div,Qn({},i,{ref:t})),n):null});function zH({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=WOe({defaultProp:t,onChange:r}),s=e!==void 0,l=s?e:n,a=Ld(r),p=R.useCallback(f=>{if(s){const v=typeof f=="function"?f(e):f;v!==e&&a(v)}else i(f)},[s,e,i,a]);return[l,p]}function WOe({defaultProp:e,onChange:t}){const r=R.useState(e),[n]=r,i=R.useRef(n),s=Ld(t);return R.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}function $Oe(e){const t=R.useRef({value:e,previous:e});return R.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const KOe=R.forwardRef((e,t)=>R.createElement(po.span,Qn({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var lle=kae(),MM=function(){},FS=R.forwardRef(function(e,t){var r=R.useRef(null),n=R.useState({onScrollCapture:MM,onWheelCapture:MM,onTouchMoveCapture:MM}),i=n[0],s=n[1],l=e.forwardProps,a=e.children,p=e.className,f=e.removeScrollBar,g=e.enabled,v=e.shards,_=e.sideCar,T=e.noIsolation,z=e.inert,I=e.allowPinchZoom,k=e.as,C=k===void 0?"div":k,L=RO(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),N=_,$=Pae([r,t]),ee=Oo(Oo({},L),i);return R.createElement(R.Fragment,null,g&&R.createElement(N,{sideCar:lle,removeScrollBar:f,shards:v,noIsolation:T,inert:z,setCallbacks:s,allowPinchZoom:!!I,lockRef:r}),l?R.cloneElement(R.Children.only(a),Oo(Oo({},ee),{ref:$})):R.createElement(C,Oo({},ee,{className:p,ref:$}),a))});FS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};FS.classNames={fullWidth:Sx,zeroRight:wx};var _I=!1;if(typeof window<"u")try{var j3=Object.defineProperty({},"passive",{get:function(){return _I=!0,!0}});window.addEventListener("test",j3,j3),window.removeEventListener("test",j3,j3)}catch{_I=!1}var mg=_I?{passive:!1}:!1,qOe=function(e){return e.tagName==="TEXTAREA"},cle=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!qOe(e)&&r[t]==="visible")},GOe=function(e){return cle(e,"overflowY")},HOe=function(e){return cle(e,"overflowX")},RH=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=ule(e,r);if(n){var i=dle(e,r),s=i[1],l=i[2];if(s>l)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},ZOe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},YOe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},ule=function(e,t){return e==="v"?GOe(t):HOe(t)},dle=function(e,t){return e==="v"?ZOe(t):YOe(t)},XOe=function(e,t){return e==="h"&&t==="rtl"?-1:1},QOe=function(e,t,r,n,i){var s=XOe(e,window.getComputedStyle(t).direction),l=s*n,a=r.target,p=t.contains(a),f=!1,g=l>0,v=0,_=0;do{var T=dle(e,a),z=T[0],I=T[1],k=T[2],C=I-k-s*z;(z||C)&&ule(e,a)&&(v+=C,_+=z),a=a.parentNode}while(!p&&a!==document.body||p&&(t.contains(a)||t===a));return(g&&(i&&v===0||!i&&l>v)||!g&&(i&&_===0||!i&&-l>_))&&(f=!0),f},V3=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},NH=function(e){return[e.deltaX,e.deltaY]},LH=function(e){return e&&"current"in e?e.current:e},JOe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},eBe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tBe=0,gg=[];function rBe(e){var t=R.useRef([]),r=R.useRef([0,0]),n=R.useRef(),i=R.useState(tBe++)[0],s=R.useState(function(){return NO()})[0],l=R.useRef(e);R.useEffect(function(){l.current=e},[e]),R.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var I=Mae([e.lockRef.current],(e.shards||[]).map(LH),!0).filter(Boolean);return I.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),I.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=R.useCallback(function(I,k){if("touches"in I&&I.touches.length===2)return!l.current.allowPinchZoom;var C=V3(I),L=r.current,N="deltaX"in I?I.deltaX:L[0]-C[0],$="deltaY"in I?I.deltaY:L[1]-C[1],ee,re=I.target,ne=Math.abs(N)>Math.abs($)?"h":"v";if("touches"in I&&ne==="h"&&re.type==="range")return!1;var ie=RH(ne,re);if(!ie)return!0;if(ie?ee=ne:(ee=ne==="v"?"h":"v",ie=RH(ne,re)),!ie)return!1;if(!n.current&&"changedTouches"in I&&(N||$)&&(n.current=ee),!ee)return!0;var me=n.current||ee;return QOe(me,k,I,me==="h"?N:$,!0)},[]),p=R.useCallback(function(I){var k=I;if(!(!gg.length||gg[gg.length-1]!==s)){var C="deltaY"in k?NH(k):V3(k),L=t.current.filter(function(ee){return ee.name===k.type&&ee.target===k.target&&JOe(ee.delta,C)})[0];if(L&&L.should){k.cancelable&&k.preventDefault();return}if(!L){var N=(l.current.shards||[]).map(LH).filter(Boolean).filter(function(ee){return ee.contains(k.target)}),$=N.length>0?a(k,N[0]):!l.current.noIsolation;$&&k.cancelable&&k.preventDefault()}}},[]),f=R.useCallback(function(I,k,C,L){var N={name:I,delta:k,target:C,should:L};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function($){return $!==N})},1)},[]),g=R.useCallback(function(I){r.current=V3(I),n.current=void 0},[]),v=R.useCallback(function(I){f(I.type,NH(I),I.target,a(I,e.lockRef.current))},[]),_=R.useCallback(function(I){f(I.type,V3(I),I.target,a(I,e.lockRef.current))},[]);R.useEffect(function(){return gg.push(s),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:_}),document.addEventListener("wheel",p,mg),document.addEventListener("touchmove",p,mg),document.addEventListener("touchstart",g,mg),function(){gg=gg.filter(function(I){return I!==s}),document.removeEventListener("wheel",p,mg),document.removeEventListener("touchmove",p,mg),document.removeEventListener("touchstart",g,mg)}},[]);var T=e.removeScrollBar,z=e.inert;return R.createElement(R.Fragment,null,z?R.createElement(s,{styles:eBe(i)}):null,T?R.createElement(zae,{gapMode:"margin"}):null)}const nBe=Cae(lle,rBe);var ple=R.forwardRef(function(e,t){return R.createElement(FS,Oo({},e,{ref:t,sideCar:nBe}))});ple.classNames=FS.classNames;const iBe=ple,aBe=[" ","Enter","ArrowUp","ArrowDown"],oBe=[" ","Enter"],jS="Select",[VS,US,sBe]=lOe(jS),[N2,MUe]=SB(jS,[sBe,ile]),EB=ile(),[lBe,Jm]=N2(jS),[cBe,uBe]=N2(jS),dBe=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:s,value:l,defaultValue:a,onValueChange:p,dir:f,name:g,autoComplete:v,disabled:_,required:T}=e,z=EB(t),[I,k]=R.useState(null),[C,L]=R.useState(null),[N,$]=R.useState(!1),ee=uOe(f),[re=!1,ne]=zH({prop:n,defaultProp:i,onChange:s}),[ie,me]=zH({prop:l,defaultProp:a,onChange:p}),Ze=R.useRef(null),et=I?!!I.closest("form"):!0,[Ke,ye]=R.useState(new Set),j=Array.from(Ke).map(Z=>Z.props.value).join(";");return R.createElement(FOe,z,R.createElement(lBe,{required:T,scope:t,trigger:I,onTriggerChange:k,valueNode:C,onValueNodeChange:L,valueNodeHasChildren:N,onValueNodeHasChildrenChange:$,contentId:tle(),value:ie,onValueChange:me,open:re,onOpenChange:ne,dir:ee,triggerPointerDownPosRef:Ze,disabled:_},R.createElement(VS.Provider,{scope:t},R.createElement(cBe,{scope:e.__scopeSelect,onNativeOptionAdd:R.useCallback(Z=>{ye(oe=>new Set(oe).add(Z))},[]),onNativeOptionRemove:R.useCallback(Z=>{ye(oe=>{const le=new Set(oe);return le.delete(Z),le})},[])},r)),et?R.createElement(gle,{key:j,"aria-hidden":!0,required:T,tabIndex:-1,name:g,autoComplete:v,value:ie,onChange:Z=>me(Z.target.value),disabled:_},ie===void 0?R.createElement("option",{value:""}):null,Array.from(Ke)):null))},pBe="SelectTrigger",hBe=R.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,s=EB(r),l=Jm(pBe,r),a=l.disabled||n,p=Wo(t,l.onTriggerChange),f=US(r),[g,v,_]=yle(z=>{const I=f().filter(L=>!L.disabled),k=I.find(L=>L.value===l.value),C=vle(I,z,k);C!==void 0&&l.onValueChange(C.value)}),T=()=>{a||(l.onOpenChange(!0),_())};return R.createElement(jOe,Qn({asChild:!0},s),R.createElement(po.button,Qn({type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":l.value===void 0?"":void 0},i,{ref:p,onClick:Xa(i.onClick,z=>{z.currentTarget.focus()}),onPointerDown:Xa(i.onPointerDown,z=>{const I=z.target;I.hasPointerCapture(z.pointerId)&&I.releasePointerCapture(z.pointerId),z.button===0&&z.ctrlKey===!1&&(T(),l.triggerPointerDownPosRef.current={x:Math.round(z.pageX),y:Math.round(z.pageY)},z.preventDefault())}),onKeyDown:Xa(i.onKeyDown,z=>{const I=g.current!=="";!(z.ctrlKey||z.altKey||z.metaKey)&&z.key.length===1&&v(z.key),!(I&&z.key===" ")&&aBe.includes(z.key)&&(T(),z.preventDefault())})})))}),fBe="SelectValue",mBe=R.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:l,...a}=e,p=Jm(fBe,r),{onValueNodeHasChildrenChange:f}=p,g=s!==void 0,v=Wo(t,p.onValueNodeChange);return Dl(()=>{f(g)},[f,g]),R.createElement(po.span,Qn({},a,{ref:v,style:{pointerEvents:"none"}}),p.value===void 0&&l!==void 0?l:s)}),gBe=R.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return R.createElement(po.span,Qn({"aria-hidden":!0},i,{ref:t}),n||"")}),yBe=e=>R.createElement(UOe,Qn({asChild:!0},e)),Xv="SelectContent",vBe=R.forwardRef((e,t)=>{const r=Jm(Xv,e.__scopeSelect),[n,i]=R.useState();if(Dl(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Pc.createPortal(R.createElement(hle,{scope:e.__scopeSelect},R.createElement(VS.Slot,{scope:e.__scopeSelect},R.createElement("div",null,e.children))),s):null}return R.createElement(_Be,Qn({},e,{ref:t}))}),id=10,[hle,e0]=N2(Xv),_Be=R.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:l,side:a,sideOffset:p,align:f,alignOffset:g,arrowPadding:v,collisionBoundary:_,collisionPadding:T,sticky:z,hideWhenDetached:I,avoidCollisions:k,...C}=e,L=Jm(Xv,r),[N,$]=R.useState(null),[ee,re]=R.useState(null),ne=Wo(t,Be=>$(Be)),[ie,me]=R.useState(null),[Ze,et]=R.useState(null),Ke=US(r),[ye,j]=R.useState(!1),Z=R.useRef(!1);R.useEffect(()=>{if(N)return LO(N)},[N]),bOe();const oe=R.useCallback(Be=>{const[ut,...bt]=Ke().map(Me=>Me.ref.current),[Ht]=bt.slice(-1),_e=document.activeElement;for(const Me of Be)if(Me===_e||(Me==null||Me.scrollIntoView({block:"nearest"}),Me===ut&&ee&&(ee.scrollTop=0),Me===Ht&&ee&&(ee.scrollTop=ee.scrollHeight),Me==null||Me.focus(),document.activeElement!==_e))return},[Ke,ee]),le=R.useCallback(()=>oe([ie,N]),[oe,ie,N]);R.useEffect(()=>{ye&&le()},[ye,le]);const{onOpenChange:Q,triggerPointerDownPosRef:ce}=L;R.useEffect(()=>{if(N){let Be={x:0,y:0};const ut=Ht=>{var _e,Me,we,be;Be={x:Math.abs(Math.round(Ht.pageX)-((_e=(Me=ce.current)===null||Me===void 0?void 0:Me.x)!==null&&_e!==void 0?_e:0)),y:Math.abs(Math.round(Ht.pageY)-((we=(be=ce.current)===null||be===void 0?void 0:be.y)!==null&&we!==void 0?we:0))}},bt=Ht=>{Be.x<=10&&Be.y<=10?Ht.preventDefault():N.contains(Ht.target)||Q(!1),document.removeEventListener("pointermove",ut),ce.current=null};return ce.current!==null&&(document.addEventListener("pointermove",ut),document.addEventListener("pointerup",bt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ut),document.removeEventListener("pointerup",bt,{capture:!0})}}},[N,Q,ce]),R.useEffect(()=>{const Be=()=>Q(!1);return window.addEventListener("blur",Be),window.addEventListener("resize",Be),()=>{window.removeEventListener("blur",Be),window.removeEventListener("resize",Be)}},[Q]);const[Ee,fe]=yle(Be=>{const ut=Ke().filter(_e=>!_e.disabled),bt=ut.find(_e=>_e.ref.current===document.activeElement),Ht=vle(ut,Be,bt);Ht&&setTimeout(()=>Ht.ref.current.focus())}),K=R.useCallback((Be,ut,bt)=>{const Ht=!Z.current&&!bt;(L.value!==void 0&&L.value===ut||Ht)&&(me(Be),Ht&&(Z.current=!0))},[L.value]),pe=R.useCallback(()=>N==null?void 0:N.focus(),[N]),Et=R.useCallback((Be,ut,bt)=>{const Ht=!Z.current&&!bt;(L.value!==void 0&&L.value===ut||Ht)&&et(Be)},[L.value]),zt=n==="popper"?OH:bBe,Ve=zt===OH?{side:a,sideOffset:p,align:f,alignOffset:g,arrowPadding:v,collisionBoundary:_,collisionPadding:T,sticky:z,hideWhenDetached:I,avoidCollisions:k}:{};return R.createElement(hle,{scope:r,content:N,viewport:ee,onViewportChange:re,itemRefCallback:K,selectedItem:ie,onItemLeave:pe,itemTextRefCallback:Et,focusSelectedItem:le,selectedItemText:Ze,position:n,isPositioned:ye,searchRef:Ee},R.createElement(iBe,{as:v4,allowPinchZoom:!0},R.createElement(xOe,{asChild:!0,trapped:L.open,onMountAutoFocus:Be=>{Be.preventDefault()},onUnmountAutoFocus:Xa(i,Be=>{var ut;(ut=L.trigger)===null||ut===void 0||ut.focus({preventScroll:!0}),Be.preventDefault()})},R.createElement(yOe,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:Be=>Be.preventDefault(),onDismiss:()=>L.onOpenChange(!1)},R.createElement(zt,Qn({role:"listbox",id:L.contentId,"data-state":L.open?"open":"closed",dir:L.dir,onContextMenu:Be=>Be.preventDefault()},C,Ve,{onPlaced:()=>j(!0),ref:ne,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Xa(C.onKeyDown,Be=>{const ut=Be.ctrlKey||Be.altKey||Be.metaKey;if(Be.key==="Tab"&&Be.preventDefault(),!ut&&Be.key.length===1&&fe(Be.key),["ArrowUp","ArrowDown","Home","End"].includes(Be.key)){let Ht=Ke().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(Be.key)&&(Ht=Ht.slice().reverse()),["ArrowUp","ArrowDown"].includes(Be.key)){const _e=Be.target,Me=Ht.indexOf(_e);Ht=Ht.slice(Me+1)}setTimeout(()=>oe(Ht)),Be.preventDefault()}})}))))))}),bBe=R.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,s=Jm(Xv,r),l=e0(Xv,r),[a,p]=R.useState(null),[f,g]=R.useState(null),v=Wo(t,ne=>g(ne)),_=US(r),T=R.useRef(!1),z=R.useRef(!0),{viewport:I,selectedItem:k,selectedItemText:C,focusSelectedItem:L}=l,N=R.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&f&&I&&k&&C){const ne=s.trigger.getBoundingClientRect(),ie=f.getBoundingClientRect(),me=s.valueNode.getBoundingClientRect(),Ze=C.getBoundingClientRect();if(s.dir!=="rtl"){const _e=Ze.left-ie.left,Me=me.left-_e,we=ne.left-Me,be=ne.width+we,rt=Math.max(be,ie.width),pt=window.innerWidth-id,Ct=AH(Me,[id,pt-rt]);a.style.minWidth=be+"px",a.style.left=Ct+"px"}else{const _e=ie.right-Ze.right,Me=window.innerWidth-me.right-_e,we=window.innerWidth-ne.right-Me,be=ne.width+we,rt=Math.max(be,ie.width),pt=window.innerWidth-id,Ct=AH(Me,[id,pt-rt]);a.style.minWidth=be+"px",a.style.right=Ct+"px"}const et=_(),Ke=window.innerHeight-id*2,ye=I.scrollHeight,j=window.getComputedStyle(f),Z=parseInt(j.borderTopWidth,10),oe=parseInt(j.paddingTop,10),le=parseInt(j.borderBottomWidth,10),Q=parseInt(j.paddingBottom,10),ce=Z+oe+ye+Q+le,Ee=Math.min(k.offsetHeight*5,ce),fe=window.getComputedStyle(I),K=parseInt(fe.paddingTop,10),pe=parseInt(fe.paddingBottom,10),Et=ne.top+ne.height/2-id,zt=Ke-Et,Ve=k.offsetHeight/2,Be=k.offsetTop+Ve,ut=Z+oe+Be,bt=ce-ut;if(ut<=Et){const _e=k===et[et.length-1].ref.current;a.style.bottom="0px";const Me=f.clientHeight-I.offsetTop-I.offsetHeight,we=Math.max(zt,Ve+(_e?pe:0)+Me+le),be=ut+we;a.style.height=be+"px"}else{const _e=k===et[0].ref.current;a.style.top="0px";const we=Math.max(Et,Z+I.offsetTop+(_e?K:0)+Ve)+bt;a.style.height=we+"px",I.scrollTop=ut-Et+I.offsetTop}a.style.margin=`${id}px 0`,a.style.minHeight=Ee+"px",a.style.maxHeight=Ke+"px",n==null||n(),requestAnimationFrame(()=>T.current=!0)}},[_,s.trigger,s.valueNode,a,f,I,k,C,s.dir,n]);Dl(()=>N(),[N]);const[$,ee]=R.useState();Dl(()=>{f&&ee(window.getComputedStyle(f).zIndex)},[f]);const re=R.useCallback(ne=>{ne&&z.current===!0&&(N(),L==null||L(),z.current=!1)},[N,L]);return R.createElement(xBe,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:T,onScrollButtonChange:re},R.createElement("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$}},R.createElement(po.div,Qn({},i,{ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),OH=R.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=id,...s}=e,l=EB(r);return R.createElement(VOe,Qn({},l,s,{ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[xBe,AB]=N2(Xv,{}),BH="SelectViewport",wBe=R.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=e0(BH,r),s=AB(BH,r),l=Wo(t,i.onViewportChange),a=R.useRef(0);return R.createElement(R.Fragment,null,R.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),R.createElement(VS.Slot,{scope:r},R.createElement(po.div,Qn({"data-radix-select-viewport":"",role:"presentation"},n,{ref:l,style:{position:"relative",flex:1,overflow:"auto",...n.style},onScroll:Xa(n.onScroll,p=>{const f=p.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=s;if(v!=null&&v.current&&g){const _=Math.abs(a.current-f.scrollTop);if(_>0){const T=window.innerHeight-id*2,z=parseFloat(g.style.minHeight),I=parseFloat(g.style.height),k=Math.max(z,I);if(k<T){const C=k+_,L=Math.min(T,C),N=C-L;g.style.height=L+"px",g.style.bottom==="0px"&&(f.scrollTop=N>0?N:0,g.style.justifyContent="flex-end")}}}a.current=f.scrollTop})}))))}),SBe="SelectGroup",[PUe,EBe]=N2(SBe),ABe="SelectLabel",TBe=R.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=EBe(ABe,r);return R.createElement(po.div,Qn({id:i.id},n,{ref:t}))}),bI="SelectItem",[MBe,fle]=N2(bI),PBe=R.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...l}=e,a=Jm(bI,r),p=e0(bI,r),f=a.value===n,[g,v]=R.useState(s??""),[_,T]=R.useState(!1),z=Wo(t,C=>{var L;return(L=p.itemRefCallback)===null||L===void 0?void 0:L.call(p,C,n,i)}),I=tle(),k=()=>{i||(a.onValueChange(n),a.onOpenChange(!1))};return R.createElement(MBe,{scope:r,value:n,disabled:i,textId:I,isSelected:f,onItemTextChange:R.useCallback(C=>{v(L=>{var N;return L||((N=C==null?void 0:C.textContent)!==null&&N!==void 0?N:"").trim()})},[])},R.createElement(VS.ItemSlot,{scope:r,value:n,disabled:i,textValue:g},R.createElement(po.div,Qn({role:"option","aria-labelledby":I,"data-highlighted":_?"":void 0,"aria-selected":f&&_,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},l,{ref:z,onFocus:Xa(l.onFocus,()=>T(!0)),onBlur:Xa(l.onBlur,()=>T(!1)),onPointerUp:Xa(l.onPointerUp,k),onPointerMove:Xa(l.onPointerMove,C=>{if(i){var L;(L=p.onItemLeave)===null||L===void 0||L.call(p)}else C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Xa(l.onPointerLeave,C=>{if(C.currentTarget===document.activeElement){var L;(L=p.onItemLeave)===null||L===void 0||L.call(p)}}),onKeyDown:Xa(l.onKeyDown,C=>{var L;((L=p.searchRef)===null||L===void 0?void 0:L.current)!==""&&C.key===" "||(oBe.includes(C.key)&&k(),C.key===" "&&C.preventDefault())})}))))}),U3="SelectItemText",kBe=R.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...s}=e,l=Jm(U3,r),a=e0(U3,r),p=fle(U3,r),f=uBe(U3,r),[g,v]=R.useState(null),_=Wo(t,C=>v(C),p.onItemTextChange,C=>{var L;return(L=a.itemTextRefCallback)===null||L===void 0?void 0:L.call(a,C,p.value,p.disabled)}),T=g==null?void 0:g.textContent,z=R.useMemo(()=>R.createElement("option",{key:p.value,value:p.value,disabled:p.disabled},T),[p.disabled,p.value,T]),{onNativeOptionAdd:I,onNativeOptionRemove:k}=f;return Dl(()=>(I(z),()=>k(z)),[I,k,z]),R.createElement(R.Fragment,null,R.createElement(po.span,Qn({id:p.textId},s,{ref:_})),p.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Pc.createPortal(s.children,l.valueNode):null)}),IBe="SelectItemIndicator",CBe=R.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return fle(IBe,r).isSelected?R.createElement(po.span,Qn({"aria-hidden":!0},n,{ref:t})):null}),FH="SelectScrollUpButton",DBe=R.forwardRef((e,t)=>{const r=e0(FH,e.__scopeSelect),n=AB(FH,e.__scopeSelect),[i,s]=R.useState(!1),l=Wo(t,n.onScrollButtonChange);return Dl(()=>{if(r.viewport&&r.isPositioned){let p=function(){const f=a.scrollTop>0;s(f)};const a=r.viewport;return p(),a.addEventListener("scroll",p),()=>a.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),i?R.createElement(mle,Qn({},e,{ref:l,onAutoScroll:()=>{const{viewport:a,selectedItem:p}=r;a&&p&&(a.scrollTop=a.scrollTop-p.offsetHeight)}})):null}),jH="SelectScrollDownButton",zBe=R.forwardRef((e,t)=>{const r=e0(jH,e.__scopeSelect),n=AB(jH,e.__scopeSelect),[i,s]=R.useState(!1),l=Wo(t,n.onScrollButtonChange);return Dl(()=>{if(r.viewport&&r.isPositioned){let p=function(){const f=a.scrollHeight-a.clientHeight,g=Math.ceil(a.scrollTop)<f;s(g)};const a=r.viewport;return p(),a.addEventListener("scroll",p),()=>a.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),i?R.createElement(mle,Qn({},e,{ref:l,onAutoScroll:()=>{const{viewport:a,selectedItem:p}=r;a&&p&&(a.scrollTop=a.scrollTop+p.offsetHeight)}})):null}),mle=R.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,s=e0("SelectScrollButton",r),l=R.useRef(null),a=US(r),p=R.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return R.useEffect(()=>()=>p(),[p]),Dl(()=>{var f;const g=a().find(v=>v.ref.current===document.activeElement);g==null||(f=g.ref.current)===null||f===void 0||f.scrollIntoView({block:"nearest"})},[a]),R.createElement(po.div,Qn({"aria-hidden":!0},i,{ref:t,style:{flexShrink:0,...i.style},onPointerDown:Xa(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:Xa(i.onPointerMove,()=>{var f;(f=s.onItemLeave)===null||f===void 0||f.call(s),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:Xa(i.onPointerLeave,()=>{p()})}))}),RBe=R.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return R.createElement(po.div,Qn({"aria-hidden":!0},n,{ref:t}))}),gle=R.forwardRef((e,t)=>{const{value:r,...n}=e,i=R.useRef(null),s=Wo(t,i),l=$Oe(r);return R.useEffect(()=>{const a=i.current,p=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(p,"value").set;if(l!==r&&g){const v=new Event("change",{bubbles:!0});g.call(a,r),a.dispatchEvent(v)}},[l,r]),R.createElement(KOe,{asChild:!0},R.createElement("select",Qn({},n,{ref:s,defaultValue:r})))});gle.displayName="BubbleSelect";function yle(e){const t=Ld(e),r=R.useRef(""),n=R.useRef(0),i=R.useCallback(l=>{const a=r.current+l;t(a),function p(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>p(""),1e3))}(a)},[t]),s=R.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return R.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function vle(e,t,r){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let l=NBe(e,Math.max(s,0));i.length===1&&(l=l.filter(f=>f!==r));const p=l.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return p!==r?p:void 0}function NBe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}const LBe=dBe,_le=hBe,OBe=mBe,BBe=gBe,FBe=yBe,ble=vBe,jBe=wBe,xle=TBe,wle=PBe,VBe=kBe,UBe=CBe,Sle=DBe,Ele=zBe,Ale=RBe,WBe=LBe,$Be=OBe,Tle=R.forwardRef(({className:e,children:t,...r},n)=>B.jsxs(_le,{ref:n,className:yr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,B.jsx(BBe,{asChild:!0,children:B.jsx(p9,{className:"h-4 w-4 opacity-50"})})]}));Tle.displayName=_le.displayName;const Mle=R.forwardRef(({className:e,...t},r)=>B.jsx(Sle,{ref:r,className:yr("flex cursor-default items-center justify-center py-1",e),...t,children:B.jsx(Rme,{className:"h-4 w-4"})}));Mle.displayName=Sle.displayName;const Ple=R.forwardRef(({className:e,...t},r)=>B.jsx(Ele,{ref:r,className:yr("flex cursor-default items-center justify-center py-1",e),...t,children:B.jsx(p9,{className:"h-4 w-4"})}));Ple.displayName=Ele.displayName;const kle=R.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>B.jsx(FBe,{children:B.jsxs(ble,{ref:i,className:yr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[B.jsx(Mle,{}),B.jsx(jBe,{className:yr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),B.jsx(Ple,{})]})}));kle.displayName=ble.displayName;const KBe=R.forwardRef(({className:e,...t},r)=>B.jsx(xle,{ref:r,className:yr("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));KBe.displayName=xle.displayName;const Tg=R.forwardRef(({className:e,children:t,...r},n)=>B.jsxs(wle,{ref:n,className:yr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[B.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:B.jsx(UBe,{children:B.jsx(Sm,{className:"h-4 w-4"})})}),B.jsx(VBe,{children:t})]}));Tg.displayName=wle.displayName;const qBe=R.forwardRef(({className:e,...t},r)=>B.jsx(Ale,{ref:r,className:yr("-mx-1 my-1 h-px bg-muted",e),...t}));qBe.displayName=Ale.displayName;function Ile(e,[t,r]){return Math.min(r,Math.max(t,e))}var GBe=R.createContext(void 0);function WS(e){const t=R.useContext(GBe);return e||t||"ltr"}function HBe(e){const t=R.useRef({value:e,previous:e});return R.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Cle=["PageUp","PageDown"],Dle=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zle={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},L2="Slider",[xI,ZBe,YBe]=l9(L2),[Rle,kUe]=nl(L2,[YBe]),[XBe,$S]=Rle(L2),Nle=R.forwardRef((e,t)=>{const{name:r,min:n=0,max:i=100,step:s=1,orientation:l="horizontal",disabled:a=!1,minStepsBetweenThumbs:p=0,defaultValue:f=[n],value:g,onValueChange:v=()=>{},onValueCommit:_=()=>{},inverted:T=!1,form:z,...I}=e,k=R.useRef(new Set),C=R.useRef(0),N=l==="horizontal"?QBe:JBe,[$=[],ee]=Uh({prop:g,defaultProp:f,onChange:et=>{var ye;(ye=[...k.current][C.current])==null||ye.focus(),v(et)}}),re=R.useRef($);function ne(et){const Ke=iFe($,et);Ze(et,Ke)}function ie(et){Ze(et,C.current)}function me(){const et=re.current[C.current];$[C.current]!==et&&_($)}function Ze(et,Ke,{commit:ye}={commit:!1}){const j=lFe(s),Z=cFe(Math.round((et-n)/s)*s+n,j),oe=Ile(Z,[n,i]);ee((le=[])=>{const Q=rFe(le,oe,Ke);if(sFe(Q,p*s)){C.current=Q.indexOf(oe);const ce=String(Q)!==String(le);return ce&&ye&&_(Q),ce?Q:le}else return le})}return B.jsx(XBe,{scope:e.__scopeSlider,name:r,disabled:a,min:n,max:i,valueIndexToChangeRef:C,thumbs:k.current,values:$,orientation:l,form:z,children:B.jsx(xI.Provider,{scope:e.__scopeSlider,children:B.jsx(xI.Slot,{scope:e.__scopeSlider,children:B.jsx(N,{"aria-disabled":a,"data-disabled":a?"":void 0,...I,ref:t,onPointerDown:Er(I.onPointerDown,()=>{a||(re.current=$)}),min:n,max:i,inverted:T,onSlideStart:a?void 0:ne,onSlideMove:a?void 0:ie,onSlideEnd:a?void 0:me,onHomeKeyDown:()=>!a&&Ze(n,0,{commit:!0}),onEndKeyDown:()=>!a&&Ze(i,$.length-1,{commit:!0}),onStepKeyDown:({event:et,direction:Ke})=>{if(!a){const Z=Cle.includes(et.key)||et.shiftKey&&Dle.includes(et.key)?10:1,oe=C.current,le=$[oe],Q=s*Z*Ke;Ze(le+Q,oe,{commit:!0})}}})})})})});Nle.displayName=L2;var[Lle,Ole]=Rle(L2,{startEdge:"left",endEdge:"right",size:"width",direction:1}),QBe=R.forwardRef((e,t)=>{const{min:r,max:n,dir:i,inverted:s,onSlideStart:l,onSlideMove:a,onSlideEnd:p,onStepKeyDown:f,...g}=e,[v,_]=R.useState(null),T=ri(t,N=>_(N)),z=R.useRef(void 0),I=WS(i),k=I==="ltr",C=k&&!s||!k&&s;function L(N){const $=z.current||v.getBoundingClientRect(),ee=[0,$.width],ne=TB(ee,C?[r,n]:[n,r]);return z.current=$,ne(N-$.left)}return B.jsx(Lle,{scope:e.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:B.jsx(Ble,{dir:I,"data-orientation":"horizontal",...g,ref:T,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const $=L(N.clientX);l==null||l($)},onSlideMove:N=>{const $=L(N.clientX);a==null||a($)},onSlideEnd:()=>{z.current=void 0,p==null||p()},onStepKeyDown:N=>{const ee=zle[C?"from-left":"from-right"].includes(N.key);f==null||f({event:N,direction:ee?-1:1})}})})}),JBe=R.forwardRef((e,t)=>{const{min:r,max:n,inverted:i,onSlideStart:s,onSlideMove:l,onSlideEnd:a,onStepKeyDown:p,...f}=e,g=R.useRef(null),v=ri(t,g),_=R.useRef(void 0),T=!i;function z(I){const k=_.current||g.current.getBoundingClientRect(),C=[0,k.height],N=TB(C,T?[n,r]:[r,n]);return _.current=k,N(I-k.top)}return B.jsx(Lle,{scope:e.__scopeSlider,startEdge:T?"bottom":"top",endEdge:T?"top":"bottom",size:"height",direction:T?1:-1,children:B.jsx(Ble,{"data-orientation":"vertical",...f,ref:v,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:I=>{const k=z(I.clientY);s==null||s(k)},onSlideMove:I=>{const k=z(I.clientY);l==null||l(k)},onSlideEnd:()=>{_.current=void 0,a==null||a()},onStepKeyDown:I=>{const C=zle[T?"from-bottom":"from-top"].includes(I.key);p==null||p({event:I,direction:C?-1:1})}})})}),Ble=R.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:l,onEndKeyDown:a,onStepKeyDown:p,...f}=e,g=$S(L2,r);return B.jsx(on.span,{...f,ref:t,onKeyDown:Er(e.onKeyDown,v=>{v.key==="Home"?(l(v),v.preventDefault()):v.key==="End"?(a(v),v.preventDefault()):Cle.concat(Dle).includes(v.key)&&(p(v),v.preventDefault())}),onPointerDown:Er(e.onPointerDown,v=>{const _=v.target;_.setPointerCapture(v.pointerId),v.preventDefault(),g.thumbs.has(_)?_.focus():n(v)}),onPointerMove:Er(e.onPointerMove,v=>{v.target.hasPointerCapture(v.pointerId)&&i(v)}),onPointerUp:Er(e.onPointerUp,v=>{const _=v.target;_.hasPointerCapture(v.pointerId)&&(_.releasePointerCapture(v.pointerId),s(v))})})}),Fle="SliderTrack",jle=R.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=$S(Fle,r);return B.jsx(on.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});jle.displayName=Fle;var wI="SliderRange",Vle=R.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=$S(wI,r),s=Ole(wI,r),l=R.useRef(null),a=ri(t,l),p=i.values.length,f=i.values.map(_=>$le(_,i.min,i.max)),g=p>1?Math.min(...f):0,v=100-Math.max(...f);return B.jsx(on.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:a,style:{...e.style,[s.startEdge]:g+"%",[s.endEdge]:v+"%"}})});Vle.displayName=wI;var SI="SliderThumb",Ule=R.forwardRef((e,t)=>{const r=ZBe(e.__scopeSlider),[n,i]=R.useState(null),s=ri(t,a=>i(a)),l=R.useMemo(()=>n?r().findIndex(a=>a.ref.current===n):-1,[r,n]);return B.jsx(eFe,{...e,ref:s,index:l})}),eFe=R.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:i,...s}=e,l=$S(SI,r),a=Ole(SI,r),[p,f]=R.useState(null),g=ri(t,L=>f(L)),v=p?l.form||!!p.closest("form"):!0,_=bQ(p),T=l.values[n],z=T===void 0?0:$le(T,l.min,l.max),I=nFe(n,l.values.length),k=_==null?void 0:_[a.size],C=k?aFe(k,z,a.direction):0;return R.useEffect(()=>{if(p)return l.thumbs.add(p),()=>{l.thumbs.delete(p)}},[p,l.thumbs]),B.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${z}% + ${C}px)`},children:[B.jsx(xI.ItemSlot,{scope:e.__scopeSlider,children:B.jsx(on.span,{role:"slider","aria-label":e["aria-label"]||I,"aria-valuemin":l.min,"aria-valuenow":T,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...s,ref:g,style:T===void 0?{display:"none"}:e.style,onFocus:Er(e.onFocus,()=>{l.valueIndexToChangeRef.current=n})})}),v&&B.jsx(Wle,{name:i??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:T},n)]})});Ule.displayName=SI;var tFe="RadioBubbleInput",Wle=R.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const i=R.useRef(null),s=ri(i,n),l=HBe(t);return R.useEffect(()=>{const a=i.current;if(!a)return;const p=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(p,"value").set;if(l!==t&&g){const v=new Event("input",{bubbles:!0});g.call(a,t),a.dispatchEvent(v)}},[l,t]),B.jsx(on.input,{style:{display:"none"},...r,ref:s,defaultValue:t})});Wle.displayName=tFe;function rFe(e=[],t,r){const n=[...e];return n[r]=t,n.sort((i,s)=>i-s)}function $le(e,t,r){const s=100/(r-t)*(e-t);return Ile(s,[0,100])}function nFe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function iFe(e,t){if(e.length===1)return 0;const r=e.map(i=>Math.abs(i-t)),n=Math.min(...r);return r.indexOf(n)}function aFe(e,t,r){const n=e/2,s=TB([0,50],[0,n]);return(n-s(t)*r)*r}function oFe(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function sFe(e,t){if(t>0){const r=oFe(e);return Math.min(...r)>=t}return!0}function TB(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function lFe(e){return(String(e).split(".")[1]||"").length}function cFe(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Kle=Nle,uFe=jle,dFe=Vle,pFe=Ule;const qle=R.forwardRef(({className:e,...t},r)=>B.jsxs(Kle,{ref:r,className:yr("relative flex w-full touch-none select-none items-center",e),...t,children:[B.jsx(uFe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:B.jsx(dFe,{className:"absolute h-full bg-primary"})}),B.jsx(pFe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));qle.displayName=Kle.displayName;const hFe={common:"bg-gray-100 text-gray-800 border-gray-200",rare:"bg-blue-100 text-blue-800 border-blue-200",epic:"bg-purple-100 text-purple-800 border-purple-200",legendary:"bg-amber-100 text-amber-800 border-amber-200"};function fFe(){const{nfts:e,loading:t,setSelectedNFT:r,refreshNFTs:n,userLocation:i,watchUserLocation:s}=H4(),[l,a]=R.useState("all"),[p,f]=R.useState(5),[g,v]=R.useState(null),[_,T]=R.useState(!1),z=l2(),I=R.useRef(null);R.useEffect(()=>{s()},[]);const k=()=>i?e.map(ne=>{const ie=C(i.lat,i.lng,ne.location.lat,ne.location.lng);return{...ne,distance:ie}}):e,C=(ne,ie,me,Ze)=>{const Ke=(me-ne)*Math.PI/180,ye=(Ze-ie)*Math.PI/180,j=Math.sin(Ke/2)*Math.sin(Ke/2)+Math.cos(ne*Math.PI/180)*Math.cos(me*Math.PI/180)*Math.sin(ye/2)*Math.sin(ye/2),oe=6371*(2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j)));return Number(oe.toFixed(1))},L=k().filter(ne=>{let ie=!0,me=!0;return l&&l!=="all"&&(ie=ne.category===l),p&&ne.distance&&(me=ne.distance<=p),ie&&me}).sort((ne,ie)=>(ne.distance||0)-(ie.distance||0)),N=ne=>{const ie=e.find(me=>me.id===ne);ie&&(r(ie),z(`/nft/${ne}`))},$=ne=>{z(`/map?nft=${ne}`)},ee=ne=>hFe[ne]||"bg-gray-100 text-gray-800 border-gray-200",re=ne=>{g===ne?v(null):(v(ne),setTimeout(()=>{const ie=document.getElementById(`nft-card-${ne}`);ie&&I.current&&ie.scrollIntoView({behavior:"smooth",block:"center"})},100))};return B.jsxs("div",{className:"space-y-6",ref:I,children:[B.jsxs(Gr.div,{className:"flex justify-between items-center mb-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"Explore NFTs"}),!i&&B.jsxs("div",{className:"flex items-center text-sm text-amber-600 bg-amber-50 px-2 py-1 rounded-full",children:[B.jsx(VX,{className:"h-3 w-3 animate-spin mr-1"}),"Getting location..."]})]}),B.jsx("div",{className:"flex space-x-2",children:B.jsxs(jO,{open:_,onOpenChange:T,children:[B.jsx(soe,{asChild:!0,children:B.jsxs(Xn,{variant:"outline",size:"icon",className:"relative overflow-hidden group",children:[B.jsx(Ome,{className:"h-4 w-4 transition-transform group-hover:scale-110"}),B.jsx("span",{className:"absolute inset-0 bg-amber-100 opacity-0 group-hover:opacity-20 transition-opacity"})]})}),B.jsxs(zS,{className:"border-l-amber-200",children:[B.jsxs(VO,{children:[B.jsx(UO,{className:"text-amber-800",children:"Filter NFTs"}),B.jsx(WO,{children:"Customize your NFT exploration experience"})]}),B.jsxs(Gr.div,{className:"space-y-6 py-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"text-sm font-medium text-amber-800",children:"Category"}),B.jsxs(WBe,{value:l,onValueChange:a,children:[B.jsx(Tle,{className:"border-amber-200 focus:ring-amber-400",children:B.jsx($Be,{placeholder:"Select a category"})}),B.jsxs(kle,{children:[B.jsx(Tg,{value:"all",children:"All Categories"}),B.jsx(Tg,{value:"common",children:"Common"}),B.jsx(Tg,{value:"rare",children:"Rare"}),B.jsx(Tg,{value:"epic",children:"Epic"}),B.jsx(Tg,{value:"legendary",children:"Legendary"})]})]})]}),B.jsxs("div",{className:"space-y-2",children:[B.jsxs("div",{className:"flex justify-between",children:[B.jsx("label",{className:"text-sm font-medium text-amber-800",children:"Max Distance"}),B.jsxs("span",{className:"text-sm text-amber-600",children:[p," km"]})]}),B.jsx(qle,{value:[p],min:.5,max:10,step:.5,onValueChange:ne=>f(ne[0]),className:"[&>span]:bg-amber-400"})]}),B.jsx(qCe,{asChild:!0,children:B.jsx(Xn,{className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600",children:"Apply Filters"})})]})]})]})})]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[B.jsx(Zv,{children:L.map(ne=>{const ie=g===ne.id;return B.jsx(Gr.div,{id:`nft-card-${ne.id}`,layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1,zIndex:ie?10:1},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:300,damping:30,layout:{duration:.3}},className:`${ie?"md:col-span-2 lg:col-span-3 relative z-10":""}`,children:B.jsxs(jo,{className:`overflow-hidden transition-all duration-300 hover:shadow-xl ${ie?"shadow-2xl":"hover:shadow-amber-100 cursor-pointer"}`,onClick:()=>!ie&&re(ne.id),children:[B.jsxs("div",{className:"relative",children:[B.jsx("div",{className:`bg-cover bg-center transition-all duration-500 ${ie?"h-64":"h-48"}`,style:{backgroundImage:ne.imageUrl?`url(${ne.imageUrl})`:"",backgroundPosition:"center 30%"},children:B.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})}),B.jsx("div",{className:"absolute top-3 right-3",children:B.jsx(Um,{className:`${ee(ne.category)} border shadow-sm`,children:ne.category})}),ie&&B.jsx(Xn,{size:"icon",variant:"secondary",className:"absolute top-3 left-3 bg-black/30 hover:bg-black/50 text-white border-none",onClick:me=>{me.stopPropagation(),re(ne.id)},children:B.jsx(TC,{className:"h-4 w-4"})}),B.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[B.jsx("h3",{className:"font-bold text-lg drop-shadow-md",children:ne.name}),B.jsxs("div",{className:"flex items-center text-white/90 text-sm",children:[B.jsx(Ed,{className:"h-3 w-3 mr-1"}),B.jsx("span",{children:ne.shopName})]})]})]}),B.jsx(Zv,{children:ie&&B.jsxs(Gr.div,{className:"p-4 space-y-4",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[B.jsx("p",{className:"text-gray-600",children:ne.description}),B.jsxs("div",{className:"flex items-center text-amber-600 text-sm font-medium",children:[B.jsx(Ed,{className:"h-4 w-4 mr-1"}),ne.distance?`${ne.distance} km away`:"Getting location..."]}),B.jsxs("div",{className:"flex space-x-3 pt-2",children:[B.jsxs(Xn,{className:"flex-1 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 gap-2",onClick:me=>{me.stopPropagation(),N(ne.id)},children:[B.jsx(jX,{className:"h-4 w-4"}),"View Details"]}),B.jsxs(Xn,{variant:"outline",className:"flex-1 border-amber-200 text-amber-700 hover:bg-amber-50 gap-2",onClick:me=>{me.stopPropagation(),$(ne.id)},children:[B.jsx(hx,{className:"h-4 w-4"}),"Navigate"]})]})]})}),!ie&&B.jsxs("div",{className:"p-3 flex justify-between items-center",children:[B.jsxs("div",{className:"flex items-center text-amber-600 text-sm",children:[B.jsx(Ed,{className:"h-3 w-3 mr-1"}),ne.distance?`${ne.distance} km away`:"..."]}),B.jsx("div",{className:"text-xs text-gray-500",children:"Tap to view"})]})]})},ne.id)})}),L.length===0&&B.jsxs(Gr.div,{className:"col-span-full flex flex-col items-center justify-center py-10 text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[B.jsx("div",{className:"rounded-full bg-amber-100 p-5 mb-4",children:B.jsx(Nm,{className:"h-8 w-8 text-amber-600"})}),B.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No NFTs Found"}),B.jsx("p",{className:"text-gray-500 max-w-md mt-2",children:"Try adjusting your filters or explore different areas to find NFTs."})]})]}),g&&B.jsx(Gr.div,{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-0",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>v(null)}),B.jsx(Gr.div,{className:"text-center text-amber-600 text-sm py-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:t?"Loading NFTs...":"Pull down to refresh"})]})}const mFe={common:"bg-gray-100 text-gray-800 border-gray-200",rare:"bg-blue-100 text-blue-800 border-blue-200",epic:"bg-purple-100 text-purple-800 border-purple-200",legendary:"bg-amber-100 text-amber-800 border-amber-200"};function gFe(){const{nftId:e}=zve(),{nfts:t,selectedNFT:r,setSelectedNFT:n}=H4(),i=l2();R.useEffect(()=>{if(!r&&e){const a=t.find(p=>p.id===e);a?(r==null?void 0:r.id)!==a.id&&n(a):i("/explore")}},[e,t,i]);const s=()=>{i(`/map?nft=${(r==null?void 0:r.id)||e}`)};if(!r)return B.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:B.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-amber-500"})});const l=a=>mFe[a]||"bg-gray-100 text-gray-800 border-gray-200";return B.jsxs("div",{className:"space-y-6",children:[B.jsxs(Gr.div,{className:"flex items-center space-x-2 mb-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:[B.jsxs(Xn,{variant:"ghost",size:"sm",onClick:()=>i(-1),className:"group text-amber-700 hover:text-amber-800 hover:bg-amber-50",children:[B.jsx(Dme,{className:"h-4 w-4 mr-1 transition-transform group-hover:-translate-x-1"}),"Back"]}),B.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"NFT Details"})]}),B.jsx(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:B.jsxs(jo,{className:"overflow-hidden border-none shadow-xl",children:[B.jsxs("div",{className:"relative",children:[B.jsx(Gr.div,{className:"h-72 w-full bg-cover bg-center",style:{backgroundImage:r.imageUrl?`url(${r.imageUrl})`:""},initial:{scale:1.1,opacity:.8},animate:{scale:1,opacity:1},transition:{duration:.7},children:B.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/20"})}),B.jsx("div",{className:"absolute top-4 right-4",children:B.jsx(Um,{className:`${l(r.category)} shadow-md`,children:r.category})}),B.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[B.jsx(Gr.h2,{className:"text-3xl font-bold mb-2 drop-shadow-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:r.name}),B.jsxs(Gr.div,{className:"flex items-center text-white/90",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[B.jsx(Ed,{className:"h-4 w-4 mr-1"}),B.jsx("span",{className:"font-medium",children:r.shopName}),r.distance&&B.jsxs("span",{className:"ml-2 text-white/70",children:["(",r.distance," km away)"]})]})]})]}),B.jsxs("div",{className:"p-6 space-y-6 bg-white",children:[B.jsx(Gr.p,{className:"text-gray-700 leading-relaxed",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5},children:r.description}),B.jsxs(Gr.div,{className:"pt-4 flex space-x-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:[B.jsxs(Xn,{className:"flex-1 gap-2 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 shadow-md hover:shadow-lg transition-all",onClick:s,children:[B.jsx(hx,{className:"h-4 w-4"}),"Find This NFT"]}),B.jsx(Xn,{variant:"outline",size:"icon",className:"border-amber-200 text-amber-700 hover:bg-amber-50",children:B.jsx(UX,{className:"h-4 w-4"})})]})]})]})}),B.jsxs(Gr.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},children:[B.jsx("h3",{className:"text-lg font-semibold text-amber-800",children:"Rewards for collecting this NFT"}),B.jsx(jo,{className:"p-5 border-amber-100 hover:shadow-md transition-all",children:B.jsxs(Gr.div,{className:"flex items-center space-x-4",whileHover:{x:5},transition:{type:"spring",stiffness:400,damping:10},children:[B.jsx("div",{className:"bg-gradient-to-br from-amber-100 to-orange-100 p-3 rounded-full",children:B.jsx(pd,{className:"h-6 w-6 text-amber-600"})}),B.jsxs("div",{className:"flex-1",children:[B.jsx("h4",{className:"font-medium text-gray-900",children:"Special Discount"}),B.jsxs("p",{className:"text-gray-500",children:["10% off your next purchase at ",r.shopName]})]}),B.jsx(jX,{className:"h-4 w-4 text-amber-400"})]})})]}),B.jsxs(Gr.div,{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-5 text-center shadow-inner",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},children:[B.jsxs("div",{className:"flex items-center justify-center mb-3",children:[B.jsx(Nm,{className:"h-5 w-5 text-amber-600 mr-2"}),B.jsx("p",{className:"text-amber-800 font-medium",children:"Claim Instructions"})]}),B.jsxs("p",{className:"text-amber-700",children:["Visit ",B.jsx("span",{className:"font-semibold",children:r.shopName})," ","and scan the QR code to claim this NFT"]})]})]})}class Gle extends Q9{constructor(r,n){super(r,"plugin","Wallet Adapters",n);nn(this,"name","WalletAdaptersError")}}class yFe extends Gle{constructor(){super('The current wallet adapter is not initialized. You likely have selected a wallet adapter but forgot to initialize it. You may do this by running the following asynchronous method: "wallet.connect();".');nn(this,"name","UninitializedWalletAdapterError")}}class PM extends Gle{constructor(r){const n=`The current wallet adapter does not support the following operation: [${r}]. Ensure your wallet is connected using a compatible wallet adapter.`;super(n);nn(this,"name","OperationNotSupportedByWalletAdapterError")}}const vFe=e=>({get publicKey(){if(!e.publicKey)throw new yFe;return Hp(e.publicKey)},async signMessage(t){if(e.signMessage===void 0)throw new PM("signMessage");return e.signMessage(t)},async signTransaction(t){if(e.signTransaction===void 0)throw new PM("signTransaction");return W$(await e.signTransaction(Hk(t)))},async signAllTransactions(t){if(e.signAllTransactions===void 0)throw new PM("signAllTransactions");const r=t.map(Hk);return(await e.signAllTransactions(r)).map(W$)}}),_Fe=(e,t=!0)=>({install(r){const n=vFe(e);r.use(nS(n,t))}}),bFe=R.createContext(null);function xFe(e,t){const r=Array.isArray(e)?e[0]:e?e.x:0,n=Array.isArray(e)?e[1]:e?e.y:0,i=Array.isArray(t)?t[0]:t?t.x:0,s=Array.isArray(t)?t[1]:t?t.y:0;return r===i&&n===s}function Zs(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Zs(e[r],t[r]))return!1;return!0}else if(Array.isArray(t))return!1;if(typeof e=="object"&&typeof t=="object"){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r)if(!t.hasOwnProperty(i)||!Zs(e[i],t[i]))return!1;return!0}return!1}function wFe(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}function VH(e,t){if(!e.getProjection)return;const r=e.getProjection(),n=t.getProjection();Zs(r,n)||t.setProjection(r)}function UH(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function WH(e,t){const r=t.viewState||t;let n=!1;if("zoom"in r){const i=e.zoom;e.zoom=r.zoom,n=n||i!==e.zoom}if("bearing"in r){const i=e.bearing;e.bearing=r.bearing,n=n||i!==e.bearing}if("pitch"in r){const i=e.pitch;e.pitch=r.pitch,n=n||i!==e.pitch}if(r.padding&&!e.isPaddingEqual(r.padding)&&(n=!0,e.padding=r.padding),"longitude"in r&&"latitude"in r){const i=e.center;e.center=new i.constructor(r.longitude,r.latitude),n=n||i!==e.center}return n}const SFe=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function $H(e){if(!e)return null;if(typeof e=="string"||("toJS"in e&&(e=e.toJS()),!e.layers))return e;const t={};for(const n of e.layers)t[n.id]=n;const r=e.layers.map(n=>{let i=null;"interactive"in n&&(i=Object.assign({},n),delete i.interactive);const s=t[n.ref];if(s){i=i||Object.assign({},n),delete i.ref;for(const l of SFe)l in s&&(i[l]=s[l])}return i||n});return{...e,layers:r}}const KH={version:8,sources:{},layers:[]},qH={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},kM={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},GH={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},EFe=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],AFe=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class Qv{constructor(t,r,n){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=i=>{const s=this.props[GH[i.type]];s?s(i):i.type==="error"&&console.error(i.error)},this._onPointerEvent=i=>{(i.type==="mousemove"||i.type==="mouseout")&&this._updateHover(i);const s=this.props[qH[i.type]];s&&(this.props.interactiveLayerIds&&i.type!=="mouseover"&&i.type!=="mouseout"&&(i.features=this._hoveredFeatures||this._queryRenderedFeatures(i.point)),s(i),delete i.features)},this._onCameraEvent=i=>{if(!this._internalUpdate){const s=this.props[kM[i.type]];s&&s(i)}i.type in this._deferredEvents&&(this._deferredEvents[i.type]=!1)},this._MapClass=t,this.props=r,this._initialize(n)}get map(){return this._map}get transform(){return this._renderTransform}setProps(t){const r=this.props;this.props=t;const n=this._updateSettings(t,r);n&&this._createShadowTransform(this._map);const i=this._updateSize(t),s=this._updateViewState(t,!0);this._updateStyle(t,r),this._updateStyleComponents(t,r),this._updateHandlers(t,r),(n||i||s&&!this._map.isMoving())&&this.redraw()}static reuse(t,r){const n=Qv.savedMaps.pop();if(!n)return null;const i=n.map,s=i.getContainer();for(r.className=s.className;s.childNodes.length>0;)r.appendChild(s.childNodes[0]);i._container=r;const l=i._resizeObserver;l&&(l.disconnect(),l.observe(r)),n.setProps({...t,styleDiffing:!1}),i.resize();const{initialViewState:a}=t;return a&&(a.bounds?i.fitBounds(a.bounds,{...a.fitBoundsOptions,duration:0}):n._updateViewState(a,!1)),i.isStyleLoaded()?i.fire("load"):i.once("styledata",()=>i.fire("load")),i._update(),n}_initialize(t){const{props:r}=this,{mapStyle:n=KH}=r,i={...r,...r.initialViewState,accessToken:r.mapboxAccessToken||TFe()||null,container:t,style:$H(n)},s=i.initialViewState||i.viewState||i;if(Object.assign(i,{center:[s.longitude||0,s.latitude||0],zoom:s.zoom||0,pitch:s.pitch||0,bearing:s.bearing||0}),r.gl){const g=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=g,r.gl)}const l=new this._MapClass(i);s.padding&&l.setPadding(s.padding),r.cursor&&(l.getCanvas().style.cursor=r.cursor),this._createShadowTransform(l);const a=l._render;l._render=g=>{this._inRender=!0,a.call(l,g),this._inRender=!1};const p=l._renderTaskQueue.run;l._renderTaskQueue.run=g=>{p.call(l._renderTaskQueue,g),this._onBeforeRepaint()},l.on("render",()=>this._onAfterRepaint());const f=l.fire;l.fire=this._fireEvent.bind(this,f),l.on("resize",()=>{this._renderTransform.resize(l.transform.width,l.transform.height)}),l.on("styledata",()=>{this._updateStyleComponents(this.props,{}),VH(l.transform,this._renderTransform)}),l.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const g in qH)l.on(g,this._onPointerEvent);for(const g in kM)l.on(g,this._onCameraEvent);for(const g in GH)l.on(g,this._onEvent);this._map=l}recycle(){const r=this.map.getContainer().querySelector("[mapboxgl-children]");r==null||r.remove(),Qv.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const t=this._map;!this._inRender&&t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}_createShadowTransform(t){const r=wFe(t.transform);t.painter.transform=r,this._renderTransform=r}_updateSize(t){const{viewState:r}=t;if(r){const n=this._map;if(r.width!==n.transform.width||r.height!==n.transform.height)return n.resize(),!0}return!1}_updateViewState(t,r){if(this._internalUpdate)return!1;const n=this._map,i=this._renderTransform,{zoom:s,pitch:l,bearing:a}=i,p=n.isMoving();p&&(i.cameraElevationReference="sea");const f=WH(i,{...UH(n.transform),...t});if(p&&(i.cameraElevationReference="ground"),f&&r){const g=this._deferredEvents;g.move=!0,g.zoom||(g.zoom=s!==i.zoom),g.rotate||(g.rotate=a!==i.bearing),g.pitch||(g.pitch=l!==i.pitch)}return p||WH(n.transform,t),f}_updateSettings(t,r){const n=this._map;let i=!1;for(const s of EFe)if(s in t&&!Zs(t[s],r[s])){i=!0;const l=n[`set${s[0].toUpperCase()}${s.slice(1)}`];l==null||l.call(n,t[s])}return i}_updateStyle(t,r){if(t.cursor!==r.cursor&&(this._map.getCanvas().style.cursor=t.cursor||""),t.mapStyle!==r.mapStyle){const{mapStyle:n=KH,styleDiffing:i=!0}=t,s={diff:i};return"localIdeographFontFamily"in t&&(s.localIdeographFontFamily=t.localIdeographFontFamily),this._map.setStyle($H(n),s),!0}return!1}_updateStyleComponents(t,r){const n=this._map;let i=!1;return n.isStyleLoaded()&&("light"in t&&n.setLight&&!Zs(t.light,r.light)&&(i=!0,n.setLight(t.light)),"fog"in t&&n.setFog&&!Zs(t.fog,r.fog)&&(i=!0,n.setFog(t.fog)),"terrain"in t&&n.setTerrain&&!Zs(t.terrain,r.terrain)&&(!t.terrain||n.getSource(t.terrain.source))&&(i=!0,n.setTerrain(t.terrain))),i}_updateHandlers(t,r){var n,i;const s=this._map;let l=!1;for(const a of AFe){const p=(n=t[a])!==null&&n!==void 0?n:!0,f=(i=r[a])!==null&&i!==void 0?i:!0;Zs(p,f)||(l=!0,p?s[a].enable(p):s[a].disable())}return l}_queryRenderedFeatures(t){const r=this._map,n=r.transform,{interactiveLayerIds:i=[]}=this.props;try{return r.transform=this._renderTransform,r.queryRenderedFeatures(t,{layers:i.filter(r.getLayer.bind(r))})}catch{return[]}finally{r.transform=n}}_updateHover(t){var r;const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const s=t.type,l=((r=this._hoveredFeatures)===null||r===void 0?void 0:r.length)>0,a=this._queryRenderedFeatures(t.point),p=a.length>0;!p&&l&&(t.type="mouseleave",this._onPointerEvent(t)),this._hoveredFeatures=a,p&&!l&&(t.type="mouseenter",this._onPointerEvent(t)),t.type=s}else this._hoveredFeatures=null}_fireEvent(t,r,n){const i=this._map,s=i.transform,l=typeof r=="string"?r:r.type;return l==="move"&&this._updateViewState(this.props,!1),l in kM&&(typeof r=="object"&&(r.viewState=UH(s)),this._map.isMoving())?(i.transform=this._renderTransform,t.call(i,r,n),i.transform=s,i):(t.call(i,r,n),i)}_onBeforeRepaint(){const t=this._map;this._internalUpdate=!0;for(const n in this._deferredEvents)this._deferredEvents[n]&&t.fire(n);this._internalUpdate=!1;const r=this._map.transform;t.transform=this._renderTransform,this._onAfterRepaint=()=>{VH(this._renderTransform,r),t.transform=r}}}Qv.savedMaps=[];function TFe(){let e=null;if(typeof location<"u"){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||{}.MapboxAccessToken}catch{}try{e=e||{}.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return e}const MFe=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function PFe(e){if(!e)return null;const t=e.map,r={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:n=>{const i=t.transform;t.transform=e.transform;const s=t.project(n);return t.transform=i,s},unproject:n=>{const i=t.transform;t.transform=e.transform;const s=t.unproject(n);return t.transform=i,s},queryTerrainElevation:(n,i)=>{const s=t.transform;t.transform=e.transform;const l=t.queryTerrainElevation(n,i);return t.transform=s,l},queryRenderedFeatures:(n,i)=>{const s=t.transform;t.transform=e.transform;const l=t.queryRenderedFeatures(n,i);return t.transform=s,l}};for(const n of kFe(t))!(n in r)&&!MFe.includes(n)&&(r[n]=t[n].bind(t));return r}function kFe(e){const t=new Set;let r=e;for(;r;){for(const n of Object.getOwnPropertyNames(r))n[0]!=="_"&&typeof e[n]=="function"&&n!=="fire"&&n!=="setEventedParent"&&t.add(n);r=Object.getPrototypeOf(r)}return Array.from(t)}const IFe=typeof document<"u"?R.useLayoutEffect:R.useEffect,CFe=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function DFe(e,t){for(const n of CFe)n in t&&(e[n]=t[n]);const{RTLTextPlugin:r="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=t;r&&e.getRTLTextPluginStatus&&e.getRTLTextPluginStatus()==="unavailable"&&e.setRTLTextPlugin(r,n=>{n&&console.error(n)},!0)}const O2=R.createContext(null);function zFe(e,t,r){const n=R.useContext(bFe),[i,s]=R.useState(null),l=R.useRef(),{current:a}=R.useRef({mapLib:null,map:null});R.useEffect(()=>{const g=e.mapLib;let v=!0,_;return Promise.resolve(g||r).then(T=>{if(!v)return;if(!T)throw new Error("Invalid mapLib");const z="Map"in T?T:T.default;if(!z.Map)throw new Error("Invalid mapLib");if(DFe(z,e),!z.supported||z.supported(e))e.reuseMaps&&(_=Qv.reuse(e,l.current)),_||(_=new Qv(z.Map,e,l.current)),a.map=PFe(_),a.mapLib=z,s(_),n==null||n.onMapMount(a.map,e.id);else throw new Error("Map is not supported by this browser")}).catch(T=>{const{onError:z}=e;z?z({type:"error",target:null,originalEvent:null,error:T}):console.error(T)}),()=>{v=!1,_&&(n==null||n.onMapUnmount(e.id),e.reuseMaps?_.recycle():_.destroy())}},[]),IFe(()=>{i&&i.setProps(e)}),R.useImperativeHandle(t,()=>a.map,[i]);const p=R.useMemo(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]),f={height:"100%"};return R.createElement("div",{id:e.id,ref:l,style:p},i&&R.createElement(O2.Provider,{value:a},R.createElement("div",{"mapboxgl-children":"",style:f},e.children)))}const RFe=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function t0(e,t){if(!e||!t)return;const r=e.style;for(const n in t){const i=t[n];Number.isFinite(i)&&!RFe.test(n)?r[n]=`${i}px`:r[n]=i}}function NFe(e,t){const{map:r,mapLib:n}=R.useContext(O2),i=R.useRef({props:e});i.current.props=e;const s=R.useMemo(()=>{let I=!1;R.Children.forEach(e.children,L=>{L&&(I=!0)});const k={...e,element:I?document.createElement("div"):null},C=new n.Marker(k);return C.setLngLat([e.longitude,e.latitude]),C.getElement().addEventListener("click",L=>{var N,$;($=(N=i.current.props).onClick)===null||$===void 0||$.call(N,{type:"click",target:C,originalEvent:L})}),C.on("dragstart",L=>{var N,$;const ee=L;ee.lngLat=s.getLngLat(),($=(N=i.current.props).onDragStart)===null||$===void 0||$.call(N,ee)}),C.on("drag",L=>{var N,$;const ee=L;ee.lngLat=s.getLngLat(),($=(N=i.current.props).onDrag)===null||$===void 0||$.call(N,ee)}),C.on("dragend",L=>{var N,$;const ee=L;ee.lngLat=s.getLngLat(),($=(N=i.current.props).onDragEnd)===null||$===void 0||$.call(N,ee)}),C},[]);R.useEffect(()=>(s.addTo(r.getMap()),()=>{s.remove()}),[]);const{longitude:l,latitude:a,offset:p,style:f,draggable:g=!1,popup:v=null,rotation:_=0,rotationAlignment:T="auto",pitchAlignment:z="auto"}=e;return R.useEffect(()=>{t0(s.getElement(),f)},[f]),R.useImperativeHandle(t,()=>s,[]),(s.getLngLat().lng!==l||s.getLngLat().lat!==a)&&s.setLngLat([l,a]),p&&!xFe(s.getOffset(),p)&&s.setOffset(p),s.isDraggable()!==g&&s.setDraggable(g),s.getRotation()!==_&&s.setRotation(_),s.getRotationAlignment()!==T&&s.setRotationAlignment(T),s.getPitchAlignment()!==z&&s.setPitchAlignment(z),s.getPopup()!==v&&s.setPopup(v),Pc.createPortal(e.children,s.getElement())}const LFe=R.memo(R.forwardRef(NFe));function HH(e){return new Set(e?e.trim().split(/\s+/):[])}function OFe(e,t){const{map:r,mapLib:n}=R.useContext(O2),i=R.useMemo(()=>document.createElement("div"),[]),s=R.useRef({props:e});s.current.props=e;const l=R.useMemo(()=>{const a={...e},p=new n.Popup(a);return p.setLngLat([e.longitude,e.latitude]),p.once("open",f=>{var g,v;(v=(g=s.current.props).onOpen)===null||v===void 0||v.call(g,f)}),p},[]);if(R.useEffect(()=>{const a=p=>{var f,g;(g=(f=s.current.props).onClose)===null||g===void 0||g.call(f,p)};return l.on("close",a),l.setDOMContent(i).addTo(r.getMap()),()=>{l.off("close",a),l.isOpen()&&l.remove()}},[]),R.useEffect(()=>{t0(l.getElement(),e.style)},[e.style]),R.useImperativeHandle(t,()=>l,[]),l.isOpen()&&((l.getLngLat().lng!==e.longitude||l.getLngLat().lat!==e.latitude)&&l.setLngLat([e.longitude,e.latitude]),e.offset&&!Zs(l.options.offset,e.offset)&&l.setOffset(e.offset),(l.options.anchor!==e.anchor||l.options.maxWidth!==e.maxWidth)&&(l.options.anchor=e.anchor,l.setMaxWidth(e.maxWidth)),l.options.className!==e.className)){const a=HH(l.options.className),p=HH(e.className);for(const f of a)p.has(f)||l.removeClassName(f);for(const f of p)a.has(f)||l.addClassName(f);l.options.className=e.className}return Pc.createPortal(e.children,i)}R.memo(R.forwardRef(OFe));function J4(e,t,r,n){const i=R.useContext(O2),s=R.useMemo(()=>e(i),[]);return R.useEffect(()=>{const l=n||r||t,a=typeof t=="function"&&typeof r=="function"?t:null,p=typeof r=="function"?r:typeof t=="function"?t:null,{map:f}=i;return f.hasControl(s)||(f.addControl(s,l==null?void 0:l.position),a&&a(i)),()=>{p&&p(i),f.hasControl(s)&&f.removeControl(s)}},[]),s}function BFe(e){const t=J4(({mapLib:r})=>new r.AttributionControl(e),{position:e.position});return R.useEffect(()=>{t0(t._container,e.style)},[e.style]),null}R.memo(BFe);function FFe(e){const t=J4(({mapLib:r})=>new r.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return R.useEffect(()=>{t0(t._controlContainer,e.style)},[e.style]),null}R.memo(FFe);function jFe(e,t){const r=R.useRef({props:e}),n=J4(({mapLib:i})=>{const s=new i.GeolocateControl(e),l=s._setupUI;return s._setupUI=a=>{s._container.hasChildNodes()||l(a)},s.on("geolocate",a=>{var p,f;(f=(p=r.current.props).onGeolocate)===null||f===void 0||f.call(p,a)}),s.on("error",a=>{var p,f;(f=(p=r.current.props).onError)===null||f===void 0||f.call(p,a)}),s.on("outofmaxbounds",a=>{var p,f;(f=(p=r.current.props).onOutOfMaxBounds)===null||f===void 0||f.call(p,a)}),s.on("trackuserlocationstart",a=>{var p,f;(f=(p=r.current.props).onTrackUserLocationStart)===null||f===void 0||f.call(p,a)}),s.on("trackuserlocationend",a=>{var p,f;(f=(p=r.current.props).onTrackUserLocationEnd)===null||f===void 0||f.call(p,a)}),s},{position:e.position});return r.current.props=e,R.useImperativeHandle(t,()=>n,[]),R.useEffect(()=>{t0(n._container,e.style)},[e.style]),null}const VFe=R.memo(R.forwardRef(jFe));function UFe(e){const t=J4(({mapLib:r})=>new r.NavigationControl(e),{position:e.position});return R.useEffect(()=>{t0(t._container,e.style)},[e.style]),null}const WFe=R.memo(UFe);function $Fe(e){const t=J4(({mapLib:s})=>new s.ScaleControl(e),{position:e.position}),r=R.useRef(e),n=r.current;r.current=e;const{style:i}=e;return e.maxWidth!==void 0&&e.maxWidth!==n.maxWidth&&(t.options.maxWidth=e.maxWidth),e.unit!==void 0&&e.unit!==n.unit&&t.setUnit(e.unit),R.useEffect(()=>{t0(t._container,i)},[i]),null}R.memo($Fe);function V8(e,t){if(!e)throw new Error(t)}function KFe(e,t,r,n){if(V8(r.id===n.id,"layer id changed"),V8(r.type===n.type,"layer type changed"),r.type==="custom"||n.type==="custom")return;const{layout:i={},paint:s={},filter:l,minzoom:a,maxzoom:p,beforeId:f}=r;if(f!==n.beforeId&&e.moveLayer(t,f),i!==n.layout){const g=n.layout||{};for(const v in i)Zs(i[v],g[v])||e.setLayoutProperty(t,v,i[v]);for(const v in g)i.hasOwnProperty(v)||e.setLayoutProperty(t,v,void 0)}if(s!==n.paint){const g=n.paint||{};for(const v in s)Zs(s[v],g[v])||e.setPaintProperty(t,v,s[v]);for(const v in g)s.hasOwnProperty(v)||e.setPaintProperty(t,v,void 0)}Zs(l,n.filter)||e.setFilter(t,l),(a!==n.minzoom||p!==n.maxzoom)&&e.setLayerZoomRange(t,a,p)}function qFe(e,t,r){if(e.style&&e.style._loaded&&(!("source"in r)||e.getSource(r.source))){const n={...r,id:t};delete n.beforeId,e.addLayer(n,r.beforeId)}}let GFe=0;function HFe(e){const t=R.useContext(O2).map.getMap(),r=R.useRef(e),[,n]=R.useState(0),i=R.useMemo(()=>e.id||`jsx-layer-${GFe++}`,[]);if(R.useEffect(()=>{if(t){const l=()=>n(a=>a+1);return t.on("styledata",l),l(),()=>{t.off("styledata",l),t.style&&t.style._loaded&&t.getLayer(i)&&t.removeLayer(i)}}},[t]),t&&t.style&&t.getLayer(i))try{KFe(t,i,e,r.current)}catch(l){console.warn(l)}else qFe(t,i,e);return r.current=e,null}let ZFe=0;function YFe(e,t,r){if(e.style&&e.style._loaded){const n={...r};return delete n.id,delete n.children,e.addSource(t,n),e.getSource(t)}return null}function XFe(e,t,r){V8(t.id===r.id,"source id changed"),V8(t.type===r.type,"source type changed");let n="",i=0;for(const l in t)l!=="children"&&l!=="id"&&!Zs(r[l],t[l])&&(n=l,i++);if(!i)return;const s=t.type;s==="geojson"?e.setData(t.data):s==="image"?e.updateImage({url:t.url,coordinates:t.coordinates}):"setCoordinates"in e&&i===1&&n==="coordinates"?e.setCoordinates(t.coordinates):"setUrl"in e&&n==="url"?e.setUrl(t.url):"setTiles"in e&&n==="tiles"?e.setTiles(t.tiles):console.warn(`Unable to update <Source> prop: ${n}`)}function QFe(e){const t=R.useContext(O2).map.getMap(),r=R.useRef(e),[,n]=R.useState(0),i=R.useMemo(()=>e.id||`jsx-source-${ZFe++}`,[]);R.useEffect(()=>{if(t){const l=()=>setTimeout(()=>n(a=>a+1),0);return t.on("styledata",l),l(),()=>{var a;if(t.off("styledata",l),t.style&&t.style._loaded&&t.getSource(i)){const p=(a=t.getStyle())===null||a===void 0?void 0:a.layers;if(p)for(const f of p)f.source===i&&t.removeLayer(f.id);t.removeSource(i)}}}},[t]);let s=t&&t.style&&t.getSource(i);return s?XFe(s,e,r.current):s=YFe(t,i,e),r.current=e,s&&R.Children.map(e.children,l=>l&&R.cloneElement(l,{source:i}))||null}const JFe=kD(()=>Promise.resolve().then(()=>aje),void 0),eje=(()=>R.forwardRef(function(t,r){return zFe(t,r,JFe)}))(),ZH=LFe,tje=WFe,rje=VFe,nje=HFe,ije=QFe;var Hle={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(pr,function(){var r,n,i;function s(a,p){if(!r)r=p;else if(!n)n=p;else{var f="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+r+")(sharedChunk); ("+n+")(sharedChunk); self.onerror = null;",g={};r(g),i=p(g),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(i.workerUrl=window.URL.createObjectURL(new Blob([f],{type:"text/javascript"})))}}s(["exports"],function(a){var p=typeof self<"u"?self:{},f="2.15.0";let g;const v={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(g==null){const c=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{g={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):c}catch{g=c}}return g},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!v.API_URL)return null;try{const c=new URL(v.API_URL);return c.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":c.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},_={supported:!1,testSupport:function(c){!I&&z&&(k?C(c):T=c)}};let T,z,I=!1,k=!1;function C(c){const o=c.createTexture();c.bindTexture(c.TEXTURE_2D,o);try{if(c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,z),c.isContextLost())return;_.supported=!0}catch{}c.deleteTexture(o),I=!0}p.document&&(z=p.document.createElement("img"),z.onload=function(){T&&C(T),T=null,k=!0},z.onerror=function(){I=!0,T=null},z.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const L="01";function N(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var $=ee;function ee(c,o,u,h){this.cx=3*c,this.bx=3*(u-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*o,this.by=3*(h-o)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=o,this.p2x=u,this.p2y=h}ee.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,o){if(o===void 0&&(o=1e-6),c<0)return 0;if(c>1)return 1;for(var u=c,h=0;h<8;h++){var y=this.sampleCurveX(u)-c;if(Math.abs(y)<o)return u;var x=this.sampleCurveDerivativeX(u);if(Math.abs(x)<1e-6)break;u-=y/x}var S=0,A=1;for(u=c,h=0;h<20&&(y=this.sampleCurveX(u),!(Math.abs(y-c)<o));h++)c>y?S=u:A=u,u=.5*(A-S)+S;return u},solve:function(c,o){return this.sampleCurveY(this.solveCurveX(c,o))}};var re=N($),ne=ie;function ie(c,o){this.x=c,this.y=o}ie.prototype={clone:function(){return new ie(this.x,this.y)},add:function(c){return this.clone()._add(c)},sub:function(c){return this.clone()._sub(c)},multByPoint:function(c){return this.clone()._multByPoint(c)},divByPoint:function(c){return this.clone()._divByPoint(c)},mult:function(c){return this.clone()._mult(c)},div:function(c){return this.clone()._div(c)},rotate:function(c){return this.clone()._rotate(c)},rotateAround:function(c,o){return this.clone()._rotateAround(c,o)},matMult:function(c){return this.clone()._matMult(c)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(c){return this.x===c.x&&this.y===c.y},dist:function(c){return Math.sqrt(this.distSqr(c))},distSqr:function(c){var o=c.x-this.x,u=c.y-this.y;return o*o+u*u},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith:function(c){return this.angleWithSep(c.x,c.y)},angleWithSep:function(c,o){return Math.atan2(this.x*o-this.y*c,this.x*c+this.y*o)},_matMult:function(c){var o=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=o,this},_add:function(c){return this.x+=c.x,this.y+=c.y,this},_sub:function(c){return this.x-=c.x,this.y-=c.y,this},_mult:function(c){return this.x*=c,this.y*=c,this},_div:function(c){return this.x/=c,this.y/=c,this},_multByPoint:function(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint:function(c){return this.x/=c.x,this.y/=c.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var c=this.y;return this.y=this.x,this.x=-c,this},_rotate:function(c){var o=Math.cos(c),u=Math.sin(c),h=u*this.x+o*this.y;return this.x=o*this.x-u*this.y,this.y=h,this},_rotateAround:function(c,o){var u=Math.cos(c),h=Math.sin(c),y=o.y+h*(this.x-o.x)+u*(this.y-o.y);return this.x=o.x+u*(this.x-o.x)-h*(this.y-o.y),this.y=y,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},ie.convert=function(c){return c instanceof ie?c:Array.isArray(c)?new ie(c[0],c[1]):c};var me=N(ne);const Ze=Math.PI/180,et=180/Math.PI;function Ke(c){return c*Ze}function ye(c){return c*et}const j=[[0,0],[1,0],[1,1],[0,1]];function Z(c){if(c<=0)return 0;if(c>=1)return 1;const o=c*c,u=o*c;return 4*(c<.5?u:3*(c-o)+u-.75)}function oe(c,o,u,h){const y=new re(c,o,u,h);return function(x){return y.solve(x)}}const le=oe(.25,.1,.25,1);function Q(c,o,u){return Math.min(u,Math.max(o,c))}function ce(c,o,u){return(u=Q((u-c)/(o-c),0,1))*u*(3-2*u)}function Ee(c,o,u){const h=u-o,y=((c-o)%h+h)%h+o;return y===o?u:y}function fe(c,o,u){if(!c.length)return u(null,[]);let h=c.length;const y=new Array(c.length);let x=null;c.forEach((S,A)=>{o(S,(P,D)=>{P&&(x=P),y[A]=D,--h==0&&u(x,y)})})}function K(c){const o=[];for(const u in c)o.push(c[u]);return o}function pe(c,...o){for(const u of o)for(const h in u)c[h]=u[h];return c}let Et=1;function zt(){return Et++}function Ve(){return function c(o){return o?(o^Math.random()*(16>>o/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,c)}()}function Be(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))}function ut(c){return!!c&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(c)}function bt(c,o){c.forEach(u=>{o[u]&&(o[u]=o[u].bind(o))})}function Ht(c,o){return c.indexOf(o,c.length-o.length)!==-1}function _e(c,o,u){const h={};for(const y in c)h[y]=o.call(u||this,c[y],y,c);return h}function Me(c,o,u){const h={};for(const y in c)o.call(u||this,c[y],y,c)&&(h[y]=c[y]);return h}function we(c){return Array.isArray(c)?c.map(we):typeof c=="object"&&c?_e(c,we):c}const be={};function rt(c){be[c]||(typeof console<"u"&&console.warn(c),be[c]=!0)}function pt(c,o,u){return(u.y-c.y)*(o.x-c.x)>(o.y-c.y)*(u.x-c.x)}function Ct(c){let o=0;for(let u,h,y=0,x=c.length,S=x-1;y<x;S=y++)u=c[y],h=c[S],o+=(h.x-u.x)*(u.y+h.y);return o}function Jt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Rr(c){const o={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(u,h,y,x)=>{const S=y||x;return o[h]=!S||S.toLowerCase(),""}),o["max-age"]){const u=parseInt(o["max-age"],10);isNaN(u)?delete o["max-age"]:o["max-age"]=u}return o}let Br=null;function Fr(c){if(Br==null){const o=c.navigator?c.navigator.userAgent:null;Br=!!c.safari||!(!o||!(/\b(iPad|iPhone|iPod)\b/.test(o)||o.match("Safari")&&!o.match("Chrome")))}return Br}function Zn(c){try{const o=p[c];return o.setItem("_mapbox_test_",1),o.removeItem("_mapbox_test_"),!0}catch{return!1}}function en(c,o){return[c[4*o],c[4*o+1],c[4*o+2],c[4*o+3]]}const Sn="mapbox-tiles";let Ei=500,Xr=50,ve,Y;function J(){try{return p.caches}catch{}}function ze(){J()&&!ve&&(ve=p.caches.open(Sn))}function st(c){const o=c.indexOf("?");if(o<0)return c;const u=function(y){const x=y.indexOf("?");return x>0?y.slice(x+1).split("&"):[]}(c),h=u.filter(y=>{const x=y.split("=");return x[0]==="language"||x[0]==="worldview"});return h.length?`${c.slice(0,o)}?${h.join("&")}`:c.slice(0,o)}let mt=1/0;const At={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(At);class Dr extends Error{constructor(o,u,h){u===401&&Ge(h)&&(o+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(o),this.status=u,this.url=h}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Lr=Jt()?()=>self.worker&&self.worker.referrer:()=>(p.location.protocol==="blob:"?p.parent:p).location.href,Mr=function(c,o){if(!(/^file:/.test(u=c.url)||/^file:/.test(Lr())&&!/^\w+:/.test(u))){if(p.fetch&&p.Request&&p.AbortController&&p.Request.prototype.hasOwnProperty("signal"))return function(h,y){const x=new p.AbortController,S=new p.Request(h.url,{method:h.method||"GET",body:h.body,credentials:h.credentials,headers:h.headers,referrer:Lr(),referrerPolicy:h.referrerPolicy,signal:x.signal});let A=!1,P=!1;const D=(V=S.url).indexOf("sku=")>0&&Ge(V);var V;h.type==="json"&&S.headers.set("Accept","application/json");const W=(X,te,ue)=>{if(P)return;if(X&&X.message!=="SecurityError"&&rt(X.toString()),te&&ue)return q(te);const Se=Date.now();p.fetch(S).then(Ce=>{if(Ce.ok){const Ue=D?Ce.clone():null;return q(Ce,Ue,Se)}return y(new Dr(Ce.statusText,Ce.status,h.url))}).catch(Ce=>{Ce.name!=="AbortError"&&y(new Error(`${Ce.message} ${h.url}`))})},q=(X,te,ue)=>{(h.type==="arrayBuffer"?X.arrayBuffer():h.type==="json"?X.json():X.text()).then(Se=>{P||(te&&ue&&function(Ce,Ue,De){if(ze(),!ve)return;const Fe={status:Ue.status,statusText:Ue.statusText,headers:new p.Headers};Ue.headers.forEach((_t,ft)=>Fe.headers.set(ft,_t));const He=Rr(Ue.headers.get("Cache-Control")||"");if(He["no-store"])return;He["max-age"]&&Fe.headers.set("Expires",new Date(De+1e3*He["max-age"]).toUTCString());const qe=Fe.headers.get("Expires");qe&&(new Date(qe).getTime()-De<42e4||function(_t,ft){if(Y===void 0)try{new Response(new ReadableStream),Y=!0}catch{Y=!1}Y?ft(_t.body):_t.blob().then(ft)}(Ue,_t=>{const ft=new p.Response(_t,Fe);ze(),ve&&ve.then(kt=>kt.put(st(Ce.url),ft)).catch(kt=>rt(kt.message))}))}(S,te,ue),A=!0,y(null,Se,X.headers.get("Cache-Control"),X.headers.get("Expires")))}).catch(Se=>{P||y(new Error(Se.message))})};return D?function(X,te){if(ze(),!ve)return te(null);const ue=st(X.url);ve.then(Se=>{Se.match(ue).then(Ce=>{const Ue=function(De){if(!De)return!1;const Fe=new Date(De.headers.get("Expires")||0),He=Rr(De.headers.get("Cache-Control")||"");return Fe>Date.now()&&!He["no-cache"]}(Ce);Se.delete(ue),Ue&&Se.put(ue,Ce.clone()),te(null,Ce,Ue)}).catch(te)}).catch(te)}(S,W):W(null,null),{cancel:()=>{P=!0,A||x.abort()}}}(c,o);if(Jt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",c,o,void 0,!0)}var u;return function(h,y){const x=new p.XMLHttpRequest;x.open(h.method||"GET",h.url,!0),h.type==="arrayBuffer"&&(x.responseType="arraybuffer");for(const S in h.headers)x.setRequestHeader(S,h.headers[S]);return h.type==="json"&&(x.responseType="text",x.setRequestHeader("Accept","application/json")),x.withCredentials=h.credentials==="include",x.onerror=()=>{y(new Error(x.statusText))},x.onload=()=>{if((x.status>=200&&x.status<300||x.status===0)&&x.response!==null){let S=x.response;if(h.type==="json")try{S=JSON.parse(x.response)}catch(A){return y(A)}y(null,S,x.getResponseHeader("Cache-Control"),x.getResponseHeader("Expires"))}else y(new Dr(x.statusText,x.status,h.url))},x.send(h.body),{cancel:()=>x.abort()}}(c,o)},Mn=function(c,o){return Mr(pe(c,{type:"arrayBuffer"}),o)};function Nr(c){const o=p.document.createElement("a");return o.href=c,o.protocol===p.document.location.protocol&&o.host===p.document.location.host}const Le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let de,ge;de=[],ge=0;const Re=function(c,o){if(_.supported&&(c.headers||(c.headers={}),c.headers.accept="image/webp,*/*"),ge>=v.MAX_PARALLEL_IMAGE_REQUESTS){const x={requestParameters:c,callback:o,cancelled:!1,cancel(){this.cancelled=!0}};return de.push(x),x}ge++;let u=!1;const h=()=>{if(!u)for(u=!0,ge--;de.length&&ge<v.MAX_PARALLEL_IMAGE_REQUESTS;){const x=de.shift(),{requestParameters:S,callback:A,cancelled:P}=x;P||(x.cancel=Re(S,A).cancel)}},y=Mn(c,(x,S,A,P)=>{h(),x?o(x):S&&(p.createImageBitmap?function(D,V){const W=new p.Blob([new Uint8Array(D)],{type:"image/png"});p.createImageBitmap(W).then(q=>{V(null,q)}).catch(q=>{V(new Error(`Could not load image because of ${q.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(S,(D,V)=>o(D,V,A,P)):function(D,V){const W=new p.Image,q=p.URL;W.onload=()=>{V(null,W),q.revokeObjectURL(W.src),W.onload=null,p.requestAnimationFrame(()=>{W.src=Le})},W.onerror=()=>V(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const X=new p.Blob([new Uint8Array(D)],{type:"image/png"});W.src=D.byteLength?q.createObjectURL(X):Le}(S,(D,V)=>o(D,V,A,P)))});return{cancel:()=>{y.cancel(),h()}}},$e="NO_ACCESS_TOKEN";function Ye(c){return c.indexOf("mapbox:")===0}function Ge(c){return v.API_URL_REGEX.test(c)}function tt(c){return v.API_CDN_URL_REGEX.test(c)}function We(c){return v.API_STYLE_REGEX.test(c)&&!lt(c)}function lt(c){return v.API_SPRITE_REGEX.test(c)}const Ft=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ot(c){const o=c.match(Ft);if(!o)throw new Error("Unable to parse URL object");return{protocol:o[1],authority:o[2],path:o[3]||"/",params:o[4]?o[4].split("&"):[]}}function It(c){const o=c.params.length?`?${c.params.join("&")}`:"";return`${c.protocol}://${c.authority}${c.path}${o}`}const wr="mapbox.eventData";function dr(c){if(!c)return null;const o=c.split(".");if(!o||o.length!==3)return null;try{return JSON.parse(decodeURIComponent(p.atob(o[1]).split("").map(u=>"%"+("00"+u.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class mr{constructor(o){this.type=o,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(o){const u=dr(v.ACCESS_TOKEN);let h="";return h=u&&u.u?p.btoa(encodeURIComponent(u.u).replace(/%([0-9A-F]{2})/g,(y,x)=>String.fromCharCode(+("0x"+x)))):v.ACCESS_TOKEN||"",o?`${wr}.${o}:${h}`:`${wr}:${h}`}fetchEventData(){const o=Zn("localStorage"),u=this.getStorageKey(),h=this.getStorageKey("uuid");if(o)try{const y=p.localStorage.getItem(u);y&&(this.eventData=JSON.parse(y));const x=p.localStorage.getItem(h);x&&(this.anonId=x)}catch{rt("Unable to read from LocalStorage")}}saveEventData(){const o=Zn("localStorage"),u=this.getStorageKey(),h=this.getStorageKey("uuid");if(o)try{p.localStorage.setItem(h,this.anonId),Object.keys(this.eventData).length>=1&&p.localStorage.setItem(u,JSON.stringify(this.eventData))}catch{rt("Unable to write to LocalStorage")}}processRequests(o){}postEvent(o,u,h,y){if(!v.EVENTS_URL)return;const x=Ot(v.EVENTS_URL);x.params.push(`access_token=${y||v.ACCESS_TOKEN||""}`);const S={event:this.type,created:new Date(o).toISOString()},A=u?pe(S,u):S,P={url:It(x),headers:{"Content-Type":"text/plain"},body:JSON.stringify([A])};this.pendingRequest=function(D,V){return Mr(pe(D,{method:"POST"}),V)}(P,D=>{this.pendingRequest=null,h(D),this.saveEventData(),this.processRequests(y)})}queueRequest(o,u){this.queue.push(o),this.processRequests(u)}}const Yr=new class extends mr{constructor(c){super("appUserTurnstile"),this._customAccessToken=c}postTurnstileEvent(c,o){v.EVENTS_URL&&v.ACCESS_TOKEN&&Array.isArray(c)&&c.some(u=>Ye(u)||Ge(u))&&this.queueRequest(Date.now(),o)}processRequests(c){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const o=dr(v.ACCESS_TOKEN),u=o?o.u:v.ACCESS_TOKEN;let h=u!==this.eventData.tokenU;ut(this.anonId)||(this.anonId=Ve(),h=!0);const y=this.queue.shift();if(this.eventData.lastSuccess){const x=new Date(this.eventData.lastSuccess),S=new Date(y),A=(y-this.eventData.lastSuccess)/864e5;h=h||A>=1||A<-1||x.getDate()!==S.getDate()}else h=!0;h?this.postEvent(y,{sdkIdentifier:"mapbox-gl-js",sdkVersion:f,skuId:L,"enabled.telemetry":!1,userId:this.anonId},x=>{x||(this.eventData.lastSuccess=y,this.eventData.tokenU=u)},c):this.processRequests()}},Ar=Yr.postTurnstileEvent.bind(Yr),Qr=new class extends mr{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(c,o,u,h){this.skuToken=o,this.errorCb=h,v.EVENTS_URL&&(u||v.ACCESS_TOKEN?this.queueRequest({id:c,timestamp:Date.now()},u):this.errorCb(new Error($e)))}processRequests(c){if(this.pendingRequest||this.queue.length===0)return;const{id:o,timestamp:u}=this.queue.shift();o&&this.success[o]||(this.anonId||this.fetchEventData(),ut(this.anonId)||(this.anonId=Ve()),this.postEvent(u,{sdkIdentifier:"mapbox-gl-js",sdkVersion:f,skuId:L,skuToken:this.skuToken,userId:this.anonId},h=>{h?this.errorCb(h):o&&(this.success[o]=!0)},c))}},ui=Qr.postMapLoadEvent.bind(Qr),mn=new class extends mr{constructor(){super("gljs.performance")}postPerformanceEvent(c,o){v.EVENTS_URL&&(c||v.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:o},c)}processRequests(c){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:o,performanceData:u}=this.queue.shift(),h=function(y){const x=p.performance.getEntriesByType("resource"),S=p.performance.getEntriesByType("mark"),A=function(q){const X={};if(q){for(const te in q)if(te!=="other")for(const ue of q[te]){const Se=`${te}ResolveRangeMin`,Ce=`${te}ResolveRangeMax`,Ue=`${te}RequestCount`,De=`${te}RequestCachedCount`;X[Se]=Math.min(X[Se]||1/0,ue.startTime),X[Ce]=Math.max(X[Ce]||-1/0,ue.responseEnd);const Fe=He=>{X[He]===void 0&&(X[He]=0),++X[He]};ue.transferSize!==void 0&&ue.transferSize===0&&Fe(De),Fe(Ue)}}return X}(function(q,X){const te={};if(q)for(const ue of q){const Se=X(ue);te[Se]===void 0&&(te[Se]=[]),te[Se].push(ue)}return te}(x,Wd)),P=p.devicePixelRatio,D=p.navigator.connection||p.navigator.mozConnection||p.navigator.webkitConnection,V={counters:[],metadata:[],attributes:[]},W=(q,X,te)=>{te!=null&&q.push({name:X,value:te.toString()})};for(const q in A)W(V.counters,q,A[q]);if(y.interactionRange[0]!==1/0&&y.interactionRange[1]!==-1/0&&(W(V.counters,"interactionRangeMin",y.interactionRange[0]),W(V.counters,"interactionRangeMax",y.interactionRange[1])),S)for(const q of Object.keys(ol)){const X=ol[q],te=S.find(ue=>ue.name===X);te&&W(V.counters,X,te.startTime)}return W(V.counters,"visibilityHidden",y.visibilityHidden),W(V.attributes,"style",function(q){if(q)for(const X of q){const te=X.name.split("?")[0];if(We(te)){const ue=te.split("/").slice(-2);if(ue.length===2)return`mapbox://styles/${ue[0]}/${ue[1]}`}}}(x)),W(V.attributes,"terrainEnabled",y.terrainEnabled?"true":"false"),W(V.attributes,"fogEnabled",y.fogEnabled?"true":"false"),W(V.attributes,"projection",y.projection),W(V.attributes,"zoom",y.zoom),W(V.metadata,"devicePixelRatio",P),W(V.metadata,"connectionEffectiveType",D?D.effectiveType:void 0),W(V.metadata,"navigatorUserAgent",p.navigator.userAgent),W(V.metadata,"screenWidth",p.screen.width),W(V.metadata,"screenHeight",p.screen.height),W(V.metadata,"windowWidth",p.innerWidth),W(V.metadata,"windowHeight",p.innerHeight),W(V.metadata,"mapWidth",y.width/P),W(V.metadata,"mapHeight",y.height/P),W(V.metadata,"webglRenderer",y.renderer),W(V.metadata,"webglVendor",y.vendor),W(V.metadata,"sdkVersion",f),W(V.metadata,"sdkIdentifier","mapbox-gl-js"),V}(u);for(const y of h.metadata);for(const y of h.counters);for(const y of h.attributes);this.postEvent(o,h,()=>{},c)}},un=mn.postPerformanceEvent.bind(mn),$o=new class extends mr{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(c,o,u,h){if(!v.API_URL||!v.SESSION_PATH)return;const y=Ot(v.API_URL+v.SESSION_PATH);y.params.push(`sku=${o||""}`),y.params.push(`access_token=${h||v.ACCESS_TOKEN||""}`);const x={url:It(y),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(S,A){return Mr(pe(S,{method:"GET"}),A)}(x,S=>{this.pendingRequest=null,u(S),this.saveEventData(),this.processRequests(h)})}getSessionAPI(c,o,u,h){this.skuToken=o,this.errorCb=h,v.SESSION_PATH&&v.API_URL&&(u||v.ACCESS_TOKEN?this.queueRequest({id:c,timestamp:Date.now()},u):this.errorCb(new Error($e)))}processRequests(c){if(this.pendingRequest||this.queue.length===0)return;const{id:o,timestamp:u}=this.queue.shift();o&&this.success[o]||this.getSession(u,this.skuToken,h=>{h?this.errorCb(h):o&&(this.success[o]=!0)},c)}},pn=$o.getSessionAPI.bind($o),bn=new Set,ol={create:"create",load:"load",fullLoad:"fullLoad"},Xh={mark(c){p.performance.mark(c)},measure(c,o,u){p.performance.measure(c,o,u)}};function Wd(c){const o=c.name.split("?")[0];return tt(o)&&o.includes("mapbox-gl.js")?"javascript":tt(o)&&o.includes("mapbox-gl.css")?"css":function(u){return v.API_FONTS_REGEX.test(u)}(o)?"fontRange":lt(o)?"sprite":We(o)?"style":function(u){return v.API_TILEJSON_REGEX.test(u)}(o)?"tilejson":"other"}const hn=p.performance;function bu(c){const o=c?c.url.toString():void 0;return hn.getEntriesByName(o)}let Nl,xu,Cc,ho;const Ko={now:()=>Cc!==void 0?Cc:p.performance.now(),setNow(c){Cc=c},restoreNow(){Cc=void 0},frame(c){const o=p.requestAnimationFrame(c);return{cancel:()=>p.cancelAnimationFrame(o)}},getImageData(c,o=0){const{width:u,height:h}=c;ho||(ho=p.document.createElement("canvas"));const y=ho.getContext("2d",{willReadFrequently:!0});if(!y)throw new Error("failed to create canvas 2d context");return(u>ho.width||h>ho.height)&&(ho.width=u,ho.height=h),y.clearRect(-o,-o,u+2*o,h+2*o),y.drawImage(c,0,0,u,h),y.getImageData(-o,-o,u+2*o,h+2*o)},resolveURL:c=>(Nl||(Nl=p.document.createElement("a")),Nl.href=c,Nl.href),get devicePixelRatio(){return p.devicePixelRatio},get prefersReducedMotion(){return!!p.matchMedia&&(xu==null&&(xu=p.matchMedia("(prefers-reduced-motion: reduce)")),xu.matches)}};function wu(c,o,u){u[c]&&u[c].indexOf(o)!==-1||(u[c]=u[c]||[],u[c].push(o))}function Su(c,o,u){if(u&&u[c]){const h=u[c].indexOf(o);h!==-1&&u[c].splice(h,1)}}class zs{constructor(o,u={}){pe(this,u),this.type=o}}class qo extends zs{constructor(o,u={}){super("error",pe({error:o},u))}}class Ll{on(o,u){return this._listeners=this._listeners||{},wu(o,u,this._listeners),this}off(o,u){return Su(o,u,this._listeners),Su(o,u,this._oneTimeListeners),this}once(o,u){return u?(this._oneTimeListeners=this._oneTimeListeners||{},wu(o,u,this._oneTimeListeners),this):new Promise(h=>this.once(o,h))}fire(o,u){typeof o=="string"&&(o=new zs(o,u||{}));const h=o.type;if(this.listens(h)){o.target=this;const y=this._listeners&&this._listeners[h]?this._listeners[h].slice():[];for(const A of y)A.call(this,o);const x=this._oneTimeListeners&&this._oneTimeListeners[h]?this._oneTimeListeners[h].slice():[];for(const A of x)Su(h,A,this._oneTimeListeners),A.call(this,o);const S=this._eventedParent;S&&(pe(o,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),S.fire(o))}else o instanceof qo&&console.error(o.error);return this}listens(o){return!!(this._listeners&&this._listeners[o]&&this._listeners[o].length>0||this._oneTimeListeners&&this._oneTimeListeners[o]&&this._oneTimeListeners[o].length>0||this._eventedParent&&this._eventedParent.listens(o))}setEventedParent(o,u){return this._eventedParent=o,this._eventedParentData=u,this}}var Mt=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]},"fill-extrusion-rounded-roof":{"type":"boolean","default":true,"requires":["fill-extrusion-edge-radius"],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Go(c,...o){for(const u of o)for(const h in u)c[h]=u[h];return c}function si(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function Ai(c){if(Array.isArray(c))return c.map(Ai);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){const o={};for(const u in c)o[u]=Ai(c[u]);return o}return si(c)}class n6 extends Error{constructor(o,u){super(u),this.message=u,this.key=o}}var sl=n6;class B2{constructor(o,u=[]){this.parent=o,this.bindings={};for(const[h,y]of u)this.bindings[h]=y}concat(o){return new B2(this,o)}get(o){if(this.bindings[o])return this.bindings[o];if(this.parent)return this.parent.get(o);throw new Error(`${o} not found in scope.`)}has(o){return!!this.bindings[o]||!!this.parent&&this.parent.has(o)}}var i6=B2;const $d={kind:"null"},nr={kind:"number"},dn={kind:"string"},sn={kind:"boolean"},Ho={kind:"color"},Rs={kind:"object"},ln={kind:"value"},Zo={kind:"collator"},Qh={kind:"formatted"},Eu={kind:"resolvedImage"};function hs(c,o){return{kind:"array",itemType:c,N:o}}function ii(c){if(c.kind==="array"){const o=ii(c.itemType);return typeof c.N=="number"?`array<${o}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${o}>`}return c.kind}const a6=[$d,nr,dn,sn,Ho,Qh,Rs,hs(ln),Eu];function Ol(c,o){if(o.kind==="error")return null;if(c.kind==="array"){if(o.kind==="array"&&(o.N===0&&o.itemType.kind==="value"||!Ol(c.itemType,o.itemType))&&(typeof c.N!="number"||c.N===o.N))return null}else{if(c.kind===o.kind)return null;if(c.kind==="value"){for(const u of a6)if(!Ol(u,o))return null}}return`Expected ${ii(c)} but found ${ii(o)} instead.`}function Jh(c,o){return o.some(u=>u.kind===c.kind)}function ef(c,o){return o.some(u=>u==="null"?c===null:u==="array"?Array.isArray(c):u==="object"?c&&!Array.isArray(c)&&typeof c=="object":u===typeof c)}var F2,o6={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function tf(c){return(c=Math.round(c))<0?0:c>255?255:c}function rf(c){return tf(c[c.length-1]==="%"?parseFloat(c)/100*255:parseInt(c))}function i0(c){return(o=c[c.length-1]==="%"?parseFloat(c)/100:parseFloat(c))<0?0:o>1?1:o;var o}function Kd(c,o,u){return u<0?u+=1:u>1&&(u-=1),6*u<1?c+(o-c)*u*6:2*u<1?o:3*u<2?c+(o-c)*(2/3-u)*6:c}try{F2={}.parseCSSColor=function(c){var o,u=c.replace(/ /g,"").toLowerCase();if(u in o6)return o6[u].slice();if(u[0]==="#")return u.length===4?(o=parseInt(u.substr(1),16))>=0&&o<=4095?[(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,1]:null:u.length===7&&(o=parseInt(u.substr(1),16))>=0&&o<=16777215?[(16711680&o)>>16,(65280&o)>>8,255&o,1]:null;var h=u.indexOf("("),y=u.indexOf(")");if(h!==-1&&y+1===u.length){var x=u.substr(0,h),S=u.substr(h+1,y-(h+1)).split(","),A=1;switch(x){case"rgba":if(S.length!==4)return null;A=i0(S.pop());case"rgb":return S.length!==3?null:[rf(S[0]),rf(S[1]),rf(S[2]),A];case"hsla":if(S.length!==4)return null;A=i0(S.pop());case"hsl":if(S.length!==3)return null;var P=(parseFloat(S[0])%360+360)%360/360,D=i0(S[1]),V=i0(S[2]),W=V<=.5?V*(D+1):V+D-V*D,q=2*V-W;return[tf(255*Kd(q,W,P+1/3)),tf(255*Kd(q,W,P)),tf(255*Kd(q,W,P-1/3)),A];default:return null}}return null}}catch{}class fo{constructor(o,u,h,y=1){this.r=o,this.g=u,this.b=h,this.a=y}static parse(o){if(!o)return;if(o instanceof fo)return o;if(typeof o!="string")return;const u=F2(o);return u?new fo(u[0]/255*u[3],u[1]/255*u[3],u[2]/255*u[3],u[3]):void 0}toString(){const[o,u,h,y]=this.toArray();return`rgba(${Math.round(o)},${Math.round(u)},${Math.round(h)},${y})`}toArray(){const{r:o,g:u,b:h,a:y}=this;return y===0?[0,0,0,0]:[255*o/y,255*u/y,255*h/y,y]}toArray01(){const{r:o,g:u,b:h,a:y}=this;return y===0?[0,0,0,0]:[o/y,u/y,h/y,y]}toArray01PremultipliedAlpha(){const{r:o,g:u,b:h,a:y}=this;return[o,u,h,y]}}fo.black=new fo(0,0,0,1),fo.white=new fo(1,1,1,1),fo.transparent=new fo(0,0,0,0),fo.red=new fo(1,0,0,1),fo.blue=new fo(0,0,1,1);var Ti=fo;class j2{constructor(o,u,h){this.sensitivity=o?u?"variant":"case":u?"accent":"base",this.locale=h,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(o,u){return this.collator.compare(o,u)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class V2{constructor(o,u,h,y,x){this.text=o.normalize?o.normalize():o,this.image=u,this.scale=h,this.fontStack=y,this.textColor=x}}class mo{constructor(o){this.sections=o}static fromString(o){return new mo([new V2(o,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(o=>o.text.length!==0||o.image&&o.image.name.length!==0)}static factory(o){return o instanceof mo?o:mo.fromString(o)}toString(){return this.sections.length===0?"":this.sections.map(o=>o.text).join("")}serialize(){const o=["format"];for(const u of this.sections){if(u.image){o.push(["image",u.image.name]);continue}o.push(u.text);const h={};u.fontStack&&(h["text-font"]=["literal",u.fontStack.split(",")]),u.scale&&(h["font-scale"]=u.scale),u.textColor&&(h["text-color"]=["rgba"].concat(u.textColor.toArray())),o.push(h)}return o}}class fs{constructor(o){this.name=o.name,this.available=o.available}toString(){return this.name}static fromString(o){return o?new fs({name:o,available:!1}):null}serialize(){return["image",this.name]}}function s6(c,o,u,h){return typeof c=="number"&&c>=0&&c<=255&&typeof o=="number"&&o>=0&&o<=255&&typeof u=="number"&&u>=0&&u<=255?h===void 0||typeof h=="number"&&h>=0&&h<=1?null:`Invalid rgba value [${[c,o,u,h].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof h=="number"?[c,o,u,h]:[c,o,u]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function nf(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof Ti||c instanceof j2||c instanceof mo||c instanceof fs)return!0;if(Array.isArray(c)){for(const o of c)if(!nf(o))return!1;return!0}if(typeof c=="object"){for(const o in c)if(!nf(c[o]))return!1;return!0}return!1}function mi(c){if(c===null)return $d;if(typeof c=="string")return dn;if(typeof c=="boolean")return sn;if(typeof c=="number")return nr;if(c instanceof Ti)return Ho;if(c instanceof j2)return Zo;if(c instanceof mo)return Qh;if(c instanceof fs)return Eu;if(Array.isArray(c)){const o=c.length;let u;for(const h of c){const y=mi(h);if(u){if(u===y)continue;u=ln;break}u=y}return hs(u||ln,o)}return Rs}function af(c){const o=typeof c;return c===null?"":o==="string"||o==="number"||o==="boolean"?String(c):c instanceof Ti||c instanceof mo||c instanceof fs?c.toString():JSON.stringify(c)}class U2{constructor(o,u){this.type=o,this.value=u}static parse(o,u){if(o.length!==2)return u.error(`'literal' expression requires exactly one argument, but found ${o.length-1} instead.`);if(!nf(o[1]))return u.error("invalid value");const h=o[1];let y=mi(h);const x=u.expectedType;return y.kind!=="array"||y.N!==0||!x||x.kind!=="array"||typeof x.N=="number"&&x.N!==0||(y=x),new U2(y,h)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Ti?["rgba"].concat(this.value.toArray()):this.value instanceof mo?this.value.serialize():this.value}}var Au=U2,Ca=class{constructor(c){this.name="ExpressionEvaluationError",this.message=c}toJSON(){return this.message}};const W2={string:dn,number:nr,boolean:sn,object:Rs};class $2{constructor(o,u){this.type=o,this.args=u}static parse(o,u){if(o.length<2)return u.error("Expected at least one argument.");let h,y=1;const x=o[0];if(x==="array"){let A,P;if(o.length>2){const D=o[1];if(typeof D!="string"||!(D in W2)||D==="object")return u.error('The item type argument of "array" must be one of string, number, boolean',1);A=W2[D],y++}else A=ln;if(o.length>3){if(o[2]!==null&&(typeof o[2]!="number"||o[2]<0||o[2]!==Math.floor(o[2])))return u.error('The length argument to "array" must be a positive integer literal',2);P=o[2],y++}h=hs(A,P)}else h=W2[x];const S=[];for(;y<o.length;y++){const A=u.parse(o[y],y,ln);if(!A)return null;S.push(A)}return new $2(h,S)}evaluate(o){for(let u=0;u<this.args.length;u++){const h=this.args[u].evaluate(o);if(!Ol(this.type,mi(h)))return h;if(u===this.args.length-1)throw new Ca(`Expected value to be of type ${ii(this.type)}, but found ${ii(mi(h))} instead.`)}return null}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){const o=this.type,u=[o.kind];if(o.kind==="array"){const h=o.itemType;if(h.kind==="string"||h.kind==="number"||h.kind==="boolean"){u.push(h.kind);const y=o.N;(typeof y=="number"||this.args.length>1)&&u.push(y)}}return u.concat(this.args.map(h=>h.serialize()))}}var Bl=$2;class Dc{constructor(o){this.type=Qh,this.sections=o}static parse(o,u){if(o.length<2)return u.error("Expected at least one argument.");const h=o[1];if(!Array.isArray(h)&&typeof h=="object")return u.error("First argument must be an image or text section.");const y=[];let x=!1;for(let S=1;S<=o.length-1;++S){const A=o[S];if(x&&typeof A=="object"&&!Array.isArray(A)){x=!1;let P=null;if(A["font-scale"]&&(P=u.parse(A["font-scale"],1,nr),!P))return null;let D=null;if(A["text-font"]&&(D=u.parse(A["text-font"],1,hs(dn)),!D))return null;let V=null;if(A["text-color"]&&(V=u.parse(A["text-color"],1,Ho),!V))return null;const W=y[y.length-1];W.scale=P,W.font=D,W.textColor=V}else{const P=u.parse(o[S],1,ln);if(!P)return null;const D=P.type.kind;if(D!=="string"&&D!=="value"&&D!=="null"&&D!=="resolvedImage")return u.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");x=!0,y.push({content:P,scale:null,font:null,textColor:null})}}return new Dc(y)}evaluate(o){return new mo(this.sections.map(u=>{const h=u.content.evaluate(o);return mi(h)===Eu?new V2("",h,null,null,null):new V2(af(h),null,u.scale?u.scale.evaluate(o):null,u.font?u.font.evaluate(o).join(","):null,u.textColor?u.textColor.evaluate(o):null)}))}eachChild(o){for(const u of this.sections)o(u.content),u.scale&&o(u.scale),u.font&&o(u.font),u.textColor&&o(u.textColor)}outputDefined(){return!1}serialize(){const o=["format"];for(const u of this.sections){o.push(u.content.serialize());const h={};u.scale&&(h["font-scale"]=u.scale.serialize()),u.font&&(h["text-font"]=u.font.serialize()),u.textColor&&(h["text-color"]=u.textColor.serialize()),o.push(h)}return o}}class a0{constructor(o){this.type=Eu,this.input=o}static parse(o,u){if(o.length!==2)return u.error("Expected two arguments.");const h=u.parse(o[1],1,dn);return h?new a0(h):u.error("No image name provided.")}evaluate(o){const u=this.input.evaluate(o),h=fs.fromString(u);return h&&o.availableImages&&(h.available=o.availableImages.indexOf(u)>-1),h}eachChild(o){o(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const QS={"to-boolean":sn,"to-color":Ho,"to-number":nr,"to-string":dn};class K2{constructor(o,u){this.type=o,this.args=u}static parse(o,u){if(o.length<2)return u.error("Expected at least one argument.");const h=o[0];if((h==="to-boolean"||h==="to-string")&&o.length!==2)return u.error("Expected one argument.");const y=QS[h],x=[];for(let S=1;S<o.length;S++){const A=u.parse(o[S],S,ln);if(!A)return null;x.push(A)}return new K2(y,x)}evaluate(o){if(this.type.kind==="boolean")return!!this.args[0].evaluate(o);if(this.type.kind==="color"){let u,h;for(const y of this.args){if(u=y.evaluate(o),h=null,u instanceof Ti)return u;if(typeof u=="string"){const x=o.parseColor(u);if(x)return x}else if(Array.isArray(u)&&(h=u.length<3||u.length>4?`Invalid rbga value ${JSON.stringify(u)}: expected an array containing either three or four numeric values.`:s6(u[0],u[1],u[2],u[3]),!h))return new Ti(u[0]/255,u[1]/255,u[2]/255,u[3])}throw new Ca(h||`Could not parse color from value '${typeof u=="string"?u:String(JSON.stringify(u))}'`)}if(this.type.kind==="number"){let u=null;for(const h of this.args){if(u=h.evaluate(o),u===null)return 0;const y=Number(u);if(!isNaN(y))return y}throw new Ca(`Could not convert ${JSON.stringify(u)} to number.`)}return this.type.kind==="formatted"?mo.fromString(af(this.args[0].evaluate(o))):this.type.kind==="resolvedImage"?fs.fromString(af(this.args[0].evaluate(o))):af(this.args[0].evaluate(o))}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Dc([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new a0(this.args[0]).serialize();const o=[`to-${this.type.kind}`];return this.eachChild(u=>{o.push(u.serialize())}),o}}var qd=K2;const ll=["Unknown","Point","LineString","Polygon"];var q2=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?ll[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const c=this.featureDistanceData.center,o=this.featureDistanceData.scale,{x:u,y:h}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(u*o-c[0])+this.featureDistanceData.bearing[1]*(h*o-c[1])}return 0}parseColor(c){let o=this._parseColorCache[c];return o||(o=this._parseColorCache[c]=Ti.parse(c)),o}};class Tu{constructor(o,u,h,y){this.name=o,this.type=u,this._evaluate=h,this.args=y}evaluate(o){return this._evaluate(o,this.args)}eachChild(o){this.args.forEach(o)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(o=>o.serialize()))}static parse(o,u){const h=o[0],y=Tu.definitions[h];if(!y)return u.error(`Unknown expression "${h}". If you wanted a literal array, use ["literal", [...]].`,0);const x=Array.isArray(y)?y[0]:y.type,S=Array.isArray(y)?[[y[1],y[2]]]:y.overloads,A=S.filter(([D])=>!Array.isArray(D)||D.length===o.length-1);let P=null;for(const[D,V]of A){P=new Q2(u.registry,u.path,null,u.scope);const W=[];let q=!1;for(let X=1;X<o.length;X++){const te=o[X],ue=Array.isArray(D)?D[X-1]:D.type,Se=P.parse(te,1+W.length,ue);if(!Se){q=!0;break}W.push(Se)}if(!q)if(Array.isArray(D)&&D.length!==W.length)P.error(`Expected ${D.length} arguments, but found ${W.length} instead.`);else{for(let X=0;X<W.length;X++){const te=Array.isArray(D)?D[X]:D.type,ue=W[X];P.concat(X+1).checkSubtype(te,ue.type)}if(P.errors.length===0)return new Tu(h,x,V,W)}}if(A.length===1)u.errors.push(...P.errors);else{const D=(A.length?A:S).map(([W])=>{return q=W,Array.isArray(q)?`(${q.map(ii).join(", ")})`:`(${ii(q.type)}...)`;var q}).join(" | "),V=[];for(let W=1;W<o.length;W++){const q=u.parse(o[W],1+V.length);if(!q)return null;V.push(ii(q.type))}u.error(`Expected arguments of type ${D}, but found (${V.join(", ")}) instead.`)}return null}static register(o,u){Tu.definitions=u;for(const h in u)o[h]=Tu}}var Fl=Tu;class of{constructor(o,u,h){this.type=Zo,this.locale=h,this.caseSensitive=o,this.diacriticSensitive=u}static parse(o,u){if(o.length!==2)return u.error("Expected one argument.");const h=o[1];if(typeof h!="object"||Array.isArray(h))return u.error("Collator options argument must be an object.");const y=u.parse(h["case-sensitive"]!==void 0&&h["case-sensitive"],1,sn);if(!y)return null;const x=u.parse(h["diacritic-sensitive"]!==void 0&&h["diacritic-sensitive"],1,sn);if(!x)return null;let S=null;return h.locale&&(S=u.parse(h.locale,1,dn),!S)?null:new of(y,x,S)}evaluate(o){return new j2(this.caseSensitive.evaluate(o),this.diacriticSensitive.evaluate(o),this.locale?this.locale.evaluate(o):null)}eachChild(o){o(this.caseSensitive),o(this.diacriticSensitive),this.locale&&o(this.locale)}outputDefined(){return!1}serialize(){const o={};return o["case-sensitive"]=this.caseSensitive.serialize(),o["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(o.locale=this.locale.serialize()),["collator",o]}}const jl=8192;function o0(c,o){c[0]=Math.min(c[0],o[0]),c[1]=Math.min(c[1],o[1]),c[2]=Math.max(c[2],o[0]),c[3]=Math.max(c[3],o[1])}function Gd(c,o){return!(c[0]<=o[0]||c[2]>=o[2]||c[1]<=o[1]||c[3]>=o[3])}function sf(c,o){const u=(180+c[0])/360,h=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,y=Math.pow(2,o.z);return[Math.round(u*y*jl),Math.round(h*y*jl)]}function l6(c,o,u){const h=c[0]-o[0],y=c[1]-o[1],x=c[0]-u[0],S=c[1]-u[1];return h*S-x*y==0&&h*x<=0&&y*S<=0}function s0(c,o){let u=!1;for(let S=0,A=o.length;S<A;S++){const P=o[S];for(let D=0,V=P.length;D<V-1;D++){if(l6(c,P[D],P[D+1]))return!1;(y=P[D])[1]>(h=c)[1]!=(x=P[D+1])[1]>h[1]&&h[0]<(x[0]-y[0])*(h[1]-y[1])/(x[1]-y[1])+y[0]&&(u=!u)}}var h,y,x;return u}function G2(c,o){for(let u=0;u<o.length;u++)if(s0(c,o[u]))return!0;return!1}function H2(c,o,u,h){const y=h[0]-u[0],x=h[1]-u[1],S=(c[0]-u[0])*x-y*(c[1]-u[1]),A=(o[0]-u[0])*x-y*(o[1]-u[1]);return S>0&&A<0||S<0&&A>0}function Hd(c,o,u){for(const D of u)for(let V=0;V<D.length-1;++V)if((A=[(S=D[V+1])[0]-(x=D[V])[0],S[1]-x[1]])[0]*(P=[(y=o)[0]-(h=c)[0],y[1]-h[1]])[1]-A[1]*P[0]!=0&&H2(h,y,x,S)&&H2(x,S,h,y))return!0;var h,y,x,S,A,P;return!1}function Pn(c,o){for(let u=0;u<c.length;++u)if(!s0(c[u],o))return!1;for(let u=0;u<c.length-1;++u)if(Hd(c[u],c[u+1],o))return!1;return!0}function JS(c,o){for(let u=0;u<o.length;u++)if(Pn(c,o[u]))return!0;return!1}function Z2(c,o,u){const h=[];for(let y=0;y<c.length;y++){const x=[];for(let S=0;S<c[y].length;S++){const A=sf(c[y][S],u);o0(o,A),x.push(A)}h.push(x)}return h}function c6(c,o,u){const h=[];for(let y=0;y<c.length;y++){const x=Z2(c[y],o,u);h.push(x)}return h}function Y2(c,o,u,h){if(c[0]<u[0]||c[0]>u[2]){const y=.5*h;let x=c[0]-u[0]>y?-h:u[0]-c[0]>y?h:0;x===0&&(x=c[0]-u[2]>y?-h:u[2]-c[0]>y?h:0),c[0]+=x}o0(o,c)}function u6(c,o,u,h){const y=Math.pow(2,h.z)*jl,x=[h.x*jl,h.y*jl],S=[];if(!c)return S;for(const A of c)for(const P of A){const D=[P.x+x[0],P.y+x[1]];Y2(D,o,u,y),S.push(D)}return S}function X2(c,o,u,h){const y=Math.pow(2,h.z)*jl,x=[h.x*jl,h.y*jl],S=[];if(!c)return S;for(const P of c){const D=[];for(const V of P){const W=[V.x+x[0],V.y+x[1]];o0(o,W),D.push(W)}S.push(D)}if(o[2]-o[0]<=y/2){(A=o)[0]=A[1]=1/0,A[2]=A[3]=-1/0;for(const P of S)for(const D of P)Y2(D,o,u,y)}var A;return S}class Zd{constructor(o,u){this.type=sn,this.geojson=o,this.geometries=u}static parse(o,u){if(o.length!==2)return u.error(`'within' expression requires exactly one argument, but found ${o.length-1} instead.`);if(nf(o[1])){const h=o[1];if(h.type==="FeatureCollection")for(let y=0;y<h.features.length;++y){const x=h.features[y].geometry.type;if(x==="Polygon"||x==="MultiPolygon")return new Zd(h,h.features[y].geometry)}else if(h.type==="Feature"){const y=h.geometry.type;if(y==="Polygon"||y==="MultiPolygon")return new Zd(h,h.geometry)}else if(h.type==="Polygon"||h.type==="MultiPolygon")return new Zd(h,h)}return u.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return function(u,h){const y=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],S=u.canonicalID();if(!S)return!1;if(h.type==="Polygon"){const A=Z2(h.coordinates,x,S),P=u6(u.geometry(),y,x,S);if(!Gd(y,x))return!1;for(const D of P)if(!s0(D,A))return!1}if(h.type==="MultiPolygon"){const A=c6(h.coordinates,x,S),P=u6(u.geometry(),y,x,S);if(!Gd(y,x))return!1;for(const D of P)if(!G2(D,A))return!1}return!0}(o,this.geometries);if(o.geometryType()==="LineString")return function(u,h){const y=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],S=u.canonicalID();if(!S)return!1;if(h.type==="Polygon"){const A=Z2(h.coordinates,x,S),P=X2(u.geometry(),y,x,S);if(!Gd(y,x))return!1;for(const D of P)if(!Pn(D,A))return!1}if(h.type==="MultiPolygon"){const A=c6(h.coordinates,x,S),P=X2(u.geometry(),y,x,S);if(!Gd(y,x))return!1;for(const D of P)if(!JS(D,A))return!1}return!0}(o,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var l0=Zd;function Yd(c){if(c instanceof Fl&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof l0)return!1;let o=!0;return c.eachChild(u=>{o&&!Yd(u)&&(o=!1)}),o}function Vl(c){if(c instanceof Fl&&c.name==="feature-state")return!1;let o=!0;return c.eachChild(u=>{o&&!Vl(u)&&(o=!1)}),o}function Mu(c,o){if(c instanceof Fl&&o.indexOf(c.name)>=0)return!1;let u=!0;return c.eachChild(h=>{u&&!Mu(h,o)&&(u=!1)}),u}class c0{constructor(o,u){this.type=u.type,this.name=o,this.boundExpression=u}static parse(o,u){if(o.length!==2||typeof o[1]!="string")return u.error("'var' expression requires exactly one string literal argument.");const h=o[1];return u.scope.has(h)?new c0(h,u.scope.get(h)):u.error(`Unknown variable "${h}". Make sure "${h}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(o){return this.boundExpression.evaluate(o)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var d6=c0;class lf{constructor(o,u=[],h,y=new i6,x=[]){this.registry=o,this.path=u,this.key=u.map(S=>`[${S}]`).join(""),this.scope=y,this.errors=x,this.expectedType=h}parse(o,u,h,y,x={}){return u?this.concat(u,h,y)._parse(o,x):this._parse(o,x)}_parse(o,u){function h(y,x,S){return S==="assert"?new Bl(x,[y]):S==="coerce"?new qd(x,[y]):y}if(o!==null&&typeof o!="string"&&typeof o!="boolean"&&typeof o!="number"||(o=["literal",o]),Array.isArray(o)){if(o.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const y=o[0];if(typeof y!="string")return this.error(`Expression name must be a string, but found ${typeof y} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const x=this.registry[y];if(x){let S=x.parse(o,this);if(!S)return null;if(this.expectedType){const A=this.expectedType,P=S.type;if(A.kind!=="string"&&A.kind!=="number"&&A.kind!=="boolean"&&A.kind!=="object"&&A.kind!=="array"||P.kind!=="value")if(A.kind!=="color"&&A.kind!=="formatted"&&A.kind!=="resolvedImage"||P.kind!=="value"&&P.kind!=="string"){if(this.checkSubtype(A,P))return null}else S=h(S,A,u.typeAnnotation||"coerce");else S=h(S,A,u.typeAnnotation||"assert")}if(!(S instanceof Au)&&S.type.kind!=="resolvedImage"&&J2(S)){const A=new q2;try{S=new Au(S.type,S.evaluate(A))}catch(P){return this.error(P.message),null}}return S}return this.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(o===void 0?"'undefined' value invalid. Use null instead.":typeof o=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof o} instead.`)}concat(o,u,h){const y=typeof o=="number"?this.path.concat(o):this.path,x=h?this.scope.concat(h):this.scope;return new lf(this.registry,y,u||null,x,this.errors)}error(o,...u){const h=`${this.key}${u.map(y=>`[${y}]`).join("")}`;this.errors.push(new sl(h,o))}checkSubtype(o,u){const h=Ol(o,u);return h&&this.error(h),h}}var Q2=lf;function J2(c){if(c instanceof d6)return J2(c.boundExpression);if(c instanceof Fl&&c.name==="error"||c instanceof of||c instanceof l0)return!1;const o=c instanceof qd||c instanceof Bl;let u=!0;return c.eachChild(h=>{u=o?u&&J2(h):u&&h instanceof Au}),!!u&&Yd(c)&&Mu(c,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function u0(c,o){const u=c.length-1;let h,y,x=0,S=u,A=0;for(;x<=S;)if(A=Math.floor((x+S)/2),h=c[A],y=c[A+1],h<=o){if(A===u||o<y)return A;x=A+1}else{if(!(h>o))throw new Ca("Input is not a number.");S=A-1}return 0}class d0{constructor(o,u,h){this.type=o,this.input=u,this.labels=[],this.outputs=[];for(const[y,x]of h)this.labels.push(y),this.outputs.push(x)}static parse(o,u){if(o.length-1<4)return u.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return u.error("Expected an even number of arguments.");const h=u.parse(o[1],1,nr);if(!h)return null;const y=[];let x=null;u.expectedType&&u.expectedType.kind!=="value"&&(x=u.expectedType);for(let S=1;S<o.length;S+=2){const A=S===1?-1/0:o[S],P=o[S+1],D=S,V=S+1;if(typeof A!="number")return u.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',D);if(y.length&&y[y.length-1][0]>=A)return u.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',D);const W=u.parse(P,V,x);if(!W)return null;x=x||W.type,y.push([A,W])}return new d0(x,h,y)}evaluate(o){const u=this.labels,h=this.outputs;if(u.length===1)return h[0].evaluate(o);const y=this.input.evaluate(o);if(y<=u[0])return h[0].evaluate(o);const x=u.length;return y>=u[x-1]?h[x-1].evaluate(o):h[u0(u,y)].evaluate(o)}eachChild(o){o(this.input);for(const u of this.outputs)o(u)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}serialize(){const o=["step",this.input.serialize()];for(let u=0;u<this.labels.length;u++)u>0&&o.push(this.labels[u]),o.push(this.outputs[u].serialize());return o}}var e_=d0;function gn(c,o,u){return c*(1-u)+o*u}var cf=Object.freeze({__proto__:null,array:function(c,o,u){return c.map((h,y)=>gn(h,o[y],u))},color:function(c,o,u){return new Ti(gn(c.r,o.r,u),gn(c.g,o.g,u),gn(c.b,o.b,u),gn(c.a,o.a,u))},number:gn});const p6=.95047,t_=1.08883,h6=4/29,Pu=6/29,r_=3*Pu*Pu,e7=Pu*Pu*Pu,t7=Math.PI/180,r7=180/Math.PI;function n_(c){return c>e7?Math.pow(c,1/3):c/r_+h6}function i_(c){return c>Pu?c*c*c:r_*(c-h6)}function a_(c){return 255*(c<=.0031308?12.92*c:1.055*Math.pow(c,1/2.4)-.055)}function p0(c){return(c/=255)<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function f6(c){const o=p0(c.r),u=p0(c.g),h=p0(c.b),y=n_((.4124564*o+.3575761*u+.1804375*h)/p6),x=n_((.2126729*o+.7151522*u+.072175*h)/1);return{l:116*x-16,a:500*(y-x),b:200*(x-n_((.0193339*o+.119192*u+.9503041*h)/t_)),alpha:c.a}}function m6(c){let o=(c.l+16)/116,u=isNaN(c.a)?o:o+c.a/500,h=isNaN(c.b)?o:o-c.b/200;return o=1*i_(o),u=p6*i_(u),h=t_*i_(h),new Ti(a_(3.2404542*u-1.5371385*o-.4985314*h),a_(-.969266*u+1.8760108*o+.041556*h),a_(.0556434*u-.2040259*o+1.0572252*h),c.alpha)}function n7(c,o,u){const h=o-c;return c+u*(h>180||h<-180?h-360*Math.round(h/360):h)}const uf={forward:f6,reverse:m6,interpolate:function(c,o,u){return{l:gn(c.l,o.l,u),a:gn(c.a,o.a,u),b:gn(c.b,o.b,u),alpha:gn(c.alpha,o.alpha,u)}}},Xd={forward:function(c){const{l:o,a:u,b:h}=f6(c),y=Math.atan2(h,u)*r7;return{h:y<0?y+360:y,c:Math.sqrt(u*u+h*h),l:o,alpha:c.a}},reverse:function(c){const o=c.h*t7,u=c.c;return m6({l:c.l,a:Math.cos(o)*u,b:Math.sin(o)*u,alpha:c.alpha})},interpolate:function(c,o,u){return{h:n7(c.h,o.h,u),c:gn(c.c,o.c,u),l:gn(c.l,o.l,u),alpha:gn(c.alpha,o.alpha,u)}}};var o_=Object.freeze({__proto__:null,hcl:Xd,lab:uf});class df{constructor(o,u,h,y,x){this.type=o,this.operator=u,this.interpolation=h,this.input=y,this.labels=[],this.outputs=[];for(const[S,A]of x)this.labels.push(S),this.outputs.push(A)}static interpolationFactor(o,u,h,y){let x=0;if(o.name==="exponential")x=s_(u,o.base,h,y);else if(o.name==="linear")x=s_(u,1,h,y);else if(o.name==="cubic-bezier"){const S=o.controlPoints;x=new re(S[0],S[1],S[2],S[3]).solve(s_(u,1,h,y))}return x}static parse(o,u){let[h,y,x,...S]=o;if(!Array.isArray(y)||y.length===0)return u.error("Expected an interpolation type expression.",1);if(y[0]==="linear")y={name:"linear"};else if(y[0]==="exponential"){const D=y[1];if(typeof D!="number")return u.error("Exponential interpolation requires a numeric base.",1,1);y={name:"exponential",base:D}}else{if(y[0]!=="cubic-bezier")return u.error(`Unknown interpolation type ${String(y[0])}`,1,0);{const D=y.slice(1);if(D.length!==4||D.some(V=>typeof V!="number"||V<0||V>1))return u.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);y={name:"cubic-bezier",controlPoints:D}}}if(o.length-1<4)return u.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return u.error("Expected an even number of arguments.");if(x=u.parse(x,2,nr),!x)return null;const A=[];let P=null;h==="interpolate-hcl"||h==="interpolate-lab"?P=Ho:u.expectedType&&u.expectedType.kind!=="value"&&(P=u.expectedType);for(let D=0;D<S.length;D+=2){const V=S[D],W=S[D+1],q=D+3,X=D+4;if(typeof V!="number")return u.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',q);if(A.length&&A[A.length-1][0]>=V)return u.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',q);const te=u.parse(W,X,P);if(!te)return null;P=P||te.type,A.push([V,te])}return P.kind==="number"||P.kind==="color"||P.kind==="array"&&P.itemType.kind==="number"&&typeof P.N=="number"?new df(P,h,y,x,A):u.error(`Type ${ii(P)} is not interpolatable.`)}evaluate(o){const u=this.labels,h=this.outputs;if(u.length===1)return h[0].evaluate(o);const y=this.input.evaluate(o);if(y<=u[0])return h[0].evaluate(o);const x=u.length;if(y>=u[x-1])return h[x-1].evaluate(o);const S=u0(u,y),A=df.interpolationFactor(this.interpolation,y,u[S],u[S+1]),P=h[S].evaluate(o),D=h[S+1].evaluate(o);return this.operator==="interpolate"?cf[this.type.kind.toLowerCase()](P,D,A):this.operator==="interpolate-hcl"?Xd.reverse(Xd.interpolate(Xd.forward(P),Xd.forward(D),A)):uf.reverse(uf.interpolate(uf.forward(P),uf.forward(D),A))}eachChild(o){o(this.input);for(const u of this.outputs)o(u)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}serialize(){let o;o=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const u=[this.operator,o,this.input.serialize()];for(let h=0;h<this.labels.length;h++)u.push(this.labels[h],this.outputs[h].serialize());return u}}function s_(c,o,u,h){const y=h-u,x=c-u;return y===0?0:o===1?x/y:(Math.pow(o,x)-1)/(Math.pow(o,y)-1)}var cl=df;class h0{constructor(o,u){this.type=o,this.args=u}static parse(o,u){if(o.length<2)return u.error("Expectected at least one argument.");let h=null;const y=u.expectedType;y&&y.kind!=="value"&&(h=y);const x=[];for(const A of o.slice(1)){const P=u.parse(A,1+x.length,h,void 0,{typeAnnotation:"omit"});if(!P)return null;h=h||P.type,x.push(P)}const S=y&&x.some(A=>Ol(y,A.type));return new h0(S?ln:h,x)}evaluate(o){let u,h=null,y=0;for(const x of this.args){if(y++,h=x.evaluate(o),h&&h instanceof fs&&!h.available&&(u||(u=h),h=null,y===this.args.length))return u;if(h!==null)break}return h}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){const o=["coalesce"];return this.eachChild(u=>{o.push(u.serialize())}),o}}var l_=h0;class f0{constructor(o,u){this.type=u.type,this.bindings=[].concat(o),this.result=u}evaluate(o){return this.result.evaluate(o)}eachChild(o){for(const u of this.bindings)o(u[1]);o(this.result)}static parse(o,u){if(o.length<4)return u.error(`Expected at least 3 arguments, but found ${o.length-1} instead.`);const h=[];for(let x=1;x<o.length-1;x+=2){const S=o[x];if(typeof S!="string")return u.error(`Expected string, but found ${typeof S} instead.`,x);if(/[^a-zA-Z0-9_]/.test(S))return u.error("Variable names must contain only alphanumeric characters or '_'.",x);const A=u.parse(o[x+1],x+1);if(!A)return null;h.push([S,A])}const y=u.parse(o[o.length-1],o.length-1,u.expectedType,h);return y?new f0(h,y):null}outputDefined(){return this.result.outputDefined()}serialize(){const o=["let"];for(const[u,h]of this.bindings)o.push(u,h.serialize());return o.push(this.result.serialize()),o}}var g6=f0;class c_{constructor(o,u,h){this.type=o,this.index=u,this.input=h}static parse(o,u){if(o.length!==3)return u.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const h=u.parse(o[1],1,nr),y=u.parse(o[2],2,hs(u.expectedType||ln));return h&&y?new c_(y.type.itemType,h,y):null}evaluate(o){const u=this.index.evaluate(o),h=this.input.evaluate(o);if(u<0)throw new Ca(`Array index out of bounds: ${u} < 0.`);if(u>=h.length)throw new Ca(`Array index out of bounds: ${u} > ${h.length-1}.`);if(u!==Math.floor(u))throw new Ca(`Array index must be an integer, but found ${u} instead.`);return h[u]}eachChild(o){o(this.index),o(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var i7=c_;class u_{constructor(o,u){this.type=sn,this.needle=o,this.haystack=u}static parse(o,u){if(o.length!==3)return u.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const h=u.parse(o[1],1,ln),y=u.parse(o[2],2,ln);return h&&y?Jh(h.type,[sn,dn,nr,$d,ln])?new u_(h,y):u.error(`Expected first argument to be of type boolean, string, number or null, but found ${ii(h.type)} instead`):null}evaluate(o){const u=this.needle.evaluate(o),h=this.haystack.evaluate(o);if(h==null)return!1;if(!ef(u,["boolean","string","number","null"]))throw new Ca(`Expected first argument to be of type boolean, string, number or null, but found ${ii(mi(u))} instead.`);if(!ef(h,["string","array"]))throw new Ca(`Expected second argument to be of type array or string, but found ${ii(mi(h))} instead.`);return h.indexOf(u)>=0}eachChild(o){o(this.needle),o(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var m0=u_;class pf{constructor(o,u,h){this.type=nr,this.needle=o,this.haystack=u,this.fromIndex=h}static parse(o,u){if(o.length<=2||o.length>=5)return u.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const h=u.parse(o[1],1,ln),y=u.parse(o[2],2,ln);if(!h||!y)return null;if(!Jh(h.type,[sn,dn,nr,$d,ln]))return u.error(`Expected first argument to be of type boolean, string, number or null, but found ${ii(h.type)} instead`);if(o.length===4){const x=u.parse(o[3],3,nr);return x?new pf(h,y,x):null}return new pf(h,y)}evaluate(o){const u=this.needle.evaluate(o),h=this.haystack.evaluate(o);if(!ef(u,["boolean","string","number","null"]))throw new Ca(`Expected first argument to be of type boolean, string, number or null, but found ${ii(mi(u))} instead.`);if(!ef(h,["string","array"]))throw new Ca(`Expected second argument to be of type array or string, but found ${ii(mi(h))} instead.`);if(this.fromIndex){const y=this.fromIndex.evaluate(o);return h.indexOf(u,y)}return h.indexOf(u)}eachChild(o){o(this.needle),o(this.haystack),this.fromIndex&&o(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const o=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),o]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var y6=pf;class d_{constructor(o,u,h,y,x,S){this.inputType=o,this.type=u,this.input=h,this.cases=y,this.outputs=x,this.otherwise=S}static parse(o,u){if(o.length<5)return u.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if(o.length%2!=1)return u.error("Expected an even number of arguments.");let h,y;u.expectedType&&u.expectedType.kind!=="value"&&(y=u.expectedType);const x={},S=[];for(let D=2;D<o.length-1;D+=2){let V=o[D];const W=o[D+1];Array.isArray(V)||(V=[V]);const q=u.concat(D);if(V.length===0)return q.error("Expected at least one branch label.");for(const te of V){if(typeof te!="number"&&typeof te!="string")return q.error("Branch labels must be numbers or strings.");if(typeof te=="number"&&Math.abs(te)>Number.MAX_SAFE_INTEGER)return q.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof te=="number"&&Math.floor(te)!==te)return q.error("Numeric branch labels must be integer values.");if(h){if(q.checkSubtype(h,mi(te)))return null}else h=mi(te);if(x[String(te)]!==void 0)return q.error("Branch labels must be unique.");x[String(te)]=S.length}const X=u.parse(W,D,y);if(!X)return null;y=y||X.type,S.push(X)}const A=u.parse(o[1],1,ln);if(!A)return null;const P=u.parse(o[o.length-1],o.length-1,y);return P?A.type.kind!=="value"&&u.concat(1).checkSubtype(h,A.type)?null:new d_(h,y,A,x,S,P):null}evaluate(o){const u=this.input.evaluate(o);return(mi(u)===this.inputType&&this.outputs[this.cases[u]]||this.otherwise).evaluate(o)}eachChild(o){o(this.input),this.outputs.forEach(o),o(this.otherwise)}outputDefined(){return this.outputs.every(o=>o.outputDefined())&&this.otherwise.outputDefined()}serialize(){const o=["match",this.input.serialize()],u=Object.keys(this.cases).sort(),h=[],y={};for(const S of u){const A=y[this.cases[S]];A===void 0?(y[this.cases[S]]=h.length,h.push([this.cases[S],[S]])):h[A][1].push(S)}const x=S=>this.inputType.kind==="number"?Number(S):S;for(const[S,A]of h)o.push(A.length===1?x(A[0]):A.map(x)),o.push(this.outputs[S].serialize());return o.push(this.otherwise.serialize()),o}}var a7=d_;class p_{constructor(o,u,h){this.type=o,this.branches=u,this.otherwise=h}static parse(o,u){if(o.length<4)return u.error(`Expected at least 3 arguments, but found only ${o.length-1}.`);if(o.length%2!=0)return u.error("Expected an odd number of arguments.");let h;u.expectedType&&u.expectedType.kind!=="value"&&(h=u.expectedType);const y=[];for(let S=1;S<o.length-1;S+=2){const A=u.parse(o[S],S,sn);if(!A)return null;const P=u.parse(o[S+1],S+1,h);if(!P)return null;y.push([A,P]),h=h||P.type}const x=u.parse(o[o.length-1],o.length-1,h);return x?new p_(h,y,x):null}evaluate(o){for(const[u,h]of this.branches)if(u.evaluate(o))return h.evaluate(o);return this.otherwise.evaluate(o)}eachChild(o){for(const[u,h]of this.branches)o(u),o(h);o(this.otherwise)}outputDefined(){return this.branches.every(([o,u])=>u.outputDefined())&&this.otherwise.outputDefined()}serialize(){const o=["case"];return this.eachChild(u=>{o.push(u.serialize())}),o}}var v6=p_;class hf{constructor(o,u,h,y){this.type=o,this.input=u,this.beginIndex=h,this.endIndex=y}static parse(o,u){if(o.length<=2||o.length>=5)return u.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const h=u.parse(o[1],1,ln),y=u.parse(o[2],2,nr);if(!h||!y)return null;if(!Jh(h.type,[hs(ln),dn,ln]))return u.error(`Expected first argument to be of type array or string, but found ${ii(h.type)} instead`);if(o.length===4){const x=u.parse(o[3],3,nr);return x?new hf(h.type,h,y,x):null}return new hf(h.type,h,y)}evaluate(o){const u=this.input.evaluate(o),h=this.beginIndex.evaluate(o);if(!ef(u,["string","array"]))throw new Ca(`Expected first argument to be of type array or string, but found ${ii(mi(u))} instead.`);if(this.endIndex){const y=this.endIndex.evaluate(o);return u.slice(h,y)}return u.slice(h)}eachChild(o){o(this.input),o(this.beginIndex),this.endIndex&&o(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const o=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),o]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var _6=hf;function g0(c,o){return c==="=="||c==="!="?o.kind==="boolean"||o.kind==="string"||o.kind==="number"||o.kind==="null"||o.kind==="value":o.kind==="string"||o.kind==="number"||o.kind==="value"}function b6(c,o,u,h){return h.compare(o,u)===0}function Qd(c,o,u){const h=c!=="=="&&c!=="!=";return class Zle{constructor(x,S,A){this.type=sn,this.lhs=x,this.rhs=S,this.collator=A,this.hasUntypedArgument=x.type.kind==="value"||S.type.kind==="value"}static parse(x,S){if(x.length!==3&&x.length!==4)return S.error("Expected two or three arguments.");const A=x[0];let P=S.parse(x[1],1,ln);if(!P)return null;if(!g0(A,P.type))return S.concat(1).error(`"${A}" comparisons are not supported for type '${ii(P.type)}'.`);let D=S.parse(x[2],2,ln);if(!D)return null;if(!g0(A,D.type))return S.concat(2).error(`"${A}" comparisons are not supported for type '${ii(D.type)}'.`);if(P.type.kind!==D.type.kind&&P.type.kind!=="value"&&D.type.kind!=="value")return S.error(`Cannot compare types '${ii(P.type)}' and '${ii(D.type)}'.`);h&&(P.type.kind==="value"&&D.type.kind!=="value"?P=new Bl(D.type,[P]):P.type.kind!=="value"&&D.type.kind==="value"&&(D=new Bl(P.type,[D])));let V=null;if(x.length===4){if(P.type.kind!=="string"&&D.type.kind!=="string"&&P.type.kind!=="value"&&D.type.kind!=="value")return S.error("Cannot use collator to compare non-string types.");if(V=S.parse(x[3],3,Zo),!V)return null}return new Zle(P,D,V)}evaluate(x){const S=this.lhs.evaluate(x),A=this.rhs.evaluate(x);if(h&&this.hasUntypedArgument){const P=mi(S),D=mi(A);if(P.kind!==D.kind||P.kind!=="string"&&P.kind!=="number")throw new Ca(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${P.kind}, ${D.kind}) instead.`)}if(this.collator&&!h&&this.hasUntypedArgument){const P=mi(S),D=mi(A);if(P.kind!=="string"||D.kind!=="string")return o(x,S,A)}return this.collator?u(x,S,A,this.collator.evaluate(x)):o(x,S,A)}eachChild(x){x(this.lhs),x(this.rhs),this.collator&&x(this.collator)}outputDefined(){return!0}serialize(){const x=[c];return this.eachChild(S=>{x.push(S.serialize())}),x}}}const o7=Qd("==",function(c,o,u){return o===u},b6),s7=Qd("!=",function(c,o,u){return o!==u},function(c,o,u,h){return!b6(0,o,u,h)}),l7=Qd("<",function(c,o,u){return o<u},function(c,o,u,h){return h.compare(o,u)<0}),c7=Qd(">",function(c,o,u){return o>u},function(c,o,u,h){return h.compare(o,u)>0}),u7=Qd("<=",function(c,o,u){return o<=u},function(c,o,u,h){return h.compare(o,u)<=0}),x6=Qd(">=",function(c,o,u){return o>=u},function(c,o,u,h){return h.compare(o,u)>=0});class y0{constructor(o,u,h,y,x,S){this.type=dn,this.number=o,this.locale=u,this.currency=h,this.unit=y,this.minFractionDigits=x,this.maxFractionDigits=S}static parse(o,u){if(o.length!==3)return u.error("Expected two arguments.");const h=u.parse(o[1],1,nr);if(!h)return null;const y=o[2];if(typeof y!="object"||Array.isArray(y))return u.error("NumberFormat options argument must be an object.");let x=null;if(y.locale&&(x=u.parse(y.locale,1,dn),!x))return null;let S=null;if(y.currency&&(S=u.parse(y.currency,1,dn),!S))return null;let A=null;if(y.unit&&(A=u.parse(y.unit,1,dn),!A))return null;let P=null;if(y["min-fraction-digits"]&&(P=u.parse(y["min-fraction-digits"],1,nr),!P))return null;let D=null;return y["max-fraction-digits"]&&(D=u.parse(y["max-fraction-digits"],1,nr),!D)?null:new y0(h,x,S,A,P,D)}evaluate(o){return new Intl.NumberFormat(this.locale?this.locale.evaluate(o):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(o):void 0,unit:this.unit?this.unit.evaluate(o):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(o):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(o):void 0}).format(this.number.evaluate(o))}eachChild(o){o(this.number),this.locale&&o(this.locale),this.currency&&o(this.currency),this.unit&&o(this.unit),this.minFractionDigits&&o(this.minFractionDigits),this.maxFractionDigits&&o(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const o={};return this.locale&&(o.locale=this.locale.serialize()),this.currency&&(o.currency=this.currency.serialize()),this.unit&&(o.unit=this.unit.serialize()),this.minFractionDigits&&(o["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(o["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),o]}}class Jd{constructor(o){this.type=nr,this.input=o}static parse(o,u){if(o.length!==2)return u.error(`Expected 1 argument, but found ${o.length-1} instead.`);const h=u.parse(o[1],1);return h?h.type.kind!=="array"&&h.type.kind!=="string"&&h.type.kind!=="value"?u.error(`Expected argument of type string or array, but found ${ii(h.type)} instead.`):new Jd(h):null}evaluate(o){const u=this.input.evaluate(o);if(typeof u=="string"||Array.isArray(u))return u.length;throw new Ca(`Expected value to be of type string or array, but found ${ii(mi(u))} instead.`)}eachChild(o){o(this.input)}outputDefined(){return!1}serialize(){const o=["length"];return this.eachChild(u=>{o.push(u.serialize())}),o}}const w6={"==":o7,"!=":s7,">":c7,"<":l7,">=":x6,"<=":u7,array:Bl,at:i7,boolean:Bl,case:v6,coalesce:l_,collator:of,format:Dc,image:a0,in:m0,"index-of":y6,interpolate:cl,"interpolate-hcl":cl,"interpolate-lab":cl,length:Jd,let:g6,literal:Au,match:a7,number:Bl,"number-format":y0,object:Bl,slice:_6,step:e_,string:Bl,"to-boolean":qd,"to-color":qd,"to-number":qd,"to-string":qd,var:d6,within:l0};function S6(c,[o,u,h,y]){o=o.evaluate(c),u=u.evaluate(c),h=h.evaluate(c);const x=y?y.evaluate(c):1,S=s6(o,u,h,x);if(S)throw new Ca(S);return new Ti(o/255*x,u/255*x,h/255*x,x)}function Ul(c,o){return c in o}function v0(c,o){const u=o[c];return u===void 0?null:u}function ms(c){return{type:c}}Fl.register(w6,{error:[{kind:"error"},[dn],(c,[o])=>{throw new Ca(o.evaluate(c))}],typeof:[dn,[ln],(c,[o])=>ii(mi(o.evaluate(c)))],"to-rgba":[hs(nr,4),[Ho],(c,[o])=>o.evaluate(c).toArray()],rgb:[Ho,[nr,nr,nr],S6],rgba:[Ho,[nr,nr,nr,nr],S6],has:{type:sn,overloads:[[[dn],(c,[o])=>Ul(o.evaluate(c),c.properties())],[[dn,Rs],(c,[o,u])=>Ul(o.evaluate(c),u.evaluate(c))]]},get:{type:ln,overloads:[[[dn],(c,[o])=>v0(o.evaluate(c),c.properties())],[[dn,Rs],(c,[o,u])=>v0(o.evaluate(c),u.evaluate(c))]]},"feature-state":[ln,[dn],(c,[o])=>v0(o.evaluate(c),c.featureState||{})],properties:[Rs,[],c=>c.properties()],"geometry-type":[dn,[],c=>c.geometryType()],id:[ln,[],c=>c.id()],zoom:[nr,[],c=>c.globals.zoom],pitch:[nr,[],c=>c.globals.pitch||0],"distance-from-center":[nr,[],c=>c.distanceFromCenter()],"heatmap-density":[nr,[],c=>c.globals.heatmapDensity||0],"line-progress":[nr,[],c=>c.globals.lineProgress||0],"sky-radial-progress":[nr,[],c=>c.globals.skyRadialProgress||0],accumulated:[ln,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[nr,ms(nr),(c,o)=>{let u=0;for(const h of o)u+=h.evaluate(c);return u}],"*":[nr,ms(nr),(c,o)=>{let u=1;for(const h of o)u*=h.evaluate(c);return u}],"-":{type:nr,overloads:[[[nr,nr],(c,[o,u])=>o.evaluate(c)-u.evaluate(c)],[[nr],(c,[o])=>-o.evaluate(c)]]},"/":[nr,[nr,nr],(c,[o,u])=>o.evaluate(c)/u.evaluate(c)],"%":[nr,[nr,nr],(c,[o,u])=>o.evaluate(c)%u.evaluate(c)],ln2:[nr,[],()=>Math.LN2],pi:[nr,[],()=>Math.PI],e:[nr,[],()=>Math.E],"^":[nr,[nr,nr],(c,[o,u])=>Math.pow(o.evaluate(c),u.evaluate(c))],sqrt:[nr,[nr],(c,[o])=>Math.sqrt(o.evaluate(c))],log10:[nr,[nr],(c,[o])=>Math.log(o.evaluate(c))/Math.LN10],ln:[nr,[nr],(c,[o])=>Math.log(o.evaluate(c))],log2:[nr,[nr],(c,[o])=>Math.log(o.evaluate(c))/Math.LN2],sin:[nr,[nr],(c,[o])=>Math.sin(o.evaluate(c))],cos:[nr,[nr],(c,[o])=>Math.cos(o.evaluate(c))],tan:[nr,[nr],(c,[o])=>Math.tan(o.evaluate(c))],asin:[nr,[nr],(c,[o])=>Math.asin(o.evaluate(c))],acos:[nr,[nr],(c,[o])=>Math.acos(o.evaluate(c))],atan:[nr,[nr],(c,[o])=>Math.atan(o.evaluate(c))],min:[nr,ms(nr),(c,o)=>Math.min(...o.map(u=>u.evaluate(c)))],max:[nr,ms(nr),(c,o)=>Math.max(...o.map(u=>u.evaluate(c)))],abs:[nr,[nr],(c,[o])=>Math.abs(o.evaluate(c))],round:[nr,[nr],(c,[o])=>{const u=o.evaluate(c);return u<0?-Math.round(-u):Math.round(u)}],floor:[nr,[nr],(c,[o])=>Math.floor(o.evaluate(c))],ceil:[nr,[nr],(c,[o])=>Math.ceil(o.evaluate(c))],"filter-==":[sn,[dn,ln],(c,[o,u])=>c.properties()[o.value]===u.value],"filter-id-==":[sn,[ln],(c,[o])=>c.id()===o.value],"filter-type-==":[sn,[dn],(c,[o])=>c.geometryType()===o.value],"filter-<":[sn,[dn,ln],(c,[o,u])=>{const h=c.properties()[o.value],y=u.value;return typeof h==typeof y&&h<y}],"filter-id-<":[sn,[ln],(c,[o])=>{const u=c.id(),h=o.value;return typeof u==typeof h&&u<h}],"filter->":[sn,[dn,ln],(c,[o,u])=>{const h=c.properties()[o.value],y=u.value;return typeof h==typeof y&&h>y}],"filter-id->":[sn,[ln],(c,[o])=>{const u=c.id(),h=o.value;return typeof u==typeof h&&u>h}],"filter-<=":[sn,[dn,ln],(c,[o,u])=>{const h=c.properties()[o.value],y=u.value;return typeof h==typeof y&&h<=y}],"filter-id-<=":[sn,[ln],(c,[o])=>{const u=c.id(),h=o.value;return typeof u==typeof h&&u<=h}],"filter->=":[sn,[dn,ln],(c,[o,u])=>{const h=c.properties()[o.value],y=u.value;return typeof h==typeof y&&h>=y}],"filter-id->=":[sn,[ln],(c,[o])=>{const u=c.id(),h=o.value;return typeof u==typeof h&&u>=h}],"filter-has":[sn,[ln],(c,[o])=>o.value in c.properties()],"filter-has-id":[sn,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[sn,[hs(dn)],(c,[o])=>o.value.indexOf(c.geometryType())>=0],"filter-id-in":[sn,[hs(ln)],(c,[o])=>o.value.indexOf(c.id())>=0],"filter-in-small":[sn,[dn,hs(ln)],(c,[o,u])=>u.value.indexOf(c.properties()[o.value])>=0],"filter-in-large":[sn,[dn,hs(ln)],(c,[o,u])=>function(h,y,x,S){for(;x<=S;){const A=x+S>>1;if(y[A]===h)return!0;y[A]>h?S=A-1:x=A+1}return!1}(c.properties()[o.value],u.value,0,u.value.length-1)],all:{type:sn,overloads:[[[sn,sn],(c,[o,u])=>o.evaluate(c)&&u.evaluate(c)],[ms(sn),(c,o)=>{for(const u of o)if(!u.evaluate(c))return!1;return!0}]]},any:{type:sn,overloads:[[[sn,sn],(c,[o,u])=>o.evaluate(c)||u.evaluate(c)],[ms(sn),(c,o)=>{for(const u of o)if(u.evaluate(c))return!0;return!1}]]},"!":[sn,[sn],(c,[o])=>!o.evaluate(c)],"is-supported-script":[sn,[dn],(c,[o])=>{const u=c.globals&&c.globals.isSupportedScript;return!u||u(o.evaluate(c))}],upcase:[dn,[dn],(c,[o])=>o.evaluate(c).toUpperCase()],downcase:[dn,[dn],(c,[o])=>o.evaluate(c).toLowerCase()],concat:[dn,ms(ln),(c,o)=>o.map(u=>af(u.evaluate(c))).join("")],"resolved-locale":[dn,[Zo],(c,[o])=>o.evaluate(c).resolvedLocale()]});var ff=w6;function E6(c){return{result:"success",value:c}}function ku(c){return{result:"error",value:c}}function ep(c){return c["property-type"]==="data-driven"}function _0(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function b0(c){return!!c.expression&&c.expression.interpolated}function xn(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}function mf(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)}function A6(c){return c}function x0(c,o){const u=o.type==="color",h=c.stops&&typeof c.stops[0][0]=="object",y=h||!(h||c.property!==void 0),x=c.type||(b0(o)?"exponential":"interval");if(u&&((c=Go({},c)).stops&&(c.stops=c.stops.map(D=>[D[0],Ti.parse(D[1])])),c.default=Ti.parse(c.default?c.default:o.default)),c.colorSpace&&c.colorSpace!=="rgb"&&!o_[c.colorSpace])throw new Error(`Unknown color space: ${c.colorSpace}`);let S,A,P;if(x==="exponential")S=Wl;else if(x==="interval")S=w0;else if(x==="categorical"){S=T6,A=Object.create(null);for(const D of c.stops)A[D[0]]=D[1];P=typeof c.stops[0][0]}else{if(x!=="identity")throw new Error(`Unknown function type "${x}"`);S=M6}if(h){const D={},V=[];for(let X=0;X<c.stops.length;X++){const te=c.stops[X],ue=te[0].zoom;D[ue]===void 0&&(D[ue]={zoom:ue,type:c.type,property:c.property,default:c.default,stops:[]},V.push(ue)),D[ue].stops.push([te[0].value,te[1]])}const W=[];for(const X of V)W.push([D[X].zoom,x0(D[X],o)]);const q={name:"linear"};return{kind:"composite",interpolationType:q,interpolationFactor:cl.interpolationFactor.bind(void 0,q),zoomStops:W.map(X=>X[0]),evaluate:({zoom:X},te)=>Wl({stops:W,base:c.base},o,X).evaluate(X,te)}}if(y){const D=x==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:D,interpolationFactor:cl.interpolationFactor.bind(void 0,D),zoomStops:c.stops.map(V=>V[0]),evaluate:({zoom:V})=>S(c,o,V,A,P)}}return{kind:"source",evaluate(D,V){const W=V&&V.properties?V.properties[c.property]:void 0;return W===void 0?tp(c.default,o.default):S(c,o,W,A,P)}}}function tp(c,o,u){return c!==void 0?c:o!==void 0?o:u!==void 0?u:void 0}function T6(c,o,u,h,y){return tp(typeof u===y?h[u]:void 0,c.default,o.default)}function w0(c,o,u){if(xn(u)!=="number")return tp(c.default,o.default);const h=c.stops.length;if(h===1||u<=c.stops[0][0])return c.stops[0][1];if(u>=c.stops[h-1][0])return c.stops[h-1][1];const y=u0(c.stops.map(x=>x[0]),u);return c.stops[y][1]}function Wl(c,o,u){const h=c.base!==void 0?c.base:1;if(xn(u)!=="number")return tp(c.default,o.default);const y=c.stops.length;if(y===1||u<=c.stops[0][0])return c.stops[0][1];if(u>=c.stops[y-1][0])return c.stops[y-1][1];const x=u0(c.stops.map(V=>V[0]),u),S=function(V,W,q,X){const te=X-q,ue=V-q;return te===0?0:W===1?ue/te:(Math.pow(W,ue)-1)/(Math.pow(W,te)-1)}(u,h,c.stops[x][0],c.stops[x+1][0]),A=c.stops[x][1],P=c.stops[x+1][1];let D=cf[o.type]||A6;if(c.colorSpace&&c.colorSpace!=="rgb"){const V=o_[c.colorSpace];D=(W,q)=>V.reverse(V.interpolate(V.forward(W),V.forward(q),S))}return typeof A.evaluate=="function"?{evaluate(...V){const W=A.evaluate.apply(void 0,V),q=P.evaluate.apply(void 0,V);if(W!==void 0&&q!==void 0)return D(W,q,S)}}:D(A,P,S)}function M6(c,o,u){return o.type==="color"?u=Ti.parse(u):o.type==="formatted"?u=mo.fromString(u.toString()):o.type==="resolvedImage"?u=fs.fromString(u.toString()):xn(u)===o.type||o.type==="enum"&&o.values[u]||(u=void 0),tp(u,c.default,o.default)}class S0{constructor(o,u){this.expression=o,this._warningHistory={},this._evaluator=new q2,this._defaultValue=u?function(h){return h.type==="color"&&(mf(h.default)||Array.isArray(h.default))?new Ti(0,0,0,0):h.type==="color"?Ti.parse(h.default)||null:h.default===void 0?null:h.default}(u):null,this._enumValues=u&&u.type==="enum"?u.values:null}evaluateWithoutErrorHandling(o,u,h,y,x,S,A,P){return this._evaluator.globals=o,this._evaluator.feature=u,this._evaluator.featureState=h,this._evaluator.canonical=y||null,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=S,this._evaluator.featureTileCoord=A||null,this._evaluator.featureDistanceData=P||null,this.expression.evaluate(this._evaluator)}evaluate(o,u,h,y,x,S,A,P){this._evaluator.globals=o,this._evaluator.feature=u||null,this._evaluator.featureState=h||null,this._evaluator.canonical=y||null,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=S||null,this._evaluator.featureTileCoord=A||null,this._evaluator.featureDistanceData=P||null;try{const D=this.expression.evaluate(this._evaluator);if(D==null||typeof D=="number"&&D!=D)return this._defaultValue;if(this._enumValues&&!(D in this._enumValues))throw new Ca(`Expected value to be one of ${Object.keys(this._enumValues).map(V=>JSON.stringify(V)).join(", ")}, but found ${JSON.stringify(D)} instead.`);return D}catch(D){return this._warningHistory[D.message]||(this._warningHistory[D.message]=!0,typeof console<"u"&&console.warn(D.message)),this._defaultValue}}}function rp(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in ff}function np(c,o){const u=new Q2(ff,[],o?function(y){const x={color:Ho,string:dn,number:nr,enum:dn,boolean:sn,formatted:Qh,resolvedImage:Eu};return y.type==="array"?hs(x[y.value]||ln,y.length):x[y.type]}(o):void 0),h=u.parse(c,void 0,void 0,void 0,o&&o.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?E6(new S0(h,o)):ku(u.errors)}class h_{constructor(o,u){this.kind=o,this._styleExpression=u,this.isStateDependent=o!=="constant"&&!Vl(u.expression)}evaluateWithoutErrorHandling(o,u,h,y,x,S){return this._styleExpression.evaluateWithoutErrorHandling(o,u,h,y,x,S)}evaluate(o,u,h,y,x,S){return this._styleExpression.evaluate(o,u,h,y,x,S)}}class gf{constructor(o,u,h,y){this.kind=o,this.zoomStops=h,this._styleExpression=u,this.isStateDependent=o!=="camera"&&!Vl(u.expression),this.interpolationType=y}evaluateWithoutErrorHandling(o,u,h,y,x,S){return this._styleExpression.evaluateWithoutErrorHandling(o,u,h,y,x,S)}evaluate(o,u,h,y,x,S){return this._styleExpression.evaluate(o,u,h,y,x,S)}interpolationFactor(o,u,h){return this.interpolationType?cl.interpolationFactor(this.interpolationType,o,u,h):0}}function yf(c,o){if((c=np(c,o)).result==="error")return c;const u=c.value.expression,h=Yd(u);if(!h&&!ep(o))return ku([new sl("","data expressions not supported")]);const y=Mu(u,["zoom","pitch","distance-from-center"]);if(!y&&!_0(o))return ku([new sl("","zoom expressions not supported")]);const x=A0(u);return x||y?x instanceof sl?ku([x]):x instanceof cl&&!b0(o)?ku([new sl("",'"interpolate" expressions cannot be used with this property')]):E6(x?new gf(h?"camera":"composite",c.value,x.labels,x instanceof cl?x.interpolation:void 0):new h_(h?"constant":"source",c.value)):ku([new sl("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class E0{constructor(o,u){this._parameters=o,this._specification=u,Go(this,x0(this._parameters,this._specification))}static deserialize(o){return new E0(o._parameters,o._specification)}static serialize(o){return{_parameters:o._parameters,_specification:o._specification}}}function A0(c){let o=null;if(c instanceof g6)o=A0(c.result);else if(c instanceof l_){for(const u of c.args)if(o=A0(u),o)break}else(c instanceof e_||c instanceof cl)&&c.input instanceof Fl&&c.input.name==="zoom"&&(o=c);return o instanceof sl||c.eachChild(u=>{const h=A0(u);h instanceof sl?o=h:!o&&h?o=new sl("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):o&&h&&o!==h&&(o=new sl("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),o}class ir{constructor(o,u,h,y){this.message=(o?`${o}: `:"")+h,y&&(this.identifier=y),u!=null&&u.__line__&&(this.line=u.__line__)}}function Ns(c){const o=c.key,u=c.value,h=c.valueSpec||{},y=c.objectElementValidators||{},x=c.style,S=c.styleSpec;let A=[];const P=xn(u);if(P!=="object")return[new ir(o,u,`object expected, ${P} found`)];for(const D in u){const V=D.split(".")[0];let W;y[V]?W=y[V]:h[V]?W=Fa:y["*"]?W=y["*"]:h["*"]&&(W=Fa),W?A=A.concat(W({key:(o&&`${o}.`)+D,value:u[D],valueSpec:h[V]||h["*"],style:x,styleSpec:S,object:u,objectKey:D},u)):A.push(new ir(o,u[D],`unknown property "${D}"`))}for(const D in h)y[D]||h[D].required&&h[D].default===void 0&&u[D]===void 0&&A.push(new ir(o,u,`missing required property "${D}"`));return A}function P6(c){const o=c.value,u=c.valueSpec,h=c.style,y=c.styleSpec,x=c.key,S=c.arrayElementValidator||Fa;if(xn(o)!=="array")return[new ir(x,o,`array expected, ${xn(o)} found`)];if(u.length&&o.length!==u.length)return[new ir(x,o,`array length ${u.length} expected, length ${o.length} found`)];if(u["min-length"]&&o.length<u["min-length"])return[new ir(x,o,`array length at least ${u["min-length"]} expected, length ${o.length} found`)];let A={type:u.value,values:u.values,minimum:u.minimum,maximum:u.maximum,function:void 0};y.$version<7&&(A.function=u.function),xn(u.value)==="object"&&(A=u.value);let P=[];for(let D=0;D<o.length;D++)P=P.concat(S({array:o,arrayIndex:D,value:o[D],valueSpec:A,style:h,styleSpec:y,key:`${x}[${D}]`}));return P}function vf(c){const o=c.key,u=c.value,h=c.valueSpec;let y=xn(u);if(y==="number"&&u!=u&&(y="NaN"),y!=="number")return[new ir(o,u,`number expected, ${y} found`)];if("minimum"in h){let x=h.minimum;if(xn(h.minimum)==="array"&&(x=h.minimum[c.arrayIndex]),u<x)return[new ir(o,u,`${u} is less than the minimum value ${x}`)]}if("maximum"in h){let x=h.maximum;if(xn(h.maximum)==="array"&&(x=h.maximum[c.arrayIndex]),u>x)return[new ir(o,u,`${u} is greater than the maximum value ${x}`)]}return[]}function _f(c){const o=c.valueSpec,u=si(c.value.type);let h,y,x,S={};const A=u!=="categorical"&&c.value.property===void 0,P=!A,D=xn(c.value.stops)==="array"&&xn(c.value.stops[0])==="array"&&xn(c.value.stops[0][0])==="object",V=Ns({key:c.key,value:c.value,valueSpec:c.styleSpec.function,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(X){if(u==="identity")return[new ir(X.key,X.value,'identity function may not have a "stops" property')];let te=[];const ue=X.value;return te=te.concat(P6({key:X.key,value:ue,valueSpec:X.valueSpec,style:X.style,styleSpec:X.styleSpec,arrayElementValidator:W})),xn(ue)==="array"&&ue.length===0&&te.push(new ir(X.key,ue,"array must have at least one stop")),te},default:function(X){return Fa({key:X.key,value:X.value,valueSpec:o,style:X.style,styleSpec:X.styleSpec})}}});return u==="identity"&&A&&V.push(new ir(c.key,c.value,'missing required property "property"')),u==="identity"||c.value.stops||V.push(new ir(c.key,c.value,'missing required property "stops"')),u==="exponential"&&c.valueSpec.expression&&!b0(c.valueSpec)&&V.push(new ir(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(P&&!ep(c.valueSpec)?V.push(new ir(c.key,c.value,"property functions not supported")):A&&!_0(c.valueSpec)&&V.push(new ir(c.key,c.value,"zoom functions not supported"))),u!=="categorical"&&!D||c.value.property!==void 0||V.push(new ir(c.key,c.value,'"property" property is required')),V;function W(X){let te=[];const ue=X.value,Se=X.key;if(xn(ue)!=="array")return[new ir(Se,ue,`array expected, ${xn(ue)} found`)];if(ue.length!==2)return[new ir(Se,ue,`array length 2 expected, length ${ue.length} found`)];if(D){if(xn(ue[0])!=="object")return[new ir(Se,ue,`object expected, ${xn(ue[0])} found`)];if(ue[0].zoom===void 0)return[new ir(Se,ue,"object stop key must have zoom")];if(ue[0].value===void 0)return[new ir(Se,ue,"object stop key must have value")];const Ce=si(ue[0].zoom);if(typeof Ce!="number")return[new ir(Se,ue[0].zoom,"stop zoom values must be numbers")];if(x&&x>Ce)return[new ir(Se,ue[0].zoom,"stop zoom values must appear in ascending order")];Ce!==x&&(x=Ce,y=void 0,S={}),te=te.concat(Ns({key:`${Se}[0]`,value:ue[0],valueSpec:{zoom:{}},style:X.style,styleSpec:X.styleSpec,objectElementValidators:{zoom:vf,value:q}}))}else te=te.concat(q({key:`${Se}[0]`,value:ue[0],valueSpec:{},style:X.style,styleSpec:X.styleSpec},ue));return rp(Ai(ue[1]))?te.concat([new ir(`${Se}[1]`,ue[1],"expressions are not allowed in function stops.")]):te.concat(Fa({key:`${Se}[1]`,value:ue[1],valueSpec:o,style:X.style,styleSpec:X.styleSpec}))}function q(X,te){const ue=xn(X.value),Se=si(X.value),Ce=X.value!==null?X.value:te;if(h){if(ue!==h)return[new ir(X.key,Ce,`${ue} stop domain type must match previous stop domain type ${h}`)]}else h=ue;if(ue!=="number"&&ue!=="string"&&ue!=="boolean"&&typeof Se!="number"&&typeof Se!="string"&&typeof Se!="boolean")return[new ir(X.key,Ce,"stop domain value must be a number, string, or boolean")];if(ue!=="number"&&u!=="categorical"){let Ue=`number expected, ${ue} found`;return ep(o)&&u===void 0&&(Ue+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ir(X.key,Ce,Ue)]}return u!=="categorical"||ue!=="number"||typeof Se=="number"&&isFinite(Se)&&Math.floor(Se)===Se?u!=="categorical"&&ue==="number"&&typeof Se=="number"&&typeof y=="number"&&y!==void 0&&Se<y?[new ir(X.key,Ce,"stop domain values must appear in ascending order")]:(y=Se,u==="categorical"&&Se in S?[new ir(X.key,Ce,"stop domain values must be unique")]:(S[Se]=!0,[])):[new ir(X.key,Ce,`integer expected, found ${String(Se)}`)]}}function xa(c){const o=(c.expressionContext==="property"?yf:np)(Ai(c.value),c.valueSpec);if(o.result==="error")return o.value.map(h=>new ir(`${c.key}${h.key}`,c.value,h.message));const u=o.value.expression||o.value._styleExpression.expression;if(c.expressionContext==="property"&&c.propertyKey==="text-font"&&!u.outputDefined())return[new ir(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if(c.expressionContext==="property"&&c.propertyType==="layout"&&!Vl(u))return[new ir(c.key,c.value,'"feature-state" data expressions are not supported with layout properties.')];if(c.expressionContext==="filter")return bf(u,c);if(c.expressionContext&&c.expressionContext.indexOf("cluster")===0){if(!Mu(u,["zoom","feature-state"]))return[new ir(c.key,c.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(c.expressionContext==="cluster-initial"&&!Yd(u))return[new ir(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function bf(c,o){const u=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(o.valueSpec&&o.valueSpec.expression)for(const y of o.valueSpec.expression.parameters)u.delete(y);if(u.size===0)return[];const h=[];return c instanceof Fl&&u.has(c.name)?[new ir(o.key,o.value,`["${c.name}"] expression is not supported in a filter for a ${o.object.type} layer with id: ${o.object.id}`)]:(c.eachChild(y=>{h.push(...bf(y,o))}),h)}function T0(c){const o=c.key,u=c.value,h=c.valueSpec,y=[];return Array.isArray(h.values)?h.values.indexOf(si(u))===-1&&y.push(new ir(o,u,`expected one of [${h.values.join(", ")}], ${JSON.stringify(u)} found`)):Object.keys(h.values).indexOf(si(u))===-1&&y.push(new ir(o,u,`expected one of [${Object.keys(h.values).join(", ")}], ${JSON.stringify(u)} found`)),y}function f_(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(const o of c.slice(1))if(!f_(o)&&typeof o!="boolean")return!1;return!0;default:return!0}}function M0(c,o="fill"){if(c==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};f_(c)||(c=ap(c));const u=c;let h=!0;try{h=function(D){if(!ip(D))return D;let V=Ai(D);return P0(V),V=k6(V),V}(u)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(u,null,2)}
        `)}const y=Mt[`filter_${o}`],x=np(h,y);let S=null;if(x.result==="error")throw new Error(x.value.map(D=>`${D.key}: ${D.message}`).join(", "));S=(D,V,W)=>x.value.evaluate(D,V,{},W);let A=null,P=null;if(h!==u){const D=np(u,y);if(D.result==="error")throw new Error(D.value.map(V=>`${V.key}: ${V.message}`).join(", "));A=(V,W,q,X,te)=>D.value.evaluate(V,W,{},q,void 0,void 0,X,te),P=!Yd(D.value.expression)}return{filter:S,dynamicFilter:A||void 0,needGeometry:I6(h),needFeature:!!P}}function k6(c){if(!Array.isArray(c))return c;const o=function(u){if(m_.has(u[0])){for(let h=1;h<u.length;h++)if(ip(u[h]))return!0}return u}(c);return o===!0?o:o.map(u=>k6(u))}function P0(c){let o=!1;const u=[];if(c[0]==="case"){for(let h=1;h<c.length-1;h+=2)o=o||ip(c[h]),u.push(c[h+1]);u.push(c[c.length-1])}else if(c[0]==="match"){o=o||ip(c[1]);for(let h=2;h<c.length-1;h+=2)u.push(c[h+1]);u.push(c[c.length-1])}else if(c[0]==="step"){o=o||ip(c[1]);for(let h=1;h<c.length-1;h+=2)u.push(c[h+1])}o&&(c.length=0,c.push("any",...u));for(let h=1;h<c.length;h++)P0(c[h])}function ip(c){if(!Array.isArray(c))return!1;if((o=c[0])==="pitch"||o==="distance-from-center")return!0;var o;for(let u=1;u<c.length;u++)if(ip(c[u]))return!0;return!1}const m_=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function d7(c,o){return c<o?-1:c>o?1:0}function I6(c){if(!Array.isArray(c))return!1;if(c[0]==="within")return!0;for(let o=1;o<c.length;o++)if(I6(c[o]))return!0;return!1}function ap(c){if(!c)return!0;const o=c[0];return c.length<=1?o!=="any":o==="=="?g_(c[1],c[2],"=="):o==="!="?k0(g_(c[1],c[2],"==")):o==="<"||o===">"||o==="<="||o===">="?g_(c[1],c[2],o):o==="any"?(u=c.slice(1),["any"].concat(u.map(ap))):o==="all"?["all"].concat(c.slice(1).map(ap)):o==="none"?["all"].concat(c.slice(1).map(ap).map(k0)):o==="in"?y_(c[1],c.slice(2)):o==="!in"?k0(y_(c[1],c.slice(2))):o==="has"?v_(c[1]):o==="!has"?k0(v_(c[1])):o!=="within"||c;var u}function g_(c,o,u){switch(c){case"$type":return[`filter-type-${u}`,o];case"$id":return[`filter-id-${u}`,o];default:return[`filter-${u}`,c,o]}}function y_(c,o){if(o.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",o]];case"$id":return["filter-id-in",["literal",o]];default:return o.length>200&&!o.some(u=>typeof u!=typeof o[0])?["filter-in-large",c,["literal",o.sort(d7)]]:["filter-in-small",c,["literal",o]]}}function v_(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function k0(c){return["!",c]}function xf(c){return f_(Ai(c.value))?xa(Go({},c,{expressionContext:"filter",valueSpec:c.styleSpec[`filter_${c.layerType||"fill"}`]})):wf(c)}function wf(c){const o=c.value,u=c.key;if(xn(o)!=="array")return[new ir(u,o,`array expected, ${xn(o)} found`)];const h=c.styleSpec;let y,x=[];if(o.length<1)return[new ir(u,o,"filter array must have at least 1 element")];switch(x=x.concat(T0({key:`${u}[0]`,value:o[0],valueSpec:h.filter_operator,style:c.style,styleSpec:c.styleSpec})),si(o[0])){case"<":case"<=":case">":case">=":o.length>=2&&si(o[1])==="$type"&&x.push(new ir(u,o,`"$type" cannot be use with operator "${o[0]}"`));case"==":case"!=":o.length!==3&&x.push(new ir(u,o,`filter array for operator "${o[0]}" must have 3 elements`));case"in":case"!in":o.length>=2&&(y=xn(o[1]),y!=="string"&&x.push(new ir(`${u}[1]`,o[1],`string expected, ${y} found`)));for(let S=2;S<o.length;S++)y=xn(o[S]),si(o[1])==="$type"?x=x.concat(T0({key:`${u}[${S}]`,value:o[S],valueSpec:h.geometry_type,style:c.style,styleSpec:c.styleSpec})):y!=="string"&&y!=="number"&&y!=="boolean"&&x.push(new ir(`${u}[${S}]`,o[S],`string, number, or boolean expected, ${y} found`));break;case"any":case"all":case"none":for(let S=1;S<o.length;S++)x=x.concat(wf({key:`${u}[${S}]`,value:o[S],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":y=xn(o[1]),o.length!==2?x.push(new ir(u,o,`filter array for "${o[0]}" operator must have 2 elements`)):y!=="string"&&x.push(new ir(`${u}[1]`,o[1],`string expected, ${y} found`));break;case"within":y=xn(o[1]),o.length!==2?x.push(new ir(u,o,`filter array for "${o[0]}" operator must have 2 elements`)):y!=="object"&&x.push(new ir(`${u}[1]`,o[1],`object expected, ${y} found`))}return x}function __(c,o){const u=c.key,h=c.style,y=c.styleSpec,x=c.value,S=c.objectKey,A=y[`${o}_${c.layerType}`];if(!A)return[];const P=S.match(/^(.*)-transition$/);if(o==="paint"&&P&&A[P[1]]&&A[P[1]].transition)return Fa({key:u,value:x,valueSpec:y.transition,style:h,styleSpec:y});const D=c.valueSpec||A[S];if(!D)return[new ir(u,x,`unknown property "${S}"`)];let V;if(xn(x)==="string"&&ep(D)&&!D.tokens&&(V=/^{([^}]+)}$/.exec(x))){const q=`\`{ "type": "identity", "property": ${V?JSON.stringify(V[1]):'"_"'} }\``;return[new ir(u,x,`"${S}" does not support interpolation syntax
Use an identity property function instead: ${q}.`)]}const W=[];return c.layerType==="symbol"&&(S==="text-field"&&h&&!h.glyphs&&W.push(new ir(u,x,'use of "text-field" requires a style "glyphs" property')),S==="text-font"&&mf(Ai(x))&&si(x.type)==="identity"&&W.push(new ir(u,x,'"text-font" does not support identity functions'))),W.concat(Fa({key:c.key,value:x,valueSpec:D,style:h,styleSpec:y,expressionContext:"property",propertyType:o,propertyKey:S}))}function C6(c){return __(c,"paint")}function b_(c){return __(c,"layout")}function D6(c){let o=[];const u=c.value,h=c.key,y=c.style,x=c.styleSpec;u.type||u.ref||o.push(new ir(h,u,'either "type" or "ref" is required'));let S=si(u.type);const A=si(u.ref);if(u.id){const P=si(u.id);for(let D=0;D<c.arrayIndex;D++){const V=y.layers[D];si(V.id)===P&&o.push(new ir(h,u.id,`duplicate layer id "${u.id}", previously used at line ${V.id.__line__}`))}}if("ref"in u){let P;["type","source","source-layer","filter","layout"].forEach(D=>{D in u&&o.push(new ir(h,u[D],`"${D}" is prohibited for ref layers`))}),y.layers.forEach(D=>{si(D.id)===A&&(P=D)}),P?P.ref?o.push(new ir(h,u.ref,"ref cannot reference another ref layer")):S=si(P.type):typeof A=="string"&&o.push(new ir(h,u.ref,`ref layer "${A}" not found`))}else if(S!=="background"&&S!=="sky")if(u.source){const P=y.sources&&y.sources[u.source],D=P&&si(P.type);P?D==="vector"&&S==="raster"?o.push(new ir(h,u.source,`layer "${u.id}" requires a raster source`)):D==="raster"&&S!=="raster"?o.push(new ir(h,u.source,`layer "${u.id}" requires a vector source`)):D!=="vector"||u["source-layer"]?D==="raster-dem"&&S!=="hillshade"?o.push(new ir(h,u.source,"raster-dem source can only be used with layer type 'hillshade'.")):S!=="line"||!u.paint||!u.paint["line-gradient"]&&!u.paint["line-trim-offset"]||D==="geojson"&&P.lineMetrics||o.push(new ir(h,u,`layer "${u.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):o.push(new ir(h,u,`layer "${u.id}" must specify a "source-layer"`)):o.push(new ir(h,u.source,`source "${u.source}" not found`))}else o.push(new ir(h,u,'missing required property "source"'));return o=o.concat(Ns({key:h,value:u,valueSpec:x.layer,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Fa({key:`${h}.type`,value:u.type,valueSpec:x.layer.type,style:c.style,styleSpec:c.styleSpec,object:u,objectKey:"type"}),filter:P=>xf(Go({layerType:S},P)),layout:P=>Ns({layer:u,key:P.key,value:P.value,valueSpec:{},style:P.style,styleSpec:P.styleSpec,objectElementValidators:{"*":D=>b_(Go({layerType:S},D))}}),paint:P=>Ns({layer:u,key:P.key,value:P.value,valueSpec:{},style:P.style,styleSpec:P.styleSpec,objectElementValidators:{"*":D=>C6(Go({layerType:S},D))}})}})),o}function zc(c){const o=c.value,u=c.key,h=xn(o);return h!=="string"?[new ir(u,o,`string expected, ${h} found`)]:[]}const z6={promoteId:function({key:c,value:o}){if(xn(o)==="string")return zc({key:c,value:o});{const u=[];for(const h in o)u.push(...zc({key:`${c}.${h}`,value:o[h]}));return u}}};function R6(c){const o=c.value,u=c.key,h=c.styleSpec,y=c.style;if(!o.type)return[new ir(u,o,'"type" is required')];const x=si(o.type);let S;switch(x){case"vector":case"raster":case"raster-dem":return S=Ns({key:u,value:o,valueSpec:h[`source_${x.replace("-","_")}`],style:c.style,styleSpec:h,objectElementValidators:z6}),S;case"geojson":if(S=Ns({key:u,value:o,valueSpec:h.source_geojson,style:y,styleSpec:h,objectElementValidators:z6}),o.cluster)for(const A in o.clusterProperties){const[P,D]=o.clusterProperties[A],V=typeof P=="string"?[P,["accumulated"],["get",A]]:P;S.push(...xa({key:`${u}.${A}.map`,value:D,expressionContext:"cluster-map"})),S.push(...xa({key:`${u}.${A}.reduce`,value:V,expressionContext:"cluster-reduce"}))}return S;case"video":return Ns({key:u,value:o,valueSpec:h.source_video,style:y,styleSpec:h});case"image":return Ns({key:u,value:o,valueSpec:h.source_image,style:y,styleSpec:h});case"canvas":return[new ir(u,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return T0({key:`${u}.type`,value:o.type,valueSpec:{values:p7(h)},style:y,styleSpec:h})}}function p7(c){return c.source.reduce((o,u)=>{const h=c[u];return h.type.type==="enum"&&(o=o.concat(Object.keys(h.type.values))),o},[])}function N6(c){const o=c.value,u=c.styleSpec,h=u.light,y=c.style;let x=[];const S=xn(o);if(o===void 0)return x;if(S!=="object")return x=x.concat([new ir("light",o,`object expected, ${S} found`)]),x;for(const A in o){const P=A.match(/^(.*)-transition$/);x=x.concat(P&&h[P[1]]&&h[P[1]].transition?Fa({key:A,value:o[A],valueSpec:u.transition,style:y,styleSpec:u}):h[A]?Fa({key:A,value:o[A],valueSpec:h[A],style:y,styleSpec:u}):[new ir(A,o[A],`unknown property "${A}"`)])}return x}function x_(c){const o=c.value,u=c.key,h=c.style,y=c.styleSpec,x=y.terrain;let S=[];const A=xn(o);if(o===void 0)return S;if(A!=="object")return S=S.concat([new ir("terrain",o,`object expected, ${A} found`)]),S;for(const P in o){const D=P.match(/^(.*)-transition$/);S=S.concat(D&&x[D[1]]&&x[D[1]].transition?Fa({key:P,value:o[P],valueSpec:y.transition,style:h,styleSpec:y}):x[P]?Fa({key:P,value:o[P],valueSpec:x[P],style:h,styleSpec:y}):[new ir(P,o[P],`unknown property "${P}"`)])}if(o.source){const P=h.sources&&h.sources[o.source],D=P&&si(P.type);P?D!=="raster-dem"&&S.push(new ir(u,o.source,`terrain cannot be used with a source of type ${String(D)}, it only be used with a "raster-dem" source type`)):S.push(new ir(u,o.source,`source "${o.source}" not found`))}else S.push(new ir(u,o,'terrain is missing required property "source"'));return S}function L6(c){const o=c.value,u=c.style,h=c.styleSpec,y=h.fog;let x=[];const S=xn(o);if(o===void 0)return x;if(S!=="object")return x=x.concat([new ir("fog",o,`object expected, ${S} found`)]),x;for(const A in o){const P=A.match(/^(.*)-transition$/);x=x.concat(P&&y[P[1]]&&y[P[1]].transition?Fa({key:A,value:o[A],valueSpec:h.transition,style:u,styleSpec:h}):y[A]?Fa({key:A,value:o[A],valueSpec:y[A],style:u,styleSpec:h}):[new ir(A,o[A],`unknown property "${A}"`)])}return x}const O6={"*":()=>[],array:P6,boolean:function(c){const o=c.value,u=c.key,h=xn(o);return h!=="boolean"?[new ir(u,o,`boolean expected, ${h} found`)]:[]},number:vf,color:function(c){const o=c.key,u=c.value,h=xn(u);return h!=="string"?[new ir(o,u,`color expected, ${h} found`)]:F2(u)===null?[new ir(o,u,`color expected, "${u}" found`)]:[]},enum:T0,filter:xf,function:_f,layer:D6,object:Ns,source:R6,light:N6,terrain:x_,fog:L6,string:zc,formatted:function(c){return zc(c).length===0?[]:xa(c)},resolvedImage:function(c){return zc(c).length===0?[]:xa(c)},projection:function(c){const o=c.value,u=c.styleSpec,h=u.projection,y=c.style;let x=[];const S=xn(o);if(S==="object")for(const A in o)x=x.concat(Fa({key:A,value:o[A],valueSpec:h[A],style:y,styleSpec:u}));else S!=="string"&&(x=x.concat([new ir("projection",o,`object or string expected, ${S} found`)]));return x}};function Fa(c){const o=c.value,u=c.valueSpec,h=c.styleSpec;return u.expression&&mf(si(o))?_f(c):u.expression&&rp(Ai(o))?xa(c):u.type&&O6[u.type]?O6[u.type](c):Ns(Go({},c,{valueSpec:u.type?h[u.type]:u}))}function h7(c){const o=c.value,u=c.key,h=zc(c);return h.length||(o.indexOf("{fontstack}")===-1&&h.push(new ir(u,o,'"glyphs" url must include a "{fontstack}" token')),o.indexOf("{range}")===-1&&h.push(new ir(u,o,'"glyphs" url must include a "{range}" token'))),h}function B6(c,o=Mt){return gs(Fa({key:"",value:c,valueSpec:o.$root,styleSpec:o,style:c,objectElementValidators:{glyphs:h7,"*":()=>[]}}))}const f7=c=>gs(C6(c)),m7=c=>gs(b_(c));function gs(c){return c.slice().sort((o,u)=>o.line&&u.line?o.line-u.line:0)}function F6(c,o){let u=!1;if(o&&o.length)for(const h of o)c.fire(new qo(new Error(h.message))),u=!0;return u}var g7=ul,Ls=3;function ul(c,o,u){var h=this.cells=[];if(c instanceof ArrayBuffer){this.arrayBuffer=c;var y=new Int32Array(this.arrayBuffer);c=y[0],this.d=(o=y[1])+2*(u=y[2]);for(var x=0;x<this.d*this.d;x++){var S=y[Ls+x],A=y[Ls+x+1];h.push(S===A?null:y.subarray(S,A))}var P=y[Ls+h.length+1];this.keys=y.subarray(y[Ls+h.length],P),this.bboxes=y.subarray(P),this.insert=this._insertReadonly}else{this.d=o+2*u;for(var D=0;D<this.d*this.d;D++)h.push([]);this.keys=[],this.bboxes=[]}this.n=o,this.extent=c,this.padding=u,this.scale=o/c,this.uid=0;var V=u/o*c;this.min=-V,this.max=c+V}ul.prototype.insert=function(c,o,u,h,y){this._forEachCell(o,u,h,y,this._insertCell,this.uid++),this.keys.push(c),this.bboxes.push(o),this.bboxes.push(u),this.bboxes.push(h),this.bboxes.push(y)},ul.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ul.prototype._insertCell=function(c,o,u,h,y,x){this.cells[y].push(x)},ul.prototype.query=function(c,o,u,h,y){var x=this.min,S=this.max;if(c<=x&&o<=x&&S<=u&&S<=h&&!y)return Array.prototype.slice.call(this.keys);var A=[];return this._forEachCell(c,o,u,h,this._queryCell,A,{},y),A},ul.prototype._queryCell=function(c,o,u,h,y,x,S,A){var P=this.cells[y];if(P!==null)for(var D=this.keys,V=this.bboxes,W=0;W<P.length;W++){var q=P[W];if(S[q]===void 0){var X=4*q;(A?A(V[X+0],V[X+1],V[X+2],V[X+3]):c<=V[X+2]&&o<=V[X+3]&&u>=V[X+0]&&h>=V[X+1])?(S[q]=!0,x.push(D[q])):S[q]=!1}}},ul.prototype._forEachCell=function(c,o,u,h,y,x,S,A){for(var P=this._convertToCellCoord(c),D=this._convertToCellCoord(o),V=this._convertToCellCoord(u),W=this._convertToCellCoord(h),q=P;q<=V;q++)for(var X=D;X<=W;X++){var te=this.d*X+q;if((!A||A(this._convertFromCellCoord(q),this._convertFromCellCoord(X),this._convertFromCellCoord(q+1),this._convertFromCellCoord(X+1)))&&y.call(this,c,o,u,h,te,x,S,A))return}},ul.prototype._convertFromCellCoord=function(c){return(c-this.padding)/this.scale},ul.prototype._convertToCellCoord=function(c){return Math.max(0,Math.min(this.d-1,Math.floor(c*this.scale)+this.padding))},ul.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var c=this.cells,o=Ls+this.cells.length+1+1,u=0,h=0;h<this.cells.length;h++)u+=this.cells[h].length;var y=new Int32Array(o+u+this.keys.length+this.bboxes.length);y[0]=this.extent,y[1]=this.n,y[2]=this.padding;for(var x=o,S=0;S<c.length;S++){var A=c[S];y[Ls+S]=x,y.set(A,x),x+=A.length}return y[Ls+c.length]=x,y.set(this.keys,x),y[Ls+c.length+1]=x+=this.keys.length,y.set(this.bboxes,x),x+=this.bboxes.length,y.buffer};var Iu=N(g7);const I0={};function or(c,o,u={}){Object.defineProperty(c,"_classRegistryKey",{value:o,writeable:!1}),I0[o]={klass:c,omit:u.omit||[]}}or(Object,"Object"),Iu.serialize=function(c,o){const u=c.toArrayBuffer();return o&&o.push(u),{buffer:u}},Iu.deserialize=function(c){return new Iu(c.buffer)},Object.defineProperty(Iu,"name",{value:"Grid"}),or(Iu,"Grid"),or(Ti,"Color"),or(Error,"Error"),or(Dr,"AJAXError"),or(fs,"ResolvedImage"),or(E0,"StylePropertyFunction"),or(S0,"StyleExpression",{omit:["_evaluator"]}),or(gf,"ZoomDependentExpression"),or(h_,"ZoomConstantExpression"),or(Fl,"CompoundExpression",{omit:["_evaluate"]});for(const c in ff)I0[ff[c]._classRegistryKey]||or(ff[c],`Expression${c}`);function w_(c){return c&&typeof ArrayBuffer<"u"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function S_(c){return p.ImageBitmap&&c instanceof p.ImageBitmap}function op(c,o){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp)return c;if(w_(c)||S_(c))return o&&o.push(c),c;if(ArrayBuffer.isView(c)){const u=c;return o&&o.push(u.buffer),u}if(c instanceof p.ImageData)return o&&o.push(c.data.buffer),c;if(Array.isArray(c)){const u=[];for(const h of c)u.push(op(h,o));return u}if(typeof c=="object"){const u=c.constructor,h=u._classRegistryKey;if(!h)throw new Error(`can't serialize object of unregistered class ${h}`);const y=u.serialize?u.serialize(c,o):{};if(!u.serialize){for(const x in c)c.hasOwnProperty(x)&&(I0[h].omit.indexOf(x)>=0||(y[x]=op(c[x],o)));c instanceof Error&&(y.message=c.message)}if(y.$name)throw new Error("$name property is reserved for worker serialization logic.");return h!=="Object"&&(y.$name=h),y}throw new Error("can't serialize object of type "+typeof c)}function Cu(c){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||w_(c)||S_(c)||ArrayBuffer.isView(c)||c instanceof p.ImageData)return c;if(Array.isArray(c))return c.map(Cu);if(typeof c=="object"){const o=c.$name||"Object",{klass:u}=I0[o];if(!u)throw new Error(`can't deserialize unregistered class ${o}`);if(u.deserialize)return u.deserialize(c);const h=Object.create(u.prototype);for(const y of Object.keys(c))y!=="$name"&&(h[y]=Cu(c[y]));return h}throw new Error("can't deserialize object of type "+typeof c)}const rr={"Latin-1 Supplement":c=>c>=128&&c<=255,Arabic:c=>c>=1536&&c<=1791,"Arabic Supplement":c=>c>=1872&&c<=1919,"Arabic Extended-A":c=>c>=2208&&c<=2303,"Hangul Jamo":c=>c>=4352&&c<=4607,"Unified Canadian Aboriginal Syllabics":c=>c>=5120&&c<=5759,Khmer:c=>c>=6016&&c<=6143,"Unified Canadian Aboriginal Syllabics Extended":c=>c>=6320&&c<=6399,"General Punctuation":c=>c>=8192&&c<=8303,"Letterlike Symbols":c=>c>=8448&&c<=8527,"Number Forms":c=>c>=8528&&c<=8591,"Miscellaneous Technical":c=>c>=8960&&c<=9215,"Control Pictures":c=>c>=9216&&c<=9279,"Optical Character Recognition":c=>c>=9280&&c<=9311,"Enclosed Alphanumerics":c=>c>=9312&&c<=9471,"Geometric Shapes":c=>c>=9632&&c<=9727,"Miscellaneous Symbols":c=>c>=9728&&c<=9983,"Miscellaneous Symbols and Arrows":c=>c>=11008&&c<=11263,"CJK Radicals Supplement":c=>c>=11904&&c<=12031,"Kangxi Radicals":c=>c>=12032&&c<=12255,"Ideographic Description Characters":c=>c>=12272&&c<=12287,"CJK Symbols and Punctuation":c=>c>=12288&&c<=12351,Hiragana:c=>c>=12352&&c<=12447,Katakana:c=>c>=12448&&c<=12543,Bopomofo:c=>c>=12544&&c<=12591,"Hangul Compatibility Jamo":c=>c>=12592&&c<=12687,Kanbun:c=>c>=12688&&c<=12703,"Bopomofo Extended":c=>c>=12704&&c<=12735,"CJK Strokes":c=>c>=12736&&c<=12783,"Katakana Phonetic Extensions":c=>c>=12784&&c<=12799,"Enclosed CJK Letters and Months":c=>c>=12800&&c<=13055,"CJK Compatibility":c=>c>=13056&&c<=13311,"CJK Unified Ideographs Extension A":c=>c>=13312&&c<=19903,"Yijing Hexagram Symbols":c=>c>=19904&&c<=19967,"CJK Unified Ideographs":c=>c>=19968&&c<=40959,"Yi Syllables":c=>c>=40960&&c<=42127,"Yi Radicals":c=>c>=42128&&c<=42191,"Hangul Jamo Extended-A":c=>c>=43360&&c<=43391,"Hangul Syllables":c=>c>=44032&&c<=55215,"Hangul Jamo Extended-B":c=>c>=55216&&c<=55295,"Private Use Area":c=>c>=57344&&c<=63743,"CJK Compatibility Ideographs":c=>c>=63744&&c<=64255,"Arabic Presentation Forms-A":c=>c>=64336&&c<=65023,"Vertical Forms":c=>c>=65040&&c<=65055,"CJK Compatibility Forms":c=>c>=65072&&c<=65103,"Small Form Variants":c=>c>=65104&&c<=65135,"Arabic Presentation Forms-B":c=>c>=65136&&c<=65279,"Halfwidth and Fullwidth Forms":c=>c>=65280&&c<=65519};function E_(c){for(const o of c)if(A_(o.charCodeAt(0)))return!0;return!1}function y7(c){for(const o of c)if(!j6(o.charCodeAt(0)))return!1;return!0}function j6(c){return!(rr.Arabic(c)||rr["Arabic Supplement"](c)||rr["Arabic Extended-A"](c)||rr["Arabic Presentation Forms-A"](c)||rr["Arabic Presentation Forms-B"](c))}function A_(c){return!(c!==746&&c!==747&&(c<4352||!(rr["Bopomofo Extended"](c)||rr.Bopomofo(c)||rr["CJK Compatibility Forms"](c)&&!(c>=65097&&c<=65103)||rr["CJK Compatibility Ideographs"](c)||rr["CJK Compatibility"](c)||rr["CJK Radicals Supplement"](c)||rr["CJK Strokes"](c)||!(!rr["CJK Symbols and Punctuation"](c)||c>=12296&&c<=12305||c>=12308&&c<=12319||c===12336)||rr["CJK Unified Ideographs Extension A"](c)||rr["CJK Unified Ideographs"](c)||rr["Enclosed CJK Letters and Months"](c)||rr["Hangul Compatibility Jamo"](c)||rr["Hangul Jamo Extended-A"](c)||rr["Hangul Jamo Extended-B"](c)||rr["Hangul Jamo"](c)||rr["Hangul Syllables"](c)||rr.Hiragana(c)||rr["Ideographic Description Characters"](c)||rr.Kanbun(c)||rr["Kangxi Radicals"](c)||rr["Katakana Phonetic Extensions"](c)||rr.Katakana(c)&&c!==12540||!(!rr["Halfwidth and Fullwidth Forms"](c)||c===65288||c===65289||c===65293||c>=65306&&c<=65310||c===65339||c===65341||c===65343||c>=65371&&c<=65503||c===65507||c>=65512&&c<=65519)||!(!rr["Small Form Variants"](c)||c>=65112&&c<=65118||c>=65123&&c<=65126)||rr["Unified Canadian Aboriginal Syllabics"](c)||rr["Unified Canadian Aboriginal Syllabics Extended"](c)||rr["Vertical Forms"](c)||rr["Yijing Hexagram Symbols"](c)||rr["Yi Syllables"](c)||rr["Yi Radicals"](c))))}function V6(c){return!(A_(c)||function(o){return!!(rr["Latin-1 Supplement"](o)&&(o===167||o===169||o===174||o===177||o===188||o===189||o===190||o===215||o===247)||rr["General Punctuation"](o)&&(o===8214||o===8224||o===8225||o===8240||o===8241||o===8251||o===8252||o===8258||o===8263||o===8264||o===8265||o===8273)||rr["Letterlike Symbols"](o)||rr["Number Forms"](o)||rr["Miscellaneous Technical"](o)&&(o>=8960&&o<=8967||o>=8972&&o<=8991||o>=8996&&o<=9e3||o===9003||o>=9085&&o<=9114||o>=9150&&o<=9165||o===9167||o>=9169&&o<=9179||o>=9186&&o<=9215)||rr["Control Pictures"](o)&&o!==9251||rr["Optical Character Recognition"](o)||rr["Enclosed Alphanumerics"](o)||rr["Geometric Shapes"](o)||rr["Miscellaneous Symbols"](o)&&!(o>=9754&&o<=9759)||rr["Miscellaneous Symbols and Arrows"](o)&&(o>=11026&&o<=11055||o>=11088&&o<=11097||o>=11192&&o<=11243)||rr["CJK Symbols and Punctuation"](o)||rr.Katakana(o)||rr["Private Use Area"](o)||rr["CJK Compatibility Forms"](o)||rr["Small Form Variants"](o)||rr["Halfwidth and Fullwidth Forms"](o)||o===8734||o===8756||o===8757||o>=9984&&o<=10087||o>=10102&&o<=10131||o===65532||o===65533)}(c))}function U6(c){return c>=1424&&c<=2303||rr["Arabic Presentation Forms-A"](c)||rr["Arabic Presentation Forms-B"](c)}function v7(c,o){return!(!o&&U6(c)||c>=2304&&c<=3583||c>=3840&&c<=4255||rr.Khmer(c))}function _7(c){for(const o of c)if(U6(o.charCodeAt(0)))return!0;return!1}const T_="deferred",M_="loading",P_="loaded";let sp=null,b="unavailable",d=null;const m=function(c){c&&typeof c=="string"&&c.indexOf("NetworkError")>-1&&(b="error"),sp&&sp(c)};function w(){E.fire(new zs("pluginStateChange",{pluginStatus:b,pluginURL:d}))}const E=new Ll,M=function(){return b},O=function(){if(b!==T_||!d)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");b=M_,w(),d&&Mn({url:d},c=>{c?m(c):(b=P_,w())})},F={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>b===P_||F.applyArabicShaping!=null,isLoading:()=>b===M_,setState(c){b=c.pluginStatus,d=c.pluginURL},isParsed:()=>F.applyArabicShaping!=null&&F.processBidirectionalText!=null&&F.processStyledBidirectionalText!=null,getPluginURL:()=>d};class U{constructor(o,u){this.zoom=o,u?(this.now=u.now,this.fadeDuration=u.fadeDuration,this.transition=u.transition,this.pitch=u.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(o){return function(u,h){for(const y of u)if(!v7(y.charCodeAt(0),h))return!1;return!0}(o,F.isLoaded())}}class H{constructor(o,u){this.property=o,this.value=u,this.expression=function(h,y){if(mf(h))return new E0(h,y);if(rp(h)){const x=yf(h,y);if(x.result==="error")throw new Error(x.value.map(S=>`${S.key}: ${S.message}`).join(", "));return x.value}{let x=h;return typeof h=="string"&&y.type==="color"&&(x=Ti.parse(h)),{kind:"constant",evaluate:()=>x}}}(u===void 0?o.specification.default:u,o.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(o,u,h){return this.property.possiblyEvaluate(this,o,u,h)}}class G{constructor(o){this.property=o,this.value=new H(o,void 0)}transitioned(o,u){return new xe(this.property,this.value,u,pe({},o.transition,this.transition),o.now)}untransitioned(){return new xe(this.property,this.value,null,{},0)}}class ae{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitionablePropertyValues)}getValue(o){return we(this._values[o].value.value)}setValue(o,u){this._values.hasOwnProperty(o)||(this._values[o]=new G(this._values[o].property)),this._values[o].value=new H(this._values[o].property,u===null?void 0:we(u))}getTransition(o){return we(this._values[o].transition)}setTransition(o,u){this._values.hasOwnProperty(o)||(this._values[o]=new G(this._values[o].property)),this._values[o].transition=we(u)||void 0}serialize(){const o={};for(const u of Object.keys(this._values)){const h=this.getValue(u);h!==void 0&&(o[u]=h);const y=this.getTransition(u);y!==void 0&&(o[`${u}-transition`]=y)}return o}transitioned(o,u){const h=new Te(this._properties);for(const y of Object.keys(this._values))h._values[y]=this._values[y].transitioned(o,u._values[y]);return h}untransitioned(){const o=new Te(this._properties);for(const u of Object.keys(this._values))o._values[u]=this._values[u].untransitioned();return o}}class xe{constructor(o,u,h,y,x){const S=y.delay||0,A=y.duration||0;x=x||0,this.property=o,this.value=u,this.begin=x+S,this.end=this.begin+A,o.specification.transition&&(y.delay||y.duration)&&(this.prior=h)}possiblyEvaluate(o,u,h){const y=o.now||0,x=this.value.possiblyEvaluate(o,u,h),S=this.prior;if(S){if(y>this.end)return this.prior=null,x;if(this.value.isDataDriven())return this.prior=null,x;if(y<this.begin)return S.possiblyEvaluate(o,u,h);{const A=(y-this.begin)/(this.end-this.begin);return this.property.interpolate(S.possiblyEvaluate(o,u,h),x,Z(A))}}return x}}class Te{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitioningPropertyValues)}possiblyEvaluate(o,u,h){const y=new Ie(this._properties);for(const x of Object.keys(this._values))y._values[x]=this._values[x].possiblyEvaluate(o,u,h);return y}hasTransition(){for(const o of Object.keys(this._values))if(this._values[o].prior)return!0;return!1}}class ke{constructor(o){this._properties=o,this._values=Object.create(o.defaultPropertyValues)}getValue(o){return we(this._values[o].value)}setValue(o,u){this._values[o]=new H(this._values[o].property,u===null?void 0:we(u))}serialize(){const o={};for(const u of Object.keys(this._values)){const h=this.getValue(u);h!==void 0&&(o[u]=h)}return o}possiblyEvaluate(o,u,h){const y=new Ie(this._properties);for(const x of Object.keys(this._values))y._values[x]=this._values[x].possiblyEvaluate(o,u,h);return y}}class Pe{constructor(o,u,h){this.property=o,this.value=u,this.parameters=h}isConstant(){return this.value.kind==="constant"}constantOr(o){return this.value.kind==="constant"?this.value.value:o}evaluate(o,u,h,y){return this.property.evaluate(this.value,this.parameters,o,u,h,y)}}class Ie{constructor(o){this._properties=o,this._values=Object.create(o.defaultPossiblyEvaluatedValues)}get(o){return this._values[o]}}class se{constructor(o){this.specification=o}possiblyEvaluate(o,u){return o.expression.evaluate(u)}interpolate(o,u,h){const y=cf[this.specification.type];return y?y(o,u,h):o}}class Ae{constructor(o,u){this.specification=o,this.overrides=u}possiblyEvaluate(o,u,h,y){return new Pe(this,o.expression.kind==="constant"||o.expression.kind==="camera"?{kind:"constant",value:o.expression.evaluate(u,null,{},h,y)}:o.expression,u)}interpolate(o,u,h){if(o.value.kind!=="constant"||u.value.kind!=="constant")return o;if(o.value.value===void 0||u.value.value===void 0)return new Pe(this,{kind:"constant",value:void 0},o.parameters);const y=cf[this.specification.type];return y?new Pe(this,{kind:"constant",value:y(o.value.value,u.value.value,h)},o.parameters):o}evaluate(o,u,h,y,x,S){return o.kind==="constant"?o.value:o.evaluate(u,h,y,x,S)}}class Ne{constructor(o){this.specification=o}possiblyEvaluate(o,u,h,y){return!!o.expression.evaluate(u,null,{},h,y)}interpolate(){return!1}}class Oe{constructor(o){this.properties=o,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const u=new U(0,{});for(const h in o){const y=o[h];y.specification.overridable&&this.overridableProperties.push(h);const x=this.defaultPropertyValues[h]=new H(y,void 0),S=this.defaultTransitionablePropertyValues[h]=new G(y);this.defaultTransitioningPropertyValues[h]=S.untransitioned(),this.defaultPossiblyEvaluatedValues[h]=x.possiblyEvaluate(u)}}}function Xe(c,o){return 256*(c=Q(Math.floor(c),0,255))+Q(Math.floor(o),0,255)}or(Ae,"DataDrivenProperty"),or(se,"DataConstantProperty"),or(Ne,"ColorRampProperty");const Je={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Qe{constructor(o,u){this._structArray=o,this._pos1=u*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ct{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(o,u){return o._trim(),u&&(o.isTransferred=!0,u.push(o.arrayBuffer)),{length:o.length,arrayBuffer:o.arrayBuffer}}static deserialize(o){const u=Object.create(this.prototype);return u.arrayBuffer=o.arrayBuffer,u.length=o.length,u.capacity=o.arrayBuffer.byteLength/u.bytesPerElement,u._refreshViews(),u}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(o){this.reserve(o),this.length=o}reserve(o){if(o>this.capacity){this.capacity=Math.max(o,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const u=this.uint8;this._refreshViews(),u&&this.uint8.set(u)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function ot(c,o=1){let u=0,h=0;return{members:c.map(y=>{const x=Je[y.type].BYTES_PER_ELEMENT,S=u=vt(u,Math.max(o,x)),A=y.components||1;return h=Math.max(h,x),u+=x*A,{name:y.name,type:y.type,components:A,offset:S}}),size:vt(u,Math.max(h,o)),alignment:o}}function vt(c,o){return Math.ceil(c/o)*o}class Ut extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,u){const h=this.length;return this.resize(h+1),this.emplace(h,o,u)}emplace(o,u,h){const y=2*o;return this.int16[y+0]=u,this.int16[y+1]=h,o}}Ut.prototype.bytesPerElement=4,or(Ut,"StructArrayLayout2i4");class ht extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,u,h){const y=this.length;return this.resize(y+1),this.emplace(y,o,u,h)}emplace(o,u,h,y){const x=3*o;return this.int16[x+0]=u,this.int16[x+1]=h,this.int16[x+2]=y,o}}ht.prototype.bytesPerElement=6,or(ht,"StructArrayLayout3i6");class Rt extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,u,h,y){const x=this.length;return this.resize(x+1),this.emplace(x,o,u,h,y)}emplace(o,u,h,y,x){const S=4*o;return this.int16[S+0]=u,this.int16[S+1]=h,this.int16[S+2]=y,this.int16[S+3]=x,o}}Rt.prototype.bytesPerElement=8,or(Rt,"StructArrayLayout4i8");class xt extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,u,h,y,x,S,A){const P=this.length;return this.resize(P+1),this.emplace(P,o,u,h,y,x,S,A)}emplace(o,u,h,y,x,S,A,P){const D=6*o,V=12*o,W=3*o;return this.int16[D+0]=u,this.int16[D+1]=h,this.uint8[V+4]=y,this.uint8[V+5]=x,this.uint8[V+6]=S,this.uint8[V+7]=A,this.float32[W+2]=P,o}}xt.prototype.bytesPerElement=12,or(xt,"StructArrayLayout2i4ub1f12");class Vt extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,u,h,y){const x=this.length;return this.resize(x+1),this.emplace(x,o,u,h,y)}emplace(o,u,h,y,x){const S=4*o;return this.float32[S+0]=u,this.float32[S+1]=h,this.float32[S+2]=y,this.float32[S+3]=x,o}}Vt.prototype.bytesPerElement=16,or(Vt,"StructArrayLayout4f16");class yt extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,u,h,y,x){const S=this.length;return this.resize(S+1),this.emplace(S,o,u,h,y,x)}emplace(o,u,h,y,x,S){const A=6*o,P=3*o;return this.uint16[A+0]=u,this.uint16[A+1]=h,this.uint16[A+2]=y,this.uint16[A+3]=x,this.float32[P+2]=S,o}}yt.prototype.bytesPerElement=12,or(yt,"StructArrayLayout4ui1f12");class Dt extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,u,h,y){const x=this.length;return this.resize(x+1),this.emplace(x,o,u,h,y)}emplace(o,u,h,y,x){const S=4*o;return this.uint16[S+0]=u,this.uint16[S+1]=h,this.uint16[S+2]=y,this.uint16[S+3]=x,o}}Dt.prototype.bytesPerElement=8,or(Dt,"StructArrayLayout4ui8");class $t extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,u,h,y,x,S){const A=this.length;return this.resize(A+1),this.emplace(A,o,u,h,y,x,S)}emplace(o,u,h,y,x,S,A){const P=6*o;return this.int16[P+0]=u,this.int16[P+1]=h,this.int16[P+2]=y,this.int16[P+3]=x,this.int16[P+4]=S,this.int16[P+5]=A,o}}$t.prototype.bytesPerElement=12,or($t,"StructArrayLayout6i12");class Bt extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,u,h,y,x,S,A,P,D,V,W,q){const X=this.length;return this.resize(X+1),this.emplace(X,o,u,h,y,x,S,A,P,D,V,W,q)}emplace(o,u,h,y,x,S,A,P,D,V,W,q,X){const te=12*o;return this.int16[te+0]=u,this.int16[te+1]=h,this.int16[te+2]=y,this.int16[te+3]=x,this.uint16[te+4]=S,this.uint16[te+5]=A,this.uint16[te+6]=P,this.uint16[te+7]=D,this.int16[te+8]=V,this.int16[te+9]=W,this.int16[te+10]=q,this.int16[te+11]=X,o}}Bt.prototype.bytesPerElement=24,or(Bt,"StructArrayLayout4i4ui4i24");class Kt extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,u,h,y,x,S){const A=this.length;return this.resize(A+1),this.emplace(A,o,u,h,y,x,S)}emplace(o,u,h,y,x,S,A){const P=10*o,D=5*o;return this.int16[P+0]=u,this.int16[P+1]=h,this.int16[P+2]=y,this.float32[D+2]=x,this.float32[D+3]=S,this.float32[D+4]=A,o}}Kt.prototype.bytesPerElement=20,or(Kt,"StructArrayLayout3i3f20");class vr extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o){const u=this.length;return this.resize(u+1),this.emplace(u,o)}emplace(o,u){return this.uint32[1*o+0]=u,o}}vr.prototype.bytesPerElement=4,or(vr,"StructArrayLayout1ul4");class Or extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,u,h,y,x,S,A,P,D,V,W,q,X){const te=this.length;return this.resize(te+1),this.emplace(te,o,u,h,y,x,S,A,P,D,V,W,q,X)}emplace(o,u,h,y,x,S,A,P,D,V,W,q,X,te){const ue=20*o,Se=10*o;return this.int16[ue+0]=u,this.int16[ue+1]=h,this.int16[ue+2]=y,this.int16[ue+3]=x,this.int16[ue+4]=S,this.float32[Se+3]=A,this.float32[Se+4]=P,this.float32[Se+5]=D,this.float32[Se+6]=V,this.int16[ue+14]=W,this.uint32[Se+8]=q,this.uint16[ue+18]=X,this.uint16[ue+19]=te,o}}Or.prototype.bytesPerElement=40,or(Or,"StructArrayLayout5i4f1i1ul2ui40");class lr extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,u,h,y,x,S,A){const P=this.length;return this.resize(P+1),this.emplace(P,o,u,h,y,x,S,A)}emplace(o,u,h,y,x,S,A,P){const D=8*o;return this.int16[D+0]=u,this.int16[D+1]=h,this.int16[D+2]=y,this.int16[D+4]=x,this.int16[D+5]=S,this.int16[D+6]=A,this.int16[D+7]=P,o}}lr.prototype.bytesPerElement=16,or(lr,"StructArrayLayout3i2i2i16");class Tr extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,u,h,y,x){const S=this.length;return this.resize(S+1),this.emplace(S,o,u,h,y,x)}emplace(o,u,h,y,x,S){const A=4*o,P=8*o;return this.float32[A+0]=u,this.float32[A+1]=h,this.float32[A+2]=y,this.int16[P+6]=x,this.int16[P+7]=S,o}}Tr.prototype.bytesPerElement=16,or(Tr,"StructArrayLayout2f1f2i16");class cn extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,u,h,y){const x=this.length;return this.resize(x+1),this.emplace(x,o,u,h,y)}emplace(o,u,h,y,x){const S=12*o,A=3*o;return this.uint8[S+0]=u,this.uint8[S+1]=h,this.float32[A+1]=y,this.float32[A+2]=x,o}}cn.prototype.bytesPerElement=12,or(cn,"StructArrayLayout2ub2f12");class rn extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,u,h){const y=this.length;return this.resize(y+1),this.emplace(y,o,u,h)}emplace(o,u,h,y){const x=3*o;return this.float32[x+0]=u,this.float32[x+1]=h,this.float32[x+2]=y,o}}rn.prototype.bytesPerElement=12,or(rn,"StructArrayLayout3f12");class gr extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,u,h){const y=this.length;return this.resize(y+1),this.emplace(y,o,u,h)}emplace(o,u,h,y){const x=3*o;return this.uint16[x+0]=u,this.uint16[x+1]=h,this.uint16[x+2]=y,o}}gr.prototype.bytesPerElement=6,or(gr,"StructArrayLayout3ui6");class Dn extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o,u,h,y,x,S,A,P,D,V,W,q,X,te,ue,Se,Ce,Ue,De,Fe,He){const qe=this.length;return this.resize(qe+1),this.emplace(qe,o,u,h,y,x,S,A,P,D,V,W,q,X,te,ue,Se,Ce,Ue,De,Fe,He)}emplace(o,u,h,y,x,S,A,P,D,V,W,q,X,te,ue,Se,Ce,Ue,De,Fe,He,qe){const _t=30*o,ft=15*o,kt=60*o;return this.int16[_t+0]=u,this.int16[_t+1]=h,this.int16[_t+2]=y,this.float32[ft+2]=x,this.float32[ft+3]=S,this.uint16[_t+8]=A,this.uint16[_t+9]=P,this.uint32[ft+5]=D,this.uint32[ft+6]=V,this.uint32[ft+7]=W,this.uint16[_t+16]=q,this.uint16[_t+17]=X,this.uint16[_t+18]=te,this.float32[ft+10]=ue,this.float32[ft+11]=Se,this.uint8[kt+48]=Ce,this.uint8[kt+49]=Ue,this.uint8[kt+50]=De,this.uint32[ft+13]=Fe,this.int16[_t+28]=He,this.uint8[kt+58]=qe,o}}Dn.prototype.bytesPerElement=60,or(Dn,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Rn extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o,u,h,y,x,S,A,P,D,V,W,q,X,te,ue,Se,Ce,Ue,De,Fe,He,qe,_t,ft,kt,Wt,wt,Nt,Lt,jt){const qt=this.length;return this.resize(qt+1),this.emplace(qt,o,u,h,y,x,S,A,P,D,V,W,q,X,te,ue,Se,Ce,Ue,De,Fe,He,qe,_t,ft,kt,Wt,wt,Nt,Lt,jt)}emplace(o,u,h,y,x,S,A,P,D,V,W,q,X,te,ue,Se,Ce,Ue,De,Fe,He,qe,_t,ft,kt,Wt,wt,Nt,Lt,jt,qt){const Pt=38*o,er=19*o;return this.int16[Pt+0]=u,this.int16[Pt+1]=h,this.int16[Pt+2]=y,this.float32[er+2]=x,this.float32[er+3]=S,this.int16[Pt+8]=A,this.int16[Pt+9]=P,this.int16[Pt+10]=D,this.int16[Pt+11]=V,this.int16[Pt+12]=W,this.int16[Pt+13]=q,this.uint16[Pt+14]=X,this.uint16[Pt+15]=te,this.uint16[Pt+16]=ue,this.uint16[Pt+17]=Se,this.uint16[Pt+18]=Ce,this.uint16[Pt+19]=Ue,this.uint16[Pt+20]=De,this.uint16[Pt+21]=Fe,this.uint16[Pt+22]=He,this.uint16[Pt+23]=qe,this.uint16[Pt+24]=_t,this.uint16[Pt+25]=ft,this.uint16[Pt+26]=kt,this.uint16[Pt+27]=Wt,this.uint16[Pt+28]=wt,this.uint32[er+15]=Nt,this.float32[er+16]=Lt,this.float32[er+17]=jt,this.float32[er+18]=qt,o}}Rn.prototype.bytesPerElement=76,or(Rn,"StructArrayLayout3i2f6i15ui1ul3f76");class Nn extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o){const u=this.length;return this.resize(u+1),this.emplace(u,o)}emplace(o,u){return this.float32[1*o+0]=u,o}}Nn.prototype.bytesPerElement=4,or(Nn,"StructArrayLayout1f4");class Ln extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,u,h,y,x){const S=this.length;return this.resize(S+1),this.emplace(S,o,u,h,y,x)}emplace(o,u,h,y,x,S){const A=5*o;return this.float32[A+0]=u,this.float32[A+1]=h,this.float32[A+2]=y,this.float32[A+3]=x,this.float32[A+4]=S,o}}Ln.prototype.bytesPerElement=20,or(Ln,"StructArrayLayout5f20");class ja extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,u,h,y){const x=this.length;return this.resize(x+1),this.emplace(x,o,u,h,y)}emplace(o,u,h,y,x){const S=6*o;return this.uint32[3*o+0]=u,this.uint16[S+2]=h,this.uint16[S+3]=y,this.uint16[S+4]=x,o}}ja.prototype.bytesPerElement=12,or(ja,"StructArrayLayout1ul3ui12");class wa extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,u){const h=this.length;return this.resize(h+1),this.emplace(h,o,u)}emplace(o,u,h){const y=2*o;return this.uint16[y+0]=u,this.uint16[y+1]=h,o}}wa.prototype.bytesPerElement=4,or(wa,"StructArrayLayout2ui4");class ys extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o){const u=this.length;return this.resize(u+1),this.emplace(u,o)}emplace(o,u){return this.uint16[1*o+0]=u,o}}ys.prototype.bytesPerElement=2,or(ys,"StructArrayLayout1ui2");class dl extends ct{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,u){const h=this.length;return this.resize(h+1),this.emplace(h,o,u)}emplace(o,u,h){const y=2*o;return this.float32[y+0]=u,this.float32[y+1]=h,o}}dl.prototype.bytesPerElement=8,or(dl,"StructArrayLayout2f8");class ai extends Qe{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}ai.prototype.size=40;class On extends Or{get(o){return new ai(this,o)}}or(On,"CollisionBoxArray");class En extends Qe{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(o){this._structArray.uint8[this._pos1+49]=o}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(o){this._structArray.uint8[this._pos1+50]=o}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(o){this._structArray.uint32[this._pos4+13]=o}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(o){this._structArray.uint8[this._pos1+58]=o}}En.prototype.size=60;class Li extends Dn{get(o){return new En(this,o)}}or(Li,"PlacedSymbolArray");class to extends Qe{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(o){this._structArray.uint32[this._pos4+15]=o}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}to.prototype.size=76;class Jn extends Rn{get(o){return new to(this,o)}}or(Jn,"SymbolInstanceArray");class go extends Nn{getoffsetX(o){return this.float32[1*o+0]}}or(go,"GlyphOffsetArray");class C0 extends Ut{getx(o){return this.int16[2*o+0]}gety(o){return this.int16[2*o+1]}}or(C0,"SymbolLineVertexArray");class Du extends Qe{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Du.prototype.size=12;class Sf extends ja{get(o){return new Du(this,o)}}or(Sf,"FeatureIndexArray");class $l extends wa{geta_centroid_pos0(o){return this.uint16[2*o+0]}geta_centroid_pos1(o){return this.uint16[2*o+1]}}or($l,"FillExtrusionCentroidArray");const Rc=ot([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),zu=ot([{name:"a_dash",components:4,type:"Uint16"}]);var D0={exports:{}},Ef={exports:{}};Ef.exports=function(c,o){var u,h,y,x,S,A,P,D;for(h=c.length-(u=3&c.length),y=o,S=3432918353,A=461845907,D=0;D<h;)P=255&c.charCodeAt(D)|(255&c.charCodeAt(++D))<<8|(255&c.charCodeAt(++D))<<16|(255&c.charCodeAt(++D))<<24,++D,y=27492+(65535&(x=5*(65535&(y=(y^=P=(65535&(P=(P=(65535&P)*S+(((P>>>16)*S&65535)<<16)&4294967295)<<15|P>>>17))*A+(((P>>>16)*A&65535)<<16)&4294967295)<<13|y>>>19))+((5*(y>>>16)&65535)<<16)&4294967295))+((58964+(x>>>16)&65535)<<16);switch(P=0,u){case 3:P^=(255&c.charCodeAt(D+2))<<16;case 2:P^=(255&c.charCodeAt(D+1))<<8;case 1:y^=P=(65535&(P=(P=(65535&(P^=255&c.charCodeAt(D)))*S+(((P>>>16)*S&65535)<<16)&4294967295)<<15|P>>>17))*A+(((P>>>16)*A&65535)<<16)&4294967295}return y^=c.length,y=2246822507*(65535&(y^=y>>>16))+((2246822507*(y>>>16)&65535)<<16)&4294967295,y=3266489909*(65535&(y^=y>>>13))+((3266489909*(y>>>16)&65535)<<16)&4294967295,(y^=y>>>16)>>>0};var k_=Ef.exports,WB={exports:{}};WB.exports=function(c,o){for(var u,h=c.length,y=o^h,x=0;h>=4;)u=1540483477*(65535&(u=255&c.charCodeAt(x)|(255&c.charCodeAt(++x))<<8|(255&c.charCodeAt(++x))<<16|(255&c.charCodeAt(++x))<<24))+((1540483477*(u>>>16)&65535)<<16),y=1540483477*(65535&y)+((1540483477*(y>>>16)&65535)<<16)^(u=1540483477*(65535&(u^=u>>>24))+((1540483477*(u>>>16)&65535)<<16)),h-=4,++x;switch(h){case 3:y^=(255&c.charCodeAt(x+2))<<16;case 2:y^=(255&c.charCodeAt(x+1))<<8;case 1:y=1540483477*(65535&(y^=255&c.charCodeAt(x)))+((1540483477*(y>>>16)&65535)<<16)}return y=1540483477*(65535&(y^=y>>>13))+((1540483477*(y>>>16)&65535)<<16),(y^=y>>>15)>>>0};var $B=k_,Rue=WB.exports;D0.exports=$B,D0.exports.murmur3=$B,D0.exports.murmur2=Rue;var b7=N(D0.exports);class W6{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(o,u,h,y){this.ids.push(KB(o)),this.positions.push(u,h,y)}getPositions(o){const u=KB(o);let h=0,y=this.ids.length-1;for(;h<y;){const S=h+y>>1;this.ids[S]>=u?y=S:h=S+1}const x=[];for(;this.ids[h]===u;)x.push({index:this.positions[3*h],start:this.positions[3*h+1],end:this.positions[3*h+2]}),h++;return x}static serialize(o,u){const h=new Float64Array(o.ids),y=new Uint32Array(o.positions);return x7(h,y,0,h.length-1),u&&u.push(h.buffer,y.buffer),{ids:h,positions:y}}static deserialize(o){const u=new W6;return u.ids=o.ids,u.positions=o.positions,u.indexed=!0,u}}function KB(c){const o=+c;return!isNaN(o)&&Number.MIN_SAFE_INTEGER<=o&&o<=Number.MAX_SAFE_INTEGER?o:b7(String(c))}function x7(c,o,u,h){for(;u<h;){const y=c[u+h>>1];let x=u-1,S=h+1;for(;;){do x++;while(c[x]<y);do S--;while(c[S]>y);if(x>=S)break;$6(c,x,S),$6(o,3*x,3*S),$6(o,3*x+1,3*S+1),$6(o,3*x+2,3*S+2)}S-u<h-S?(x7(c,o,u,S),u=S+1):(x7(c,o,S+1,h),h=S)}}function $6(c,o,u){const h=c[o];c[o]=c[u],c[u]=h}or(W6,"FeaturePositionMap");class Ru{constructor(o){this.gl=o.gl,this.initialized=!1}fetchUniformLocation(o,u){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(o,u),this.initialized=!0),!!this.location}}class K6 extends Ru{constructor(o){super(o),this.current=0}set(o,u,h){this.fetchUniformLocation(o,u)&&this.current!==h&&(this.current=h,this.gl.uniform1f(this.location,h))}}class qB extends Ru{constructor(o){super(o),this.current=[0,0,0,0]}set(o,u,h){this.fetchUniformLocation(o,u)&&(h[0]===this.current[0]&&h[1]===this.current[1]&&h[2]===this.current[2]&&h[3]===this.current[3]||(this.current=h,this.gl.uniform4f(this.location,h[0],h[1],h[2],h[3])))}}class GB extends Ru{constructor(o){super(o),this.current=Ti.transparent}set(o,u,h){this.fetchUniformLocation(o,u)&&(h.r===this.current.r&&h.g===this.current.g&&h.b===this.current.b&&h.a===this.current.a||(this.current=h,this.gl.uniform4f(this.location,h.r,h.g,h.b,h.a)))}}const Nue=new Float32Array(16),Lue=new Float32Array(9),Oue=new Float32Array(4);function w7(c){return[Xe(255*c.r,255*c.g),Xe(255*c.b,255*c.a)]}class I_{constructor(o,u,h){this.value=o,this.uniformNames=u.map(y=>`u_${y}`),this.type=h}setUniform(o,u,h,y,x){u.set(o,x,y.constantOr(this.value))}getBinding(o,u){return this.type==="color"?new GB(o):new K6(o)}}class z0{constructor(o,u){this.uniformNames=u.map(h=>`u_${h}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(o){this.pixelRatio=o.pixelRatio||1,this.pattern=o.tl.concat(o.br)}setUniform(o,u,h,y,x){const S=x==="u_pattern"||x==="u_dash"?this.pattern:x==="u_pixel_ratio"?this.pixelRatio:null;S&&u.set(o,x,S)}getBinding(o,u){return u==="u_pattern"||u==="u_dash"?new qB(o):new K6(o)}}class Nu{constructor(o,u,h,y){this.expression=o,this.type=h,this.maxValue=0,this.paintVertexAttributes=u.map(x=>({name:`a_${x}`,type:"Float32",components:h==="color"?2:1,offset:0})),this.paintVertexArray=new y}populatePaintArray(o,u,h,y,x,S){const A=this.paintVertexArray.length,P=this.expression.evaluate(new U(0),u,{},x,y,S);this.paintVertexArray.resize(o),this._setPaintValue(A,o,P)}updatePaintArray(o,u,h,y,x){const S=this.expression.evaluate({zoom:0},h,y,void 0,x);this._setPaintValue(o,u,S)}_setPaintValue(o,u,h){if(this.type==="color"){const y=w7(h);for(let x=o;x<u;x++)this.paintVertexArray.emplace(x,y[0],y[1])}else{for(let y=o;y<u;y++)this.paintVertexArray.emplace(y,h);this.maxValue=Math.max(this.maxValue,Math.abs(h))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Kl{constructor(o,u,h,y,x,S){this.expression=o,this.uniformNames=u.map(A=>`u_${A}_t`),this.type=h,this.useIntegerZoom=y,this.zoom=x,this.maxValue=0,this.paintVertexAttributes=u.map(A=>({name:`a_${A}`,type:"Float32",components:h==="color"?4:2,offset:0})),this.paintVertexArray=new S}populatePaintArray(o,u,h,y,x,S){const A=this.expression.evaluate(new U(this.zoom),u,{},x,y,S),P=this.expression.evaluate(new U(this.zoom+1),u,{},x,y,S),D=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValue(D,o,A,P)}updatePaintArray(o,u,h,y,x){const S=this.expression.evaluate({zoom:this.zoom},h,y,void 0,x),A=this.expression.evaluate({zoom:this.zoom+1},h,y,void 0,x);this._setPaintValue(o,u,S,A)}_setPaintValue(o,u,h,y){if(this.type==="color"){const x=w7(h),S=w7(y);for(let A=o;A<u;A++)this.paintVertexArray.emplace(A,x[0],x[1],S[0],S[1])}else{for(let x=o;x<u;x++)this.paintVertexArray.emplace(x,h,y);this.maxValue=Math.max(this.maxValue,Math.abs(h),Math.abs(y))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(o,u,h,y,x){const S=this.useIntegerZoom?Math.floor(h.zoom):h.zoom,A=Q(this.expression.interpolationFactor(S,this.zoom,this.zoom+1),0,1);u.set(o,x,A)}getBinding(o,u){return new K6(o)}}class lp{constructor(o,u,h,y,x){this.expression=o,this.layerId=x,this.paintVertexAttributes=(h==="array"?zu:Rc).members;for(let S=0;S<u.length;++S);this.paintVertexArray=new y}populatePaintArray(o,u,h){const y=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValues(y,o,u.patterns&&u.patterns[this.layerId],h)}updatePaintArray(o,u,h,y,x,S){this._setPaintValues(o,u,h.patterns&&h.patterns[this.layerId],S)}_setPaintValues(o,u,h,y){if(!y||!h)return;const x=y[h];if(!x)return;const{tl:S,br:A,pixelRatio:P}=x;for(let D=o;D<u;D++)this.paintVertexArray.emplace(D,S[0],S[1],A[0],A[1],P)}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class cp{constructor(o,u,h=()=>!0){this.binders={},this._buffers=[];const y=[];for(const x in o.paint._values){if(!h(x))continue;const S=o.paint.get(x);if(!(S instanceof Pe&&ep(S.property.specification)))continue;const A=Fue(x,o.type),P=S.value,D=S.property.specification.type,V=!!S.property.useIntegerZoom,W=x==="line-dasharray"||x.endsWith("pattern"),q=x==="line-dasharray"&&o.layout.get("line-cap").value.kind!=="constant";if(P.kind!=="constant"||q)if(P.kind==="source"||q||W){const X=HB(x,D,"source");this.binders[x]=W?new lp(P,A,D,X,o.id):new Nu(P,A,D,X),y.push(`/a_${x}`)}else{const X=HB(x,D,"composite");this.binders[x]=new Kl(P,A,D,V,u,X),y.push(`/z_${x}`)}else this.binders[x]=W?new z0(P.value,A):new I_(P.value,A,D),y.push(`/u_${x}`)}this.cacheKey=y.sort().join("")}getMaxValue(o){const u=this.binders[o];return u instanceof Nu||u instanceof Kl?u.maxValue:0}populatePaintArrays(o,u,h,y,x,S){for(const A in this.binders){const P=this.binders[A];(P instanceof Nu||P instanceof Kl||P instanceof lp)&&P.populatePaintArray(o,u,h,y,x,S)}}setConstantPatternPositions(o){for(const u in this.binders){const h=this.binders[u];h instanceof z0&&h.setConstantPatternPositions(o)}}updatePaintArrays(o,u,h,y,x,S){let A=!1;for(const P in o){const D=u.getPositions(P);for(const V of D){const W=h.feature(V.index);for(const q in this.binders){const X=this.binders[q];if((X instanceof Nu||X instanceof Kl||X instanceof lp)&&X.expression.isStateDependent===!0){const te=y.paint.get(q);X.expression=te.value,X.updatePaintArray(V.start,V.end,W,o[P],x,S),A=!0}}}}return A}defines(){const o=[];for(const u in this.binders){const h=this.binders[u];(h instanceof I_||h instanceof z0)&&o.push(...h.uniformNames.map(y=>`#define HAS_UNIFORM_${y}`))}return o}getBinderAttributes(){const o=[];for(const u in this.binders){const h=this.binders[u];if(h instanceof Nu||h instanceof Kl||h instanceof lp)for(let y=0;y<h.paintVertexAttributes.length;y++)o.push(h.paintVertexAttributes[y].name)}return o}getBinderUniforms(){const o=[];for(const u in this.binders){const h=this.binders[u];if(h instanceof I_||h instanceof z0||h instanceof Kl)for(const y of h.uniformNames)o.push(y)}return o}getPaintVertexBuffers(){return this._buffers}getUniforms(o){const u=[];for(const h in this.binders){const y=this.binders[h];if(y instanceof I_||y instanceof z0||y instanceof Kl)for(const x of y.uniformNames)u.push({name:x,property:h,binding:y.getBinding(o,x)})}return u}setUniforms(o,u,h,y,x){for(const{name:S,property:A,binding:P}of h)this.binders[A].setUniform(o,P,x,y.get(A),S)}updatePaintBuffers(){this._buffers=[];for(const o in this.binders){const u=this.binders[o];(u instanceof Nu||u instanceof Kl||u instanceof lp)&&u.paintVertexBuffer&&this._buffers.push(u.paintVertexBuffer)}}upload(o){for(const u in this.binders){const h=this.binders[u];(h instanceof Nu||h instanceof Kl||h instanceof lp)&&h.upload(o)}this.updatePaintBuffers()}destroy(){for(const o in this.binders){const u=this.binders[o];(u instanceof Nu||u instanceof Kl||u instanceof lp)&&u.destroy()}}}class Af{constructor(o,u,h=()=>!0){this.programConfigurations={};for(const y of o)this.programConfigurations[y.id]=new cp(y,u,h);this.needsUpload=!1,this._featureMap=new W6,this._bufferOffset=0}populatePaintArrays(o,u,h,y,x,S,A){for(const P in this.programConfigurations)this.programConfigurations[P].populatePaintArrays(o,u,y,x,S,A);u.id!==void 0&&this._featureMap.add(u.id,h,this._bufferOffset,o),this._bufferOffset=o,this.needsUpload=!0}updatePaintArrays(o,u,h,y,x){for(const S of h)this.needsUpload=this.programConfigurations[S.id].updatePaintArrays(o,this._featureMap,u,S,y,x)||this.needsUpload}get(o){return this.programConfigurations[o]}upload(o){if(this.needsUpload){for(const u in this.programConfigurations)this.programConfigurations[u].upload(o);this.needsUpload=!1}}destroy(){for(const o in this.programConfigurations)this.programConfigurations[o].destroy()}}const Bue={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function Fue(c,o){return Bue[c]||[c.replace(`${o}-`,"").replace(/-/g,"_")]}const jue={"line-pattern":{source:yt,composite:yt},"fill-pattern":{source:yt,composite:yt},"fill-extrusion-pattern":{source:yt,composite:yt},"line-dasharray":{source:Dt,composite:Dt}},Vue={color:{source:dl,composite:Vt},number:{source:Nn,composite:dl}};function HB(c,o,u){const h=jue[c];return h&&h[u]||Vue[o][u]}or(I_,"ConstantBinder"),or(z0,"PatternConstantBinder"),or(Nu,"SourceExpressionBinder"),or(lp,"PatternCompositeBinder"),or(Kl,"CompositeExpressionBinder"),or(cp,"ProgramConfiguration",{omit:["_buffers"]}),or(Af,"ProgramConfigurationSet");const ZB="-transition";class ql extends Ll{constructor(o,u){if(super(),this.id=o.id,this.type=o.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,o.type!=="custom"&&(this.metadata=o.metadata,this.minzoom=o.minzoom,this.maxzoom=o.maxzoom,o.type!=="background"&&o.type!=="sky"&&(this.source=o.source,this.sourceLayer=o["source-layer"],this.filter=o.filter),u.layout&&(this._unevaluatedLayout=new ke(u.layout)),u.paint)){this._transitionablePaint=new ae(u.paint);for(const h in o.paint)this.setPaintProperty(h,o.paint[h],{validate:!1});for(const h in o.layout)this.setLayoutProperty(h,o.layout[h],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ie(u.paint)}}getLayoutProperty(o){return o==="visibility"?this.visibility:this._unevaluatedLayout.getValue(o)}setLayoutProperty(o,u,h={}){u!=null&&this._validate(m7,`layers.${this.id}.layout.${o}`,o,u,h)||(o!=="visibility"?this._unevaluatedLayout.setValue(o,u):this.visibility=u)}getPaintProperty(o){return Ht(o,ZB)?this._transitionablePaint.getTransition(o.slice(0,-11)):this._transitionablePaint.getValue(o)}setPaintProperty(o,u,h={}){if(u!=null&&this._validate(f7,`layers.${this.id}.paint.${o}`,o,u,h))return!1;if(Ht(o,ZB))return this._transitionablePaint.setTransition(o.slice(0,-11),u||void 0),!1;{const y=this._transitionablePaint._values[o],x=y.value.isDataDriven(),S=y.value;this._transitionablePaint.setValue(o,u),this._handleSpecialPaintPropertyUpdate(o);const A=this._transitionablePaint._values[o].value,P=A.isDataDriven(),D=Ht(o,"pattern")||o==="line-dasharray";return P||x||D||this._handleOverridablePaintPropertyUpdate(o,S,A)}}_handleSpecialPaintPropertyUpdate(o){}getProgramIds(){return null}getProgramConfiguration(o){return null}_handleOverridablePaintPropertyUpdate(o,u,h){return!1}isHidden(o){return!!(this.minzoom&&o<this.minzoom)||!!(this.maxzoom&&o>=this.maxzoom)||this.visibility==="none"}updateTransitions(o){this._transitioningPaint=this._transitionablePaint.transitioned(o,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(o,u){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(o,void 0,u)),this.paint=this._transitioningPaint.possiblyEvaluate(o,void 0,u)}serialize(){const o={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(o.layout=o.layout||{},o.layout.visibility=this.visibility),Me(o,(u,h)=>!(u===void 0||h==="layout"&&!Object.keys(u).length||h==="paint"&&!Object.keys(u).length))}_validate(o,u,h,y,x={}){return(!x||x.validate!==!1)&&F6(this,o.call(B6,{key:u,layerType:this.type,objectKey:h,value:y,styleSpec:Mt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const o in this.paint._values){const u=this.paint.get(o);if(u instanceof Pe&&ep(u.property.specification)&&(u.value.kind==="source"||u.value.kind==="composite")&&u.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=M0(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Uue=ot([{name:"a_pos",components:2,type:"Int16"}],4),Wue=ot([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Oi{constructor(o=[]){this.segments=o}prepareSegment(o,u,h,y){let x=this.segments[this.segments.length-1];return o>Oi.MAX_VERTEX_ARRAY_LENGTH&&rt(`Max vertices per segment is ${Oi.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${o}`),(!x||x.vertexLength+o>Oi.MAX_VERTEX_ARRAY_LENGTH||x.sortKey!==y)&&(x={vertexOffset:u.length,primitiveOffset:h.length,vertexLength:0,primitiveLength:0},y!==void 0&&(x.sortKey=y),this.segments.push(x)),x}get(){return this.segments}destroy(){for(const o of this.segments)for(const u in o.vaos)o.vaos[u].destroy()}static simpleSegment(o,u,h,y){return new Oi([{vertexOffset:o,primitiveOffset:u,vertexLength:h,primitiveLength:y,vaos:{},sortKey:0}])}}Oi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,or(Oi,"SegmentVector");var Sr=8192;class up{constructor(o,u){o&&(u?this.setSouthWest(o).setNorthEast(u):o.length===4?this.setSouthWest([o[0],o[1]]).setNorthEast([o[2],o[3]]):this.setSouthWest(o[0]).setNorthEast(o[1]))}setNorthEast(o){return this._ne=o instanceof Bn?new Bn(o.lng,o.lat):Bn.convert(o),this}setSouthWest(o){return this._sw=o instanceof Bn?new Bn(o.lng,o.lat):Bn.convert(o),this}extend(o){const u=this._sw,h=this._ne;let y,x;if(o instanceof Bn)y=o,x=o;else{if(!(o instanceof up))return Array.isArray(o)?o.length===4||o.every(Array.isArray)?this.extend(up.convert(o)):this.extend(Bn.convert(o)):typeof o=="object"&&o!==null&&o.hasOwnProperty("lat")&&(o.hasOwnProperty("lon")||o.hasOwnProperty("lng"))?this.extend(Bn.convert(o)):this;if(y=o._sw,x=o._ne,!y||!x)return this}return u||h?(u.lng=Math.min(y.lng,u.lng),u.lat=Math.min(y.lat,u.lat),h.lng=Math.max(x.lng,h.lng),h.lat=Math.max(x.lat,h.lat)):(this._sw=new Bn(y.lng,y.lat),this._ne=new Bn(x.lng,x.lat)),this}getCenter(){return new Bn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Bn(this.getWest(),this.getNorth())}getSouthEast(){return new Bn(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(o){const{lng:u,lat:h}=Bn.convert(o);let y=this._sw.lng<=u&&u<=this._ne.lng;return this._sw.lng>this._ne.lng&&(y=this._sw.lng>=u&&u>=this._ne.lng),this._sw.lat<=h&&h<=this._ne.lat&&y}static convert(o){return!o||o instanceof up?o:new up(o)}}var q6=1e-6,vs=typeof Float32Array<"u"?Float32Array:Array;function YB(){var c=new vs(9);return vs!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[5]=0,c[6]=0,c[7]=0),c[0]=1,c[4]=1,c[8]=1,c}function XB(c,o,u){var h=o[0],y=o[1],x=o[2],S=o[3],A=o[4],P=o[5],D=o[6],V=o[7],W=o[8],q=u[0],X=u[1],te=u[2],ue=u[3],Se=u[4],Ce=u[5],Ue=u[6],De=u[7],Fe=u[8];return c[0]=q*h+X*S+te*D,c[1]=q*y+X*A+te*V,c[2]=q*x+X*P+te*W,c[3]=ue*h+Se*S+Ce*D,c[4]=ue*y+Se*A+Ce*V,c[5]=ue*x+Se*P+Ce*W,c[6]=Ue*h+De*S+Fe*D,c[7]=Ue*y+De*A+Fe*V,c[8]=Ue*x+De*P+Fe*W,c}function Gl(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function S7(c,o){var u=o[0],h=o[1],y=o[2],x=o[3],S=o[4],A=o[5],P=o[6],D=o[7],V=o[8],W=o[9],q=o[10],X=o[11],te=o[12],ue=o[13],Se=o[14],Ce=o[15],Ue=u*A-h*S,De=u*P-y*S,Fe=u*D-x*S,He=h*P-y*A,qe=h*D-x*A,_t=y*D-x*P,ft=V*ue-W*te,kt=V*Se-q*te,Wt=V*Ce-X*te,wt=W*Se-q*ue,Nt=W*Ce-X*ue,Lt=q*Ce-X*Se,jt=Ue*Lt-De*Nt+Fe*wt+He*Wt-qe*kt+_t*ft;return jt?(c[0]=(A*Lt-P*Nt+D*wt)*(jt=1/jt),c[1]=(y*Nt-h*Lt-x*wt)*jt,c[2]=(ue*_t-Se*qe+Ce*He)*jt,c[3]=(q*qe-W*_t-X*He)*jt,c[4]=(P*Wt-S*Lt-D*kt)*jt,c[5]=(u*Lt-y*Wt+x*kt)*jt,c[6]=(Se*Fe-te*_t-Ce*De)*jt,c[7]=(V*_t-q*Fe+X*De)*jt,c[8]=(S*Nt-A*Wt+D*ft)*jt,c[9]=(h*Wt-u*Nt-x*ft)*jt,c[10]=(te*qe-ue*Fe+Ce*Ue)*jt,c[11]=(W*Fe-V*qe-X*Ue)*jt,c[12]=(A*kt-S*wt-P*ft)*jt,c[13]=(u*wt-h*kt+y*ft)*jt,c[14]=(ue*De-te*He-Se*Ue)*jt,c[15]=(V*He-W*De+q*Ue)*jt,c):null}function Tf(c,o,u){var h=o[0],y=o[1],x=o[2],S=o[3],A=o[4],P=o[5],D=o[6],V=o[7],W=o[8],q=o[9],X=o[10],te=o[11],ue=o[12],Se=o[13],Ce=o[14],Ue=o[15],De=u[0],Fe=u[1],He=u[2],qe=u[3];return c[0]=De*h+Fe*A+He*W+qe*ue,c[1]=De*y+Fe*P+He*q+qe*Se,c[2]=De*x+Fe*D+He*X+qe*Ce,c[3]=De*S+Fe*V+He*te+qe*Ue,c[4]=(De=u[4])*h+(Fe=u[5])*A+(He=u[6])*W+(qe=u[7])*ue,c[5]=De*y+Fe*P+He*q+qe*Se,c[6]=De*x+Fe*D+He*X+qe*Ce,c[7]=De*S+Fe*V+He*te+qe*Ue,c[8]=(De=u[8])*h+(Fe=u[9])*A+(He=u[10])*W+(qe=u[11])*ue,c[9]=De*y+Fe*P+He*q+qe*Se,c[10]=De*x+Fe*D+He*X+qe*Ce,c[11]=De*S+Fe*V+He*te+qe*Ue,c[12]=(De=u[12])*h+(Fe=u[13])*A+(He=u[14])*W+(qe=u[15])*ue,c[13]=De*y+Fe*P+He*q+qe*Se,c[14]=De*x+Fe*D+He*X+qe*Ce,c[15]=De*S+Fe*V+He*te+qe*Ue,c}function C_(c,o,u){var h,y,x,S,A,P,D,V,W,q,X,te,ue=u[0],Se=u[1],Ce=u[2];return o===c?(c[12]=o[0]*ue+o[4]*Se+o[8]*Ce+o[12],c[13]=o[1]*ue+o[5]*Se+o[9]*Ce+o[13],c[14]=o[2]*ue+o[6]*Se+o[10]*Ce+o[14],c[15]=o[3]*ue+o[7]*Se+o[11]*Ce+o[15]):(y=o[1],x=o[2],S=o[3],A=o[4],P=o[5],D=o[6],V=o[7],W=o[8],q=o[9],X=o[10],te=o[11],c[0]=h=o[0],c[1]=y,c[2]=x,c[3]=S,c[4]=A,c[5]=P,c[6]=D,c[7]=V,c[8]=W,c[9]=q,c[10]=X,c[11]=te,c[12]=h*ue+A*Se+W*Ce+o[12],c[13]=y*ue+P*Se+q*Ce+o[13],c[14]=x*ue+D*Se+X*Ce+o[14],c[15]=S*ue+V*Se+te*Ce+o[15]),c}function Mf(c,o,u){var h=u[0],y=u[1],x=u[2];return c[0]=o[0]*h,c[1]=o[1]*h,c[2]=o[2]*h,c[3]=o[3]*h,c[4]=o[4]*y,c[5]=o[5]*y,c[6]=o[6]*y,c[7]=o[7]*y,c[8]=o[8]*x,c[9]=o[9]*x,c[10]=o[10]*x,c[11]=o[11]*x,c[12]=o[12],c[13]=o[13],c[14]=o[14],c[15]=o[15],c}function E7(c,o,u){var h=Math.sin(u),y=Math.cos(u),x=o[4],S=o[5],A=o[6],P=o[7],D=o[8],V=o[9],W=o[10],q=o[11];return o!==c&&(c[0]=o[0],c[1]=o[1],c[2]=o[2],c[3]=o[3],c[12]=o[12],c[13]=o[13],c[14]=o[14],c[15]=o[15]),c[4]=x*y+D*h,c[5]=S*y+V*h,c[6]=A*y+W*h,c[7]=P*y+q*h,c[8]=D*y-x*h,c[9]=V*y-S*h,c[10]=W*y-A*h,c[11]=q*y-P*h,c}function G6(c,o,u){var h=Math.sin(u),y=Math.cos(u),x=o[0],S=o[1],A=o[2],P=o[3],D=o[8],V=o[9],W=o[10],q=o[11];return o!==c&&(c[4]=o[4],c[5]=o[5],c[6]=o[6],c[7]=o[7],c[12]=o[12],c[13]=o[13],c[14]=o[14],c[15]=o[15]),c[0]=x*y-D*h,c[1]=S*y-V*h,c[2]=A*y-W*h,c[3]=P*y-q*h,c[8]=x*h+D*y,c[9]=S*h+V*y,c[10]=A*h+W*y,c[11]=P*h+q*y,c}function QB(c,o){return c[0]=o[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=o[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=o[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function JB(c,o,u){var h,y,x,S=u[0],A=u[1],P=u[2],D=Math.hypot(S,A,P);return D<q6?null:(S*=D=1/D,A*=D,P*=D,h=Math.sin(o),y=Math.cos(o),c[0]=S*S*(x=1-y)+y,c[1]=A*S*x+P*h,c[2]=P*S*x-A*h,c[3]=0,c[4]=S*A*x-P*h,c[5]=A*A*x+y,c[6]=P*A*x+S*h,c[7]=0,c[8]=S*P*x+A*h,c[9]=A*P*x-S*h,c[10]=P*P*x+y,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c)}Math.hypot||(Math.hypot=function(){for(var c=0,o=arguments.length;o--;)c+=arguments[o]*arguments[o];return Math.sqrt(c)});var $ue=Tf;function A7(){var c=new vs(3);return vs!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c}function eF(c){var o=new vs(3);return o[0]=c[0],o[1]=c[1],o[2]=c[2],o}function D_(c){return Math.hypot(c[0],c[1],c[2])}function R0(c,o,u){var h=new vs(3);return h[0]=c,h[1]=o,h[2]=u,h}function Lu(c,o,u){return c[0]=o[0]+u[0],c[1]=o[1]+u[1],c[2]=o[2]+u[2],c}function T7(c,o,u){return c[0]=o[0]-u[0],c[1]=o[1]-u[1],c[2]=o[2]-u[2],c}function tF(c,o,u){return c[0]=o[0]*u[0],c[1]=o[1]*u[1],c[2]=o[2]*u[2],c}function z_(c,o,u){return c[0]=Math.min(o[0],u[0]),c[1]=Math.min(o[1],u[1]),c[2]=Math.min(o[2],u[2]),c}function R_(c,o,u){return c[0]=Math.max(o[0],u[0]),c[1]=Math.max(o[1],u[1]),c[2]=Math.max(o[2],u[2]),c}function Os(c,o,u){return c[0]=o[0]*u,c[1]=o[1]*u,c[2]=o[2]*u,c}function N_(c,o,u,h){return c[0]=o[0]+u[0]*h,c[1]=o[1]+u[1]*h,c[2]=o[2]+u[2]*h,c}function yo(c,o){var u=o[0],h=o[1],y=o[2],x=u*u+h*h+y*y;return x>0&&(x=1/Math.sqrt(x)),c[0]=o[0]*x,c[1]=o[1]*x,c[2]=o[2]*x,c}function pl(c,o){return c[0]*o[0]+c[1]*o[1]+c[2]*o[2]}function M7(c,o,u){var h=o[0],y=o[1],x=o[2],S=u[0],A=u[1],P=u[2];return c[0]=y*P-x*A,c[1]=x*S-h*P,c[2]=h*A-y*S,c}function Mi(c,o,u){var h=o[0],y=o[1],x=o[2],S=u[3]*h+u[7]*y+u[11]*x+u[15];return c[0]=(u[0]*h+u[4]*y+u[8]*x+u[12])/(S=S||1),c[1]=(u[1]*h+u[5]*y+u[9]*x+u[13])/S,c[2]=(u[2]*h+u[6]*y+u[10]*x+u[14])/S,c}function rF(c,o,u){var h=u[0],y=u[1],x=u[2],S=o[0],A=o[1],P=o[2],D=y*P-x*A,V=x*S-h*P,W=h*A-y*S,q=y*W-x*V,X=x*D-h*W,te=h*V-y*D,ue=2*u[3];return V*=ue,W*=ue,X*=2,te*=2,c[0]=S+(D*=ue)+(q*=2),c[1]=A+V+X,c[2]=P+W+te,c}var L_,Hl=T7,Kue=tF,que=D_;function nF(c,o,u){return c[0]=o[0]*u,c[1]=o[1]*u,c[2]=o[2]*u,c[3]=o[3]*u,c}function iF(c,o){var u=o[0],h=o[1],y=o[2],x=o[3],S=u*u+h*h+y*y+x*x;return S>0&&(S=1/Math.sqrt(S)),c[0]=u*S,c[1]=h*S,c[2]=y*S,c[3]=x*S,c}function Pf(c,o,u){var h=o[0],y=o[1],x=o[2],S=o[3];return c[0]=u[0]*h+u[4]*y+u[8]*x+u[12]*S,c[1]=u[1]*h+u[5]*y+u[9]*x+u[13]*S,c[2]=u[2]*h+u[6]*y+u[10]*x+u[14]*S,c[3]=u[3]*h+u[7]*y+u[11]*x+u[15]*S,c}function aF(){var c=new vs(4);return vs!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c[3]=1,c}function oF(c){return c[0]=0,c[1]=0,c[2]=0,c[3]=1,c}function sF(c,o,u){u*=.5;var h=o[0],y=o[1],x=o[2],S=o[3],A=Math.sin(u),P=Math.cos(u);return c[0]=h*P+S*A,c[1]=y*P+x*A,c[2]=x*P-y*A,c[3]=S*P-h*A,c}function lF(c,o,u){u*=.5;var h=o[0],y=o[1],x=o[2],S=o[3],A=Math.sin(u),P=Math.cos(u);return c[0]=h*P-x*A,c[1]=y*P+S*A,c[2]=x*P+h*A,c[3]=S*P-y*A,c}A7(),L_=new vs(4),vs!=Float32Array&&(L_[0]=0,L_[1]=0,L_[2]=0,L_[3]=0);var Gue=iF;A7(),R0(1,0,0),R0(0,1,0),aF(),aF(),YB();const Hue=ot([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:cF}=Hue,uF=ot([{name:"a_pos_3",components:3,type:"Int16"}]);var O_=ot([{name:"a_pos",type:"Int16",components:2}]);class P7{constructor(o,u){this.pos=o,this.dir=u}intersectsPlane(o,u,h){const y=pl(u,this.dir);if(Math.abs(y)<1e-6)return!1;const x=((o[0]-this.pos[0])*u[0]+(o[1]-this.pos[1])*u[1]+(o[2]-this.pos[2])*u[2])/y;return h[0]=this.pos[0]+this.dir[0]*x,h[1]=this.pos[1]+this.dir[1]*x,h[2]=this.pos[2]+this.dir[2]*x,!0}closestPointOnSphere(o,u,h){if(function(X,te){var ue=X[0],Se=X[1],Ce=X[2],Ue=te[0],De=te[1],Fe=te[2];return Math.abs(ue-Ue)<=q6*Math.max(1,Math.abs(ue),Math.abs(Ue))&&Math.abs(Se-De)<=q6*Math.max(1,Math.abs(Se),Math.abs(De))&&Math.abs(Ce-Fe)<=q6*Math.max(1,Math.abs(Ce),Math.abs(Fe))}(this.pos,o)||u===0)return h[0]=h[1]=h[2]=0,!1;const[y,x,S]=this.dir,A=this.pos[0]-o[0],P=this.pos[1]-o[1],D=this.pos[2]-o[2],V=y*y+x*x+S*S,W=2*(A*y+P*x+D*S),q=W*W-4*V*(A*A+P*P+D*D-u*u);if(q<0){const X=Math.max(-W/2,0),te=A+y*X,ue=P+x*X,Se=D+S*X,Ce=Math.hypot(te,ue,Se);return h[0]=te*u/Ce,h[1]=ue*u/Ce,h[2]=Se*u/Ce,!1}{const X=(-W-Math.sqrt(q))/(2*V);if(X<0){const te=Math.hypot(A,P,D);return h[0]=A*u/te,h[1]=P*u/te,h[2]=D*u/te,!1}return h[0]=A+y*X,h[1]=P+x*X,h[2]=D+S*X,!0}}}class k7{constructor(o,u,h,y,x){this.TL=o,this.TR=u,this.BR=h,this.BL=y,this.horizon=x}static fromInvProjectionMatrix(o,u,h){const y=[-1,1,1],x=[1,1,1],S=[1,-1,1],A=[-1,-1,1],P=Mi(y,y,o),D=Mi(x,x,o),V=Mi(S,S,o),W=Mi(A,A,o);return new k7(P,D,V,W,u/h)}}class I7{constructor(o,u){this.points=o,this.planes=u}static fromInvProjectionMatrix(o,u,h,y){const x=Math.pow(2,h),S=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(P=>{const D=Pf([],P,o),V=1/D[3]/u*x;return function(W,q,X){return W[0]=q[0]*X[0],W[1]=q[1]*X[1],W[2]=q[2]*X[2],W[3]=q[3]*X[3],W}(D,D,[V,V,y?1/D[3]:V,V])}),A=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(P=>{const D=yo([],M7([],Hl([],S[P[0]],S[P[1]]),Hl([],S[P[2]],S[P[1]]))),V=-pl(D,S[P[1]]);return D.concat(V)});return new I7(S,A)}}class vo{static fromPoints(o){const u=[1/0,1/0,1/0],h=[-1/0,-1/0,-1/0];for(const y of o)z_(u,u,y),R_(h,h,y);return new vo(u,h)}static applyTransform(o,u){const h=o.getCorners();for(let y=0;y<h.length;++y)Mi(h[y],h[y],u);return vo.fromPoints(h)}constructor(o,u){this.min=o,this.max=u,this.center=Os([],Lu([],this.min,this.max),.5)}quadrant(o){const u=[o%2==0,o<2],h=eF(this.min),y=eF(this.max);for(let x=0;x<u.length;x++)h[x]=u[x]?this.min[x]:this.center[x],y[x]=u[x]?this.center[x]:this.max[x];return y[2]=this.max[2],new vo(h,y)}distanceX(o){return Math.max(Math.min(this.max[0],o[0]),this.min[0])-o[0]}distanceY(o){return Math.max(Math.min(this.max[1],o[1]),this.min[1])-o[1]}distanceZ(o){return Math.max(Math.min(this.max[2],o[2]),this.min[2])-o[2]}getCorners(){const o=this.min,u=this.max;return[[o[0],o[1],o[2]],[u[0],o[1],o[2]],[u[0],u[1],o[2]],[o[0],u[1],o[2]],[o[0],o[1],u[2]],[u[0],o[1],u[2]],[u[0],u[1],u[2]],[o[0],u[1],u[2]]]}intersects(o){const u=this.getCorners();let h=!0;for(let y=0;y<o.planes.length;y++){const x=o.planes[y];let S=0;for(let A=0;A<u.length;A++)S+=pl(x,u[A])+x[3]>=0;if(S===0)return 0;S!==u.length&&(h=!1)}if(h)return 2;for(let y=0;y<3;y++){let x=Number.MAX_VALUE,S=-Number.MAX_VALUE;for(let A=0;A<o.points.length;A++){const P=o.points[A][y]-this.min[y];x=Math.min(x,P),S=Math.max(S,P)}if(S<0||x>this.max[y]-this.min[y])return 0}return 1}}const C7=5,dF=6,Nc=Sr/Math.PI/2,Zue=16383,kf=64,B_=[kf,32,16],hl=-Nc,fl=Nc,Yue=[new vo([hl,hl,hl],[fl,fl,fl]),new vo([hl,hl,hl],[0,0,fl]),new vo([0,hl,hl],[fl,0,fl]),new vo([hl,0,hl],[0,fl,fl]),new vo([0,0,hl],[fl,fl,fl])];function H6(c){return c*Nc/V_}function pF(c,o,u,h=!0){const y=Os([],c._camera.position,c.worldSize),x=[o,u,1,1];Pf(x,x,c.pixelMatrixInverse),nF(x,x,1/x[3]);const S=yo([],Hl([],x,y)),A=c.globeMatrix,P=[A[12],A[13],A[14]],D=Hl([],P,y),V=D_(D),W=yo([],D),q=c.worldSize/(2*Math.PI),X=pl(W,S),te=Math.asin(q/V);if(te<Math.acos(X)){if(!h)return null;const Wt=[],wt=[];Os(Wt,S,V/X),yo(wt,Hl(wt,Wt,D)),yo(S,Lu(S,D,Os(S,wt,Math.tan(te)*V)))}const ue=[];new P7(y,S).closestPointOnSphere(P,q,ue);const Se=yo([],en(A,0)),Ce=yo([],en(A,1)),Ue=yo([],en(A,2)),De=pl(Se,ue),Fe=pl(Ce,ue),He=pl(Ue,ue),qe=ye(Math.asin(-Fe/q));let _t=ye(Math.atan2(De,He));_t=c.center.lng+function(Wt,wt){const Nt=(wt-Wt+180)%360-180;return Nt<-180?Nt+360:Nt}(c.center.lng,_t);const ft=Oc(_t),kt=Q(Bc(qe),0,1);return new B0(ft,kt)}class Xue{constructor(o,u,h){this.a=Hl([],o,h),this.b=Hl([],u,h),this.center=h;const y=yo([],this.a),x=yo([],this.b);this.angle=Math.acos(pl(y,x))}}function D7(c,o){if(c.angle===0)return null;let u;return u=c.a[o]===0?1/c.angle*.5*Math.PI:1/c.angle*Math.atan(c.b[o]/c.a[o]/Math.sin(c.angle)-1/Math.tan(c.angle)),u<0||u>1?null:function(h,y,x,S){const A=Math.sin(x);return h*(Math.sin((1-S)*x)/A)+y*(Math.sin(S*x)/A)}(c.a[o],c.b[o],c.angle,Q(u,0,1))+c.center[o]}function Lc(c){if(c.z<=1)return Yue[c.z+2*c.y+c.x];const o=z7(Z6(c));return vo.fromPoints(o)}function If(c,o,u){return Os(c,c,1-u),N_(c,c,o,u)}function hF(c,o){const u=O0(o.zoom);if(u===0)return Lc(c);const h=Z6(c),y=z7(h),x=Oc(h.getWest())*o.worldSize,S=Oc(h.getEast())*o.worldSize,A=Bc(h.getNorth())*o.worldSize,P=Bc(h.getSouth())*o.worldSize,D=[x,A,0],V=[S,A,0],W=[x,P,0],q=[S,P,0],X=S7([],o.globeMatrix);return Mi(D,D,X),Mi(V,V,X),Mi(W,W,X),Mi(q,q,X),y[0]=If(y[0],W,u),y[1]=If(y[1],q,u),y[2]=If(y[2],V,u),y[3]=If(y[3],D,u),vo.fromPoints(y)}function fF(c,o,u){for(const h of c)Mi(h,h,o),Os(h,h,u)}function Que(c,o,u){const h=o/c.worldSize,y=c.globeMatrix;if(u.z<=1){const ft=Lc(u).getCorners();return fF(ft,y,h),vo.fromPoints(ft)}const x=Z6(u),S=z7(x);fF(S,y,h);const A=Number.MAX_VALUE,P=[-A,-A,-A],D=[A,A,A];if(x.contains(c.center)){for(const Wt of S)z_(D,D,Wt),R_(P,P,Wt);P[2]=0;const ft=c.point,kt=[ft.x*h,ft.y*h,0];return z_(D,D,kt),R_(P,P,kt),new vo(D,P)}const V=[y[12]*h,y[13]*h,y[14]*h],W=x.getCenter(),q=Q(c.center.lat,-Ua,Ua),X=Q(W.lat,-Ua,Ua),te=Oc(c.center.lng),ue=Bc(q);let Se=te-Oc(W.lng);const Ce=ue-Bc(X);Se>.5?Se-=1:Se<-.5&&(Se+=1);let Ue=0;Math.abs(Se)>Math.abs(Ce)?Ue=Se>=0?1:3:(Ue=Ce>=0?0:2,N_(V,V,[y[4]*h,y[5]*h,y[6]*h],-Math.sin(Ke(Ce>=0?x.getSouth():x.getNorth()))*Nc));const De=S[Ue],Fe=S[(Ue+1)%4],He=new Xue(De,Fe,V),qe=[D7(He,0)||De[0],D7(He,1)||De[1],D7(He,2)||De[2]],_t=O0(c.zoom);if(_t>0){const ft=function({x:Wt,y:wt,z:Nt},Lt,jt,qt,Pt){const er=1/(1<<Nt);let cr=Wt*er,tr=cr+er,$r=wt*er,Gt=$r+er,_r=0;const Kr=(cr+tr)/2-qt;return Kr>.5?_r=-1:Kr<-.5&&(_r=1),cr=((cr+_r)*Lt-(qt*=Lt))*jt+qt,tr=((tr+_r)*Lt-qt)*jt+qt,$r=($r*Lt-(Pt*=Lt))*jt+Pt,Gt=(Gt*Lt-Pt)*jt+Pt,[[cr,Gt,0],[tr,Gt,0],[tr,$r,0],[cr,$r,0]]}(u,o,c._pixelsPerMercatorPixel,te,ue);for(let Wt=0;Wt<S.length;Wt++)If(S[Wt],ft[Wt],_t);const kt=Lu([],ft[Ue],ft[(Ue+1)%4]);Os(kt,kt,.5),If(qe,kt,_t)}for(const ft of S)z_(D,D,ft),R_(P,P,ft);return D[2]=Math.min(De[2],Fe[2]),z_(D,D,qe),R_(P,P,qe),new vo(D,P)}function Z6({x:c,y:o,z:u}){const h=1/(1<<u),y=new Bn(Bs(c*h),Va((o+1)*h)),x=new Bn(Bs((c+1)*h),Va(o*h));return new up(y,x)}function z7(c){const o=Ke(c.getNorth()),u=Ke(c.getSouth()),h=Math.cos(o),y=Math.cos(u),x=Math.sin(o),S=Math.sin(u),A=c.getWest(),P=c.getEast();return[N0(y,S,A),N0(y,S,P),N0(h,x,P),N0(h,x,A)]}function N0(c,o,u,h=Nc){return u=Ke(u),[c*Math.sin(u)*h,-o*h,c*Math.cos(u)*h]}function L0(c,o,u){return N0(Math.cos(Ke(c)),Math.sin(Ke(c)),o,u)}function F_(c,o,u,h){const y=1<<u.z,x=(c/Sr+u.x)/y;return L0(Va((o/Sr+u.y)/y),Bs(x),h)}function Y6({min:c,max:o}){return Zue/Math.max(o[0]-c[0],o[1]-c[1],o[2]-c[2])}const mF=new Float64Array(16);function j_(c){const o=Y6(c),u=QB(mF,[o,o,o]);return C_(u,u,((h=[])[0]=-(y=c.min)[0],h[1]=-y[1],h[2]=-y[2],h));var h,y}function R7(c){const o=(h=c.min,(u=mF)[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=h[0],u[13]=h[1],u[14]=h[2],u[15]=1,u);var u,h;const y=1/Y6(c);return Mf(o,o,[y,y,y])}function gF(c,o,u,h,y){const x=function(P){const D=Sr/(2*Math.PI);return P/(2*Math.PI)/D}(u),S=[c,o,-u/(2*Math.PI)],A=Gl(new Float64Array(16));return C_(A,A,S),Mf(A,A,[x,x,x]),E7(A,A,Ke(-y)),G6(A,A,Ke(-h)),A}function O0(c){return ce(C7,dF,c)}function yF(c,o){const u=L0(o.lat,o.lng),h=function(te){const ue=L0(te._center.lat,te._center.lng);let Se=M7([],R0(0,1,0),ue);const Ce=JB([],-te.angle,ue);Se=Mi(Se,Se,Ce),JB(Ce,-te._pitch,Se);const Ue=yo([],ue);return Os(Ue,Ue,H6(te.cameraToCenterDistance/te.pixelsPerMeter)),Mi(Ue,Ue,Ce),Lu([],ue,Ue)}(c);return S=(y=T7([],h,u))[0],A=y[1],P=y[2],D=(x=u)[0],V=x[1],W=x[2],X=(q=Math.sqrt(S*S+A*A+P*P)*Math.sqrt(D*D+V*V+W*W))&&pl(y,x)/q,Math.acos(Math.min(Math.max(X,-1),1));var y,x,S,A,P,D,V,W,q,X}function N7(c,o){return yF(c,o)>Math.PI/2*1.01}const vF=Ke(85),Jue=Math.cos(vF),ede=Math.sin(vF),V_=63710088e-1,_F=2*Math.PI*V_;class dp{constructor(o,u){if(isNaN(o)||isNaN(u))throw new Error(`Invalid LngLat object: (${o}, ${u})`);if(this.lng=+o,this.lat=+u,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new dp(Ee(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(o){const u=Math.PI/180,h=this.lat*u,y=o.lat*u,x=Math.sin(h)*Math.sin(y)+Math.cos(h)*Math.cos(y)*Math.cos((o.lng-this.lng)*u);return V_*Math.acos(Math.min(x,1))}toBounds(o=0){const u=360*o/40075017,h=u/Math.cos(Math.PI/180*this.lat);return new up(new dp(this.lng-h,this.lat-u),new dp(this.lng+h,this.lat+u))}toEcef(o){const u=H6(o);return L0(this.lat,this.lng,Nc+u)}static convert(o){if(o instanceof dp)return o;if(Array.isArray(o)&&(o.length===2||o.length===3))return new dp(Number(o[0]),Number(o[1]));if(!Array.isArray(o)&&typeof o=="object"&&o!==null)return new dp(Number("lng"in o?o.lng:o.lon),Number(o.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}var Bn=dp;function L7(c){return _F*Math.cos(c*Math.PI/180)}function Oc(c){return(180+c)/360}function Bc(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function Zl(c,o){return c/L7(o)}function Bs(c){return 360*c-180}function Va(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}function bF(c,o){return c*L7(Va(o))}const Ua=85.051129;function xF(c){return 1/Math.cos(c*Math.PI/180)}class B0{constructor(o,u,h=0){this.x=+o,this.y=+u,this.z=+h}static fromLngLat(o,u=0){const h=Bn.convert(o);return new B0(Oc(h.lng),Bc(h.lat),Zl(u,h.lat))}toLngLat(){return new Bn(Bs(this.x),Va(this.y))}toAltitude(){return bF(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/_F*xF(Va(this.y))}}function O7(c,o,u,h,y,x,S,A,P){const D=(o+h)/2,V=(u+y)/2,W=new me(D,V);A(W),function(q,X,te,ue,Se,Ce){const Ue=te-Se,De=ue-Ce;return Math.abs((ue-X)*Ue-(te-q)*De)/Math.hypot(Ue,De)}(W.x,W.y,x.x,x.y,S.x,S.y)>=P?(O7(c,o,u,D,V,x,W,A,P),O7(c,D,V,h,y,W,S,A,P)):c.push(S)}function wF(c,o,u){let h=c[0],y=h.x,x=h.y;o(h);const S=[h];for(let A=1;A<c.length;A++){const P=c[A],{x:D,y:V}=P;o(P),O7(S,y,x,D,V,h,P,o,u),y=D,x=V,h=P}return S}function B7(c,o,u,h){if(h(o,u)){const y=o.add(u)._mult(.5);B7(c,o,y,h),B7(c,y,u,h)}else c.push(u)}function tde(c,o){let u=c[0];const h=[u];for(let y=1;y<c.length;y++){const x=c[y];B7(h,u,x,o),u=x}return h}const F7=Math.pow(2,14)-1,SF=-F7-1;function rde(c,o){const u=Math.round(c.x*o),h=Math.round(c.y*o);return c.x=Q(u,SF,F7),c.y=Q(h,SF,F7),(u<c.x||u>c.x+1||h<c.y||h>c.y+1)&&rt("Geometry exceeds allowed extent, reduce your vector tile buffer size"),c}function Ou(c,o,u){const h=c.loadGeometry(),y=c.extent,x=Sr/y;if(o&&u&&u.projection.isReprojectedInTileSpace){const S=1<<o.z,{scale:A,x:P,y:D,projection:V}=u,W=q=>{const X=Bs((o.x+q.x/y)/S),te=Va((o.y+q.y/y)/S),ue=V.project(X,te);q.x=(ue.x*A-P)*y,q.y=(ue.y*A-D)*y};for(let q=0;q<h.length;q++)if(c.type!==1)h[q]=wF(h[q],W,1);else{const X=[];for(const te of h[q])te.x<0||te.x>=y||te.y<0||te.y>=y||(W(te),X.push(te));h[q]=X}}for(const S of h)for(const A of S)rde(A,x);return h}function Cf(c,o){return{type:c.type,id:c.id,properties:c.properties,geometry:o?Ou(c):[]}}function X6(c,o,u,h,y){c.emplaceBack(2*o+(h+1)/2,2*u+(y+1)/2)}function Q6(c,o,u){c.emplaceBack(o.x,o.y,o.z,u[0]*16384,u[1]*16384,u[2]*16384)}class j7{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(u=>u.id),this.index=o.index,this.hasPattern=!1,this.projection=o.projection,this.layoutVertexArray=new Ut,this.indexArray=new gr,this.segments=new Oi,this.programConfigurations=new Af(o.layers,o.zoom),this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}populate(o,u,h,y){const x=this.layers[0],S=[];let A=null;x.type==="circle"&&(A=x.layout.get("circle-sort-key"));for(const{feature:D,id:V,index:W,sourceLayerIndex:q}of o){const X=this.layers[0]._featureFilter.needGeometry,te=Cf(D,X);if(!this.layers[0]._featureFilter.filter(new U(this.zoom),te,h))continue;const ue=A?A.evaluate(te,{},h):void 0,Se={id:V,properties:D.properties,type:D.type,sourceLayerIndex:q,index:W,geometry:X?te.geometry:Ou(D,h,y),patterns:{},sortKey:ue};S.push(Se)}A&&S.sort((D,V)=>D.sortKey-V.sortKey);let P=null;y.projection.name==="globe"&&(this.globeExtVertexArray=new $t,P=y.projection);for(const D of S){const{geometry:V,index:W,sourceLayerIndex:q}=D,X=o[W].feature;this.addFeature(D,V,W,u.availableImages,h,P),u.featureIndex.insert(X,V,W,q,this.index)}}update(o,u,h,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,u,this.stateDependentLayers,h,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Uue.members),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=o.createVertexBuffer(this.globeExtVertexArray,Wue.members))),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(o,u,h,y,x,S){for(const A of u)for(const P of A){const D=P.x,V=P.y;if(D<0||D>=Sr||V<0||V>=Sr)continue;if(S){const X=S.projectTilePoint(D,V,x),te=S.upVector(x,D,V),ue=this.globeExtVertexArray;Q6(ue,X,te),Q6(ue,X,te),Q6(ue,X,te),Q6(ue,X,te)}const W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,o.sortKey),q=W.vertexLength;X6(this.layoutVertexArray,D,V,-1,-1),X6(this.layoutVertexArray,D,V,1,-1),X6(this.layoutVertexArray,D,V,1,1),X6(this.layoutVertexArray,D,V,-1,1),this.indexArray.emplaceBack(q,q+1,q+2),this.indexArray.emplaceBack(q,q+2,q+3),W.vertexLength+=4,W.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,h,{},y,x)}}function EF(c,o){for(let u=0;u<c.length;u++)if(Df(o,c[u]))return!0;for(let u=0;u<o.length;u++)if(Df(c,o[u]))return!0;return!!V7(c,o)}function nde(c,o,u){return!!Df(c,o)||!!U7(o,c,u)}function AF(c,o){if(c.length===1)return MF(o,c[0]);for(let u=0;u<o.length;u++){const h=o[u];for(let y=0;y<h.length;y++)if(Df(c,h[y]))return!0}for(let u=0;u<c.length;u++)if(MF(o,c[u]))return!0;for(let u=0;u<o.length;u++)if(V7(c,o[u]))return!0;return!1}function ide(c,o,u){if(c.length>1){if(V7(c,o))return!0;for(let h=0;h<o.length;h++)if(U7(o[h],c,u))return!0}for(let h=0;h<c.length;h++)if(U7(c[h],o,u))return!0;return!1}function V7(c,o){if(c.length===0||o.length===0)return!1;for(let u=0;u<c.length-1;u++){const h=c[u],y=c[u+1];for(let x=0;x<o.length-1;x++)if(ade(h,y,o[x],o[x+1]))return!0}return!1}function ade(c,o,u,h){return pt(c,u,h)!==pt(o,u,h)&&pt(c,o,u)!==pt(c,o,h)}function U7(c,o,u){const h=u*u;if(o.length===1)return c.distSqr(o[0])<h;for(let y=1;y<o.length;y++)if(TF(c,o[y-1],o[y])<h)return!0;return!1}function TF(c,o,u){const h=o.distSqr(u);if(h===0)return c.distSqr(o);const y=((c.x-o.x)*(u.x-o.x)+(c.y-o.y)*(u.y-o.y))/h;return c.distSqr(y<0?o:y>1?u:u.sub(o)._mult(y)._add(o))}function MF(c,o){let u,h,y,x=!1;for(let S=0;S<c.length;S++){u=c[S];for(let A=0,P=u.length-1;A<u.length;P=A++)h=u[A],y=u[P],h.y>o.y!=y.y>o.y&&o.x<(y.x-h.x)*(o.y-h.y)/(y.y-h.y)+h.x&&(x=!x)}return x}function Df(c,o){let u=!1;for(let h=0,y=c.length-1;h<c.length;y=h++){const x=c[h],S=c[y];x.y>o.y!=S.y>o.y&&o.x<(S.x-x.x)*(o.y-x.y)/(S.y-x.y)+x.x&&(u=!u)}return u}function PF(c,o,u,h,y){for(const S of c)if(o<=S.x&&u<=S.y&&h>=S.x&&y>=S.y)return!0;const x=[new me(o,u),new me(o,y),new me(h,y),new me(h,u)];if(c.length>2){for(const S of x)if(Df(c,S))return!0}for(let S=0;S<c.length-1;S++)if(ode(c[S],c[S+1],x))return!0;return!1}function ode(c,o,u){const h=u[0],y=u[2];if(c.x<h.x&&o.x<h.x||c.x>y.x&&o.x>y.x||c.y<h.y&&o.y<h.y||c.y>y.y&&o.y>y.y)return!1;const x=pt(c,o,u[0]);return x!==pt(c,o,u[1])||x!==pt(c,o,u[2])||x!==pt(c,o,u[3])}function F0(c,o,u){const h=o.paint.get(c).value;return h.kind==="constant"?h.value:u.programConfigurations.get(o.id).getMaxValue(c)}function J6(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function kF(c,o,u,h,y){if(!o[0]&&!o[1])return c;const x=me.convert(o)._mult(y);u==="viewport"&&x._rotate(-h);const S=[];for(let A=0;A<c.length;A++)S.push(c[A].sub(x));return S}function IF(c,o,u,h){const y=me.convert(c)._mult(h);return o==="viewport"&&y._rotate(-u),y}or(j7,"CircleBucket",{omit:["layers"]});const sde=new Oe({"circle-sort-key":new Ae(Mt.layout_circle["circle-sort-key"])});var lde={paint:new Oe({"circle-radius":new Ae(Mt.paint_circle["circle-radius"]),"circle-color":new Ae(Mt.paint_circle["circle-color"]),"circle-blur":new Ae(Mt.paint_circle["circle-blur"]),"circle-opacity":new Ae(Mt.paint_circle["circle-opacity"]),"circle-translate":new se(Mt.paint_circle["circle-translate"]),"circle-translate-anchor":new se(Mt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new se(Mt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new se(Mt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ae(Mt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ae(Mt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ae(Mt.paint_circle["circle-stroke-opacity"])}),layout:sde};function CF(c,o,u,h,y,x,S,A,P){if(x&&c.queryGeometry.isAboveHorizon)return!1;x&&(P*=c.pixelToTileUnitsFactor);const D=c.tileID.canonical,V=u.projection.upVectorScale(D,u.center.lat,u.worldSize).metersToTile;for(const W of o)for(const q of W){const X=q.add(A),te=y&&u.elevation?u.elevation.exaggeration()*y.getElevationAt(X.x,X.y,!0):0,ue=u.projection.projectTilePoint(X.x,X.y,D);if(te>0){const De=u.projection.upVector(D,X.x,X.y);ue.x+=De[0]*V*te,ue.y+=De[1]*V*te,ue.z+=De[2]*V*te}const Se=x?X:cde(ue.x,ue.y,ue.z,h),Ce=x?c.tilespaceRays.map(De=>dde(De,te)):c.queryGeometry.screenGeometry,Ue=Pf([],[ue.x,ue.y,ue.z,1],h);if(!S&&x?P*=Ue[3]/u.cameraToCenterDistance:S&&!x&&(P*=u.cameraToCenterDistance/Ue[3]),x){const De=Va((q.y/Sr+D.y)/(1<<D.z));P/=u.projection.pixelsPerMeter(De,1)/Zl(1,De)}if(nde(Ce,Se,P))return!0}return!1}function cde(c,o,u,h){const y=Pf([],[c,o,u,1],h);return new me(y[0]/y[3],y[1]/y[3])}const DF=R0(0,0,0),ude=R0(0,0,1);function dde(c,o){const u=A7();return DF[2]=o,c.intersectsPlane(DF,ude,u),new me(u[0],u[1])}class zF extends j7{}function RF(c,{width:o,height:u},h,y){if(y){if(y instanceof Uint8ClampedArray)y=new Uint8Array(y.buffer);else if(y.length!==o*u*h)throw new RangeError("mismatched image size")}else y=new Uint8Array(o*u*h);return c.width=o,c.height=u,c.data=y,c}function NF(c,o,u){const{width:h,height:y}=o;h===c.width&&y===c.height||(W7(c,o,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,h),height:Math.min(c.height,y)},u),c.width=h,c.height=y,c.data=o.data)}function W7(c,o,u,h,y,x){if(y.width===0||y.height===0)return o;if(y.width>c.width||y.height>c.height||u.x>c.width-y.width||u.y>c.height-y.height)throw new RangeError("out of range source coordinates for image copy");if(y.width>o.width||y.height>o.height||h.x>o.width-y.width||h.y>o.height-y.height)throw new RangeError("out of range destination coordinates for image copy");const S=c.data,A=o.data;for(let P=0;P<y.height;P++){const D=((u.y+P)*c.width+u.x)*x,V=((h.y+P)*o.width+h.x)*x;for(let W=0;W<y.width*x;W++)A[V+W]=S[D+W]}return o}or(zF,"HeatmapBucket",{omit:["layers"]});class Bu{constructor(o,u){RF(this,o,1,u)}resize(o){NF(this,new Bu(o),1)}clone(){return new Bu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,u,h,y,x){W7(o,u,h,y,x,1)}}class _s{constructor(o,u){RF(this,o,4,u)}resize(o){NF(this,new _s(o),4)}replace(o,u){u?this.data.set(o):this.data=o instanceof Uint8ClampedArray?new Uint8Array(o.buffer):o}clone(){return new _s({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,u,h,y,x){W7(o,u,h,y,x,4)}}or(Bu,"AlphaImage"),or(_s,"RGBAImage");var pde={paint:new Oe({"heatmap-radius":new Ae(Mt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ae(Mt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new se(Mt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ne(Mt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new se(Mt.paint_heatmap["heatmap-opacity"])})};function $7(c){const o={},u=c.resolution||256,h=c.clips?c.clips.length:1,y=c.image||new _s({width:u,height:h}),x=(S,A,P)=>{o[c.evaluationKey]=P;const D=c.expression.evaluate(o);y.data[S+A+0]=Math.floor(255*D.r/D.a),y.data[S+A+1]=Math.floor(255*D.g/D.a),y.data[S+A+2]=Math.floor(255*D.b/D.a),y.data[S+A+3]=Math.floor(255*D.a)};if(c.clips)for(let S=0,A=0;S<h;++S,A+=4*u)for(let P=0,D=0;P<u;P++,D+=4){const V=P/(u-1),{start:W,end:q}=c.clips[S];x(A,D,W*(1-V)+q*V)}else for(let S=0,A=0;S<u;S++,A+=4)x(0,A,S/(u-1));return y}var hde={paint:new Oe({"hillshade-illumination-direction":new se(Mt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new se(Mt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new se(Mt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new se(Mt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new se(Mt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new se(Mt.paint_hillshade["hillshade-accent-color"])})};const fde=ot([{name:"a_pos",components:2,type:"Int16"}],4),{members:mde}=fde;var K7={exports:{}};function ew(c,o,u){u=u||2;var h,y,x,S,A,P,D,V=o&&o.length,W=V?o[0]*u:c.length,q=LF(c,0,W,u,!0),X=[];if(!q||q.next===q.prev)return X;if(V&&(q=function(ue,Se,Ce,Ue){var De,Fe,He,qe=[];for(De=0,Fe=Se.length;De<Fe;De++)(He=LF(ue,Se[De]*Ue,De<Fe-1?Se[De+1]*Ue:ue.length,Ue,!1))===He.next&&(He.steiner=!0),qe.push(Sde(He));for(qe.sort(bde),De=0;De<qe.length;De++)Ce=xde(qe[De],Ce);return Ce}(c,o,q,u)),c.length>80*u){h=x=c[0],y=S=c[1];for(var te=u;te<W;te+=u)(A=c[te])<h&&(h=A),(P=c[te+1])<y&&(y=P),A>x&&(x=A),P>S&&(S=P);D=(D=Math.max(x-h,S-y))!==0?32767/D:0}return U_(q,X,u,h,y,D,0),X}function LF(c,o,u,h,y){var x,S;if(y===H7(c,o,u,h)>0)for(x=o;x<u;x+=h)S=FF(x,c[x],c[x+1],S);else for(x=u-h;x>=o;x-=h)S=FF(x,c[x],c[x+1],S);return S&&tw(S,S.next)&&($_(S),S=S.next),S}function zf(c,o){if(!c)return c;o||(o=c);var u,h=c;do if(u=!1,h.steiner||!tw(h,h.next)&&Bi(h.prev,h,h.next)!==0)h=h.next;else{if($_(h),(h=o=h.prev)===h.next)break;u=!0}while(u||h!==o);return o}function U_(c,o,u,h,y,x,S){if(c){!S&&x&&function(V,W,q,X){var te=V;do te.z===0&&(te.z=q7(te.x,te.y,W,q,X)),te.prevZ=te.prev,te.nextZ=te.next,te=te.next;while(te!==V);te.prevZ.nextZ=null,te.prevZ=null,function(ue){var Se,Ce,Ue,De,Fe,He,qe,_t,ft=1;do{for(Ce=ue,ue=null,Fe=null,He=0;Ce;){for(He++,Ue=Ce,qe=0,Se=0;Se<ft&&(qe++,Ue=Ue.nextZ);Se++);for(_t=ft;qe>0||_t>0&&Ue;)qe!==0&&(_t===0||!Ue||Ce.z<=Ue.z)?(De=Ce,Ce=Ce.nextZ,qe--):(De=Ue,Ue=Ue.nextZ,_t--),Fe?Fe.nextZ=De:ue=De,De.prevZ=Fe,Fe=De;Ce=Ue}Fe.nextZ=null,ft*=2}while(He>1)}(te)}(c,h,y,x);for(var A,P,D=c;c.prev!==c.next;)if(A=c.prev,P=c.next,x?yde(c,h,y,x):gde(c))o.push(A.i/u|0),o.push(c.i/u|0),o.push(P.i/u|0),$_(c),c=P.next,D=P.next;else if((c=P)===D){S?S===1?U_(c=vde(zf(c),o,u),o,u,h,y,x,2):S===2&&_de(c,o,u,h,y,x):U_(zf(c),o,u,h,y,x,1);break}}}function gde(c){var o=c.prev,u=c,h=c.next;if(Bi(o,u,h)>=0)return!1;for(var y=o.x,x=u.x,S=h.x,A=o.y,P=u.y,D=h.y,V=y<x?y<S?y:S:x<S?x:S,W=A<P?A<D?A:D:P<D?P:D,q=y>x?y>S?y:S:x>S?x:S,X=A>P?A>D?A:D:P>D?P:D,te=h.next;te!==o;){if(te.x>=V&&te.x<=q&&te.y>=W&&te.y<=X&&j0(y,A,x,P,S,D,te.x,te.y)&&Bi(te.prev,te,te.next)>=0)return!1;te=te.next}return!0}function yde(c,o,u,h){var y=c.prev,x=c,S=c.next;if(Bi(y,x,S)>=0)return!1;for(var A=y.x,P=x.x,D=S.x,V=y.y,W=x.y,q=S.y,X=A<P?A<D?A:D:P<D?P:D,te=V<W?V<q?V:q:W<q?W:q,ue=A>P?A>D?A:D:P>D?P:D,Se=V>W?V>q?V:q:W>q?W:q,Ce=q7(X,te,o,u,h),Ue=q7(ue,Se,o,u,h),De=c.prevZ,Fe=c.nextZ;De&&De.z>=Ce&&Fe&&Fe.z<=Ue;){if(De.x>=X&&De.x<=ue&&De.y>=te&&De.y<=Se&&De!==y&&De!==S&&j0(A,V,P,W,D,q,De.x,De.y)&&Bi(De.prev,De,De.next)>=0||(De=De.prevZ,Fe.x>=X&&Fe.x<=ue&&Fe.y>=te&&Fe.y<=Se&&Fe!==y&&Fe!==S&&j0(A,V,P,W,D,q,Fe.x,Fe.y)&&Bi(Fe.prev,Fe,Fe.next)>=0))return!1;Fe=Fe.nextZ}for(;De&&De.z>=Ce;){if(De.x>=X&&De.x<=ue&&De.y>=te&&De.y<=Se&&De!==y&&De!==S&&j0(A,V,P,W,D,q,De.x,De.y)&&Bi(De.prev,De,De.next)>=0)return!1;De=De.prevZ}for(;Fe&&Fe.z<=Ue;){if(Fe.x>=X&&Fe.x<=ue&&Fe.y>=te&&Fe.y<=Se&&Fe!==y&&Fe!==S&&j0(A,V,P,W,D,q,Fe.x,Fe.y)&&Bi(Fe.prev,Fe,Fe.next)>=0)return!1;Fe=Fe.nextZ}return!0}function vde(c,o,u){var h=c;do{var y=h.prev,x=h.next.next;!tw(y,x)&&OF(y,h,h.next,x)&&W_(y,x)&&W_(x,y)&&(o.push(y.i/u|0),o.push(h.i/u|0),o.push(x.i/u|0),$_(h),$_(h.next),h=c=x),h=h.next}while(h!==c);return zf(h)}function _de(c,o,u,h,y,x){var S=c;do{for(var A=S.next.next;A!==S.prev;){if(S.i!==A.i&&Ede(S,A)){var P=BF(S,A);return S=zf(S,S.next),P=zf(P,P.next),U_(S,o,u,h,y,x,0),void U_(P,o,u,h,y,x,0)}A=A.next}S=S.next}while(S!==c)}function bde(c,o){return c.x-o.x}function xde(c,o){var u=function(y,x){var S,A=x,P=y.x,D=y.y,V=-1/0;do{if(D<=A.y&&D>=A.next.y&&A.next.y!==A.y){var W=A.x+(D-A.y)*(A.next.x-A.x)/(A.next.y-A.y);if(W<=P&&W>V&&(V=W,S=A.x<A.next.x?A:A.next,W===P))return S}A=A.next}while(A!==x);if(!S)return null;var q,X=S,te=S.x,ue=S.y,Se=1/0;A=S;do P>=A.x&&A.x>=te&&P!==A.x&&j0(D<ue?P:V,D,te,ue,D<ue?V:P,D,A.x,A.y)&&(q=Math.abs(D-A.y)/(P-A.x),W_(A,y)&&(q<Se||q===Se&&(A.x>S.x||A.x===S.x&&wde(S,A)))&&(S=A,Se=q)),A=A.next;while(A!==X);return S}(c,o);if(!u)return o;var h=BF(u,c);return zf(h,h.next),zf(u,u.next)}function wde(c,o){return Bi(c.prev,c,o.prev)<0&&Bi(o.next,c,c.next)<0}function q7(c,o,u,h,y){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-u)*y|0)|c<<8))|c<<4))|c<<2))|c<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-h)*y|0)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function Sde(c){var o=c,u=c;do(o.x<u.x||o.x===u.x&&o.y<u.y)&&(u=o),o=o.next;while(o!==c);return u}function j0(c,o,u,h,y,x,S,A){return(y-S)*(o-A)>=(c-S)*(x-A)&&(c-S)*(h-A)>=(u-S)*(o-A)&&(u-S)*(x-A)>=(y-S)*(h-A)}function Ede(c,o){return c.next.i!==o.i&&c.prev.i!==o.i&&!function(u,h){var y=u;do{if(y.i!==u.i&&y.next.i!==u.i&&y.i!==h.i&&y.next.i!==h.i&&OF(y,y.next,u,h))return!0;y=y.next}while(y!==u);return!1}(c,o)&&(W_(c,o)&&W_(o,c)&&function(u,h){var y=u,x=!1,S=(u.x+h.x)/2,A=(u.y+h.y)/2;do y.y>A!=y.next.y>A&&y.next.y!==y.y&&S<(y.next.x-y.x)*(A-y.y)/(y.next.y-y.y)+y.x&&(x=!x),y=y.next;while(y!==u);return x}(c,o)&&(Bi(c.prev,c,o.prev)||Bi(c,o.prev,o))||tw(c,o)&&Bi(c.prev,c,c.next)>0&&Bi(o.prev,o,o.next)>0)}function Bi(c,o,u){return(o.y-c.y)*(u.x-o.x)-(o.x-c.x)*(u.y-o.y)}function tw(c,o){return c.x===o.x&&c.y===o.y}function OF(c,o,u,h){var y=nw(Bi(c,o,u)),x=nw(Bi(c,o,h)),S=nw(Bi(u,h,c)),A=nw(Bi(u,h,o));return y!==x&&S!==A||!(y!==0||!rw(c,u,o))||!(x!==0||!rw(c,h,o))||!(S!==0||!rw(u,c,h))||!(A!==0||!rw(u,o,h))}function rw(c,o,u){return o.x<=Math.max(c.x,u.x)&&o.x>=Math.min(c.x,u.x)&&o.y<=Math.max(c.y,u.y)&&o.y>=Math.min(c.y,u.y)}function nw(c){return c>0?1:c<0?-1:0}function W_(c,o){return Bi(c.prev,c,c.next)<0?Bi(c,o,c.next)>=0&&Bi(c,c.prev,o)>=0:Bi(c,o,c.prev)<0||Bi(c,c.next,o)<0}function BF(c,o){var u=new G7(c.i,c.x,c.y),h=new G7(o.i,o.x,o.y),y=c.next,x=o.prev;return c.next=o,o.prev=c,u.next=y,y.prev=u,h.next=u,u.prev=h,x.next=h,h.prev=x,h}function FF(c,o,u,h){var y=new G7(c,o,u);return h?(y.next=h.next,y.prev=h,h.next.prev=y,h.next=y):(y.prev=y,y.next=y),y}function $_(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function G7(c,o,u){this.i=c,this.x=o,this.y=u,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function H7(c,o,u,h){for(var y=0,x=o,S=u-h;x<u;x+=h)y+=(c[S]-c[x])*(c[x+1]+c[S+1]),S=x;return y}K7.exports=ew,K7.exports.default=ew,ew.deviation=function(c,o,u,h){var y=o&&o.length,x=Math.abs(H7(c,0,y?o[0]*u:c.length,u));if(y)for(var S=0,A=o.length;S<A;S++)x-=Math.abs(H7(c,o[S]*u,S<A-1?o[S+1]*u:c.length,u));var P=0;for(S=0;S<h.length;S+=3){var D=h[S]*u,V=h[S+1]*u,W=h[S+2]*u;P+=Math.abs((c[D]-c[W])*(c[V+1]-c[D+1])-(c[D]-c[V])*(c[W+1]-c[D+1]))}return x===0&&P===0?0:Math.abs((P-x)/x)},ew.flatten=function(c){for(var o=c[0][0].length,u={vertices:[],holes:[],dimensions:o},h=0,y=0;y<c.length;y++){for(var x=0;x<c[y].length;x++)for(var S=0;S<o;S++)u.vertices.push(c[y][x][S]);y>0&&u.holes.push(h+=c[y-1].length)}return u};var Z7=N(K7.exports);function Ade(c,o,u,h,y){jF(c,o,u||0,h||c.length-1,y||Tde)}function jF(c,o,u,h,y){for(;h>u;){if(h-u>600){var x=h-u+1,S=o-u+1,A=Math.log(x),P=.5*Math.exp(2*A/3),D=.5*Math.sqrt(A*P*(x-P)/x)*(S-x/2<0?-1:1);jF(c,o,Math.max(u,Math.floor(o-S*P/x+D)),Math.min(h,Math.floor(o+(x-S)*P/x+D)),y)}var V=c[o],W=u,q=h;for(K_(c,u,o),y(c[h],V)>0&&K_(c,u,h);W<q;){for(K_(c,W,q),W++,q--;y(c[W],V)<0;)W++;for(;y(c[q],V)>0;)q--}y(c[u],V)===0?K_(c,u,q):K_(c,++q,h),q<=o&&(u=q+1),o<=q&&(h=q-1)}}function K_(c,o,u){var h=c[o];c[o]=c[u],c[u]=h}function Tde(c,o){return c<o?-1:c>o?1:0}function Y7(c,o){const u=c.length;if(u<=1)return[c];const h=[];let y,x;for(let S=0;S<u;S++){const A=Ct(c[S]);A!==0&&(c[S].area=Math.abs(A),x===void 0&&(x=A<0),x===A<0?(y&&h.push(y),y=[c[S]]):y.push(c[S]))}if(y&&h.push(y),o>1)for(let S=0;S<h.length;S++)h[S].length<=o||(Ade(h[S],o,1,h[S].length-1,Mde),h[S]=h[S].slice(0,o));return h}function Mde(c,o){return o.area-c.area}function X7(c,o,u){const h=u.patternDependencies;let y=!1;for(const x of o){const S=x.paint.get(`${c}-pattern`);S.isConstant()||(y=!0);const A=S.constantOr(null);A&&(y=!0,h[A]=!0)}return y}function Q7(c,o,u,h,y){const x=y.patternDependencies;for(const S of o){const A=S.paint.get(`${c}-pattern`).value;if(A.kind!=="constant"){let P=A.evaluate({zoom:h},u,{},y.availableImages);P=P&&P.name?P.name:P,x[P]=!0,u.patterns[S.id]=P}}return u}class iw{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(u=>u.id),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ut,this.indexArray=new gr,this.indexArray2=new wa,this.programConfigurations=new Af(o.layers,o.zoom),this.segments=new Oi,this.segments2=new Oi,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id),this.projection=o.projection}populate(o,u,h,y){this.hasPattern=X7("fill",this.layers,u);const x=this.layers[0].layout.get("fill-sort-key"),S=[];for(const{feature:A,id:P,index:D,sourceLayerIndex:V}of o){const W=this.layers[0]._featureFilter.needGeometry,q=Cf(A,W);if(!this.layers[0]._featureFilter.filter(new U(this.zoom),q,h))continue;const X=x?x.evaluate(q,{},h,u.availableImages):void 0,te={id:P,properties:A.properties,type:A.type,sourceLayerIndex:V,index:D,geometry:W?q.geometry:Ou(A,h,y),patterns:{},sortKey:X};S.push(te)}x&&S.sort((A,P)=>A.sortKey-P.sortKey);for(const A of S){const{geometry:P,index:D,sourceLayerIndex:V}=A;if(this.hasPattern){const W=Q7("fill",this.layers,A,this.zoom,u);this.patternFeatures.push(W)}else this.addFeature(A,P,D,h,{},u.availableImages);u.featureIndex.insert(o[D].feature,P,D,V,this.index)}}update(o,u,h,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,u,this.stateDependentLayers,h,y)}addFeatures(o,u,h,y,x){for(const S of this.patternFeatures)this.addFeature(S,S.geometry,S.index,u,h,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,mde),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.indexBuffer2=o.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(o,u,h,y,x,S=[]){for(const A of Y7(u,500)){let P=0;for(const te of A)P+=te.length;const D=this.segments.prepareSegment(P,this.layoutVertexArray,this.indexArray),V=D.vertexLength,W=[],q=[];for(const te of A){if(te.length===0)continue;te!==A[0]&&q.push(W.length/2);const ue=this.segments2.prepareSegment(te.length,this.layoutVertexArray,this.indexArray2),Se=ue.vertexLength;this.layoutVertexArray.emplaceBack(te[0].x,te[0].y),this.indexArray2.emplaceBack(Se+te.length-1,Se),W.push(te[0].x),W.push(te[0].y);for(let Ce=1;Ce<te.length;Ce++)this.layoutVertexArray.emplaceBack(te[Ce].x,te[Ce].y),this.indexArray2.emplaceBack(Se+Ce-1,Se+Ce),W.push(te[Ce].x),W.push(te[Ce].y);ue.vertexLength+=te.length,ue.primitiveLength+=te.length}const X=Z7(W,q);for(let te=0;te<X.length;te+=3)this.indexArray.emplaceBack(V+X[te],V+X[te+1],V+X[te+2]);D.vertexLength+=P,D.primitiveLength+=X.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,h,x,S,y)}}or(iw,"FillBucket",{omit:["layers","patternFeatures"]});const Pde=new Oe({"fill-sort-key":new Ae(Mt.layout_fill["fill-sort-key"])});var kde={paint:new Oe({"fill-antialias":new se(Mt.paint_fill["fill-antialias"]),"fill-opacity":new Ae(Mt.paint_fill["fill-opacity"]),"fill-color":new Ae(Mt.paint_fill["fill-color"]),"fill-outline-color":new Ae(Mt.paint_fill["fill-outline-color"]),"fill-translate":new se(Mt.paint_fill["fill-translate"]),"fill-translate-anchor":new se(Mt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ae(Mt.paint_fill["fill-pattern"])}),layout:Pde};const Ide=ot([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Cde=ot([{name:"a_centroid_pos",components:2,type:"Uint16"}]),Dde=ot([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:zde}=Ide;var aw={},Rde=ne,VF=V0;function V0(c,o,u,h,y){this.properties={},this.extent=u,this.type=0,this._pbf=c,this._geometry=-1,this._keys=h,this._values=y,c.readFields(Nde,this,o)}function Nde(c,o,u){c==1?o.id=u.readVarint():c==2?function(h,y){for(var x=h.readVarint()+h.pos;h.pos<x;){var S=y._keys[h.readVarint()],A=y._values[h.readVarint()];y.properties[S]=A}}(u,o):c==3?o.type=u.readVarint():c==4&&(o._geometry=u.pos)}function Lde(c){for(var o,u,h=0,y=0,x=c.length,S=x-1;y<x;S=y++)h+=((u=c[S]).x-(o=c[y]).x)*(o.y+u.y);return h}V0.types=["Unknown","Point","LineString","Polygon"],V0.prototype.loadGeometry=function(){var c=this._pbf;c.pos=this._geometry;for(var o,u=c.readVarint()+c.pos,h=1,y=0,x=0,S=0,A=[];c.pos<u;){if(y<=0){var P=c.readVarint();h=7&P,y=P>>3}if(y--,h===1||h===2)x+=c.readSVarint(),S+=c.readSVarint(),h===1&&(o&&A.push(o),o=[]),o.push(new Rde(x,S));else{if(h!==7)throw new Error("unknown command "+h);o&&o.push(o[0].clone())}}return o&&A.push(o),A},V0.prototype.bbox=function(){var c=this._pbf;c.pos=this._geometry;for(var o=c.readVarint()+c.pos,u=1,h=0,y=0,x=0,S=1/0,A=-1/0,P=1/0,D=-1/0;c.pos<o;){if(h<=0){var V=c.readVarint();u=7&V,h=V>>3}if(h--,u===1||u===2)(y+=c.readSVarint())<S&&(S=y),y>A&&(A=y),(x+=c.readSVarint())<P&&(P=x),x>D&&(D=x);else if(u!==7)throw new Error("unknown command "+u)}return[S,P,A,D]},V0.prototype.toGeoJSON=function(c,o,u){var h,y,x=this.extent*Math.pow(2,u),S=this.extent*c,A=this.extent*o,P=this.loadGeometry(),D=V0.types[this.type];function V(X){for(var te=0;te<X.length;te++){var ue=X[te];X[te]=[360*(ue.x+S)/x-180,360/Math.PI*Math.atan(Math.exp((180-360*(ue.y+A)/x)*Math.PI/180))-90]}}switch(this.type){case 1:var W=[];for(h=0;h<P.length;h++)W[h]=P[h][0];V(P=W);break;case 2:for(h=0;h<P.length;h++)V(P[h]);break;case 3:for(P=function(X){var te=X.length;if(te<=1)return[X];for(var ue,Se,Ce=[],Ue=0;Ue<te;Ue++){var De=Lde(X[Ue]);De!==0&&(Se===void 0&&(Se=De<0),Se===De<0?(ue&&Ce.push(ue),ue=[X[Ue]]):ue.push(X[Ue]))}return ue&&Ce.push(ue),Ce}(P),h=0;h<P.length;h++)for(y=0;y<P[h].length;y++)V(P[h][y])}P.length===1?P=P[0]:D="Multi"+D;var q={type:"Feature",geometry:{type:D,coordinates:P},properties:this.properties};return"id"in this&&(q.id=this.id),q};var Ode=VF,UF=WF;function WF(c,o){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=c,this._keys=[],this._values=[],this._features=[],c.readFields(Bde,this,o),this.length=this._features.length}function Bde(c,o,u){c===15?o.version=u.readVarint():c===1?o.name=u.readString():c===5?o.extent=u.readVarint():c===2?o._features.push(u.pos):c===3?o._keys.push(u.readString()):c===4&&o._values.push(function(h){for(var y=null,x=h.readVarint()+h.pos;h.pos<x;){var S=h.readVarint()>>3;y=S===1?h.readString():S===2?h.readFloat():S===3?h.readDouble():S===4?h.readVarint64():S===5?h.readVarint():S===6?h.readSVarint():S===7?h.readBoolean():null}return y}(u))}WF.prototype.feature=function(c){if(c<0||c>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[c];var o=this._pbf.readVarint()+this._pbf.pos;return new Ode(this._pbf,o,this.extent,this._keys,this._values)};var Fde=UF;function jde(c,o,u){if(c===3){var h=new Fde(u,u.readVarint()+u.pos);h.length&&(o[h.name]=h)}}var J7=aw.VectorTile=function(c,o){this.layers=c.readFields(jde,{},o)},ow=aw.VectorTileFeature=VF;function sw(c,o,u,h){const y=[],x=h===0?(S,A,P,D,V,W)=>{S.push(new me(W,P+(W-A)/(D-A)*(V-P)))}:(S,A,P,D,V,W)=>{S.push(new me(A+(W-P)/(V-P)*(D-A),W))};for(const S of c){const A=[];for(const P of S){if(P.length<=2)continue;const D=[];for(let q=0;q<P.length-1;q++){const X=P[q].x,te=P[q].y,ue=P[q+1].x,Se=P[q+1].y,Ce=h===0?X:te,Ue=h===0?ue:Se;Ce<o?Ue>o&&x(D,X,te,ue,Se,o):Ce>u?Ue<u&&x(D,X,te,ue,Se,u):D.push(P[q]),Ue<o&&Ce>=o&&x(D,X,te,ue,Se,o),Ue>u&&Ce<=u&&x(D,X,te,ue,Se,u)}let V=P[P.length-1];const W=h===0?V.x:V.y;W>=o&&W<=u&&D.push(V),D.length&&(V=D[D.length-1],D[0].x===V.x&&D[0].y===V.y||D.push(D[0]),A.push(D))}A.length&&y.push(A)}return y}aw.VectorTileLayer=UF;const Vde=ow.types,Ude=Math.pow(2,13);function q_(c,o,u,h,y,x,S,A){c.emplaceBack((o<<1)+S,(u<<1)+x,(Math.floor(h*Ude)<<1)+y,Math.round(A))}function G_(c,o,u){c.emplaceBack(o.x,o.y,o.z,u[0]*16384,u[1]*16384,u[2]*16384)}class $F{constructor(){this.acc=new me(0,0),this.polyCount=[]}startRing(o){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new me(o.x,o.y),this.max=new me(o.x,o.y))}append(o,u){this.currentPolyCount.edges++,this.acc._add(o);const h=this.min,y=this.max;o.x<h.x?h.x=o.x:o.x>y.x&&(y.x=o.x),o.y<h.y?h.y=o.y:o.y>y.y&&(y.y=o.y),((o.x===0||o.x===Sr)&&o.x===u.x)!=((o.y===0||o.y===Sr)&&o.y===u.y)&&this.processBorderOverlap(o,u),u.x<0!=o.x<0&&this.addBorderIntersection(0,gn(u.y,o.y,(0-u.x)/(o.x-u.x))),u.x>Sr!=o.x>Sr&&this.addBorderIntersection(1,gn(u.y,o.y,(Sr-u.x)/(o.x-u.x))),u.y<0!=o.y<0&&this.addBorderIntersection(2,gn(u.x,o.x,(0-u.y)/(o.y-u.y))),u.y>Sr!=o.y>Sr&&this.addBorderIntersection(3,gn(u.x,o.x,(Sr-u.y)/(o.y-u.y)))}addBorderIntersection(o,u){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const h=this.borders[o];u<h[0]&&(h[0]=u),u>h[1]&&(h[1]=u)}processBorderOverlap(o,u){if(o.x===u.x){if(o.y===u.y)return;const h=o.x===0?0:1;this.addBorderIntersection(h,u.y),this.addBorderIntersection(h,o.y)}else{const h=o.y===0?2:3;this.addBorderIntersection(h,u.x),this.addBorderIntersection(h,o.x)}}centroid(){const o=this.polyCount.reduce((u,h)=>u+h.edges,0);return o!==0?this.acc.div(o)._round():new me(0,0)}span(){return new me(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((o,u)=>o+ +(u[0]!==Number.MAX_VALUE),0)}}class H_{constructor(o){this.zoom=o.zoom,this.canonical=o.canonical,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(u=>u.id),this.index=o.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=o.projection,this.layoutVertexArray=new Rt,this.centroidVertexArray=new $l,this.indexArray=new gr,this.programConfigurations=new Af(o.layers,o.zoom),this.segments=new Oi,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id),this.enableTerrain=o.enableTerrain}populate(o,u,h,y){this.features=[],this.hasPattern=X7("fill-extrusion",this.layers,u),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(x){const S=Math.exp(Math.PI*(1-x.y/(1<<x.z)*2));return 80150034*S/(S*S+1)/Sr/(1<<x.z)}(h),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:x,id:S,index:A,sourceLayerIndex:P}of o){const D=this.layers[0]._featureFilter.needGeometry,V=Cf(x,D);if(!this.layers[0]._featureFilter.filter(new U(this.zoom),V,h))continue;const W={id:S,sourceLayerIndex:P,index:A,geometry:D?V.geometry:Ou(x,h,y),properties:x.properties,type:x.type,patterns:{}},q=this.layoutVertexArray.length;this.hasPattern?this.features.push(Q7("fill-extrusion",this.layers,W,this.zoom,u)):this.addFeature(W,W.geometry,A,h,{},u.availableImages,y),u.featureIndex.insert(x,W.geometry,A,P,this.index,q)}this.sortBorders()}addFeatures(o,u,h,y,x){for(const S of this.features){const{geometry:A}=S;this.addFeature(S,A,S.index,u,h,y,x)}this.sortBorders()}update(o,u,h,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,u,this.stateDependentLayers,h,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,zde),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=o.createVertexBuffer(this.layoutVertexExtArray,Dde.members,!0))),this.programConfigurations.upload(o),this.uploaded=!0}uploadCentroid(o){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=o.createVertexBuffer(this.centroidVertexArray,Cde.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(o,u,h,y,x,S,A){const P=[new me(0,0),new me(Sr,Sr)],D=A.projection,V=D.name==="globe",W=this.enableTerrain&&!V?new $F:null,q=Vde[o.type]==="Polygon";V&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new $t);const X=Y7(u,500);for(let Ce=X.length-1;Ce>=0;Ce--){const Ue=X[Ce];(Ue.length===0||(te=Ue[0]).every(De=>De.x<=0)||te.every(De=>De.x>=Sr)||te.every(De=>De.y<=0)||te.every(De=>De.y>=Sr))&&X.splice(Ce,1)}var te;let ue;if(V)ue=XF(X,P,y);else{ue=[];for(const Ce of X)ue.push({polygon:Ce,bounds:P})}const Se=q?this.edgeRadius:0;for(const{polygon:Ce,bounds:Ue}of ue){let De=0,Fe=0;for(const qe of Ce)q&&!qe[0].equals(qe[qe.length-1])&&qe.push(qe[0]),Fe+=q?qe.length-1:qe.length;const He=this.segments.prepareSegment((q?5:4)*Fe,this.layoutVertexArray,this.indexArray);if(q){const qe=[],_t=[];De=He.vertexLength;for(const kt of Ce){let Wt,wt;kt.length&&kt!==Ce[0]&&_t.push(qe.length/2),Wt=kt[1].sub(kt[0])._perp()._unit();for(let Nt=1;Nt<kt.length;Nt++){const Lt=kt[Nt],jt=kt[Nt===kt.length-1?1:Nt+1];let{x:qt,y:Pt}=Lt;if(Se){wt=jt.sub(Lt)._perp()._unit();const er=Wt.add(wt)._unit(),cr=Se*Math.min(4,1/(Wt.x*er.x+Wt.y*er.y));qt+=cr*er.x,Pt+=cr*er.y,Wt=wt}q_(this.layoutVertexArray,qt,Pt,0,0,1,1,0),He.vertexLength++,qe.push(Lt.x,Lt.y),V&&G_(this.layoutVertexExtArray,D.projectTilePoint(qt,Pt,y),D.upVector(y,qt,Pt))}}const ft=Z7(qe,_t);for(let kt=0;kt<ft.length;kt+=3)this.indexArray.emplaceBack(De+ft[kt],De+ft[kt+2],De+ft[kt+1]),He.primitiveLength++}for(const qe of Ce){W&&qe.length&&W.startRing(qe[0]);let _t,ft,kt,Wt=qe.length>4&&HF(qe[qe.length-2],qe[0],qe[1]),wt=Se?Wde(qe[qe.length-2],qe[0],qe[1],Se):0;ft=qe[1].sub(qe[0])._perp()._unit();let Nt=!0;for(let Lt=1,jt=0;Lt<qe.length;Lt++){let qt=qe[Lt-1],Pt=qe[Lt];const er=qe[Lt===qe.length-1?1:Lt+1];if(W&&q&&W.currentPolyCount.top++,GF(Pt,qt,Ue)){Se&&(ft=er.sub(Pt)._perp()._unit(),Nt=!Nt);continue}W&&W.append(Pt,qt);const cr=Pt.sub(qt)._perp(),tr=cr.x/(Math.abs(cr.x)+Math.abs(cr.y)),$r=cr.y>0?1:0,Gt=qt.dist(Pt);if(jt+Gt>32768&&(jt=0),Se){kt=er.sub(Pt)._perp()._unit();let qr=qF(qt,Pt,er,KF(ft,kt),Se);isNaN(qr)&&(qr=0);const Pr=Pt.sub(qt)._unit();qt=qt.add(Pr.mult(wt))._round(),Pt=Pt.add(Pr.mult(-qr))._round(),wt=qr,ft=kt}const _r=He.vertexLength,Kr=qe.length>4&&HF(qt,Pt,er);let wn=ZF(jt,Wt,Nt);if(q_(this.layoutVertexArray,qt.x,qt.y,tr,$r,0,0,wn),q_(this.layoutVertexArray,qt.x,qt.y,tr,$r,0,1,wn),jt+=Gt,wn=ZF(jt,Kr,!Nt),Wt=Kr,q_(this.layoutVertexArray,Pt.x,Pt.y,tr,$r,0,0,wn),q_(this.layoutVertexArray,Pt.x,Pt.y,tr,$r,0,1,wn),He.vertexLength+=4,this.indexArray.emplaceBack(_r+0,_r+1,_r+2),this.indexArray.emplaceBack(_r+1,_r+3,_r+2),He.primitiveLength+=2,Se){const qr=De+(Lt===1?qe.length-2:Lt-2),Pr=Lt===1?De:qr+1;if(this.indexArray.emplaceBack(_r+1,qr,_r+3),this.indexArray.emplaceBack(qr,Pr,_r+3),He.primitiveLength+=2,_t===void 0&&(_t=_r),!GF(er,qe[Lt],Ue)){const Yn=Lt===qe.length-1?_t:He.vertexLength;this.indexArray.emplaceBack(_r+2,_r+3,Yn),this.indexArray.emplaceBack(_r+3,Yn+1,Yn),this.indexArray.emplaceBack(_r+3,Pr,Yn+1),He.primitiveLength+=3}Nt=!Nt}if(V){const qr=this.layoutVertexExtArray,Pr=D.projectTilePoint(qt.x,qt.y,y),Yn=D.projectTilePoint(Pt.x,Pt.y,y),Hr=D.upVector(y,qt.x,qt.y),Zr=D.upVector(y,Pt.x,Pt.y);G_(qr,Pr,Hr),G_(qr,Pr,Hr),G_(qr,Yn,Zr),G_(qr,Yn,Zr)}}q&&(De+=qe.length-1)}}if(W&&W.polyCount.length>0){if(W.borders){W.vertexArrayOffset=this.centroidVertexArray.length;const Ce=W.borders,Ue=this.featuresOnBorder.push(W)-1;for(let De=0;De<4;De++)Ce[De][0]!==Number.MAX_VALUE&&this.borders[De].push(Ue)}this.encodeCentroid(W.borders?void 0:W.centroid(),W)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,h,x,S,y)}sortBorders(){for(let o=0;o<4;o++)this.borders[o].sort((u,h)=>this.featuresOnBorder[u].borders[o][0]-this.featuresOnBorder[h].borders[o][0])}encodeCentroid(o,u,h=!0){let y,x;if(o)if(o.y!==0){const A=u.span()._mult(this.tileToMeter);y=(Math.max(o.x,1)<<3)+Math.min(7,Math.round(A.x/10)),x=(Math.max(o.y,1)<<3)+Math.min(7,Math.round(A.y/10))}else y=Math.ceil(7*(o.x+450)),x=0;else y=0,x=+h;let S=h?this.centroidVertexArray.length:u.vertexArrayOffset;for(const A of u.polyCount){h&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*A.edges+A.top);for(let P=0;P<A.top;P++)this.centroidVertexArray.emplace(S++,y,x);for(let P=0;P<2*A.edges;P++)this.centroidVertexArray.emplace(S++,0,x),this.centroidVertexArray.emplace(S++,y,x)}}}function KF(c,o){const u=c.add(o)._unit();return c.x*u.x+c.y*u.y}function Wde(c,o,u,h){const y=o.sub(c)._perp()._unit(),x=u.sub(o)._perp()._unit();return qF(c,o,u,KF(y,x),h)}function qF(c,o,u,h,y){const x=Math.sqrt(1-h*h);return Math.min(c.dist(o)/3,o.dist(u)/3,y*x/h)}function GF(c,o,u){return c.x<u[0].x&&o.x<u[0].x||c.x>u[1].x&&o.x>u[1].x||c.y<u[0].y&&o.y<u[0].y||c.y>u[1].y&&o.y>u[1].y}function HF(c,o,u){if(c.x<0||c.x>=Sr||o.x<0||o.x>=Sr||u.x<0||u.x>=Sr)return!1;const h=u.sub(o),y=h.perp(),x=c.sub(o);return(h.x*x.x+h.y*x.y)/Math.sqrt((h.x*h.x+h.y*h.y)*(x.x*x.x+x.y*x.y))>-.866&&y.x*x.x+y.y*x.y<0}function ZF(c,o,u){const h=o?2|c:-3&c;return u?1|h:-2&h}function YF(){const c=Math.PI/32,o=Math.tan(c),u=V_;return u*Math.sqrt(1+2*o*o)-u}function XF(c,o,u){const h=1<<u.z,y=Bs(u.x/h),x=Bs((u.x+1)/h),S=Va(u.y/h),A=Va((u.y+1)/h);return function(P,D,V,W,q=0,X){const te=[];if(!P.length||!V||!W)return te;const ue=(qe,_t)=>{for(const ft of qe)te.push({polygon:ft,bounds:_t})},Se=Math.ceil(Math.log2(V)),Ce=Math.ceil(Math.log2(W)),Ue=Se-Ce,De=[];for(let qe=0;qe<Math.abs(Ue);qe++)De.push(Ue>0?0:1);for(let qe=0;qe<Math.min(Se,Ce);qe++)De.push(0),De.push(1);let Fe=P;if(Fe=sw(Fe,D[0].y-q,D[1].y+q,1),Fe=sw(Fe,D[0].x-q,D[1].x+q,0),!Fe.length)return te;const He=[];for(De.length?He.push({polygons:Fe,bounds:D,depth:0}):ue(Fe,D);He.length;){const qe=He.pop(),_t=qe.depth,ft=De[_t],kt=qe.bounds[0],Wt=qe.bounds[1],wt=ft===0?kt.x:kt.y,Nt=ft===0?Wt.x:Wt.y,Lt=X?X(ft,wt,Nt):.5*(wt+Nt),jt=sw(qe.polygons,wt-q,Lt+q,ft),qt=sw(qe.polygons,Lt-q,Nt+q,ft);if(jt.length){const Pt=[kt,new me(ft===0?Lt:Wt.x,ft===1?Lt:Wt.y)];De.length>_t+1?He.push({polygons:jt,bounds:Pt,depth:_t+1}):ue(jt,Pt)}if(qt.length){const Pt=[new me(ft===0?Lt:kt.x,ft===1?Lt:kt.y),Wt];De.length>_t+1?He.push({polygons:qt,bounds:Pt,depth:_t+1}):ue(qt,Pt)}}return te}(c,o,Math.ceil((x-y)/11.25),Math.ceil((S-A)/11.25),1,(P,D,V)=>{if(P===0)return .5*(D+V);{const W=Va((u.y+D/Sr)/h);return(Bc(.5*(Va((u.y+V/Sr)/h)+W))*h-u.y)*Sr}})}or(H_,"FillExtrusionBucket",{omit:["layers","features"]}),or($F,"PartMetadata");const $de=new Oe({"fill-extrusion-edge-radius":new se(Mt["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Kde={paint:new Oe({"fill-extrusion-opacity":new se(Mt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ae(Mt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new se(Mt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new se(Mt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ae(Mt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ae(Mt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ae(Mt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new se(Mt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new se(Mt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new se(Mt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-rounded-roof":new se(Mt["paint_fill-extrusion"]["fill-extrusion-rounded-roof"])}),layout:$de};function QF(c,o,u){var h=2*Math.PI*6378137/256/Math.pow(2,u);return[c*h-2*Math.PI*6378137/2,o*h-2*Math.PI*6378137/2]}class lw{constructor(o,u,h){this.z=o,this.x=u,this.y=h,this.key=Z_(0,o,o,u,h)}equals(o){return this.z===o.z&&this.x===o.x&&this.y===o.y}url(o,u){const h=function(x,S,A){var P=QF(256*x,256*(S=Math.pow(2,A)-S-1),A),D=QF(256*(x+1),256*(S+1),A);return P[0]+","+P[1]+","+D[0]+","+D[1]}(this.x,this.y,this.z),y=function(x,S,A){let P,D="";for(let V=x;V>0;V--)P=1<<V-1,D+=(S&P?1:0)+(A&P?2:0);return D}(this.z,this.x,this.y);return o[(this.x+this.y)%o.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(u==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",y).replace("{bbox-epsg-3857}",h)}toString(){return`${this.z}/${this.x}/${this.y}`}}class JF{constructor(o,u){this.wrap=o,this.canonical=u,this.key=Z_(o,u.z,u.z,u.x,u.y)}}class _o{constructor(o,u,h,y,x){this.overscaledZ=o,this.wrap=u,this.canonical=new lw(h,+y,+x),this.key=u===0&&o===h?this.canonical.key:Z_(u,o,h,y,x)}equals(o){return this.overscaledZ===o.overscaledZ&&this.wrap===o.wrap&&this.canonical.equals(o.canonical)}scaledTo(o){const u=this.canonical.z-o;return o>this.canonical.z?new _o(o,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new _o(o,this.wrap,o,this.canonical.x>>u,this.canonical.y>>u)}calculateScaledKey(o,u=!0){if(this.overscaledZ===o&&u)return this.key;if(o>this.canonical.z)return Z_(this.wrap*+u,o,this.canonical.z,this.canonical.x,this.canonical.y);{const h=this.canonical.z-o;return Z_(this.wrap*+u,o,o,this.canonical.x>>h,this.canonical.y>>h)}}isChildOf(o){if(o.wrap!==this.wrap)return!1;const u=this.canonical.z-o.canonical.z;return o.overscaledZ===0||o.overscaledZ<this.overscaledZ&&o.canonical.x===this.canonical.x>>u&&o.canonical.y===this.canonical.y>>u}children(o){if(this.overscaledZ>=o)return[new _o(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const u=this.canonical.z+1,h=2*this.canonical.x,y=2*this.canonical.y;return[new _o(u,this.wrap,u,h,y),new _o(u,this.wrap,u,h+1,y),new _o(u,this.wrap,u,h,y+1),new _o(u,this.wrap,u,h+1,y+1)]}isLessThan(o){return this.wrap<o.wrap||!(this.wrap>o.wrap)&&(this.overscaledZ<o.overscaledZ||!(this.overscaledZ>o.overscaledZ)&&(this.canonical.x<o.canonical.x||!(this.canonical.x>o.canonical.x)&&this.canonical.y<o.canonical.y))}wrapped(){return new _o(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(o){return new _o(this.overscaledZ,o,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new JF(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Z_(c,o,u,h,y){const x=1<<Math.min(u,22);let S=x*(y%x)+h%x;return c&&u<22&&(S+=x*x*((c<0?-2*c-1:2*c)%(1<<2*(22-u)))),16*(32*S+u)+(o-u)}or(lw,"CanonicalTileID"),or(_o,"OverscaledTileID",{omit:["projMatrix"]});class U0 extends me{constructor(o,u,h){super(o,u),this.z=h}}function Y_(c,o){return c.x*o.x+c.y*o.y}function ej(c,o){if(c.length===1){let u=0;const h=o[u++];let y;for(;!y||h.equals(y);)if(y=o[u++],!y)return 1/0;for(;u<o.length;u++){const x=o[u],S=c[0],A=y.sub(h),P=x.sub(h),D=S.sub(h),V=Y_(A,A),W=Y_(A,P),q=Y_(P,P),X=Y_(D,A),te=Y_(D,P),ue=V*q-W*W,Se=(q*X-W*te)/ue,Ce=(V*te-W*X)/ue,Ue=h.z*(1-Se-Ce)+y.z*Se+x.z*Ce;if(isFinite(Ue))return Ue}return 1/0}{let u=1/0;for(const h of o)u=Math.min(u,h.z);return u}}function tj(c,o,u,h,y,x,S,A){const P=S*y.getElevationAt(c,o,!0,!0),D=x[0]!==0,V=D?x[1]===0?S*(x[0]/7-450):S*function(W,q,X){const te=Math.floor(q[0]/8),ue=Math.floor(q[1]/8),Se=10*(q[0]-8*te),Ce=10*(q[1]-8*ue),Ue=W.getElevationAt(te,ue,!0,!0),De=W.getMeterToDEM(X),Fe=Math.floor(.5*(Se*De-1)),He=Math.floor(.5*(Ce*De-1)),qe=W.tileCoordToPixel(te,ue),_t=2*Fe+1,ft=2*He+1,kt=function(qt,Pt,er,cr,tr){return[qt.getElevationAtPixel(Pt,er,!0),qt.getElevationAtPixel(Pt+tr,er,!0),qt.getElevationAtPixel(Pt,er+tr,!0),qt.getElevationAtPixel(Pt+cr,er+tr,!0)]}(W,qe.x-Fe,qe.y-He,_t,ft),Wt=Math.abs(kt[0]-kt[1]),wt=Math.abs(kt[2]-kt[3]),Nt=Math.abs(kt[0]-kt[2])+Math.abs(kt[1]-kt[3]),Lt=Math.min(.25,.5*De*(Wt+wt)/_t),jt=Math.min(.25,.5*De*Nt/ft);return Ue+Math.max(Lt*Se,jt*Ce)}(y,x,A):P;return{base:P+(u===0)?-1:u,top:D?Math.max(V+h,P+u+2):P+h}}const qde=ot([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Gde}=qde,Hde=ot([{name:"a_packed",components:4,type:"Float32"}]),{members:Zde}=Hde,Yde=ow.types,Xde=Math.cos(Math.PI/180*37.5);class cw{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(u=>u.id),this.index=o.index,this.projection=o.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(u=>{this.gradients[u.id]={}}),this.layoutVertexArray=new xt,this.layoutVertexArray2=new Vt,this.indexArray=new gr,this.programConfigurations=new Af(o.layers,o.zoom),this.segments=new Oi,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}populate(o,u,h,y){this.hasPattern=X7("line",this.layers,u);const x=this.layers[0].layout.get("line-sort-key"),S=[];for(const{feature:V,id:W,index:q,sourceLayerIndex:X}of o){const te=this.layers[0]._featureFilter.needGeometry,ue=Cf(V,te);if(!this.layers[0]._featureFilter.filter(new U(this.zoom),ue,h))continue;const Se=x?x.evaluate(ue,{},h):void 0,Ce={id:W,properties:V.properties,type:V.type,sourceLayerIndex:X,index:q,geometry:te?ue.geometry:Ou(V,h,y),patterns:{},sortKey:Se};S.push(Ce)}x&&S.sort((V,W)=>V.sortKey-W.sortKey);const{lineAtlas:A,featureIndex:P}=u,D=this.addConstantDashes(A);for(const V of S){const{geometry:W,index:q,sourceLayerIndex:X}=V;if(D&&this.addFeatureDashes(V,A),this.hasPattern){const te=Q7("line",this.layers,V,this.zoom,u);this.patternFeatures.push(te)}else this.addFeature(V,W,q,h,A.positions,u.availableImages);P.insert(o[q].feature,W,q,X,this.index)}}addConstantDashes(o){let u=!1;for(const h of this.layers){const y=h.paint.get("line-dasharray").value,x=h.layout.get("line-cap").value;if(y.kind!=="constant"||x.kind!=="constant")u=!0;else{const S=x.value,A=y.value;if(!A)continue;o.addDash(A,S)}}return u}addFeatureDashes(o,u){const h=this.zoom;for(const y of this.layers){const x=y.paint.get("line-dasharray").value,S=y.layout.get("line-cap").value;if(x.kind==="constant"&&S.kind==="constant")continue;let A,P;if(x.kind==="constant"){if(A=x.value,!A)continue}else A=x.evaluate({zoom:h},o);P=S.kind==="constant"?S.value:S.evaluate({zoom:h},o),u.addDash(A,P),o.patterns[y.id]=u.getKey(A,P)}}update(o,u,h,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,u,this.stateDependentLayers,h,y)}addFeatures(o,u,h,y,x){for(const S of this.patternFeatures)this.addFeature(S,S.geometry,S.index,u,h,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=o.createVertexBuffer(this.layoutVertexArray2,Zde)),this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Gde),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(o){if(o.properties&&o.properties.hasOwnProperty("mapbox_clip_start")&&o.properties.hasOwnProperty("mapbox_clip_end"))return{start:+o.properties.mapbox_clip_start,end:+o.properties.mapbox_clip_end}}addFeature(o,u,h,y,x,S){const A=this.layers[0].layout,P=A.get("line-join").evaluate(o,{}),D=A.get("line-cap").evaluate(o,{}),V=A.get("line-miter-limit"),W=A.get("line-round-limit");this.lineClips=this.lineFeatureClips(o);for(const q of u)this.addLine(q,o,P,D,V,W);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,h,x,S,y)}addLine(o,u,h,y,x,S){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Ce=0;Ce<o.length-1;Ce++)this.totalDistance+=o[Ce].dist(o[Ce+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const A=Yde[u.type]==="Polygon";let P=o.length;for(;P>=2&&o[P-1].equals(o[P-2]);)P--;let D=0;for(;D<P-1&&o[D].equals(o[D+1]);)D++;if(P<(A?3:2))return;h==="bevel"&&(x=1.05);const V=this.overscaling<=16?15*Sr/(512*this.overscaling):0,W=this.segments.prepareSegment(10*P,this.layoutVertexArray,this.indexArray);let q,X,te,ue,Se;this.e1=this.e2=-1,A&&(q=o[P-2],Se=o[D].sub(q)._unit()._perp());for(let Ce=D;Ce<P;Ce++){if(te=Ce===P-1?A?o[D+1]:void 0:o[Ce+1],te&&o[Ce].equals(te))continue;Se&&(ue=Se),q&&(X=q),q=o[Ce],Se=te?te.sub(q)._unit()._perp():ue,ue=ue||Se;let Ue=ue.add(Se);Ue.x===0&&Ue.y===0||Ue._unit();const De=ue.x*Se.x+ue.y*Se.y,Fe=Ue.x*Se.x+Ue.y*Se.y,He=Fe!==0?1/Fe:1/0,qe=2*Math.sqrt(2-2*Fe),_t=Fe<Xde&&X&&te,ft=ue.x*Se.y-ue.y*Se.x>0;if(_t&&Ce>D){const wt=q.dist(X);if(wt>2*V){const Nt=q.sub(q.sub(X)._mult(V/wt)._round());this.updateDistance(X,Nt),this.addCurrentVertex(Nt,ue,0,0,W),X=Nt}}const kt=X&&te;let Wt=kt?h:A?"butt":y;if(kt&&Wt==="round"&&(He<S?Wt="miter":He<=2&&(Wt="fakeround")),Wt==="miter"&&He>x&&(Wt="bevel"),Wt==="bevel"&&(He>2&&(Wt="flipbevel"),He<x&&(Wt="miter")),X&&this.updateDistance(X,q),Wt==="miter")Ue._mult(He),this.addCurrentVertex(q,Ue,0,0,W);else if(Wt==="flipbevel"){if(He>100)Ue=Se.mult(-1);else{const wt=He*ue.add(Se).mag()/ue.sub(Se).mag();Ue._perp()._mult(wt*(ft?-1:1))}this.addCurrentVertex(q,Ue,0,0,W),this.addCurrentVertex(q,Ue.mult(-1),0,0,W)}else if(Wt==="bevel"||Wt==="fakeround"){const wt=-Math.sqrt(He*He-1),Nt=ft?wt:0,Lt=ft?0:wt;if(X&&this.addCurrentVertex(q,ue,Nt,Lt,W),Wt==="fakeround"){const jt=Math.round(180*qe/Math.PI/20);for(let qt=1;qt<jt;qt++){let Pt=qt/jt;if(Pt!==.5){const cr=Pt-.5;Pt+=Pt*cr*(Pt-1)*((1.0904+De*(De*(3.55645-1.43519*De)-3.2452))*cr*cr+(.848013+De*(.215638*De-1.06021)))}const er=Se.sub(ue)._mult(Pt)._add(ue)._unit()._mult(ft?-1:1);this.addHalfVertex(q,er.x,er.y,!1,ft,0,W)}}te&&this.addCurrentVertex(q,Se,-Nt,-Lt,W)}else if(Wt==="butt")this.addCurrentVertex(q,Ue,0,0,W);else if(Wt==="square"){const wt=X?1:-1;X||this.addCurrentVertex(q,Ue,wt,wt,W),this.addCurrentVertex(q,Ue,0,0,W),X&&this.addCurrentVertex(q,Ue,wt,wt,W)}else Wt==="round"&&(X&&(this.addCurrentVertex(q,ue,0,0,W),this.addCurrentVertex(q,ue,1,1,W,!0)),te&&(this.addCurrentVertex(q,Se,-1,-1,W,!0),this.addCurrentVertex(q,Se,0,0,W)));if(_t&&Ce<P-1){const wt=q.dist(te);if(wt>2*V){const Nt=q.add(te.sub(q)._mult(V/wt)._round());this.updateDistance(q,Nt),this.addCurrentVertex(Nt,Se,0,0,W),q=Nt}}}}addCurrentVertex(o,u,h,y,x,S=!1){const A=u.y*y-u.x,P=-u.y-u.x*y;this.addHalfVertex(o,u.x+u.y*h,u.y-u.x*h,S,!1,h,x),this.addHalfVertex(o,A,P,S,!0,-y,x)}addHalfVertex({x:o,y:u},h,y,x,S,A,P){this.layoutVertexArray.emplaceBack((o<<1)+(x?1:0),(u<<1)+(S?1:0),Math.round(63*h)+128,Math.round(63*y)+128,1+(A===0?0:A<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const D=P.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,D),P.primitiveLength++),S?this.e2=D:this.e1=D}updateScaledDistance(){if(this.lineClips){const o=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=o*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(o,u){this.distance+=o.dist(u),this.updateScaledDistance()}}or(cw,"LineBucket",{omit:["layers","patternFeatures"]});const Qde=new Oe({"line-cap":new Ae(Mt.layout_line["line-cap"]),"line-join":new Ae(Mt.layout_line["line-join"]),"line-miter-limit":new se(Mt.layout_line["line-miter-limit"]),"line-round-limit":new se(Mt.layout_line["line-round-limit"]),"line-sort-key":new Ae(Mt.layout_line["line-sort-key"])});var rj={paint:new Oe({"line-opacity":new Ae(Mt.paint_line["line-opacity"]),"line-color":new Ae(Mt.paint_line["line-color"]),"line-translate":new se(Mt.paint_line["line-translate"]),"line-translate-anchor":new se(Mt.paint_line["line-translate-anchor"]),"line-width":new Ae(Mt.paint_line["line-width"]),"line-gap-width":new Ae(Mt.paint_line["line-gap-width"]),"line-offset":new Ae(Mt.paint_line["line-offset"]),"line-blur":new Ae(Mt.paint_line["line-blur"]),"line-dasharray":new Ae(Mt.paint_line["line-dasharray"]),"line-pattern":new Ae(Mt.paint_line["line-pattern"]),"line-gradient":new Ne(Mt.paint_line["line-gradient"]),"line-trim-offset":new se(Mt.paint_line["line-trim-offset"])}),layout:Qde};const nj=new class extends Ae{possiblyEvaluate(c,o){return o=new U(Math.floor(o.zoom),{now:o.now,fadeDuration:o.fadeDuration,transition:o.transition}),super.possiblyEvaluate(c,o)}evaluate(c,o,u,h){return o=pe({},o,{zoom:Math.floor(o.zoom)}),super.evaluate(c,o,u,h)}}(rj.paint.properties["line-width"].specification);function ij(c,o){return o>0?o+2*c:c}nj.useIntegerZoom=!0;const Jde=ot([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),epe=ot([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),tpe=ot([{name:"a_projected_pos",components:4,type:"Float32"}],4);ot([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const rpe=ot([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),npe=ot([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);ot([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const aj=ot([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),ipe=ot([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);ot([{name:"triangle",components:3,type:"Uint16"}]),ot([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),ot([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ot([{type:"Float32",name:"offsetX"}]),ot([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Da=24;const Yl=128;function eE(c,o){const{expression:u}=o;if(u.kind==="constant")return{kind:"constant",layoutSize:u.evaluate(new U(c+1))};if(u.kind==="source")return{kind:"source"};{const{zoomStops:h,interpolationType:y}=u;let x=0;for(;x<h.length&&h[x]<=c;)x++;x=Math.max(0,x-1);let S=x;for(;S<h.length&&h[S]<c+1;)S++;S=Math.min(h.length-1,S);const A=h[x],P=h[S];return u.kind==="composite"?{kind:"composite",minZoom:A,maxZoom:P,interpolationType:y}:{kind:"camera",minZoom:A,maxZoom:P,minSize:u.evaluate(new U(A)),maxSize:u.evaluate(new U(P)),interpolationType:y}}}function uw(c,{uSize:o,uSizeT:u},{lowerSize:h,upperSize:y}){return c.kind==="source"?h/Yl:c.kind==="composite"?gn(h/Yl,y/Yl,u):o}function W0(c,o){let u=0,h=0;if(c.kind==="constant")h=c.layoutSize;else if(c.kind!=="source"){const{interpolationType:y,minZoom:x,maxZoom:S}=c,A=y?Q(cl.interpolationFactor(y,o,x,S),0,1):0;c.kind==="camera"?h=gn(c.minSize,c.maxSize,A):u=A}return{uSizeT:u,uSize:h}}var ape=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:Yl,evaluateSizeForFeature:uw,evaluateSizeForZoom:W0,getSizeData:eE});function ope(c,o,u){return c.sections.forEach(h=>{h.text=function(y,x,S){const A=x.layout.get("text-transform").evaluate(S,{});return A==="uppercase"?y=y.toLocaleUpperCase():A==="lowercase"&&(y=y.toLocaleLowerCase()),F.applyArabicShaping&&(y=F.applyArabicShaping(y)),y}(h.text,o,u)}),c}const X_={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function spe(c){return c===""||c===""||c===""||c===""||c===""||c===""||c===""||c===""||c===""||c===""||c===""||c===""||c===""||c===""||c===""||c===""||c===""}function lpe(c){return c===""||c===""||c===""||c===""||c===""||c===""||c===""||c===""||c===""||c===""}var oj=$n,sj=function(c,o,u,h,y){var x,S,A=8*y-h-1,P=(1<<A)-1,D=P>>1,V=-7,W=u?y-1:0,q=u?-1:1,X=c[o+W];for(W+=q,x=X&(1<<-V)-1,X>>=-V,V+=A;V>0;x=256*x+c[o+W],W+=q,V-=8);for(S=x&(1<<-V)-1,x>>=-V,V+=h;V>0;S=256*S+c[o+W],W+=q,V-=8);if(x===0)x=1-D;else{if(x===P)return S?NaN:1/0*(X?-1:1);S+=Math.pow(2,h),x-=D}return(X?-1:1)*S*Math.pow(2,x-h)},lj=function(c,o,u,h,y,x){var S,A,P,D=8*x-y-1,V=(1<<D)-1,W=V>>1,q=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,X=h?0:x-1,te=h?1:-1,ue=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(A=isNaN(o)?1:0,S=V):(S=Math.floor(Math.log(o)/Math.LN2),o*(P=Math.pow(2,-S))<1&&(S--,P*=2),(o+=S+W>=1?q/P:q*Math.pow(2,1-W))*P>=2&&(S++,P/=2),S+W>=V?(A=0,S=V):S+W>=1?(A=(o*P-1)*Math.pow(2,y),S+=W):(A=o*Math.pow(2,W-1)*Math.pow(2,y),S=0));y>=8;c[u+X]=255&A,X+=te,A/=256,y-=8);for(S=S<<y|A,D+=y;D>0;c[u+X]=255&S,X+=te,S/=256,D-=8);c[u+X-te]|=128*ue};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function $n(c){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(c)?c:new Uint8Array(c||0),this.pos=0,this.type=0,this.length=this.buf.length}$n.Varint=0,$n.Fixed64=1,$n.Bytes=2,$n.Fixed32=5;var tE=4294967296,cj=1/tE,uj=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Fu(c){return c.type===$n.Bytes?c.readVarint()+c.pos:c.pos+1}function $0(c,o,u){return u?4294967296*o+(c>>>0):4294967296*(o>>>0)+(c>>>0)}function dj(c,o,u){var h=o<=16383?1:o<=2097151?2:o<=268435455?3:Math.floor(Math.log(o)/(7*Math.LN2));u.realloc(h);for(var y=u.pos-1;y>=c;y--)u.buf[y+h]=u.buf[y]}function cpe(c,o){for(var u=0;u<c.length;u++)o.writeVarint(c[u])}function upe(c,o){for(var u=0;u<c.length;u++)o.writeSVarint(c[u])}function dpe(c,o){for(var u=0;u<c.length;u++)o.writeFloat(c[u])}function ppe(c,o){for(var u=0;u<c.length;u++)o.writeDouble(c[u])}function hpe(c,o){for(var u=0;u<c.length;u++)o.writeBoolean(c[u])}function fpe(c,o){for(var u=0;u<c.length;u++)o.writeFixed32(c[u])}function mpe(c,o){for(var u=0;u<c.length;u++)o.writeSFixed32(c[u])}function gpe(c,o){for(var u=0;u<c.length;u++)o.writeFixed64(c[u])}function ype(c,o){for(var u=0;u<c.length;u++)o.writeSFixed64(c[u])}function dw(c,o){return(c[o]|c[o+1]<<8|c[o+2]<<16)+16777216*c[o+3]}function K0(c,o,u){c[u]=o,c[u+1]=o>>>8,c[u+2]=o>>>16,c[u+3]=o>>>24}function pj(c,o){return(c[o]|c[o+1]<<8|c[o+2]<<16)+(c[o+3]<<24)}$n.prototype={destroy:function(){this.buf=null},readFields:function(c,o,u){for(u=u||this.length;this.pos<u;){var h=this.readVarint(),y=h>>3,x=this.pos;this.type=7&h,c(y,o,this),this.pos===x&&this.skip(h)}return o},readMessage:function(c,o){return this.readFields(c,o,this.readVarint()+this.pos)},readFixed32:function(){var c=dw(this.buf,this.pos);return this.pos+=4,c},readSFixed32:function(){var c=pj(this.buf,this.pos);return this.pos+=4,c},readFixed64:function(){var c=dw(this.buf,this.pos)+dw(this.buf,this.pos+4)*tE;return this.pos+=8,c},readSFixed64:function(){var c=dw(this.buf,this.pos)+pj(this.buf,this.pos+4)*tE;return this.pos+=8,c},readFloat:function(){var c=sj(this.buf,this.pos,!0,23,4);return this.pos+=4,c},readDouble:function(){var c=sj(this.buf,this.pos,!0,52,8);return this.pos+=8,c},readVarint:function(c){var o,u,h=this.buf;return o=127&(u=h[this.pos++]),u<128?o:(o|=(127&(u=h[this.pos++]))<<7,u<128?o:(o|=(127&(u=h[this.pos++]))<<14,u<128?o:(o|=(127&(u=h[this.pos++]))<<21,u<128?o:function(y,x,S){var A,P,D=S.buf;if(A=(112&(P=D[S.pos++]))>>4,P<128||(A|=(127&(P=D[S.pos++]))<<3,P<128)||(A|=(127&(P=D[S.pos++]))<<10,P<128)||(A|=(127&(P=D[S.pos++]))<<17,P<128)||(A|=(127&(P=D[S.pos++]))<<24,P<128)||(A|=(1&(P=D[S.pos++]))<<31,P<128))return $0(y,A,x);throw new Error("Expected varint not more than 10 bytes")}(o|=(15&(u=h[this.pos]))<<28,c,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var c=this.readVarint();return c%2==1?(c+1)/-2:c/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var c=this.readVarint()+this.pos,o=this.pos;return this.pos=c,c-o>=12&&uj?function(u,h,y){return uj.decode(u.subarray(h,y))}(this.buf,o,c):function(u,h,y){for(var x="",S=h;S<y;){var A,P,D,V=u[S],W=null,q=V>239?4:V>223?3:V>191?2:1;if(S+q>y)break;q===1?V<128&&(W=V):q===2?(192&(A=u[S+1]))==128&&(W=(31&V)<<6|63&A)<=127&&(W=null):q===3?(P=u[S+2],(192&(A=u[S+1]))==128&&(192&P)==128&&((W=(15&V)<<12|(63&A)<<6|63&P)<=2047||W>=55296&&W<=57343)&&(W=null)):q===4&&(P=u[S+2],D=u[S+3],(192&(A=u[S+1]))==128&&(192&P)==128&&(192&D)==128&&((W=(15&V)<<18|(63&A)<<12|(63&P)<<6|63&D)<=65535||W>=1114112)&&(W=null)),W===null?(W=65533,q=1):W>65535&&(W-=65536,x+=String.fromCharCode(W>>>10&1023|55296),W=56320|1023&W),x+=String.fromCharCode(W),S+=q}return x}(this.buf,o,c)},readBytes:function(){var c=this.readVarint()+this.pos,o=this.buf.subarray(this.pos,c);return this.pos=c,o},readPackedVarint:function(c,o){if(this.type!==$n.Bytes)return c.push(this.readVarint(o));var u=Fu(this);for(c=c||[];this.pos<u;)c.push(this.readVarint(o));return c},readPackedSVarint:function(c){if(this.type!==$n.Bytes)return c.push(this.readSVarint());var o=Fu(this);for(c=c||[];this.pos<o;)c.push(this.readSVarint());return c},readPackedBoolean:function(c){if(this.type!==$n.Bytes)return c.push(this.readBoolean());var o=Fu(this);for(c=c||[];this.pos<o;)c.push(this.readBoolean());return c},readPackedFloat:function(c){if(this.type!==$n.Bytes)return c.push(this.readFloat());var o=Fu(this);for(c=c||[];this.pos<o;)c.push(this.readFloat());return c},readPackedDouble:function(c){if(this.type!==$n.Bytes)return c.push(this.readDouble());var o=Fu(this);for(c=c||[];this.pos<o;)c.push(this.readDouble());return c},readPackedFixed32:function(c){if(this.type!==$n.Bytes)return c.push(this.readFixed32());var o=Fu(this);for(c=c||[];this.pos<o;)c.push(this.readFixed32());return c},readPackedSFixed32:function(c){if(this.type!==$n.Bytes)return c.push(this.readSFixed32());var o=Fu(this);for(c=c||[];this.pos<o;)c.push(this.readSFixed32());return c},readPackedFixed64:function(c){if(this.type!==$n.Bytes)return c.push(this.readFixed64());var o=Fu(this);for(c=c||[];this.pos<o;)c.push(this.readFixed64());return c},readPackedSFixed64:function(c){if(this.type!==$n.Bytes)return c.push(this.readSFixed64());var o=Fu(this);for(c=c||[];this.pos<o;)c.push(this.readSFixed64());return c},skip:function(c){var o=7&c;if(o===$n.Varint)for(;this.buf[this.pos++]>127;);else if(o===$n.Bytes)this.pos=this.readVarint()+this.pos;else if(o===$n.Fixed32)this.pos+=4;else{if(o!==$n.Fixed64)throw new Error("Unimplemented type: "+o);this.pos+=8}},writeTag:function(c,o){this.writeVarint(c<<3|o)},realloc:function(c){for(var o=this.length||16;o<this.pos+c;)o*=2;if(o!==this.length){var u=new Uint8Array(o);u.set(this.buf),this.buf=u,this.length=o}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(c){this.realloc(4),K0(this.buf,c,this.pos),this.pos+=4},writeSFixed32:function(c){this.realloc(4),K0(this.buf,c,this.pos),this.pos+=4},writeFixed64:function(c){this.realloc(8),K0(this.buf,-1&c,this.pos),K0(this.buf,Math.floor(c*cj),this.pos+4),this.pos+=8},writeSFixed64:function(c){this.realloc(8),K0(this.buf,-1&c,this.pos),K0(this.buf,Math.floor(c*cj),this.pos+4),this.pos+=8},writeVarint:function(c){(c=+c||0)>268435455||c<0?function(o,u){var h,y;if(o>=0?(h=o%4294967296|0,y=o/4294967296|0):(y=~(-o/4294967296),4294967295^(h=~(-o%4294967296))?h=h+1|0:(h=0,y=y+1|0)),o>=18446744073709552e3||o<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");u.realloc(10),function(x,S,A){A.buf[A.pos++]=127&x|128,x>>>=7,A.buf[A.pos++]=127&x|128,x>>>=7,A.buf[A.pos++]=127&x|128,x>>>=7,A.buf[A.pos++]=127&x|128,A.buf[A.pos]=127&(x>>>=7)}(h,0,u),function(x,S){var A=(7&x)<<4;S.buf[S.pos++]|=A|((x>>>=3)?128:0),x&&(S.buf[S.pos++]=127&x|((x>>>=7)?128:0),x&&(S.buf[S.pos++]=127&x|((x>>>=7)?128:0),x&&(S.buf[S.pos++]=127&x|((x>>>=7)?128:0),x&&(S.buf[S.pos++]=127&x|((x>>>=7)?128:0),x&&(S.buf[S.pos++]=127&x)))))}(y,u)}(c,this):(this.realloc(4),this.buf[this.pos++]=127&c|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=c>>>7&127))))},writeSVarint:function(c){this.writeVarint(c<0?2*-c-1:2*c)},writeBoolean:function(c){this.writeVarint(!!c)},writeString:function(c){c=String(c),this.realloc(4*c.length),this.pos++;var o=this.pos;this.pos=function(h,y,x){for(var S,A,P=0;P<y.length;P++){if((S=y.charCodeAt(P))>55295&&S<57344){if(!A){S>56319||P+1===y.length?(h[x++]=239,h[x++]=191,h[x++]=189):A=S;continue}if(S<56320){h[x++]=239,h[x++]=191,h[x++]=189,A=S;continue}S=A-55296<<10|S-56320|65536,A=null}else A&&(h[x++]=239,h[x++]=191,h[x++]=189,A=null);S<128?h[x++]=S:(S<2048?h[x++]=S>>6|192:(S<65536?h[x++]=S>>12|224:(h[x++]=S>>18|240,h[x++]=S>>12&63|128),h[x++]=S>>6&63|128),h[x++]=63&S|128)}return x}(this.buf,c,this.pos);var u=this.pos-o;u>=128&&dj(o,u,this),this.pos=o-1,this.writeVarint(u),this.pos+=u},writeFloat:function(c){this.realloc(4),lj(this.buf,c,this.pos,!0,23,4),this.pos+=4},writeDouble:function(c){this.realloc(8),lj(this.buf,c,this.pos,!0,52,8),this.pos+=8},writeBytes:function(c){var o=c.length;this.writeVarint(o),this.realloc(o);for(var u=0;u<o;u++)this.buf[this.pos++]=c[u]},writeRawMessage:function(c,o){this.pos++;var u=this.pos;c(o,this);var h=this.pos-u;h>=128&&dj(u,h,this),this.pos=u-1,this.writeVarint(h),this.pos+=h},writeMessage:function(c,o,u){this.writeTag(c,$n.Bytes),this.writeRawMessage(o,u)},writePackedVarint:function(c,o){o.length&&this.writeMessage(c,cpe,o)},writePackedSVarint:function(c,o){o.length&&this.writeMessage(c,upe,o)},writePackedBoolean:function(c,o){o.length&&this.writeMessage(c,hpe,o)},writePackedFloat:function(c,o){o.length&&this.writeMessage(c,dpe,o)},writePackedDouble:function(c,o){o.length&&this.writeMessage(c,ppe,o)},writePackedFixed32:function(c,o){o.length&&this.writeMessage(c,fpe,o)},writePackedSFixed32:function(c,o){o.length&&this.writeMessage(c,mpe,o)},writePackedFixed64:function(c,o){o.length&&this.writeMessage(c,gpe,o)},writePackedSFixed64:function(c,o){o.length&&this.writeMessage(c,ype,o)},writeBytesField:function(c,o){this.writeTag(c,$n.Bytes),this.writeBytes(o)},writeFixed32Field:function(c,o){this.writeTag(c,$n.Fixed32),this.writeFixed32(o)},writeSFixed32Field:function(c,o){this.writeTag(c,$n.Fixed32),this.writeSFixed32(o)},writeFixed64Field:function(c,o){this.writeTag(c,$n.Fixed64),this.writeFixed64(o)},writeSFixed64Field:function(c,o){this.writeTag(c,$n.Fixed64),this.writeSFixed64(o)},writeVarintField:function(c,o){this.writeTag(c,$n.Varint),this.writeVarint(o)},writeSVarintField:function(c,o){this.writeTag(c,$n.Varint),this.writeSVarint(o)},writeStringField:function(c,o){this.writeTag(c,$n.Bytes),this.writeString(o)},writeFloatField:function(c,o){this.writeTag(c,$n.Fixed32),this.writeFloat(o)},writeDoubleField:function(c,o){this.writeTag(c,$n.Fixed64),this.writeDouble(o)},writeBooleanField:function(c,o){this.writeVarintField(c,!!o)}};var pw=N(oj);const rE=3;function vpe(c,o,u){o.glyphs=[],c===1&&u.readMessage(_pe,o)}function _pe(c,o,u){if(c===3){const{id:h,bitmap:y,width:x,height:S,left:A,top:P,advance:D}=u.readMessage(bpe,{});o.glyphs.push({id:h,bitmap:new Bu({width:x+2*rE,height:S+2*rE},y),metrics:{width:x,height:S,left:A,top:P,advance:D}})}else c===4?o.ascender=u.readSVarint():c===5&&(o.descender=u.readSVarint())}function bpe(c,o,u){c===1?o.id=u.readVarint():c===2?o.bitmap=u.readBytes():c===3?o.width=u.readVarint():c===4?o.height=u.readVarint():c===5?o.left=u.readSVarint():c===6?o.top=u.readSVarint():c===7&&(o.advance=u.readVarint())}const hj=rE;function nE(c){let o=0,u=0;for(const S of c)o+=S.w*S.h,u=Math.max(u,S.w);c.sort((S,A)=>A.h-S.h);const h=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(o/.95)),u),h:1/0}];let y=0,x=0;for(const S of c)for(let A=h.length-1;A>=0;A--){const P=h[A];if(!(S.w>P.w||S.h>P.h)){if(S.x=P.x,S.y=P.y,x=Math.max(x,S.y+S.h),y=Math.max(y,S.x+S.w),S.w===P.w&&S.h===P.h){const D=h.pop();A<h.length&&(h[A]=D)}else S.h===P.h?(P.x+=S.w,P.w-=S.w):S.w===P.w?(P.y+=S.h,P.h-=S.h):(h.push({x:P.x+S.w,y:P.y,w:P.w-S.w,h:S.h}),P.y+=S.h,P.h-=S.h);break}}return{w:y,h:x,fill:o/(y*x)||0}}const Yo=1;class iE{constructor(o,{pixelRatio:u,version:h,stretchX:y,stretchY:x,content:S}){this.paddedRect=o,this.pixelRatio=u,this.stretchX=y,this.stretchY=x,this.content=S,this.version=h}get tl(){return[this.paddedRect.x+Yo,this.paddedRect.y+Yo]}get br(){return[this.paddedRect.x+this.paddedRect.w-Yo,this.paddedRect.y+this.paddedRect.h-Yo]}get displaySize(){return[(this.paddedRect.w-2*Yo)/this.pixelRatio,(this.paddedRect.h-2*Yo)/this.pixelRatio]}}class fj{constructor(o,u){const h={},y={};this.haveRenderCallbacks=[];const x=[];this.addImages(o,h,x),this.addImages(u,y,x);const{w:S,h:A}=nE(x),P=new _s({width:S||1,height:A||1});for(const D in o){const V=o[D],W=h[D].paddedRect;_s.copy(V.data,P,{x:0,y:0},{x:W.x+Yo,y:W.y+Yo},V.data)}for(const D in u){const V=u[D],W=y[D].paddedRect,q=W.x+Yo,X=W.y+Yo,te=V.data.width,ue=V.data.height;_s.copy(V.data,P,{x:0,y:0},{x:q,y:X},V.data),_s.copy(V.data,P,{x:0,y:ue-1},{x:q,y:X-1},{width:te,height:1}),_s.copy(V.data,P,{x:0,y:0},{x:q,y:X+ue},{width:te,height:1}),_s.copy(V.data,P,{x:te-1,y:0},{x:q-1,y:X},{width:1,height:ue}),_s.copy(V.data,P,{x:0,y:0},{x:q+te,y:X},{width:1,height:ue})}this.image=P,this.iconPositions=h,this.patternPositions=y}addImages(o,u,h){for(const y in o){const x=o[y],S={x:0,y:0,w:x.data.width+2*Yo,h:x.data.height+2*Yo};h.push(S),u[y]=new iE(S,x),x.hasRenderCallback&&this.haveRenderCallbacks.push(y)}}patchUpdatedImages(o,u){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(h=>o.hasImage(h)),o.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const h in o.updatedImages)this.patchUpdatedImage(this.iconPositions[h],o.getImage(h),u),this.patchUpdatedImage(this.patternPositions[h],o.getImage(h),u)}patchUpdatedImage(o,u,h){if(!o||!u||o.version===u.version)return;o.version=u.version;const[y,x]=o.tl;h.update(u.data,void 0,{x:y,y:x})}}or(iE,"ImagePosition"),or(fj,"ImageAtlas");const Fs={horizontal:1,vertical:2,horizontalOnly:3},mj=-17;class Q_{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(o,u){const h=new Q_;return h.scale=o||1,h.fontStack=u,h}static forImage(o){const u=new Q_;return u.imageName=o,u}}class q0{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(o,u){const h=new q0;for(let y=0;y<o.sections.length;y++){const x=o.sections[y];x.image?h.addImageSection(x):h.addTextSection(x,u)}return h}length(){return this.text.length}getSection(o){return this.sections[this.sectionIndex[o]]}getSections(){return this.sections}getSectionIndex(o){return this.sectionIndex[o]}getCharCode(o){return this.text.charCodeAt(o)}verticalizePunctuation(o){this.text=function(u,h){let y="";for(let x=0;x<u.length;x++){const S=u.charCodeAt(x+1)||null,A=u.charCodeAt(x-1)||null;y+=!h&&(S&&V6(S)&&!X_[u[x+1]]||A&&V6(A)&&!X_[u[x-1]])||!X_[u[x]]?u[x]:X_[u[x]]}return y}(this.text,o)}trim(){let o=0;for(let h=0;h<this.text.length&&hw[this.text.charCodeAt(h)];h++)o++;let u=this.text.length;for(let h=this.text.length-1;h>=0&&h>=o&&hw[this.text.charCodeAt(h)];h--)u--;this.text=this.text.substring(o,u),this.sectionIndex=this.sectionIndex.slice(o,u)}substring(o,u){const h=new q0;return h.text=this.text.substring(o,u),h.sectionIndex=this.sectionIndex.slice(o,u),h.sections=this.sections,h}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((o,u)=>Math.max(o,this.sections[u].scale),0)}addTextSection(o,u){this.text+=o.text,this.sections.push(Q_.forText(o.scale,o.fontStack||u));const h=this.sections.length-1;for(let y=0;y<o.text.length;++y)this.sectionIndex.push(h)}addImageSection(o){const u=o.image?o.image.name:"";if(u.length===0)return void rt("Can't add FormattedSection with an empty image.");const h=this.getNextImageSectionCharCode();h?(this.text+=String.fromCharCode(h),this.sections.push(Q_.forImage(u)),this.sectionIndex.push(this.sections.length-1)):rt("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function aE(c,o,u,h,y,x,S,A,P,D,V,W,q,X,te){const ue=q0.fromFeature(c,y);W===Fs.vertical&&ue.verticalizePunctuation(q);let Se=[];const Ce=function(qe,_t,ft,kt,Wt,wt){if(!qe)return[];const Nt=[],Lt=function(er,cr,tr,$r,Gt,_r){let Kr=0;for(let wn=0;wn<er.length();wn++){const qr=er.getSection(wn);Kr+=gj(er.getCharCode(wn),qr,$r,Gt,cr,_r)}return Kr/Math.max(1,Math.ceil(Kr/tr))}(qe,_t,ft,kt,Wt,wt),jt=qe.text.indexOf("")>=0;let qt=0;for(let er=0;er<qe.length();er++){const cr=qe.getSection(er),tr=qe.getCharCode(er);if(hw[tr]||(qt+=gj(tr,cr,kt,Wt,_t,wt)),er<qe.length()-1){const $r=!((Pt=tr)<11904||!(rr["Bopomofo Extended"](Pt)||rr.Bopomofo(Pt)||rr["CJK Compatibility Forms"](Pt)||rr["CJK Compatibility Ideographs"](Pt)||rr["CJK Compatibility"](Pt)||rr["CJK Radicals Supplement"](Pt)||rr["CJK Strokes"](Pt)||rr["CJK Symbols and Punctuation"](Pt)||rr["CJK Unified Ideographs Extension A"](Pt)||rr["CJK Unified Ideographs"](Pt)||rr["Enclosed CJK Letters and Months"](Pt)||rr["Halfwidth and Fullwidth Forms"](Pt)||rr.Hiragana(Pt)||rr["Ideographic Description Characters"](Pt)||rr["Kangxi Radicals"](Pt)||rr["Katakana Phonetic Extensions"](Pt)||rr.Katakana(Pt)||rr["Vertical Forms"](Pt)||rr["Yi Radicals"](Pt)||rr["Yi Syllables"](Pt)));(xpe[tr]||$r||cr.imageName)&&Nt.push(vj(er+1,qt,Lt,Nt,wpe(tr,qe.getCharCode(er+1),$r&&jt),!1))}}var Pt;return _j(vj(qe.length(),qt,Lt,Nt,0,!0))}(ue,D,x,o,h,X),{processBidirectionalText:Ue,processStyledBidirectionalText:De}=F;if(Ue&&ue.sections.length===1){const qe=Ue(ue.toString(),Ce);for(const _t of qe){const ft=new q0;ft.text=_t,ft.sections=ue.sections;for(let kt=0;kt<_t.length;kt++)ft.sectionIndex.push(0);Se.push(ft)}}else if(De){const qe=De(ue.text,ue.sectionIndex,Ce);for(const _t of qe){const ft=new q0;ft.text=_t[0],ft.sectionIndex=_t[1],ft.sections=ue.sections,Se.push(ft)}}else Se=function(qe,_t){const ft=[],kt=qe.text;let Wt=0;for(const wt of _t)ft.push(qe.substring(Wt,wt)),Wt=wt;return Wt<kt.length&&ft.push(qe.substring(Wt,kt.length)),ft}(ue,Ce);const Fe=[],He={positionedLines:Fe,text:ue.toString(),top:V[1],bottom:V[1],left:V[0],right:V[0],writingMode:W,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(qe,_t,ft,kt,Wt,wt,Nt,Lt,jt,qt,Pt,er){let cr=0,tr=0,$r=0;const Gt=Lt==="right"?1:Lt==="left"?0:.5;let _r=!1;for(const Hr of Wt){const Zr=Hr.getSections();for(const Fn of Zr){if(Fn.imageName)continue;const Kn=_t[Fn.fontStack];if(Kn&&(_r=Kn.ascender!==void 0&&Kn.descender!==void 0,!_r))break}if(!_r)break}let Kr=0;for(const Hr of Wt){Hr.trim();const Zr=Hr.getMaxScale(),Fn=(Zr-1)*Da,Kn={positionedGlyphs:[],lineOffset:0};qe.positionedLines[Kr]=Kn;const qn=Kn.positionedGlyphs;let jn=0;if(!Hr.length()){tr+=wt,++Kr;continue}let li=0,gi=0;for(let Vn=0;Vn<Hr.length();Vn++){const Ji=Hr.getSection(Vn),ji=Hr.getSectionIndex(Vn),di=Hr.getCharCode(Vn);let An=Ji.scale,Vi=null,Gn=null,bo=null,Ui=Da,za=0;const Sa=!(jt===Fs.horizontal||!Pt&&!A_(di)||Pt&&(hw[di]||(wn=di,rr.Arabic(wn)||rr["Arabic Supplement"](wn)||rr["Arabic Extended-A"](wn)||rr["Arabic Presentation Forms-A"](wn)||rr["Arabic Presentation Forms-B"](wn))));if(Ji.imageName){const xo=kt[Ji.imageName];if(!xo)continue;bo=Ji.imageName,qe.iconsInText=qe.iconsInText||!0,Gn=xo.paddedRect;const Ea=xo.displaySize;An=An*Da/er,Vi={width:Ea[0],height:Ea[1],left:Yo,top:-hj,advance:Sa?Ea[1]:Ea[0],localGlyph:!1},za=_r?-Vi.height*An:mj+Zr*Da-Ea[1]*An,Ui=Vi.advance;const Jl=(Sa?Ea[0]:Ea[1])*An-Da*Zr;Jl>0&&Jl>jn&&(jn=Jl)}else{const xo=ft[Ji.fontStack];if(!xo)continue;xo[di]&&(Gn=xo[di]);const Ea=_t[Ji.fontStack];if(!Ea)continue;const Jl=Ea.glyphs[di];if(!Jl)continue;if(Vi=Jl.metrics,Ui=di!==8203?Da:0,_r){const J0=Ea.ascender!==void 0?Math.abs(Ea.ascender):0,lb=Ea.descender!==void 0?Math.abs(Ea.descender):0,cb=(J0+lb)*An;li<cb&&(li=cb,gi=(J0-lb)/2*An),za=-J0*An}else za=mj+(Zr-An)*Da}Sa?(qe.verticalizable=!0,qn.push({glyph:di,imageName:bo,x:cr,y:tr+za,vertical:Sa,scale:An,localGlyph:Vi.localGlyph,fontStack:Ji.fontStack,sectionIndex:ji,metrics:Vi,rect:Gn}),cr+=Ui*An+qt):(qn.push({glyph:di,imageName:bo,x:cr,y:tr+za,vertical:Sa,scale:An,localGlyph:Vi.localGlyph,fontStack:Ji.fontStack,sectionIndex:ji,metrics:Vi,rect:Gn}),cr+=Vi.advance*An+qt)}qn.length!==0&&($r=Math.max(cr-qt,$r),_r?bj(qn,Gt,jn,gi,wt*Zr/2):bj(qn,Gt,jn,0,wt/2)),cr=0;const Fi=wt*Zr+jn;Kn.lineOffset=Math.max(jn,Fn),tr+=Fi,++Kr}var wn;const qr=tr,{horizontalAlign:Pr,verticalAlign:Yn}=oE(Nt);(function(Hr,Zr,Fn,Kn,qn,jn){const li=(Zr-Fn)*qn,gi=-jn*Kn;for(const Fi of Hr)for(const Vn of Fi.positionedGlyphs)Vn.x+=li,Vn.y+=gi})(qe.positionedLines,Gt,Pr,Yn,$r,qr),qe.top+=-Yn*qr,qe.bottom=qe.top+qr,qe.left+=-Pr*$r,qe.right=qe.left+$r,qe.hasBaseline=_r}(He,o,u,h,Se,S,A,P,W,D,q,te),!function(qe){for(const _t of qe)if(_t.positionedGlyphs.length!==0)return!1;return!0}(Fe)&&He}const hw={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},xpe={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function gj(c,o,u,h,y,x){if(o.imageName){const S=h[o.imageName];return S?S.displaySize[0]*o.scale*Da/x+y:0}{const S=u[o.fontStack],A=S&&S.glyphs[c];return A?A.metrics.advance*o.scale+y:0}}function yj(c,o,u,h){const y=Math.pow(c-o,2);return h?c<o?y/2:2*y:y+Math.abs(u)*u}function wpe(c,o,u){let h=0;return c===10&&(h-=1e4),u&&(h+=150),c!==40&&c!==65288||(h+=50),o!==41&&o!==65289||(h+=50),h}function vj(c,o,u,h,y,x){let S=null,A=yj(o,u,y,x);for(const P of h){const D=yj(o-P.x,u,y,x)+P.badness;D<=A&&(S=P,A=D)}return{index:c,x:o,priorBreak:S,badness:A}}function _j(c){return c?_j(c.priorBreak).concat(c.index):[]}function oE(c){let o=.5,u=.5;switch(c){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":u=1;break;case"top":case"top-right":case"top-left":u=0}return{horizontalAlign:o,verticalAlign:u}}function bj(c,o,u,h,y){if(!(o||u||h||y))return;const x=c.length-1,S=c[x],A=(S.x+S.metrics.advance*S.scale)*o;for(let P=0;P<=x;P++)c[P].x-=A,c[P].y+=u+h+y}function Spe(c,o,u){const{horizontalAlign:h,verticalAlign:y}=oE(u),x=o[0]-c.displaySize[0]*h,S=o[1]-c.displaySize[1]*y;return{image:c,top:S,bottom:S+c.displaySize[1],left:x,right:x+c.displaySize[0]}}function xj(c,o,u,h,y,x){const S=c.image;let A;if(S.content){const Se=S.content,Ce=S.pixelRatio||1;A=[Se[0]/Ce,Se[1]/Ce,S.displaySize[0]-Se[2]/Ce,S.displaySize[1]-Se[3]/Ce]}const P=o.left*x,D=o.right*x;let V,W,q,X;u==="width"||u==="both"?(X=y[0]+P-h[3],W=y[0]+D+h[1]):(X=y[0]+(P+D-S.displaySize[0])/2,W=X+S.displaySize[0]);const te=o.top*x,ue=o.bottom*x;return u==="height"||u==="both"?(V=y[1]+te-h[0],q=y[1]+ue+h[2]):(V=y[1]+(te+ue-S.displaySize[1])/2,q=V+S.displaySize[1]),{image:S,top:V,right:W,bottom:q,left:X,collisionPadding:A}}class ju extends me{constructor(o,u,h,y,x){super(o,u),this.angle=y,this.z=h,x!==void 0&&(this.segment=x)}clone(){return new ju(this.x,this.y,this.z,this.angle,this.segment)}}function wj(c,o,u,h,y){if(o.segment===void 0)return!0;let x=o,S=o.segment+1,A=0;for(;A>-u/2;){if(S--,S<0)return!1;A-=c[S].dist(x),x=c[S]}A+=c[S].dist(c[S+1]),S++;const P=[];let D=0;for(;A<u/2;){const V=c[S],W=c[S+1];if(!W)return!1;let q=c[S-1].angleTo(V)-V.angleTo(W);for(q=Math.abs((q+3*Math.PI)%(2*Math.PI)-Math.PI),P.push({distance:A,angleDelta:q}),D+=q;A-P[0].distance>h;)D-=P.shift().angleDelta;if(D>y)return!1;S++,A+=V.dist(W)}return!0}function Sj(c){let o=0;for(let u=0;u<c.length-1;u++)o+=c[u].dist(c[u+1]);return o}function Ej(c,o,u){return c?.6*o*u:0}function Aj(c,o){return Math.max(c?c.right-c.left:0,o?o.right-o.left:0)}function Epe(c,o,u,h,y,x){const S=Ej(u,y,x),A=Aj(u,h)*x;let P=0;const D=Sj(c)/2;for(let V=0;V<c.length-1;V++){const W=c[V],q=c[V+1],X=W.dist(q);if(P+X>D){const te=(D-P)/X,ue=gn(W.x,q.x,te),Se=gn(W.y,q.y,te),Ce=new ju(ue,Se,0,q.angleTo(W),V);return!S||wj(c,Ce,A,S,o)?Ce:void 0}P+=X}}function Ape(c,o,u,h,y,x,S,A,P){const D=Ej(h,x,S),V=Aj(h,y),W=V*S,q=c[0].x===0||c[0].x===P||c[0].y===0||c[0].y===P;return o-W<o/4&&(o=W+o/4),Tj(c,q?o/2*A%o:(V/2+2*x)*S*A%o,o,D,u,W,q,!1,P)}function Tj(c,o,u,h,y,x,S,A,P){const D=x/2,V=Sj(c);let W=0,q=o-u,X=[];for(let te=0;te<c.length-1;te++){const ue=c[te],Se=c[te+1],Ce=ue.dist(Se),Ue=Se.angleTo(ue);for(;q+u<W+Ce;){q+=u;const De=(q-W)/Ce,Fe=gn(ue.x,Se.x,De),He=gn(ue.y,Se.y,De);if(Fe>=0&&Fe<P&&He>=0&&He<P&&q-D>=0&&q+D<=V){const qe=new ju(Fe,He,0,Ue,te);qe._round(),h&&!wj(c,qe,x,h,y)||X.push(qe)}}W+=Ce}return A||X.length||S||(X=Tj(c,W/2,u,h,y,x,S,!0,P)),X}function Mj(c,o,u,h,y){const x=[];for(let S=0;S<c.length;S++){const A=c[S];let P;for(let D=0;D<A.length-1;D++){let V=A[D],W=A[D+1];V.x<o&&W.x<o||(V.x<o?V=new me(o,V.y+(o-V.x)/(W.x-V.x)*(W.y-V.y))._round():W.x<o&&(W=new me(o,V.y+(o-V.x)/(W.x-V.x)*(W.y-V.y))._round()),V.y<u&&W.y<u||(V.y<u?V=new me(V.x+(u-V.y)/(W.y-V.y)*(W.x-V.x),u)._round():W.y<u&&(W=new me(V.x+(u-V.y)/(W.y-V.y)*(W.x-V.x),u)._round()),V.x>=h&&W.x>=h||(V.x>=h?V=new me(h,V.y+(h-V.x)/(W.x-V.x)*(W.y-V.y))._round():W.x>=h&&(W=new me(h,V.y+(h-V.x)/(W.x-V.x)*(W.y-V.y))._round()),V.y>=y&&W.y>=y||(V.y>=y?V=new me(V.x+(y-V.y)/(W.y-V.y)*(W.x-V.x),y)._round():W.y>=y&&(W=new me(V.x+(y-V.y)/(W.y-V.y)*(W.x-V.x),y)._round()),P&&V.equals(P[P.length-1])||(P=[V],x.push(P)),P.push(W)))))}}return x}or(ju,"Anchor");const J_=1e20;function Pj(c,o,u,h,y,x,S,A,P){for(let D=o;D<o+h;D++)kj(c,u*x+D,x,y,S,A,P);for(let D=u;D<u+y;D++)kj(c,D*x+o,1,h,S,A,P)}function kj(c,o,u,h,y,x,S){x[0]=0,S[0]=-J_,S[1]=J_,y[0]=c[o];for(let A=1,P=0,D=0;A<h;A++){y[A]=c[o+A*u];const V=A*A;do{const W=x[P];D=(y[A]-y[W]+V-W*W)/(A-W)/2}while(D<=S[P]&&--P>-1);P++,x[P]=A,S[P]=D,S[P+1]=J_}for(let A=0,P=0;A<h;A++){for(;S[P+1]<A;)P++;const D=x[P],V=A-D;c[o+A*u]=y[D]+V*V}}const Xl=2,sE={none:0,ideographs:1,all:2};class G0{constructor(o,u,h){this.requestManager=o,this.localGlyphMode=u,this.localFontFamily=h,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(o){this.url=o}getGlyphs(o,u){const h=[];for(const y in o)for(const x of o[y])h.push({stack:y,id:x});fe(h,({stack:y,id:x},S)=>{let A=this.entries[y];A||(A=this.entries[y]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let P=A.glyphs[x];if(P!==void 0)return void S(null,{stack:y,id:x,glyph:P});if(P=this._tinySDF(A,y,x),P)return A.glyphs[x]=P,void S(null,{stack:y,id:x,glyph:P});const D=Math.floor(x/256);if(256*D>65535)return void S(new Error("glyphs > 65535 not supported"));if(A.ranges[D])return void S(null,{stack:y,id:x,glyph:P});let V=A.requests[D];V||(V=A.requests[D]=[],G0.loadGlyphRange(y,D,this.url,this.requestManager,(W,q)=>{if(q){A.ascender=q.ascender,A.descender=q.descender;for(const X in q.glyphs)this._doesCharSupportLocalGlyph(+X)||(A.glyphs[+X]=q.glyphs[+X]);A.ranges[D]=!0}for(const X of V)X(W,q);delete A.requests[D]})),V.push((W,q)=>{W?S(W):q&&S(null,{stack:y,id:x,glyph:q.glyphs[x]||null})})},(y,x)=>{if(y)u(y);else if(x){const S={};for(const{stack:A,id:P,glyph:D}of x)S[A]===void 0&&(S[A]={}),S[A].glyphs===void 0&&(S[A].glyphs={}),S[A].glyphs[P]=D&&{id:D.id,bitmap:D.bitmap.clone(),metrics:D.metrics},S[A].ascender=this.entries[A].ascender,S[A].descender=this.entries[A].descender;u(null,S)}})}_doesCharSupportLocalGlyph(o){return this.localGlyphMode!==sE.none&&(this.localGlyphMode===sE.all?!!this.localFontFamily:!!this.localFontFamily&&(rr["CJK Unified Ideographs"](o)||rr["Hangul Syllables"](o)||rr.Hiragana(o)||rr.Katakana(o)||rr["CJK Symbols and Punctuation"](o)))}_tinySDF(o,u,h){const y=this.localFontFamily;if(!y||!this._doesCharSupportLocalGlyph(h))return;let x=o.tinySDF;if(!x){let ue="400";/bold/i.test(u)?ue="900":/medium/i.test(u)?ue="500":/light/i.test(u)&&(ue="200"),x=o.tinySDF=new G0.TinySDF({fontFamily:y,fontWeight:ue,fontSize:24*Xl,buffer:3*Xl,radius:8*Xl}),x.fontWeight=ue}if(this.localGlyphs[x.fontWeight][h])return this.localGlyphs[x.fontWeight][h];const S=String.fromCharCode(h),{data:A,width:P,height:D,glyphWidth:V,glyphHeight:W,glyphLeft:q,glyphTop:X,glyphAdvance:te}=x.draw(S);return this.localGlyphs[x.fontWeight][h]={id:h,bitmap:new Bu({width:P,height:D},A),metrics:{width:V/Xl,height:W/Xl,left:q/Xl,top:X/Xl-27,advance:te/Xl,localGlyph:!0}}}}G0.loadGlyphRange=function(c,o,u,h,y){const x=256*o,S=x+255,A=h.transformRequest(h.normalizeGlyphsURL(u).replace("{fontstack}",c).replace("{range}",`${x}-${S}`),At.Glyphs);Mn(A,(P,D)=>{if(P)y(P);else if(D){const V={},W=function(q){return new pw(q).readFields(vpe,{})}(D);for(const q of W.glyphs)V[q.id]=q;y(null,{glyphs:V,ascender:W.ascender,descender:W.descender})}})},G0.TinySDF=class{constructor({fontSize:c=24,buffer:o=3,radius:u=8,cutoff:h=.25,fontFamily:y="sans-serif",fontWeight:x="normal",fontStyle:S="normal"}={}){this.buffer=o,this.cutoff=h,this.radius=u;const A=this.size=c+4*o,P=this._createCanvas(A),D=this.ctx=P.getContext("2d",{willReadFrequently:!0});D.font=`${S} ${x} ${c}px ${y}`,D.textBaseline="alphabetic",D.textAlign="left",D.fillStyle="black",this.gridOuter=new Float64Array(A*A),this.gridInner=new Float64Array(A*A),this.f=new Float64Array(A),this.z=new Float64Array(A+1),this.v=new Uint16Array(A)}_createCanvas(c){const o=document.createElement("canvas");return o.width=o.height=c,o}draw(c){const{width:o,actualBoundingBoxAscent:u,actualBoundingBoxDescent:h,actualBoundingBoxLeft:y,actualBoundingBoxRight:x}=this.ctx.measureText(c),S=Math.ceil(u),A=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(x-y))),P=Math.min(this.size-this.buffer,S+Math.ceil(h)),D=A+2*this.buffer,V=P+2*this.buffer,W=Math.max(D*V,0),q=new Uint8ClampedArray(W),X={data:q,width:D,height:V,glyphWidth:A,glyphHeight:P,glyphTop:S,glyphLeft:0,glyphAdvance:o};if(A===0||P===0)return X;const{ctx:te,buffer:ue,gridInner:Se,gridOuter:Ce}=this;te.clearRect(ue,ue,A,P),te.fillText(c,ue,ue+S);const Ue=te.getImageData(ue,ue,A,P);Ce.fill(J_,0,W),Se.fill(0,0,W);for(let De=0;De<P;De++)for(let Fe=0;Fe<A;Fe++){const He=Ue.data[4*(De*A+Fe)+3]/255;if(He===0)continue;const qe=(De+ue)*D+Fe+ue;if(He===1)Ce[qe]=0,Se[qe]=J_;else{const _t=.5-He;Ce[qe]=_t>0?_t*_t:0,Se[qe]=_t<0?_t*_t:0}}Pj(Ce,0,0,D,V,D,this.f,this.v,this.z),Pj(Se,ue,ue,A,P,D,this.f,this.v,this.z);for(let De=0;De<W;De++){const Fe=Math.sqrt(Ce[De])-Math.sqrt(Se[De]);q[De]=Math.round(255-255*(Fe/this.radius+this.cutoff))}return X}};const H0=Yo;function Ij(c,o,u,h){const y=[],x=c.image,S=x.pixelRatio,A=x.paddedRect.w-2*H0,P=x.paddedRect.h-2*H0,D=c.right-c.left,V=c.bottom-c.top,W=x.stretchX||[[0,A]],q=x.stretchY||[[0,P]],X=(wt,Nt)=>wt+Nt[1]-Nt[0],te=W.reduce(X,0),ue=q.reduce(X,0),Se=A-te,Ce=P-ue;let Ue=0,De=te,Fe=0,He=ue,qe=0,_t=Se,ft=0,kt=Ce;if(x.content&&h){const wt=x.content;Ue=fw(W,0,wt[0]),Fe=fw(q,0,wt[1]),De=fw(W,wt[0],wt[2]),He=fw(q,wt[1],wt[3]),qe=wt[0]-Ue,ft=wt[1]-Fe,_t=wt[2]-wt[0]-De,kt=wt[3]-wt[1]-He}const Wt=(wt,Nt,Lt,jt)=>{const qt=mw(wt.stretch-Ue,De,D,c.left),Pt=gw(wt.fixed-qe,_t,wt.stretch,te),er=mw(Nt.stretch-Fe,He,V,c.top),cr=gw(Nt.fixed-ft,kt,Nt.stretch,ue),tr=mw(Lt.stretch-Ue,De,D,c.left),$r=gw(Lt.fixed-qe,_t,Lt.stretch,te),Gt=mw(jt.stretch-Fe,He,V,c.top),_r=gw(jt.fixed-ft,kt,jt.stretch,ue),Kr=new me(qt,er),wn=new me(tr,er),qr=new me(tr,Gt),Pr=new me(qt,Gt),Yn=new me(Pt/S,cr/S),Hr=new me($r/S,_r/S),Zr=o*Math.PI/180;if(Zr){const qn=Math.sin(Zr),jn=Math.cos(Zr),li=[jn,-qn,qn,jn];Kr._matMult(li),wn._matMult(li),Pr._matMult(li),qr._matMult(li)}const Fn=wt.stretch+wt.fixed,Kn=Nt.stretch+Nt.fixed;return{tl:Kr,tr:wn,bl:Pr,br:qr,tex:{x:x.paddedRect.x+H0+Fn,y:x.paddedRect.y+H0+Kn,w:Lt.stretch+Lt.fixed-Fn,h:jt.stretch+jt.fixed-Kn},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Yn,pixelOffsetBR:Hr,minFontScaleX:_t/S/D,minFontScaleY:kt/S/V,isSDF:u}};if(h&&(x.stretchX||x.stretchY)){const wt=Cj(W,Se,te),Nt=Cj(q,Ce,ue);for(let Lt=0;Lt<wt.length-1;Lt++){const jt=wt[Lt],qt=wt[Lt+1];for(let Pt=0;Pt<Nt.length-1;Pt++)y.push(Wt(jt,Nt[Pt],qt,Nt[Pt+1]))}}else y.push(Wt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:A+1},{fixed:0,stretch:P+1}));return y}function fw(c,o,u){let h=0;for(const y of c)h+=Math.max(o,Math.min(u,y[1]))-Math.max(o,Math.min(u,y[0]));return h}function Cj(c,o,u){const h=[{fixed:-H0,stretch:0}];for(const[y,x]of c){const S=h[h.length-1];h.push({fixed:y-S.stretch,stretch:S.stretch}),h.push({fixed:y-S.stretch,stretch:S.stretch+(x-y)})}return h.push({fixed:o+H0,stretch:u}),h}function mw(c,o,u,h){return c/o*u+h}function gw(c,o,u,h){return c-o*u/h}function Tpe(c,o,u,h){const y=o+c.positionedLines[h].lineOffset;return h===0?u+y/2:u+(y+(o+c.positionedLines[h-1].lineOffset))/2}class Mpe{constructor(o=[],u=Ppe){if(this.data=o,this.length=this.data.length,this.compare=u,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(o){this.data.push(o),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const o=this.data[0],u=this.data.pop();return this.length--,this.length>0&&(this.data[0]=u,this._down(0)),o}peek(){return this.data[0]}_up(o){const{data:u,compare:h}=this,y=u[o];for(;o>0;){const x=o-1>>1,S=u[x];if(h(y,S)>=0)break;u[o]=S,o=x}u[o]=y}_down(o){const{data:u,compare:h}=this,y=this.length>>1,x=u[o];for(;o<y;){let S=1+(o<<1),A=u[S];const P=S+1;if(P<this.length&&h(u[P],A)<0&&(S=P,A=u[P]),h(A,x)>=0)break;u[o]=A,o=S}u[o]=x}}function Ppe(c,o){return c<o?-1:c>o?1:0}function kpe(c,o=1,u=!1){let h=1/0,y=1/0,x=-1/0,S=-1/0;const A=c[0];for(let X=0;X<A.length;X++){const te=A[X];(!X||te.x<h)&&(h=te.x),(!X||te.y<y)&&(y=te.y),(!X||te.x>x)&&(x=te.x),(!X||te.y>S)&&(S=te.y)}const P=Math.min(x-h,S-y);let D=P/2;const V=new Mpe([],Ipe);if(P===0)return new me(h,y);for(let X=h;X<x;X+=P)for(let te=y;te<S;te+=P)V.push(new Z0(X+D,te+D,D,c));let W=function(X){let te=0,ue=0,Se=0;const Ce=X[0];for(let Ue=0,De=Ce.length,Fe=De-1;Ue<De;Fe=Ue++){const He=Ce[Ue],qe=Ce[Fe],_t=He.x*qe.y-qe.x*He.y;ue+=(He.x+qe.x)*_t,Se+=(He.y+qe.y)*_t,te+=3*_t}return new Z0(ue/te,Se/te,0,X)}(c),q=V.length;for(;V.length;){const X=V.pop();(X.d>W.d||!W.d)&&(W=X,u&&console.log("found best %d after %d probes",Math.round(1e4*X.d)/1e4,q)),X.max-W.d<=o||(D=X.h/2,V.push(new Z0(X.p.x-D,X.p.y-D,D,c)),V.push(new Z0(X.p.x+D,X.p.y-D,D,c)),V.push(new Z0(X.p.x-D,X.p.y+D,D,c)),V.push(new Z0(X.p.x+D,X.p.y+D,D,c)),q+=4)}return u&&(console.log(`num probes: ${q}`),console.log(`best distance: ${W.d}`)),W.p}function Ipe(c,o){return o.max-c.max}class Z0{constructor(o,u,h,y){this.p=new me(o,u),this.h=h,this.d=function(x,S){let A=!1,P=1/0;for(let D=0;D<S.length;D++){const V=S[D];for(let W=0,q=V.length,X=q-1;W<q;X=W++){const te=V[W],ue=V[X];te.y>x.y!=ue.y>x.y&&x.x<(ue.x-te.x)*(x.y-te.y)/(ue.y-te.y)+te.x&&(A=!A),P=Math.min(P,TF(x,te,ue))}}return(A?1:-1)*Math.sqrt(P)}(this.p,y),this.max=this.d+this.h*Math.SQRT2}}const Y0=7,lE=Number.POSITIVE_INFINITY,Cpe=Math.sqrt(2);function Dj(c,[o,u]){let h=0,y=0;if(u===lE){o<0&&(o=0);const x=o/Cpe;switch(c){case"top-right":case"top-left":y=x-Y0;break;case"bottom-right":case"bottom-left":y=-x+Y0;break;case"bottom":y=-o+Y0;break;case"top":y=o-Y0}switch(c){case"top-right":case"bottom-right":h=-x;break;case"top-left":case"bottom-left":h=x;break;case"left":h=o;break;case"right":h=-o}}else{switch(o=Math.abs(o),u=Math.abs(u),c){case"top-right":case"top-left":case"top":y=u-Y0;break;case"bottom-right":case"bottom-left":case"bottom":y=-u+Y0}switch(c){case"top-right":case"bottom-right":case"right":h=-o;break;case"top-left":case"bottom-left":case"left":h=o}}return[h,y]}function Dpe(c,o,u,h,y,x,S,A,P,D){c.createArrays(),c.tilePixelRatio=Sr/(512*c.overscaling),c.compareText={},c.iconsNeedLinear=!1;const V=c.layers[0].layout,W=c.layers[0]._unevaluatedLayout._values,q={};if(c.textSizeData.kind==="composite"){const{minZoom:ue,maxZoom:Se}=c.textSizeData;q.compositeTextSizes=[W["text-size"].possiblyEvaluate(new U(ue),A),W["text-size"].possiblyEvaluate(new U(Se),A)]}if(c.iconSizeData.kind==="composite"){const{minZoom:ue,maxZoom:Se}=c.iconSizeData;q.compositeIconSizes=[W["icon-size"].possiblyEvaluate(new U(ue),A),W["icon-size"].possiblyEvaluate(new U(Se),A)]}q.layoutTextSize=W["text-size"].possiblyEvaluate(new U(P+1),A),q.layoutIconSize=W["icon-size"].possiblyEvaluate(new U(P+1),A),q.textMaxSize=W["text-size"].possiblyEvaluate(new U(18),A);const X=V.get("text-rotation-alignment")==="map"&&V.get("symbol-placement")!=="point",te=V.get("text-size");for(const ue of c.features){const Se=V.get("text-font").evaluate(ue,{},A).join(","),Ce=te.evaluate(ue,{},A),Ue=q.layoutTextSize.evaluate(ue,{},A),De=(q.layoutIconSize.evaluate(ue,{},A),{horizontal:{},vertical:void 0}),Fe=ue.text;let He,qe=[0,0];if(Fe){const kt=Fe.toString(),Wt=V.get("text-letter-spacing").evaluate(ue,{},A)*Da,wt=V.get("text-line-height").evaluate(ue,{},A)*Da,Nt=y7(kt)?Wt:0,Lt=V.get("text-anchor").evaluate(ue,{},A),jt=V.get("text-variable-anchor");if(!jt){const tr=V.get("text-radial-offset").evaluate(ue,{},A);qe=tr?Dj(Lt,[tr*Da,lE]):V.get("text-offset").evaluate(ue,{},A).map($r=>$r*Da)}let qt=X?"center":V.get("text-justify").evaluate(ue,{},A);const Pt=V.get("symbol-placement")==="point",er=Pt?V.get("text-max-width").evaluate(ue,{},A)*Da:1/0,cr=tr=>{c.allowVerticalPlacement&&E_(kt)&&(De.vertical=aE(Fe,o,u,y,Se,er,wt,Lt,tr,Nt,qe,Fs.vertical,!0,Ue,Ce))};if(!X&&jt){const tr=qt==="auto"?jt.map(Gt=>cE(Gt)):[qt];let $r=!1;for(let Gt=0;Gt<tr.length;Gt++){const _r=tr[Gt];if(!De.horizontal[_r])if($r)De.horizontal[_r]=De.horizontal[0];else{const Kr=aE(Fe,o,u,y,Se,er,wt,"center",_r,Nt,qe,Fs.horizontal,!1,Ue,Ce);Kr&&(De.horizontal[_r]=Kr,$r=Kr.positionedLines.length===1)}}cr("left")}else{if(qt==="auto"&&(qt=cE(Lt)),Pt||V.get("text-writing-mode").indexOf("horizontal")>=0||!E_(kt)){const tr=aE(Fe,o,u,y,Se,er,wt,Lt,qt,Nt,qe,Fs.horizontal,!1,Ue,Ce);tr&&(De.horizontal[qt]=tr)}cr(Pt?"left":qt)}}let _t=!1;if(ue.icon&&ue.icon.name){const kt=h[ue.icon.name];kt&&(He=Spe(y[ue.icon.name],V.get("icon-offset").evaluate(ue,{},A),V.get("icon-anchor").evaluate(ue,{},A)),_t=kt.sdf,c.sdfIcons===void 0?c.sdfIcons=kt.sdf:c.sdfIcons!==kt.sdf&&rt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(kt.pixelRatio!==c.pixelRatio||V.get("icon-rotate").constantOr(1)!==0)&&(c.iconsNeedLinear=!0))}const ft=Rj(De.horizontal)||De.vertical;c.iconsInText||(c.iconsInText=!!ft&&ft.iconsInText),(ft||He)&&zpe(c,ue,De,He,h,q,Ue,0,qe,_t,S,A,D)}x&&c.generateCollisionDebugBuffers(P,c.collisionBoxArray)}function cE(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function zpe(c,o,u,h,y,x,S,A,P,D,V,W,q){let X=x.textMaxSize.evaluate(o,{},W);X===void 0&&(X=S);const te=c.layers[0].layout,ue=te.get("icon-offset").evaluate(o,{},W),Se=Rj(u.horizontal)||u.vertical,Ce=q.name==="globe",Ue=Da,De=S/Ue,Fe=c.tilePixelRatio*X/Ue,He=(Lt=c.overscaling,c.zoom>18&&Lt>2&&(Lt>>=1),Math.max(Sr/(512*Lt),1)*te.get("symbol-spacing")),qe=te.get("text-padding")*c.tilePixelRatio,_t=te.get("icon-padding")*c.tilePixelRatio,ft=Ke(te.get("text-max-angle")),kt=te.get("text-rotation-alignment")==="map"&&te.get("symbol-placement")!=="point",Wt=te.get("icon-rotation-alignment")==="map"&&te.get("symbol-placement")!=="point",wt=te.get("symbol-placement"),Nt=He/2;var Lt;const jt=te.get("icon-text-fit");let qt;h&&jt!=="none"&&(c.allowVerticalPlacement&&u.vertical&&(qt=xj(h,u.vertical,jt,te.get("icon-text-fit-padding"),ue,De)),Se&&(h=xj(h,Se,jt,te.get("icon-text-fit-padding"),ue,De)));const Pt=(er,cr,tr)=>{if(cr.x<0||cr.x>=Sr||cr.y<0||cr.y>=Sr)return;let $r=null;if(Ce){const{x:Gt,y:_r,z:Kr}=q.projectTilePoint(cr.x,cr.y,tr);$r={anchor:new ju(Gt,_r,Kr,0,void 0),up:q.upVector(tr,cr.x,cr.y)}}(function(Gt,_r,Kr,wn,qr,Pr,Yn,Hr,Zr,Fn,Kn,qn,jn,li,gi,Fi,Vn,Ji,ji,di,An,Vi,Gn,bo,Ui){const za=Gt.addToLineVertexArray(_r,wn);let Sa,xo,Ea,Jl,J0,lb,cb,hV=0,fV=0,mV=0,gV=0,EE=-1,AE=-1;const Uc={};let yV=b7("");const Lf=Kr?Kr.anchor:_r;let TE=0,ME=0;if(Zr._unevaluatedLayout.getValue("text-radial-offset")===void 0?[TE,ME]=Zr.layout.get("text-offset").evaluate(An,{},Ui).map(bs=>bs*Da):(TE=Zr.layout.get("text-radial-offset").evaluate(An,{},Ui)*Da,ME=lE),Gt.allowVerticalPlacement&&qr.vertical){const bs=qr.vertical;if(gi)lb=uE(bs),Hr&&(cb=uE(Hr));else{const xs=Zr.layout.get("text-rotate").evaluate(An,{},Ui)+90;Ea=yw(Fn,Lf,_r,Kn,qn,jn,bs,li,xs,Fi),Hr&&(Jl=yw(Fn,Lf,_r,Kn,qn,jn,Hr,Ji,xs))}}if(Pr){const bs=Zr.layout.get("icon-rotate").evaluate(An,{},Ui),xs=Zr.layout.get("icon-text-fit")!=="none",ub=Ij(Pr,bs,Gn,xs),kE=Hr?Ij(Hr,bs,Gn,xs):void 0;xo=yw(Fn,Lf,_r,Kn,qn,jn,Pr,Ji,bs),hV=4*ub.length;const vV=Gt.iconSizeData;let Of=null;vV.kind==="source"?(Of=[Yl*Zr.layout.get("icon-size").evaluate(An,{},Ui)],Of[0]>pp&&rt(`${Gt.layerIds[0]}: Value for "icon-size" is >= ${eb}. Reduce your "icon-size".`)):vV.kind==="composite"&&(Of=[Yl*Vi.compositeIconSizes[0].evaluate(An,{},Ui),Yl*Vi.compositeIconSizes[1].evaluate(An,{},Ui)],(Of[0]>pp||Of[1]>pp)&&rt(`${Gt.layerIds[0]}: Value for "icon-size" is >= ${eb}. Reduce your "icon-size".`)),Gt.addSymbols(Gt.icon,ub,Of,di,ji,An,!1,Kr,_r,za.lineStartIndex,za.lineLength,-1,bo,Ui),EE=Gt.icon.placedSymbolArray.length-1,kE&&(fV=4*kE.length,Gt.addSymbols(Gt.icon,kE,Of,di,ji,An,Fs.vertical,Kr,_r,za.lineStartIndex,za.lineLength,-1,bo,Ui),AE=Gt.icon.placedSymbolArray.length-1)}for(const bs in qr.horizontal){const xs=qr.horizontal[bs];Sa||(yV=b7(xs.text),gi?J0=uE(xs):Sa=yw(Fn,Lf,_r,Kn,qn,jn,xs,li,Zr.layout.get("text-rotate").evaluate(An,{},Ui),Fi));const ub=xs.positionedLines.length===1;if(mV+=zj(Gt,Kr,_r,xs,Yn,Zr,gi,An,Fi,za,qr.vertical?Fs.horizontal:Fs.horizontalOnly,ub?Object.keys(qr.horizontal):[bs],Uc,EE,Vi,bo,Ui),ub)break}qr.vertical&&(gV+=zj(Gt,Kr,_r,qr.vertical,Yn,Zr,gi,An,Fi,za,Fs.vertical,["vertical"],Uc,AE,Vi,bo,Ui));let vp=-1;const PE=(bs,xs)=>bs?Math.max(bs,xs):xs;vp=PE(J0,vp),vp=PE(lb,vp),vp=PE(cb,vp);const she=vp>-1?1:0;Gt.glyphOffsetArray.length>=fp.MAX_GLYPHS&&rt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),An.sortKey!==void 0&&Gt.addToSortKeyRanges(Gt.symbolInstances.length,An.sortKey),Gt.symbolInstances.emplaceBack(Lf.x,Lf.y,Lf.z,_r.x,_r.y,Uc.right>=0?Uc.right:-1,Uc.center>=0?Uc.center:-1,Uc.left>=0?Uc.left:-1,Uc.vertical>=0?Uc.vertical:-1,EE,AE,yV,Sa!==void 0?Sa:Gt.collisionBoxArray.length,Sa!==void 0?Sa+1:Gt.collisionBoxArray.length,Ea!==void 0?Ea:Gt.collisionBoxArray.length,Ea!==void 0?Ea+1:Gt.collisionBoxArray.length,xo!==void 0?xo:Gt.collisionBoxArray.length,xo!==void 0?xo+1:Gt.collisionBoxArray.length,Jl||Gt.collisionBoxArray.length,Jl?Jl+1:Gt.collisionBoxArray.length,Kn,mV,gV,hV,fV,she,0,TE,ME,vp)})(c,cr,$r,er,u,h,y,qt,c.layers[0],c.collisionBoxArray,o.index,o.sourceLayerIndex,c.index,qe,kt,P,0,_t,Wt,ue,o,x,D,V,W)};if(wt==="line")for(const er of Mj(o.geometry,0,0,Sr,Sr)){const cr=Ape(er,He,ft,u.vertical||Se,h,Ue,Fe,c.overscaling,Sr);for(const tr of cr)Se&&Rpe(c,Se.text,Nt,tr)||Pt(er,tr,W)}else if(wt==="line-center"){for(const er of o.geometry)if(er.length>1){const cr=Epe(er,ft,u.vertical||Se,h,Ue,Fe);cr&&Pt(er,cr,W)}}else if(o.type==="Polygon")for(const er of Y7(o.geometry,0)){const cr=kpe(er,16);Pt(er[0],new ju(cr.x,cr.y,0,0,void 0),W)}else if(o.type==="LineString")for(const er of o.geometry)Pt(er,new ju(er[0].x,er[0].y,0,0,void 0),W);else if(o.type==="Point")for(const er of o.geometry)for(const cr of er)Pt([cr],new ju(cr.x,cr.y,0,0,void 0),W)}const eb=255,pp=eb*Yl;function zj(c,o,u,h,y,x,S,A,P,D,V,W,q,X,te,ue,Se){const Ce=function(Fe,He,qe,_t,ft,kt,Wt,wt){const Nt=[];if(He.positionedLines.length===0)return Nt;const Lt=_t.layout.get("text-rotate").evaluate(kt,{})*Math.PI/180,jt=function(tr){const $r=tr[0],Gt=tr[1],_r=$r*Gt;return _r>0?[$r,-Gt]:_r<0?[-$r,Gt]:$r===0?[Gt,$r]:[Gt,-$r]}(qe);let qt=Math.abs(He.top-He.bottom);for(const tr of He.positionedLines)qt-=tr.lineOffset;const Pt=He.positionedLines.length,er=qt/Pt;let cr=He.top-qe[1];for(let tr=0;tr<Pt;++tr){const $r=He.positionedLines[tr];cr=Tpe(He,er,cr,tr);for(const Gt of $r.positionedGlyphs){if(!Gt.rect)continue;const _r=Gt.rect||{};let Kr=hj+1,wn=!0,qr=1,Pr=0;if(Gt.imageName){const Gn=Wt[Gt.imageName];if(!Gn)continue;if(Gn.sdf){rt("SDF images are not supported in formatted text and will be ignored.");continue}wn=!1,qr=Gn.pixelRatio,Kr=Yo/qr}const Yn=(ft||wt)&&Gt.vertical,Hr=Gt.metrics.advance*Gt.scale/2,Zr=Gt.metrics,Fn=Gt.rect;if(Fn===null)continue;wt&&He.verticalizable&&(Pr=Gt.imageName?Hr-Gt.metrics.width*Gt.scale/2:0);const Kn=ft?[Gt.x+Hr,Gt.y]:[0,0];let qn=[0,0],jn=[0,0],li=!1;ft||(Yn?(jn=[Gt.x+Hr+jt[0],Gt.y+jt[1]-Pr],li=!0):qn=[Gt.x+Hr+qe[0],Gt.y+qe[1]-Pr]);const gi=Fn.w*Gt.scale/(qr*(Gt.localGlyph?Xl:1)),Fi=Fn.h*Gt.scale/(qr*(Gt.localGlyph?Xl:1));let Vn,Ji,ji,di;if(Yn){const Gn=Gt.y-cr,bo=new me(-Hr,Hr-Gn),Ui=-Math.PI/2,za=new me(...jn);Vn=new me(-Hr+qn[0],qn[1]),Vn._rotateAround(Ui,bo)._add(za),Vn.x+=-Gn+Hr,Vn.y-=(Zr.left-Kr)*Gt.scale;const Sa=Gt.imageName?Zr.advance*Gt.scale:Da*Gt.scale,xo=String.fromCharCode(Gt.glyph);spe(xo)?Vn.x+=(1-Kr)*Gt.scale:lpe(xo)?Vn.x+=Sa-Zr.height*Gt.scale+(-Kr-1)*Gt.scale:Vn.x+=Gt.imageName||Zr.width+2*Kr===Fn.w&&Zr.height+2*Kr===Fn.h?(Sa-Fi)/2:(Sa-(Zr.height+2*Kr)*Gt.scale)/2,Ji=new me(Vn.x,Vn.y-gi),ji=new me(Vn.x+Fi,Vn.y),di=new me(Vn.x+Fi,Vn.y-gi)}else{const Gn=(Zr.left-Kr)*Gt.scale-Hr+qn[0],bo=(-Zr.top-Kr)*Gt.scale+qn[1],Ui=Gn+gi,za=bo+Fi;Vn=new me(Gn,bo),Ji=new me(Ui,bo),ji=new me(Gn,za),di=new me(Ui,za)}if(Lt){let Gn;Gn=ft?new me(0,0):li?new me(jt[0],jt[1]):new me(qe[0],qe[1]),Vn._rotateAround(Lt,Gn),Ji._rotateAround(Lt,Gn),ji._rotateAround(Lt,Gn),di._rotateAround(Lt,Gn)}const An=new me(0,0),Vi=new me(0,0);Nt.push({tl:Vn,tr:Ji,bl:ji,br:di,tex:_r,writingMode:He.writingMode,glyphOffset:Kn,sectionIndex:Gt.sectionIndex,isSDF:wn,pixelOffsetTL:An,pixelOffsetBR:Vi,minFontScaleX:0,minFontScaleY:0})}}return Nt}(0,h,P,x,S,A,y,c.allowVerticalPlacement),Ue=c.textSizeData;let De=null;Ue.kind==="source"?(De=[Yl*x.layout.get("text-size").evaluate(A,{},Se)],De[0]>pp&&rt(`${c.layerIds[0]}: Value for "text-size" is >= ${eb}. Reduce your "text-size".`)):Ue.kind==="composite"&&(De=[Yl*te.compositeTextSizes[0].evaluate(A,{},Se),Yl*te.compositeTextSizes[1].evaluate(A,{},Se)],(De[0]>pp||De[1]>pp)&&rt(`${c.layerIds[0]}: Value for "text-size" is >= ${eb}. Reduce your "text-size".`)),c.addSymbols(c.text,Ce,De,P,S,A,V,o,u,D.lineStartIndex,D.lineLength,X,ue,Se);for(const Fe of W)q[Fe]=c.text.placedSymbolArray.length-1;return 4*Ce.length}function Rj(c){for(const o in c)return c[o];return null}function yw(c,o,u,h,y,x,S,A,P,D){let V=S.top,W=S.bottom,q=S.left,X=S.right;const te=S.collisionPadding;if(te&&(q-=te[0],V-=te[1],X+=te[2],W+=te[3]),P){const ue=new me(q,V),Se=new me(X,V),Ce=new me(q,W),Ue=new me(X,W),De=Ke(P);let Fe=new me(0,0);D&&(Fe=new me(D[0],D[1])),ue._rotateAround(De,Fe),Se._rotateAround(De,Fe),Ce._rotateAround(De,Fe),Ue._rotateAround(De,Fe),q=Math.min(ue.x,Se.x,Ce.x,Ue.x),X=Math.max(ue.x,Se.x,Ce.x,Ue.x),V=Math.min(ue.y,Se.y,Ce.y,Ue.y),W=Math.max(ue.y,Se.y,Ce.y,Ue.y)}return c.emplaceBack(o.x,o.y,o.z,u.x,u.y,q,V,X,W,A,h,y,x),c.length-1}function uE(c){c.collisionPadding&&(c.top-=c.collisionPadding[1],c.bottom+=c.collisionPadding[3]);const o=c.bottom-c.top;return o>0?Math.max(10,o):null}function Rpe(c,o,u,h){const y=c.compareText;if(o in y){const x=y[o];for(let S=x.length-1;S>=0;S--)if(h.dist(x[S])<u)return!0}else y[o]=[];return y[o].push(h),!1}function Nj(c,o){const u=c.fovAboveCenter,h=c.elevation?c.elevation.getMinElevationBelowMSL()*o:0,y=(c._camera.position[2]*c.worldSize-h)/Math.cos(c._pitch),x=Math.sin(u)*y/Math.sin(Math.max(Math.PI/2-c._pitch-u,.01)),S=Math.sin(c._pitch)*x+y;return Math.min(1.01*S,y*(1/c._horizonShift))}function Rf(c,o){if(!o.isReprojectedInTileSpace)return{scale:1<<c.z,x:c.x,y:c.y,x2:c.x+1,y2:c.y+1,projection:o};const u=Math.pow(2,-c.z),h=c.x*u,y=(c.x+1)*u,x=c.y*u,S=(c.y+1)*u,A=Bs(h),P=Bs(y),D=Va(x),V=Va(S),W=o.project(A,D),q=o.project(P,D),X=o.project(P,V),te=o.project(A,V);let ue=Math.min(W.x,q.x,X.x,te.x),Se=Math.min(W.y,q.y,X.y,te.y),Ce=Math.max(W.x,q.x,X.x,te.x),Ue=Math.max(W.y,q.y,X.y,te.y);const De=u/16;function Fe(qe,_t,ft,kt,Wt,wt){const Nt=(ft+Wt)/2,Lt=(kt+wt)/2,jt=o.project(Bs(Nt),Va(Lt)),qt=Math.max(0,ue-jt.x,Se-jt.y,jt.x-Ce,jt.y-Ue);ue=Math.min(ue,jt.x),Ce=Math.max(Ce,jt.x),Se=Math.min(Se,jt.y),Ue=Math.max(Ue,jt.y),qt>De&&(Fe(qe,jt,ft,kt,Nt,Lt),Fe(jt,_t,Nt,Lt,Wt,wt))}Fe(W,q,h,x,y,x),Fe(q,X,y,x,y,S),Fe(X,te,y,S,h,S),Fe(te,W,h,S,h,x),ue-=De,Se-=De,Ce+=De,Ue+=De;const He=1/Math.max(Ce-ue,Ue-Se);return{scale:He,x:ue*He,y:Se*He,x2:Ce*He,y2:Ue*He,projection:o}}const Npe=Gl(new Float32Array(16));class hp{constructor(o){this.spec=o,this.name=o.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(o,u){return{x:0,y:0,z:0}}unproject(o,u){return new Bn(0,0)}projectTilePoint(o,u,h){return{x:o,y:u,z:0}}locationPoint(o,u,h=!0){return o._coordinatePoint(o.locationCoordinate(u),h)}pixelsPerMeter(o,u){return Zl(1,o)*u}pixelSpaceConversion(o,u,h){return 1}farthestPixelDistance(o){return Nj(o,o.pixelsPerMeter)}pointCoordinate(o,u,h,y){const x=o.horizonLineFromTop(!1),S=new me(u,Math.max(x,h));return o.rayIntersectionCoordinate(o.pointRayIntersection(S,y))}pointCoordinate3D(o,u,h){const y=new me(u,h);if(o.elevation)return o.elevation.pointCoordinate(y);{const x=this.pointCoordinate(o,y.x,y.y,0);return[x.x,x.y,x.z]}}isPointAboveHorizon(o,u){if(o.elevation)return!this.pointCoordinate3D(o,u.x,u.y);const h=o.horizonLineFromTop();return u.y<h}createInversionMatrix(o,u){return Npe}createTileMatrix(o,u,h){let y,x,S;const A=h.canonical,P=Gl(new Float64Array(16));if(this.isReprojectedInTileSpace){const D=Rf(A,this);y=1,x=D.x+h.wrap*D.scale,S=D.y,Mf(P,P,[y/D.scale,y/D.scale,o.pixelsPerMeter/u])}else y=u/o.zoomScale(A.z),x=(A.x+Math.pow(2,A.z)*h.wrap)*y,S=A.y*y;return C_(P,P,[x,S,0]),Mf(P,P,[y/Sr,y/Sr,1]),P}upVector(o,u,h){return[0,0,1]}upVectorScale(o,u,h){return{metersToTile:1}}}class Lpe extends hp{constructor(o){super(o),this.range=[4,7],this.center=o.center||[-96,37.5];const[u,h]=this.parallels=o.parallels||[29.5,45.5],y=Math.sin(Ke(u));this.n=(y+Math.sin(Ke(h)))/2,this.c=1+y*(2*this.n-y),this.r0=Math.sqrt(this.c)/this.n}project(o,u){const{n:h,c:y,r0:x}=this,S=Ke(o-this.center[0]),A=Ke(u),P=Math.sqrt(y-2*h*Math.sin(A))/h;return{x:P*Math.sin(S*h),y:P*Math.cos(S*h)-x,z:0}}unproject(o,u){const{n:h,c:y,r0:x}=this,S=x+u;let A=Math.atan2(o,Math.abs(S))*Math.sign(S);S*h<0&&(A-=Math.PI*Math.sign(o)*Math.sign(S));const P=Ke(this.center[0])*h;A=Ee(A,-Math.PI-P,Math.PI-P);const D=Q(ye(A/h)+this.center[0],-180,180),V=Math.asin(Q((y-(o*o+S*S)*h*h)/(2*h),-1,1)),W=Q(ye(V),-Ua,Ua);return new Bn(D,W)}}const tb=1.340264,rb=-.081106,nb=893e-6,ib=.003796,vw=Math.sqrt(3)/2;class Ope extends hp{project(o,u){u=u/180*Math.PI,o=o/180*Math.PI;const h=Math.asin(vw*Math.sin(u)),y=h*h,x=y*y*y;return{x:.5*(o*Math.cos(h)/(vw*(tb+3*rb*y+x*(7*nb+9*ib*y)))/Math.PI+.5),y:1-.5*(h*(tb+rb*y+x*(nb+ib*y))/Math.PI+1),z:0}}unproject(o,u){o=(2*o-.5)*Math.PI;let h=u=(2*(1-u)-1)*Math.PI,y=h*h,x=y*y*y;for(let V,W,q,X=0;X<12&&(W=h*(tb+rb*y+x*(nb+ib*y))-u,q=tb+3*rb*y+x*(7*nb+9*ib*y),V=W/q,h=Q(h-V,-Math.PI/3,Math.PI/3),y=h*h,x=y*y*y,!(Math.abs(V)<1e-12));++X);const S=vw*o*(tb+3*rb*y+x*(7*nb+9*ib*y))/Math.cos(h),A=Math.asin(Math.sin(h)/vw),P=Q(180*S/Math.PI,-180,180),D=Q(180*A/Math.PI,-Ua,Ua);return new Bn(P,D)}}class Bpe extends hp{constructor(o){super(o),this.wrap=!0,this.supportsWorldCopies=!0}project(o,u){return{x:.5+o/360,y:.5-u/360,z:0}}unproject(o,u){const h=360*(o-.5),y=Q(360*(.5-u),-Ua,Ua);return new Bn(h,y)}}const X0=Math.PI/2;function _w(c){return Math.tan((X0+c)/2)}class Fpe extends hp{constructor(o){super(o),this.center=o.center||[0,30];const[u,h]=this.parallels=o.parallels||[30,30];let y=Ke(u),x=Ke(h);this.southernCenter=y+x<0,this.southernCenter&&(y=-y,x=-x);const S=Math.cos(y),A=_w(y);this.n=y===x?Math.sin(y):Math.log(S/Math.cos(x))/Math.log(_w(x)/A),this.f=S*Math.pow(_w(y),this.n)/this.n}project(o,u){u=Ke(u),this.southernCenter&&(u=-u),o=Ke(o-this.center[0]);const h=1e-6,{n:y,f:x}=this;x>0?u<-X0+h&&(u=-X0+h):u>X0-h&&(u=X0-h);const S=x/Math.pow(_w(u),y);let A=S*Math.sin(y*o),P=x-S*Math.cos(y*o);return A=.5*(A/Math.PI+.5),P=.5*(P/Math.PI+.5),{x:A,y:this.southernCenter?P:1-P,z:0}}unproject(o,u){o=(2*o-.5)*Math.PI,this.southernCenter&&(u=1-u),u=(2*(1-u)-.5)*Math.PI;const{n:h,f:y}=this,x=y-u,S=Math.sign(x),A=Math.sign(h)*Math.sqrt(o*o+x*x);let P=Math.atan2(o,Math.abs(x))*S;x*h<0&&(P-=Math.PI*Math.sign(o)*S);const D=Q(ye(P/h)+this.center[0],-180,180),V=Q(ye(2*Math.atan(Math.pow(y/A,1/h))-X0),-Ua,Ua);return new Bn(D,this.southernCenter?-V:V)}}class Lj extends hp{constructor(o){super(o),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(o,u){return{x:Oc(o),y:Bc(u),z:0}}unproject(o,u){const h=Bs(o),y=Va(u);return new Bn(h,y)}}const Oj=Ke(Ua);class jpe extends hp{project(o,u){const h=(u=Ke(u))*u,y=h*h;return{x:.5*((o=Ke(o))*(.8707-.131979*h+y*(y*(.003971*h-.001529*y)-.013791))/Math.PI+.5),y:1-.5*(u*(1.007226+h*(.015085+y*(.028874*h-.044475-.005916*y)))/Math.PI+1),z:0}}unproject(o,u){o=(2*o-.5)*Math.PI;let h=u=(2*(1-u)-1)*Math.PI,y=25,x=0,S=h*h;do{S=h*h;const D=S*S;x=(h*(1.007226+S*(.015085+D*(.028874*S-.044475-.005916*D)))-u)/(1.007226+S*(.045255+D*(.259866*S-.311325-.005916*11*D))),h=Q(h-x,-Oj,Oj)}while(Math.abs(x)>1e-6&&--y>0);S=h*h;const A=Q(ye(o/(.8707+S*(S*(S*S*S*(.003971-.001529*S)-.013791)-.131979))),-180,180),P=ye(h);return new Bn(A,P)}}const Bj=Ke(Ua);class Vpe extends hp{project(o,u){u=Ke(u),o=Ke(o);const h=Math.cos(u),y=2/Math.PI,x=Math.acos(h*Math.cos(o/2)),S=Math.sin(x)/x,A=.5*(o*y+2*h*Math.sin(o/2)/S)||0,P=.5*(u+Math.sin(u)/S)||0;return{x:.5*(A/Math.PI+.5),y:1-.5*(P/Math.PI+1),z:0}}unproject(o,u){let h=o=(2*o-.5)*Math.PI,y=u=(2*(1-u)-1)*Math.PI,x=25;const S=1e-6;let A=0,P=0;do{const D=Math.cos(y),V=Math.sin(y),W=2*V*D,q=V*V,X=D*D,te=Math.cos(h/2),ue=Math.sin(h/2),Se=2*te*ue,Ce=ue*ue,Ue=1-X*te*te,De=Ue?1/Ue:0,Fe=Ue?Math.acos(D*te)*Math.sqrt(1/Ue):0,He=.5*(2*Fe*D*ue+2*h/Math.PI)-o,qe=.5*(Fe*V+y)-u,_t=.5*De*(X*Ce+Fe*D*te*q)+1/Math.PI,ft=De*(Se*W/4-Fe*V*ue),kt=.125*De*(W*ue-Fe*V*X*Se),Wt=.5*De*(q*te+Fe*Ce*D)+.5,wt=ft*kt-Wt*_t;A=(qe*ft-He*Wt)/wt,P=(He*kt-qe*_t)/wt,h=Q(h-A,-Math.PI,Math.PI),y=Q(y-P,-Bj,Bj)}while((Math.abs(A)>S||Math.abs(P)>S)&&--x>0);return new Bn(ye(h),ye(y))}}class Fj extends hp{constructor(o){super(o),this.center=o.center||[0,0],this.parallels=o.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(Ke(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(o,u){const{scale:h,cosPhi:y}=this;return{x:Ke(o)*y*h+.5,y:-Math.sin(Ke(u))/y*h+.5,z:0}}unproject(o,u){const{scale:h,cosPhi:y}=this,x=-(u-.5)/h,S=Q(ye((o-.5)/h)/y,-180,180),A=Math.asin(Q(x*y,-1,1)),P=Q(ye(A),-Ua,Ua);return new Bn(S,P)}}class Upe extends Lj{constructor(o){super(o),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(o,u,h){const y=F_(o,u,h);return Mi(y,y,j_(Lc(h))),{x:y[0],y:y[1],z:y[2]}}locationPoint(o,u){const h=L0(u.lat,u.lng),y=yo([],h),x=o.elevation?o.elevation.getAtPointOrZero(o.locationCoordinate(u),o._centerAltitude):o._centerAltitude;N_(h,h,y,Zl(1,0)*Sr*x);const S=Gl(new Float64Array(16));return Tf(S,o.pixelMatrix,o.globeMatrix),Mi(h,h,S),new me(h[0],h[1])}pixelsPerMeter(o,u){return Zl(1,0)*u}pixelSpaceConversion(o,u,h){const y=Zl(1,o)*u,x=gn(Zl(1,45)*u,y,h);return this.pixelsPerMeter(o,u)/x}createTileMatrix(o,u,h){const y=R7(Lc(h.canonical));return Tf(new Float64Array(16),o.globeMatrix,y)}createInversionMatrix(o,u){const{center:h}=o,y=j_(Lc(u));return G6(y,y,Ke(h.lng)),E7(y,y,Ke(h.lat)),Mf(y,y,[o._pixelsPerMercatorPixel,o._pixelsPerMercatorPixel,1]),Float32Array.from(y)}pointCoordinate(o,u,h,y){return pF(o,u,h,!0)||new B0(0,0)}pointCoordinate3D(o,u,h){const y=this.pointCoordinate(o,u,h,0);return[y.x,y.y,y.z]}isPointAboveHorizon(o,u){return!pF(o,u.x,u.y,!1)}farthestPixelDistance(o){const u=function(y,x){const S=y.cameraToCenterDistance,A=y._centerAltitude*x,P=y._camera,D=y._camera.forward(),V=Lu([],Os([],D,-S),[0,0,A]),W=y.worldSize/(2*Math.PI),q=[0,0,-W],X=y.width/y.height,te=Math.tan(y.fovAboveCenter),ue=Os([],P.up(),te),Se=Os([],P.right(),te*X),Ce=yo([],Lu([],Lu([],D,ue),Se)),Ue=[];let De;if(new P7(V,Ce).closestPointOnSphere(q,W,Ue)){const Fe=Lu([],Ue,q),He=Hl([],Fe,V);De=Math.cos(y.fovAboveCenter)*D_(He)}else{const Fe=Hl([],V,q),He=Hl([],q,V);yo(He,He);const qe=D_(Fe)-W;De=Math.sqrt(qe*(qe+2*W));const _t=Math.acos(De/(W+qe))-Math.acos(pl(D,He));De*=Math.cos(_t)}return 1.01*De}(o,this.pixelsPerMeter(o.center.lat,o.worldSize)),h=O0(o.zoom);if(h>0){const y=Nj(o,Zl(1,o.center.lat)*o.worldSize),x=o.worldSize/(2*Math.PI),S=Math.max(o.width,o.height)/o.worldSize*Math.PI;return gn(u,y+x*(1-Math.cos(S)),Math.pow(h,10))}return u}upVector(o,u,h){return F_(u,h,o,1)}upVectorScale(o){return{metersToTile:H6(Y6(Lc(o)))}}}function jj(c){const o=c.parallels,u=!!o&&Math.abs(o[0]+o[1])<.01;switch(c.name){case"mercator":return new Lj(c);case"equirectangular":return new Bpe(c);case"naturalEarth":return new jpe(c);case"equalEarth":return new Ope(c);case"winkelTripel":return new Vpe(c);case"albers":return u?new Fj(c):new Lpe(c);case"lambertConformalConic":return u?new Fj(c):new Fpe(c);case"globe":return new Upe(c)}throw new Error(`Invalid projection name: ${c.name}`)}const Wpe=ow.types,$pe=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function bw(c,o,u,h,y,x,S,A,P,D,V,W,q){const X=A?Math.min(pp,Math.round(A[0])):0,te=A?Math.min(pp,Math.round(A[1])):0;c.emplaceBack(o,u,Math.round(32*h),Math.round(32*y),x,S,(X<<1)+(P?1:0),te,16*D,16*V,256*W,256*q)}function xw(c,o,u,h,y,x,S){c.emplaceBack(o,u,h,y,x,S)}function ww(c,o,u,h,y){c.emplaceBack(o,u,h,y),c.emplaceBack(o,u,h,y),c.emplaceBack(o,u,h,y),c.emplaceBack(o,u,h,y)}function Kpe(c){for(const o of c.sections)if(_7(o.text))return!0;return!1}class dE{constructor(o){this.layoutVertexArray=new Bt,this.indexArray=new gr,this.programConfigurations=o,this.segments=new Oi,this.dynamicLayoutVertexArray=new Vt,this.opacityVertexArray=new vr,this.placedSymbolArray=new Li,this.globeExtVertexArray=new Kt}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(o,u,h,y){this.isEmpty()||(h&&(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Jde.members),this.indexBuffer=o.createIndexBuffer(this.indexArray,u),this.dynamicLayoutVertexBuffer=o.createVertexBuffer(this.dynamicLayoutVertexArray,tpe.members,!0),this.opacityVertexBuffer=o.createVertexBuffer(this.opacityVertexArray,$pe,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=o.createVertexBuffer(this.globeExtVertexArray,epe.members,!0)),this.opacityVertexBuffer.itemSize=1),(h||y)&&this.programConfigurations.upload(o))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}or(dE,"SymbolBuffers");class pE{constructor(o,u,h){this.layoutVertexArray=new o,this.layoutAttributes=u,this.indexArray=new h,this.segments=new Oi,this.collisionVertexArray=new cn,this.collisionVertexArrayExt=new rn}upload(o){this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=o.createVertexBuffer(this.collisionVertexArray,rpe.members,!0),this.collisionVertexBufferExt=o.createVertexBuffer(this.collisionVertexArrayExt,npe.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}or(pE,"CollisionBuffers");class fp{constructor(o){this.collisionBoxArray=o.collisionBoxArray,this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(S=>S.id),this.index=o.index,this.pixelRatio=o.pixelRatio,this.sourceLayerIndex=o.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Gl([]),this.placementViewportMatrix=Gl([]);const u=this.layers[0]._unevaluatedLayout._values;this.textSizeData=eE(this.zoom,u["text-size"]),this.iconSizeData=eE(this.zoom,u["icon-size"]);const h=this.layers[0].layout,y=h.get("symbol-sort-key"),x=h.get("symbol-z-order");this.canOverlap=h.get("text-allow-overlap")||h.get("icon-allow-overlap")||h.get("text-ignore-placement")||h.get("icon-ignore-placement"),this.sortFeaturesByKey=x!=="viewport-y"&&y.constantOr(1)!==void 0,this.sortFeaturesByY=(x==="viewport-y"||x==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=h.get("text-writing-mode").map(S=>Fs[S]),this.stateDependentLayerIds=this.layers.filter(S=>S.isStateDependent()).map(S=>S.id),this.sourceID=o.sourceID,this.projection=o.projection}createArrays(){this.text=new dE(new Af(this.layers,this.zoom,o=>/^text/.test(o))),this.icon=new dE(new Af(this.layers,this.zoom,o=>/^icon/.test(o))),this.glyphOffsetArray=new go,this.lineVertexArray=new C0,this.symbolInstances=new Jn}calculateGlyphDependencies(o,u,h,y,x){for(let S=0;S<o.length;S++)if(u[o.charCodeAt(S)]=!0,y&&x){const A=X_[o.charAt(S)];A&&(u[A.charCodeAt(0)]=!0)}}populate(o,u,h,y){const x=this.layers[0],S=x.layout,A=this.projection.name==="globe",P=S.get("text-font"),D=S.get("text-field"),V=S.get("icon-image"),W=(D.value.kind!=="constant"||D.value.value instanceof mo&&!D.value.value.isEmpty()||D.value.value.toString().length>0)&&(P.value.kind!=="constant"||P.value.value.length>0),q=V.value.kind!=="constant"||!!V.value.value||Object.keys(V.parameters).length>0,X=S.get("symbol-sort-key");if(this.features=[],!W&&!q)return;const te=u.iconDependencies,ue=u.glyphDependencies,Se=u.availableImages,Ce=new U(this.zoom);for(const{feature:Ue,id:De,index:Fe,sourceLayerIndex:He}of o){const qe=x._featureFilter.needGeometry,_t=Cf(Ue,qe);if(!x._featureFilter.filter(Ce,_t,h))continue;if(qe||(_t.geometry=Ou(Ue,h,y)),A&&Ue.type!==1&&h.z<=5){const wt=_t.geometry,Nt=.98078528056,Lt=(jt,qt)=>pl(F_(jt.x,jt.y,h,1),F_(qt.x,qt.y,h,1))<Nt;for(let jt=0;jt<wt.length;jt++)wt[jt]=tde(wt[jt],Lt)}let ft,kt;if(W){const wt=x.getValueAndResolveTokens("text-field",_t,h,Se),Nt=mo.factory(wt);Kpe(Nt)&&(this.hasRTLText=!0),(!this.hasRTLText||M()==="unavailable"||this.hasRTLText&&F.isParsed())&&(ft=ope(Nt,x,_t))}if(q){const wt=x.getValueAndResolveTokens("icon-image",_t,h,Se);kt=wt instanceof fs?wt:fs.fromString(wt)}if(!ft&&!kt)continue;const Wt=this.sortFeaturesByKey?X.evaluate(_t,{},h):void 0;if(this.features.push({id:De,text:ft,icon:kt,index:Fe,sourceLayerIndex:He,geometry:_t.geometry,properties:Ue.properties,type:Wpe[Ue.type],sortKey:Wt}),kt&&(te[kt.name]=!0),ft){const wt=P.evaluate(_t,{},h).join(","),Nt=S.get("text-rotation-alignment")==="map"&&S.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Fs.vertical)>=0;for(const Lt of ft.sections)if(Lt.image)te[Lt.image.name]=!0;else{const jt=E_(ft.toString()),qt=Lt.fontStack||wt,Pt=ue[qt]=ue[qt]||{};this.calculateGlyphDependencies(Lt.text,Pt,Nt,this.allowVerticalPlacement,jt)}}}S.get("symbol-placement")==="line"&&(this.features=function(Ue){const De={},Fe={},He=[];let qe=0;function _t(wt){He.push(Ue[wt]),qe++}function ft(wt,Nt,Lt){const jt=Fe[wt];return delete Fe[wt],Fe[Nt]=jt,He[jt].geometry[0].pop(),He[jt].geometry[0]=He[jt].geometry[0].concat(Lt[0]),jt}function kt(wt,Nt,Lt){const jt=De[Nt];return delete De[Nt],De[wt]=jt,He[jt].geometry[0].shift(),He[jt].geometry[0]=Lt[0].concat(He[jt].geometry[0]),jt}function Wt(wt,Nt,Lt){const jt=Lt?Nt[0][Nt[0].length-1]:Nt[0][0];return`${wt}:${jt.x}:${jt.y}`}for(let wt=0;wt<Ue.length;wt++){const Nt=Ue[wt],Lt=Nt.geometry,jt=Nt.text?Nt.text.toString():null;if(!jt){_t(wt);continue}const qt=Wt(jt,Lt),Pt=Wt(jt,Lt,!0);if(qt in Fe&&Pt in De&&Fe[qt]!==De[Pt]){const er=kt(qt,Pt,Lt),cr=ft(qt,Pt,He[er].geometry);delete De[qt],delete Fe[Pt],Fe[Wt(jt,He[cr].geometry,!0)]=cr,He[er].geometry=null}else qt in Fe?ft(qt,Pt,Lt):Pt in De?kt(qt,Pt,Lt):(_t(wt),De[qt]=qe-1,Fe[Pt]=qe-1)}return He.filter(wt=>wt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Ue,De)=>Ue.sortKey-De.sortKey)}update(o,u,h,y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(o,u,this.layers,h,y),this.icon.programConfigurations.updatePaintArrays(o,u,this.layers,h,y))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(o){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(o),this.iconCollisionBox.upload(o)),this.text.upload(o,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(o,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=jj(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(o,u){const h=this.lineVertexArray.length;if(o.segment!==void 0)for(const{x:y,y:x}of u)this.lineVertexArray.emplaceBack(y,x);return{lineStartIndex:h,lineLength:this.lineVertexArray.length-h}}addSymbols(o,u,h,y,x,S,A,P,D,V,W,q,X,te){const ue=o.indexArray,Se=o.layoutVertexArray,Ce=o.globeExtVertexArray,Ue=o.segments.prepareSegment(4*u.length,Se,ue,this.canOverlap?S.sortKey:void 0),De=this.glyphOffsetArray.length,Fe=Ue.vertexLength,He=this.allowVerticalPlacement&&A===Fs.vertical?Math.PI/2:0,qe=S.text&&S.text.sections;for(let ft=0;ft<u.length;ft++){const{tl:kt,tr:Wt,bl:wt,br:Nt,tex:Lt,pixelOffsetTL:jt,pixelOffsetBR:qt,minFontScaleX:Pt,minFontScaleY:er,glyphOffset:cr,isSDF:tr,sectionIndex:$r}=u[ft],Gt=Ue.vertexLength,_r=cr[1];if(bw(Se,D.x,D.y,kt.x,_r+kt.y,Lt.x,Lt.y,h,tr,jt.x,jt.y,Pt,er),bw(Se,D.x,D.y,Wt.x,_r+Wt.y,Lt.x+Lt.w,Lt.y,h,tr,qt.x,jt.y,Pt,er),bw(Se,D.x,D.y,wt.x,_r+wt.y,Lt.x,Lt.y+Lt.h,h,tr,jt.x,qt.y,Pt,er),bw(Se,D.x,D.y,Nt.x,_r+Nt.y,Lt.x+Lt.w,Lt.y+Lt.h,h,tr,qt.x,qt.y,Pt,er),P){const{x:Kr,y:wn,z:qr}=P.anchor,[Pr,Yn,Hr]=P.up;xw(Ce,Kr,wn,qr,Pr,Yn,Hr),xw(Ce,Kr,wn,qr,Pr,Yn,Hr),xw(Ce,Kr,wn,qr,Pr,Yn,Hr),xw(Ce,Kr,wn,qr,Pr,Yn,Hr),ww(o.dynamicLayoutVertexArray,Kr,wn,qr,He)}else ww(o.dynamicLayoutVertexArray,D.x,D.y,D.z,He);ue.emplaceBack(Gt,Gt+1,Gt+2),ue.emplaceBack(Gt+1,Gt+2,Gt+3),Ue.vertexLength+=4,Ue.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(cr[0]),ft!==u.length-1&&$r===u[ft+1].sectionIndex||o.programConfigurations.populatePaintArrays(Se.length,S,S.index,{},X,te,qe&&qe[$r])}const _t=P?P.anchor:D;o.placedSymbolArray.emplaceBack(_t.x,_t.y,_t.z,D.x,D.y,De,this.glyphOffsetArray.length-De,Fe,V,W,D.segment,h?h[0]:0,h?h[1]:0,y[0],y[1],A,0,!1,0,q,0)}_commitLayoutVertex(o,u,h,y,x,S,A){o.emplaceBack(u,h,y,x,S,Math.round(A.x),Math.round(A.y))}_addCollisionDebugVertices(o,u,h,y,x,S,A){const P=h.segments.prepareSegment(4,h.layoutVertexArray,h.indexArray),D=P.vertexLength,V=A.tileAnchorX,W=A.tileAnchorY;for(let X=0;X<4;X++)h.collisionVertexArray.emplaceBack(0,0,0,0);h.collisionVertexArrayExt.emplaceBack(u,-o.padding,-o.padding),h.collisionVertexArrayExt.emplaceBack(u,o.padding,-o.padding),h.collisionVertexArrayExt.emplaceBack(u,o.padding,o.padding),h.collisionVertexArrayExt.emplaceBack(u,-o.padding,o.padding),this._commitLayoutVertex(h.layoutVertexArray,y,x,S,V,W,new me(o.x1,o.y1)),this._commitLayoutVertex(h.layoutVertexArray,y,x,S,V,W,new me(o.x2,o.y1)),this._commitLayoutVertex(h.layoutVertexArray,y,x,S,V,W,new me(o.x2,o.y2)),this._commitLayoutVertex(h.layoutVertexArray,y,x,S,V,W,new me(o.x1,o.y2)),P.vertexLength+=4;const q=h.indexArray;q.emplaceBack(D,D+1),q.emplaceBack(D+1,D+2),q.emplaceBack(D+2,D+3),q.emplaceBack(D+3,D),P.primitiveLength+=4}_addTextDebugCollisionBoxes(o,u,h,y,x,S){for(let A=y;A<x;A++){const P=h.get(A),D=this.getSymbolInstanceTextSize(o,S,u,A);this._addCollisionDebugVertices(P,D,this.textCollisionBox,P.projectedAnchorX,P.projectedAnchorY,P.projectedAnchorZ,S)}}_addIconDebugCollisionBoxes(o,u,h,y,x,S){for(let A=y;A<x;A++){const P=h.get(A),D=this.getSymbolInstanceIconSize(o,u,S.placedIconSymbolIndex);this._addCollisionDebugVertices(P,D,this.iconCollisionBox,P.projectedAnchorX,P.projectedAnchorY,P.projectedAnchorZ,S)}}generateCollisionDebugBuffers(o,u){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new pE(lr,aj.members,wa),this.iconCollisionBox=new pE(lr,aj.members,wa);const h=W0(this.iconSizeData,o),y=W0(this.textSizeData,o);for(let x=0;x<this.symbolInstances.length;x++){const S=this.symbolInstances.get(x);this._addTextDebugCollisionBoxes(y,o,u,S.textBoxStartIndex,S.textBoxEndIndex,S),this._addTextDebugCollisionBoxes(y,o,u,S.verticalTextBoxStartIndex,S.verticalTextBoxEndIndex,S),this._addIconDebugCollisionBoxes(h,o,u,S.iconBoxStartIndex,S.iconBoxEndIndex,S),this._addIconDebugCollisionBoxes(h,o,u,S.verticalIconBoxStartIndex,S.verticalIconBoxEndIndex,S)}}getSymbolInstanceTextSize(o,u,h,y){const x=this.text.placedSymbolArray.get(u.rightJustifiedTextSymbolIndex>=0?u.rightJustifiedTextSymbolIndex:u.centerJustifiedTextSymbolIndex>=0?u.centerJustifiedTextSymbolIndex:u.leftJustifiedTextSymbolIndex>=0?u.leftJustifiedTextSymbolIndex:u.verticalPlacedTextSymbolIndex>=0?u.verticalPlacedTextSymbolIndex:y),S=uw(this.textSizeData,o,x)/Da;return this.tilePixelRatio*S}getSymbolInstanceIconSize(o,u,h){const y=this.icon.placedSymbolArray.get(h),x=uw(this.iconSizeData,o,y);return this.tilePixelRatio*x}_commitDebugCollisionVertexUpdate(o,u,h){o.emplaceBack(u,-h,-h),o.emplaceBack(u,h,-h),o.emplaceBack(u,h,h),o.emplaceBack(u,-h,h)}_updateTextDebugCollisionBoxes(o,u,h,y,x,S){for(let A=y;A<x;A++){const P=h.get(A),D=this.getSymbolInstanceTextSize(o,S,u,A);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,D,P.padding)}}_updateIconDebugCollisionBoxes(o,u,h,y,x,S){for(let A=y;A<x;A++){const P=h.get(A),D=this.getSymbolInstanceIconSize(o,u,S);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,D,P.padding)}}updateCollisionDebugBuffers(o,u){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const h=W0(this.iconSizeData,o),y=W0(this.textSizeData,o);for(let x=0;x<this.symbolInstances.length;x++){const S=this.symbolInstances.get(x);this._updateTextDebugCollisionBoxes(y,o,u,S.textBoxStartIndex,S.textBoxEndIndex,S),this._updateTextDebugCollisionBoxes(y,o,u,S.verticalTextBoxStartIndex,S.verticalTextBoxEndIndex,S),this._updateIconDebugCollisionBoxes(h,o,u,S.iconBoxStartIndex,S.iconBoxEndIndex,S.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(h,o,u,S.verticalIconBoxStartIndex,S.verticalIconBoxEndIndex,S.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(o,u,h,y,x,S,A,P,D){const V={};if(u<h){const{x1:W,y1:q,x2:X,y2:te,padding:ue,projectedAnchorX:Se,projectedAnchorY:Ce,projectedAnchorZ:Ue,tileAnchorX:De,tileAnchorY:Fe,featureIndex:He}=o.get(u);V.textBox={x1:W,y1:q,x2:X,y2:te,padding:ue,projectedAnchorX:Se,projectedAnchorY:Ce,projectedAnchorZ:Ue,tileAnchorX:De,tileAnchorY:Fe},V.textFeatureIndex=He}if(y<x){const{x1:W,y1:q,x2:X,y2:te,padding:ue,projectedAnchorX:Se,projectedAnchorY:Ce,projectedAnchorZ:Ue,tileAnchorX:De,tileAnchorY:Fe,featureIndex:He}=o.get(y);V.verticalTextBox={x1:W,y1:q,x2:X,y2:te,padding:ue,projectedAnchorX:Se,projectedAnchorY:Ce,projectedAnchorZ:Ue,tileAnchorX:De,tileAnchorY:Fe},V.verticalTextFeatureIndex=He}if(S<A){const{x1:W,y1:q,x2:X,y2:te,padding:ue,projectedAnchorX:Se,projectedAnchorY:Ce,projectedAnchorZ:Ue,tileAnchorX:De,tileAnchorY:Fe,featureIndex:He}=o.get(S);V.iconBox={x1:W,y1:q,x2:X,y2:te,padding:ue,projectedAnchorX:Se,projectedAnchorY:Ce,projectedAnchorZ:Ue,tileAnchorX:De,tileAnchorY:Fe},V.iconFeatureIndex=He}if(P<D){const{x1:W,y1:q,x2:X,y2:te,padding:ue,projectedAnchorX:Se,projectedAnchorY:Ce,projectedAnchorZ:Ue,tileAnchorX:De,tileAnchorY:Fe,featureIndex:He}=o.get(P);V.verticalIconBox={x1:W,y1:q,x2:X,y2:te,padding:ue,projectedAnchorX:Se,projectedAnchorY:Ce,projectedAnchorZ:Ue,tileAnchorX:De,tileAnchorY:Fe},V.verticalIconFeatureIndex=He}return V}deserializeCollisionBoxes(o){this.collisionArrays=[];for(let u=0;u<this.symbolInstances.length;u++){const h=this.symbolInstances.get(u);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(o,h.textBoxStartIndex,h.textBoxEndIndex,h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h.iconBoxStartIndex,h.iconBoxEndIndex,h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(o,u){const h=o.placedSymbolArray.get(u),y=h.vertexStartIndex+4*h.numGlyphs;for(let x=h.vertexStartIndex;x<y;x+=4)o.indexArray.emplaceBack(x,x+1,x+2),o.indexArray.emplaceBack(x+1,x+2,x+3)}getSortedSymbolIndexes(o){if(this.sortedAngle===o&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const u=Math.sin(o),h=Math.cos(o),y=[],x=[],S=[];for(let A=0;A<this.symbolInstances.length;++A){S.push(A);const P=this.symbolInstances.get(A);y.push(0|Math.round(u*P.tileAnchorX+h*P.tileAnchorY)),x.push(P.featureIndex)}return S.sort((A,P)=>y[A]-y[P]||x[P]-x[A]),S}addToSortKeyRanges(o,u){const h=this.sortKeyRanges[this.sortKeyRanges.length-1];h&&h.sortKey===u?h.symbolInstanceEnd=o+1:this.sortKeyRanges.push({sortKey:u,symbolInstanceStart:o,symbolInstanceEnd:o+1})}sortFeatures(o){if(this.sortFeaturesByY&&this.sortedAngle!==o&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(o),this.sortedAngle=o,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const u of this.symbolInstanceIndexes){const h=this.symbolInstances.get(u);this.featureSortOrder.push(h.featureIndex);const{rightJustifiedTextSymbolIndex:y,centerJustifiedTextSymbolIndex:x,leftJustifiedTextSymbolIndex:S,verticalPlacedTextSymbolIndex:A,placedIconSymbolIndex:P,verticalPlacedIconSymbolIndex:D}=h;y>=0&&this.addIndicesForPlacedSymbol(this.text,y),x>=0&&x!==y&&this.addIndicesForPlacedSymbol(this.text,x),S>=0&&S!==x&&S!==y&&this.addIndicesForPlacedSymbol(this.text,S),A>=0&&this.addIndicesForPlacedSymbol(this.text,A),P>=0&&this.addIndicesForPlacedSymbol(this.icon,P),D>=0&&this.addIndicesForPlacedSymbol(this.icon,D)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}or(fp,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),fp.MAX_GLYPHS=65535,fp.addDynamicAttributes=ww;const qpe=new Oe({"symbol-placement":new se(Mt.layout_symbol["symbol-placement"]),"symbol-spacing":new se(Mt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new se(Mt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ae(Mt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new se(Mt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new se(Mt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new se(Mt.layout_symbol["icon-ignore-placement"]),"icon-optional":new se(Mt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new se(Mt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ae(Mt.layout_symbol["icon-size"]),"icon-text-fit":new se(Mt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new se(Mt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ae(Mt.layout_symbol["icon-image"]),"icon-rotate":new Ae(Mt.layout_symbol["icon-rotate"]),"icon-padding":new se(Mt.layout_symbol["icon-padding"]),"icon-keep-upright":new se(Mt.layout_symbol["icon-keep-upright"]),"icon-offset":new Ae(Mt.layout_symbol["icon-offset"]),"icon-anchor":new Ae(Mt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new se(Mt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new se(Mt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new se(Mt.layout_symbol["text-rotation-alignment"]),"text-field":new Ae(Mt.layout_symbol["text-field"]),"text-font":new Ae(Mt.layout_symbol["text-font"]),"text-size":new Ae(Mt.layout_symbol["text-size"]),"text-max-width":new Ae(Mt.layout_symbol["text-max-width"]),"text-line-height":new Ae(Mt.layout_symbol["text-line-height"]),"text-letter-spacing":new Ae(Mt.layout_symbol["text-letter-spacing"]),"text-justify":new Ae(Mt.layout_symbol["text-justify"]),"text-radial-offset":new Ae(Mt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new se(Mt.layout_symbol["text-variable-anchor"]),"text-anchor":new Ae(Mt.layout_symbol["text-anchor"]),"text-max-angle":new se(Mt.layout_symbol["text-max-angle"]),"text-writing-mode":new se(Mt.layout_symbol["text-writing-mode"]),"text-rotate":new Ae(Mt.layout_symbol["text-rotate"]),"text-padding":new se(Mt.layout_symbol["text-padding"]),"text-keep-upright":new se(Mt.layout_symbol["text-keep-upright"]),"text-transform":new Ae(Mt.layout_symbol["text-transform"]),"text-offset":new Ae(Mt.layout_symbol["text-offset"]),"text-allow-overlap":new se(Mt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new se(Mt.layout_symbol["text-ignore-placement"]),"text-optional":new se(Mt.layout_symbol["text-optional"])});var hE={paint:new Oe({"icon-opacity":new Ae(Mt.paint_symbol["icon-opacity"]),"icon-color":new Ae(Mt.paint_symbol["icon-color"]),"icon-halo-color":new Ae(Mt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ae(Mt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ae(Mt.paint_symbol["icon-halo-blur"]),"icon-translate":new se(Mt.paint_symbol["icon-translate"]),"icon-translate-anchor":new se(Mt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ae(Mt.paint_symbol["text-opacity"]),"text-color":new Ae(Mt.paint_symbol["text-color"],{runtimeType:Ho,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new Ae(Mt.paint_symbol["text-halo-color"]),"text-halo-width":new Ae(Mt.paint_symbol["text-halo-width"]),"text-halo-blur":new Ae(Mt.paint_symbol["text-halo-blur"]),"text-translate":new se(Mt.paint_symbol["text-translate"]),"text-translate-anchor":new se(Mt.paint_symbol["text-translate-anchor"])}),layout:qpe};class Vj{constructor(o){this.type=o.property.overrides?o.property.overrides.runtimeType:$d,this.defaultValue=o}evaluate(o){if(o.formattedSection){const u=this.defaultValue.property.overrides;if(u&&u.hasOverride(o.formattedSection))return u.getOverride(o.formattedSection)}return o.feature&&o.featureState?this.defaultValue.evaluate(o.feature,o.featureState):this.defaultValue.property.specification.default}eachChild(o){this.defaultValue.isConstant()||o(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}or(Vj,"FormatSectionOverride",{omit:["defaultValue"]});class Sw extends ql{constructor(o){super(o,hE)}recalculate(o,u){super.recalculate(o,u),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const h=this.layout.get("text-writing-mode");if(h){const y=[];for(const x of h)y.indexOf(x)<0&&y.push(x);this.layout._values["text-writing-mode"]=y}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(o,u,h,y){const x=this.layout.get(o).evaluate(u,{},h,y),S=this._unevaluatedLayout._values[o];return S.isDataDriven()||rp(S.value)||!x?x:function(A,P){return P.replace(/{([^{}]+)}/g,(D,V)=>V in A?String(A[V]):"")}(u.properties,x)}createBucket(o){return new fp(o)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const o of hE.paint.overridableProperties){if(!Sw.hasPaintOverride(this.layout,o))continue;const u=this.paint.get(o),h=new Vj(u),y=new S0(h,u.property.specification);let x=null;x=u.value.kind==="constant"||u.value.kind==="source"?new h_("source",y):new gf("composite",y,u.value.zoomStops,u.value._interpolationType),this.paint._values[o]=new Pe(u.property,x,u.parameters)}}_handleOverridablePaintPropertyUpdate(o,u,h){return!(!this.layout||u.isDataDriven()||h.isDataDriven())&&Sw.hasPaintOverride(this.layout,o)}static hasPaintOverride(o,u){const h=o.get("text-field"),y=hE.paint.properties[u];let x=!1;const S=A=>{for(const P of A)if(y.overrides&&y.overrides.hasOverride(P))return void(x=!0)};if(h.value.kind==="constant"&&h.value.value instanceof mo)S(h.value.value.sections);else if(h.value.kind==="source"){const A=D=>{x||(D instanceof Au&&mi(D.value)===Qh?S(D.value.sections):D instanceof Dc?S(D.sections):D.eachChild(A))},P=h.value;P._styleExpression&&A(P._styleExpression.expression)}return x}getProgramConfiguration(o){return new cp(this,o)}}var Gpe={paint:new Oe({"background-color":new se(Mt.paint_background["background-color"]),"background-pattern":new se(Mt.paint_background["background-pattern"]),"background-opacity":new se(Mt.paint_background["background-opacity"])})},Hpe={paint:new Oe({"raster-opacity":new se(Mt.paint_raster["raster-opacity"]),"raster-hue-rotate":new se(Mt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new se(Mt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new se(Mt.paint_raster["raster-brightness-max"]),"raster-saturation":new se(Mt.paint_raster["raster-saturation"]),"raster-contrast":new se(Mt.paint_raster["raster-contrast"]),"raster-resampling":new se(Mt.paint_raster["raster-resampling"]),"raster-fade-duration":new se(Mt.paint_raster["raster-fade-duration"])})};class Zpe extends ql{constructor(o){super(o,{}),this.implementation=o}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isLayerDraped(){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(o){this.implementation.onAdd&&this.implementation.onAdd(o,o.painter.context.gl)}onRemove(o){this.implementation.onRemove&&this.implementation.onRemove(o,o.painter.context.gl)}}var Ype={paint:new Oe({"sky-type":new se(Mt.paint_sky["sky-type"]),"sky-atmosphere-sun":new se(Mt.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new se(Mt.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new se(Mt.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new se(Mt.paint_sky["sky-gradient-radius"]),"sky-gradient":new Ne(Mt.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new se(Mt.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new se(Mt.paint_sky["sky-atmosphere-color"]),"sky-opacity":new se(Mt.paint_sky["sky-opacity"])})};function fE(c,o,u){const h=[0,0,1],y=oF([]);return lF(y,y,u?-Ke(c)+Math.PI:Ke(c)),sF(y,y,-Ke(o)),rF(h,h,y),yo(h,h)}const Xpe={circle:class extends ql{constructor(c){super(c,lde)}createBucket(c){return new j7(c)}queryRadius(c){const o=c;return F0("circle-radius",this,o)+F0("circle-stroke-width",this,o)+J6(this.paint.get("circle-translate"))}queryIntersectsFeature(c,o,u,h,y,x,S,A){const P=IF(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),x.angle,c.pixelToTileUnitsFactor),D=this.paint.get("circle-radius").evaluate(o,u)+this.paint.get("circle-stroke-width").evaluate(o,u);return CF(c,h,x,S,A,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",P,D)}getProgramIds(){return["circle"]}getProgramConfiguration(c){return new cp(this,c)}},heatmap:class extends ql{createBucket(c){return new zF(c)}constructor(c){super(c,pde),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(c){c==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=$7({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(c){return F0("heatmap-radius",this,c)}queryIntersectsFeature(c,o,u,h,y,x,S,A){const P=this.paint.get("heatmap-radius").evaluate(o,u);return CF(c,h,x,S,A,!0,!0,new me(0,0),P)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(c){return new cp(this,c)}},hillshade:class extends ql{constructor(c){super(c,hde)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends ql{constructor(c){super(c,kde)}getProgramIds(){const c=this.paint.get("fill-pattern"),o=c&&c.constantOr(1),u=[o?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&u.push(o&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),u}getProgramConfiguration(c){return new cp(this,c)}recalculate(c,o){super.recalculate(c,o);const u=this.paint._values["fill-outline-color"];u.value.kind==="constant"&&u.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(c){return new iw(c)}queryRadius(){return J6(this.paint.get("fill-translate"))}queryIntersectsFeature(c,o,u,h,y,x){return!c.queryGeometry.isAboveHorizon&&AF(kF(c.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),x.angle,c.pixelToTileUnitsFactor),h)}isTileClipped(){return!0}},"fill-extrusion":class extends ql{constructor(c){super(c,Kde)}createBucket(c){return new H_(c)}queryRadius(){return J6(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(c){return new cp(this,c)}queryIntersectsFeature(c,o,u,h,y,x,S,A,P){const D=IF(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),x.angle,c.pixelToTileUnitsFactor),V=this.paint.get("fill-extrusion-height").evaluate(o,u),W=this.paint.get("fill-extrusion-base").evaluate(o,u),q=[0,0],X=A&&x.elevation,te=x.elevation?x.elevation.exaggeration():1,ue=c.tile.getBucket(this);if(X&&ue instanceof H_){const Fe=ue.centroidVertexArray,He=P+1;He<Fe.length&&(q[0]=Fe.geta_centroid_pos0(He),q[1]=Fe.geta_centroid_pos1(He))}if(q[0]===0&&q[1]===1)return!1;x.projection.name==="globe"&&(h=XF([h],[new me(0,0),new me(Sr,Sr)],c.tileID.canonical).map(Fe=>Fe.polygon).flat());const Se=X?A:null,[Ce,Ue]=function(Fe,He,qe,_t,ft,kt,Wt,wt,Nt,Lt,jt){return Fe.projection.name==="globe"?function(qt,Pt,er,cr,tr,$r,Gt,_r,Kr,wn,qr){const Pr=[],Yn=[],Hr=qt.projection.upVectorScale(qr,qt.center.lat,qt.worldSize).metersToTile,Zr=[0,0,0,1],Fn=[0,0,0,1],Kn=(jn,li,gi,Fi)=>{jn[0]=li,jn[1]=gi,jn[2]=Fi,jn[3]=1},qn=YF();er>0&&(er+=qn),cr+=qn;for(const jn of Pt){const li=[],gi=[];for(const Fi of jn){const Vn=Fi.x+tr.x,Ji=Fi.y+tr.y,ji=qt.projection.projectTilePoint(Vn,Ji,qr),di=qt.projection.upVector(qr,Fi.x,Fi.y);let An=er,Vi=cr;if(Gt){const Gn=tj(Vn,Ji,er,cr,Gt,_r,Kr,wn);An+=Gn.base,Vi+=Gn.top}er!==0?Kn(Zr,ji.x+di[0]*Hr*An,ji.y+di[1]*Hr*An,ji.z+di[2]*Hr*An):Kn(Zr,ji.x,ji.y,ji.z),Kn(Fn,ji.x+di[0]*Hr*Vi,ji.y+di[1]*Hr*Vi,ji.z+di[2]*Hr*Vi),Mi(Zr,Zr,$r),Mi(Fn,Fn,$r),li.push(new U0(Zr[0],Zr[1],Zr[2])),gi.push(new U0(Fn[0],Fn[1],Fn[2]))}Pr.push(li),Yn.push(gi)}return[Pr,Yn]}(Fe,He,qe,_t,ft,kt,Wt,wt,Nt,Lt,jt):Wt?function(qt,Pt,er,cr,tr,$r,Gt,_r,Kr){const wn=[],qr=[],Pr=[0,0,0,1];for(const Yn of qt){const Hr=[],Zr=[];for(const Fn of Yn){const Kn=Fn.x+cr.x,qn=Fn.y+cr.y,jn=tj(Kn,qn,Pt,er,$r,Gt,_r,Kr);Pr[0]=Kn,Pr[1]=qn,Pr[2]=jn.base,Pr[3]=1,Pf(Pr,Pr,tr),Pr[3]=Math.max(Pr[3],1e-5);const li=new U0(Pr[0]/Pr[3],Pr[1]/Pr[3],Pr[2]/Pr[3]);Pr[0]=Kn,Pr[1]=qn,Pr[2]=jn.top,Pr[3]=1,Pf(Pr,Pr,tr),Pr[3]=Math.max(Pr[3],1e-5);const gi=new U0(Pr[0]/Pr[3],Pr[1]/Pr[3],Pr[2]/Pr[3]);Hr.push(li),Zr.push(gi)}wn.push(Hr),qr.push(Zr)}return[wn,qr]}(He,qe,_t,ft,kt,Wt,wt,Nt,Lt):function(qt,Pt,er,cr,tr){const $r=[],Gt=[],_r=tr[8]*Pt,Kr=tr[9]*Pt,wn=tr[10]*Pt,qr=tr[11]*Pt,Pr=tr[8]*er,Yn=tr[9]*er,Hr=tr[10]*er,Zr=tr[11]*er;for(const Fn of qt){const Kn=[],qn=[];for(const jn of Fn){const li=jn.x+cr.x,gi=jn.y+cr.y,Fi=tr[0]*li+tr[4]*gi+tr[12],Vn=tr[1]*li+tr[5]*gi+tr[13],Ji=tr[2]*li+tr[6]*gi+tr[14],ji=tr[3]*li+tr[7]*gi+tr[15],di=Fi+_r,An=Vn+Kr,Vi=Ji+wn,Gn=Math.max(ji+qr,1e-5),bo=Fi+Pr,Ui=Vn+Yn,za=Ji+Hr,Sa=Math.max(ji+Zr,1e-5);Kn.push(new U0(di/Gn,An/Gn,Vi/Gn)),qn.push(new U0(bo/Sa,Ui/Sa,za/Sa))}$r.push(Kn),Gt.push(qn)}return[$r,Gt]}(He,qe,_t,ft,kt)}(x,h,W,V,D,S,Se,q,te,x.center.lat,c.tileID.canonical),De=c.queryGeometry;return function(Fe,He,qe){let _t=1/0;AF(qe,He)&&(_t=ej(qe,He[0]));for(let ft=0;ft<He.length;ft++){const kt=He[ft],Wt=Fe[ft];for(let wt=0;wt<kt.length-1;wt++){const Nt=kt[wt],Lt=[Nt,kt[wt+1],Wt[wt+1],Wt[wt],Nt];EF(qe,Lt)&&(_t=Math.min(_t,ej(qe,Lt)))}}return _t!==1/0&&_t}(Ce,Ue,De.isPointQuery()?De.screenBounds:De.screenGeometry)}},line:class extends ql{constructor(c){super(c,rj),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(c){if(c==="line-gradient"){const o=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=o._styleExpression&&o._styleExpression.expression instanceof e_,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(c,o){super.recalculate(c,o),this.paint._values["line-floorwidth"]=nj.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,c)}createBucket(c){return new cw(c)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(c){return new cp(this,c)}queryRadius(c){const o=c,u=ij(F0("line-width",this,o),F0("line-gap-width",this,o)),h=F0("line-offset",this,o);return u/2+Math.abs(h)+J6(this.paint.get("line-translate"))}queryIntersectsFeature(c,o,u,h,y,x){if(c.queryGeometry.isAboveHorizon)return!1;const S=kF(c.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),x.angle,c.pixelToTileUnitsFactor),A=c.pixelToTileUnitsFactor/2*ij(this.paint.get("line-width").evaluate(o,u),this.paint.get("line-gap-width").evaluate(o,u)),P=this.paint.get("line-offset").evaluate(o,u);return P&&(h=function(D,V){const W=[],q=new me(0,0);for(let X=0;X<D.length;X++){const te=D[X],ue=[];for(let Se=0;Se<te.length;Se++){const Ce=te[Se],Ue=te[Se+1],De=Se===0?q:Ce.sub(te[Se-1])._unit()._perp(),Fe=Se===te.length-1?q:Ue.sub(Ce)._unit()._perp(),He=De._add(Fe)._unit();He._mult(1/(He.x*Fe.x+He.y*Fe.y)),ue.push(He._mult(V)._add(Ce))}W.push(ue)}return W}(h,P*c.pixelToTileUnitsFactor)),function(D,V,W){for(let q=0;q<V.length;q++){const X=V[q];if(D.length>=3){for(let te=0;te<X.length;te++)if(Df(D,X[te]))return!0}if(ide(D,X,W))return!0}return!1}(S,h,A)}isTileClipped(){return!0}},symbol:Sw,background:class extends ql{constructor(c){super(c,Gpe)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends ql{constructor(c){super(c,Hpe)}getProgramIds(){return["raster"]}},sky:class extends ql{constructor(c){super(c,Ype),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(c){c==="sky-gradient"?this._updateColorRamp():c!=="sky-atmosphere-sun"&&c!=="sky-atmosphere-halo-color"&&c!=="sky-atmosphere-color"&&c!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=$7({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(c){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const o=c.style.light.properties.get("position");return this._lightPosition.azimuthal!==o.azimuthal||this._lightPosition.polar!==o.polar}return!1}getCenter(c,o){if(this.paint.get("sky-type")==="atmosphere"){const h=this.paint.get("sky-atmosphere-sun"),y=!h,x=c.style.light,S=x.properties.get("position");return y&&x.properties.get("anchor")==="viewport"&&rt("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),y?fE(S.azimuthal,90-S.polar,o):fE(h[0],90-h[1],o)}const u=this.paint.get("sky-gradient-center");return fE(u[0],90-u[1],o)}is3D(){return!1}isSky(){return!0}markSkyboxValid(c){this._skyboxInvalidated=!1,this._lightPosition=c.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const c=this.paint.get("sky-type");return c==="atmosphere"?["skyboxCapture","skybox"]:c==="gradient"?["skyboxGradient"]:null}}};class ab{constructor(o,u,h,y){this.context=o,this.format=h,this.texture=o.gl.createTexture(),this.update(u,y)}update(o,u,h){const{width:y,height:x}=o,{context:S}=this,{gl:A}=S,{HTMLImageElement:P,HTMLCanvasElement:D,HTMLVideoElement:V,ImageData:W,ImageBitmap:q}=p;if(A.bindTexture(A.TEXTURE_2D,this.texture),S.pixelStoreUnpackFlipY.set(!1),S.pixelStoreUnpack.set(1),S.pixelStoreUnpackPremultiplyAlpha.set(this.format===A.RGBA&&(!u||u.premultiply!==!1)),h||this.size&&this.size[0]===y&&this.size[1]===x){const{x:X,y:te}=h||{x:0,y:0};o instanceof P||o instanceof D||o instanceof V||o instanceof W||q&&o instanceof q?A.texSubImage2D(A.TEXTURE_2D,0,X,te,A.RGBA,A.UNSIGNED_BYTE,o):A.texSubImage2D(A.TEXTURE_2D,0,X,te,y,x,A.RGBA,A.UNSIGNED_BYTE,o.data)}else this.size=[y,x],o instanceof P||o instanceof D||o instanceof V||o instanceof W||q&&o instanceof q?A.texImage2D(A.TEXTURE_2D,0,this.format,this.format,A.UNSIGNED_BYTE,o):A.texImage2D(A.TEXTURE_2D,0,this.format,y,x,0,this.format,A.UNSIGNED_BYTE,o.data);this.useMipmap=!!(u&&u.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&A.generateMipmap(A.TEXTURE_2D)}bind(o,u){const{context:h}=this,{gl:y}=h;y.bindTexture(y.TEXTURE_2D,this.texture),o!==this.filter&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,o),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,this.useMipmap?o===y.NEAREST?y.NEAREST_MIPMAP_NEAREST:y.LINEAR_MIPMAP_NEAREST:o),this.filter=o),u!==this.wrap&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,u),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,u),this.wrap=u)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:o}=this.context;o.deleteTexture(this.texture),this.texture=null}}class Qpe{constructor(o){this._callback=o,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class Jpe{constructor(){this.tasks={},this.taskQueue=[],bt(["process"],this),this.invoker=new Qpe(this.process),this.nextId=0}add(o,u){const h=this.nextId++,y=function({type:x,isSymbolTile:S,zoom:A}){return A=A||0,x==="message"?0:x!=="maybePrepare"||S?x!=="parseTile"||S?x==="parseTile"&&S?300-A:x==="maybePrepare"&&S?400-A:500:200-A:100-A}(u);if(y===0){Jt();try{o()}finally{}return{cancel:()=>{}}}return this.tasks[h]={fn:o,metadata:u,priority:y,id:h},this.taskQueue.push(h),this.invoker.trigger(),{cancel:()=>{delete this.tasks[h]}}}process(){Jt();try{if(this.taskQueue=this.taskQueue.filter(h=>!!this.tasks[h]),!this.taskQueue.length)return;const o=this.pick();if(o===null)return;const u=this.tasks[o];if(delete this.tasks[o],this.taskQueue.length&&this.invoker.trigger(),!u)return;u.fn()}finally{}}pick(){let o=null,u=1/0;for(let y=0;y<this.taskQueue.length;y++){const x=this.tasks[this.taskQueue[y]];x.priority<u&&(u=x.priority,o=y)}if(o===null)return null;const h=this.taskQueue[o];return this.taskQueue.splice(o,1),h}remove(){this.invoker.remove()}}class Uj{constructor(o){this._stringToNumber={},this._numberToString=[];for(let u=0;u<o.length;u++){const h=o[u];this._stringToNumber[h]=u,this._numberToString[u]=h}}encode(o){return this._stringToNumber[o]}decode(o){return this._numberToString[o]}}const ehe=["tile","layer","source","sourceLayer","state"];class Wj{constructor(o,u,h,y,x){this.type="Feature",this._vectorTileFeature=o,this._z=u,this._x=h,this._y=y,this.properties=o.properties,this.id=x}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(o){this._geometry=o}toJSON(){const o={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};this.id!==void 0&&(o.id=this.id);for(const u of ehe)this[u]!==void 0&&(o[u]=this[u]);return o}}const ml=32,Fc=33,mp=new Uint16Array(8184);for(let c=0;c<2046;c++){let o=c+2,u=0,h=0,y=0,x=0,S=0,A=0;for(1&o?y=x=S=ml:u=h=A=ml;(o>>=1)>1;){const D=u+y>>1,V=h+x>>1;1&o?(y=u,x=h,u=S,h=A):(u=y,h=x,y=S,x=A),S=D,A=V}const P=4*c;mp[P+0]=u,mp[P+1]=h,mp[P+2]=y,mp[P+3]=x}const jc=new Uint16Array(2178),gp=new Uint8Array(1089),Ew=new Uint16Array(1089);function $j(c){return c===0?-.03125:c===32?.03125:0}var Kj=ot([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const qj={type:2,extent:Sr,loadGeometry:()=>[[new me(0,0),new me(Sr+1,0),new me(Sr+1,Sr+1),new me(0,Sr+1),new me(0,0)]]};class mE{constructor(o,u,h,y,x){this.tileID=o,this.uid=zt(),this.uses=0,this.tileSize=u,this.tileZoom=h,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=x,this.expiredRequestCount=0,this.state="loading",y&&y.transform&&(this.projection=y.transform.projection)}registerFadeDuration(o){const u=o+this.timeAdded;u<Ko.now()||this.fadeEndTime&&u<this.fadeEndTime||(this.fadeEndTime=u)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=Rf(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(o,u,h){if(this.unloadVectorData(),this.state="loaded",o){o.featureIndex&&(this.latestFeatureIndex=o.featureIndex,o.rawTileData?(this.latestRawTileData=o.rawTileData,this.latestFeatureIndex.rawTileData=o.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=o.collisionBoxArray,this.buckets=function(y,x){const S={};if(!x)return S;for(const A of y){const P=A.layerIds.map(D=>x.getLayer(D)).filter(Boolean);if(P.length!==0){A.layers=P,A.stateDependentLayerIds&&(A.stateDependentLayers=A.stateDependentLayerIds.map(D=>P.filter(V=>V.id===D)[0]));for(const D of P)S[D.id]=A}}return S}(o.buckets,u.style),this.hasSymbolBuckets=!1;for(const y in this.buckets){const x=this.buckets[y];if(x instanceof fp){if(this.hasSymbolBuckets=!0,!h)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const y in this.buckets){const x=this.buckets[y];if(x instanceof fp&&x.hasRTLText){this.hasRTLText=!0,F.isLoading()||F.isLoaded()||M()!=="deferred"||O();break}}this.queryPadding=0;for(const y in this.buckets){const x=this.buckets[y];this.queryPadding=Math.max(this.queryPadding,u.style.getLayer(y).queryRadius(x))}o.imageAtlas&&(this.imageAtlas=o.imageAtlas),o.glyphAtlasImage&&(this.glyphAtlasImage=o.glyphAtlasImage),o.lineAtlas&&(this.lineAtlas=o.lineAtlas)}else this.collisionBoxArray=new On}unloadVectorData(){if(this.hasData()){for(const o in this.buckets)this.buckets[o].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(o){return this.buckets[o.id]}upload(o){for(const h in this.buckets){const y=this.buckets[h];y.uploadPending()&&y.upload(o)}const u=o.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ab(o,this.imageAtlas.image,u.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ab(o,this.glyphAtlasImage,u.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new ab(o,this.lineAtlas.image,u.ALPHA),this.lineAtlas.uploaded=!0)}prepare(o){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(o,this.imageAtlasTexture)}queryRenderedFeatures(o,u,h,y,x,S,A,P){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:y,pixelPosMatrix:A,transform:S,params:x,tileTransform:this.tileTransform},o,u,h):{}}querySourceFeatures(o,u){const h=this.latestFeatureIndex;if(!h||!h.rawTileData)return;const y=h.loadVTLayers(),x=u?u.sourceLayer:"",S=y._geojsonTileLayer||y[x];if(!S)return;const A=M0(u&&u.filter),{z:P,x:D,y:V}=this.tileID.canonical,W={z:P,x:D,y:V};for(let q=0;q<S.length;q++){const X=S.feature(q);if(A.needGeometry){const Se=Cf(X,!0);if(!A.filter(new U(this.tileID.overscaledZ),Se,this.tileID.canonical))continue}else if(!A.filter(new U(this.tileID.overscaledZ),X))continue;const te=h.getId(X,x),ue=new Wj(X,P,D,V,te);ue.tile=W,o.push(ue)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(o){const u=this.expirationTime;if(o.cacheControl){const h=Rr(o.cacheControl);h["max-age"]&&(this.expirationTime=Date.now()+1e3*h["max-age"])}else o.expires&&(this.expirationTime=new Date(o.expires).getTime());if(this.expirationTime){const h=Date.now();let y=!1;if(this.expirationTime>h)y=!1;else if(u)if(this.expirationTime<u)y=!0;else{const x=this.expirationTime-u;x?this.expirationTime=h+Math.max(x,3e4):y=!0}else y=!0;y?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(o,u){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(o).length===0||!u)return;const h=this.latestFeatureIndex.loadVTLayers(),y=u.style.listImages();for(const x in this.buckets){if(!u.style.hasLayer(x))continue;const S=this.buckets[x],A=S.layers[0].sourceLayer||"_geojsonTileLayer",P=h[A],D=o[A];if(!P||!D||Object.keys(D).length===0)continue;if(S.update(D,P,y,this.imageAtlas&&this.imageAtlas.patternPositions||{}),S instanceof cw||S instanceof iw){const W=u.style._getSourceCache(S.layers[0].source);u._terrain&&u._terrain.enabled&&W&&S.programConfigurations.needsUpload&&u._terrain._clearRenderCacheForTile(W.id,this.tileID)}const V=u&&u.style&&u.style.getLayer(x);V&&(this.queryPadding=Math.max(this.queryPadding,V.queryRadius(S)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Ko.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(o){this.symbolFadeHoldUntil=Ko.now()+o}setTexture(o,u){const h=u.context,y=h.gl;this.texture=this.texture||u.getTileTexture(o.width),this.texture?this.texture.update(o,{useMipmap:!0}):(this.texture=new ab(h,o,y.RGBA,{useMipmap:!0}),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE))}setDependencies(o,u){const h={};for(const y of u)h[y]=!0;this.dependencies[o]=h}hasDependency(o,u){for(const h of o){const y=this.dependencies[h];if(y){for(const x of u)if(y[x])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(o,u){if(!u||u.name==="mercator"||this._tileDebugBuffer)return;const h=Ou(qj,this.tileID.canonical,this.tileTransform)[0],y=new Ut,x=new ys;for(let S=0;S<h.length;S++){const{x:A,y:P}=h[S];y.emplaceBack(A,P),x.emplaceBack(S)}x.emplaceBack(0),this._tileDebugIndexBuffer=o.createIndexBuffer(x),this._tileDebugBuffer=o.createVertexBuffer(y,O_.members),this._tileDebugSegments=Oi.simpleSegment(0,0,y.length,x.length)}_makeTileBoundsBuffers(o,u){if(this._tileBoundsBuffer||!u||u.name==="mercator")return;const h=Ou(qj,this.tileID.canonical,this.tileTransform)[0];let y,x;if(this.isRaster){const S=function(A,P){const D=Rf(A,P),V=Math.pow(2,A.z);for(let Se=0;Se<Fc;Se++)for(let Ce=0;Ce<Fc;Ce++){const Ue=Bs((A.x+(Ce+$j(Ce))/ml)/V),De=Va((A.y+(Se+$j(Se))/ml)/V),Fe=P.project(Ue,De),He=Se*Fc+Ce;jc[2*He+0]=Math.round((Fe.x*D.scale-D.x)*Sr),jc[2*He+1]=Math.round((Fe.y*D.scale-D.y)*Sr)}gp.fill(0),Ew.fill(0);for(let Se=2045;Se>=0;Se--){const Ce=4*Se,Ue=mp[Ce+0],De=mp[Ce+1],Fe=mp[Ce+2],He=mp[Ce+3],qe=Ue+Fe>>1,_t=De+He>>1,ft=qe+_t-De,kt=_t+Ue-qe,Wt=De*Fc+Ue,wt=He*Fc+Fe,Nt=_t*Fc+qe,Lt=Math.hypot((jc[2*Wt+0]+jc[2*wt+0])/2-jc[2*Nt+0],(jc[2*Wt+1]+jc[2*wt+1])/2-jc[2*Nt+1])>=16;gp[Nt]=gp[Nt]||(Lt?1:0),Se<1022&&(gp[Nt]=gp[Nt]||gp[(De+kt>>1)*Fc+(Ue+ft>>1)]||gp[(He+kt>>1)*Fc+(Fe+ft>>1)])}const W=new Rt,q=new gr;let X=0;function te(Se,Ce){const Ue=Ce*Fc+Se;return Ew[Ue]===0&&(W.emplaceBack(jc[2*Ue+0],jc[2*Ue+1],Se*Sr/ml,Ce*Sr/ml),Ew[Ue]=++X),Ew[Ue]-1}function ue(Se,Ce,Ue,De,Fe,He){const qe=Se+Ue>>1,_t=Ce+De>>1;if(Math.abs(Se-Fe)+Math.abs(Ce-He)>1&&gp[_t*Fc+qe])ue(Fe,He,Se,Ce,qe,_t),ue(Ue,De,Fe,He,qe,_t);else{const ft=te(Se,Ce),kt=te(Ue,De),Wt=te(Fe,He);q.emplaceBack(ft,kt,Wt)}}return ue(0,0,ml,ml,ml,0),ue(ml,ml,0,0,0,ml),{vertices:W,indices:q}}(this.tileID.canonical,u);y=S.vertices,x=S.indices}else{y=new Rt,x=new gr;for(const{x:A,y:P}of h)y.emplaceBack(A,P,0,0);const S=Z7(y.int16,void 0,4);for(let A=0;A<S.length;A+=3)x.emplaceBack(S[A],S[A+1],S[A+2])}this._tileBoundsBuffer=o.createVertexBuffer(y,Kj.members),this._tileBoundsIndexBuffer=o.createIndexBuffer(x),this._tileBoundsSegments=Oi.simpleSegment(0,0,y.length,x.length)}_makeGlobeTileDebugBuffers(o,u){const h=u.projection;if(!h||h.name!=="globe"||u.freezeTileCoverage)return;const y=this.tileID.canonical,x=j_(hF(y,u)),S=O0(u.zoom);let A;S>0&&(A=S7(new Float64Array(16),u.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(o,y,u,x,A,S),this._makeGlobeTileDebugTextBuffer(o,y,u,x,A,S)}_globePoint(o,u,h,y,x,S,A){let P=F_(o,u,h);if(S){const D=1<<h.z,V=Oc(y.center.lng),W=Bc(y.center.lat),q=(h.x+.5)/D-V;let X=0;q>.5?X=-1:q<-.5&&(X=1);let te=(o/Sr+h.x)/D+X,ue=(u/Sr+h.y)/D;te=(te-V)*y._pixelsPerMercatorPixel+V,ue=(ue-W)*y._pixelsPerMercatorPixel+W;const Se=[te*y.worldSize,ue*y.worldSize,0];Mi(Se,Se,S),P=If(P,Se,A)}return Mi(P,P,x)}_makeGlobeTileDebugBorderBuffer(o,u,h,y,x,S){const A=new Ut,P=new ys,D=new ht,V=(q,X,te,ue,Se)=>{const Ce=(te-q)/(Se-1),Ue=(ue-X)/(Se-1),De=A.length;for(let Fe=0;Fe<Se;Fe++){const He=q+Fe*Ce,qe=X+Fe*Ue;A.emplaceBack(He,qe);const _t=this._globePoint(He,qe,u,h,y,x,S);D.emplaceBack(_t[0],_t[1],_t[2]),P.emplaceBack(De+Fe)}},W=Sr;V(0,0,W,0,16),V(W,0,W,W,16),V(W,W,0,W,16),V(0,W,0,0,16),this._tileDebugIndexBuffer=o.createIndexBuffer(P),this._tileDebugBuffer=o.createVertexBuffer(A,O_.members),this._globeTileDebugBorderBuffer=o.createVertexBuffer(D,uF.members),this._tileDebugSegments=Oi.simpleSegment(0,0,A.length,P.length)}_makeGlobeTileDebugTextBuffer(o,u,h,y,x,S){const A=Sr/4,P=new Ut,D=new gr,V=new ht,W=25;D.reserve(32),P.reserve(W),V.reserve(W);const q=(X,te)=>W*X+te;for(let X=0;X<W;X++){const te=X*A;for(let ue=0;ue<W;ue++){const Se=ue*A;P.emplaceBack(Se,te);const Ce=this._globePoint(Se,te,u,h,y,x,S);V.emplaceBack(Ce[0],Ce[1],Ce[2])}}for(let X=0;X<4;X++)for(let te=0;te<4;te++){const ue=q(X,te),Se=q(X,te+1),Ce=q(X+1,te),Ue=q(X+1,te+1);D.emplaceBack(ue,Se,Ce),D.emplaceBack(Ce,Se,Ue)}this._tileDebugTextIndexBuffer=o.createIndexBuffer(D),this._tileDebugTextBuffer=o.createVertexBuffer(P,O_.members),this._globeTileDebugTextBuffer=o.createVertexBuffer(V,uF.members),this._tileDebugTextSegments=Oi.simpleSegment(0,0,W,32)}}class the{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(o,u,h){const y=String(u);if(this.stateChanges[o]=this.stateChanges[o]||{},this.stateChanges[o][y]=this.stateChanges[o][y]||{},pe(this.stateChanges[o][y],h),this.deletedStates[o]===null){this.deletedStates[o]={};for(const x in this.state[o])x!==y&&(this.deletedStates[o][x]=null)}else if(this.deletedStates[o]&&this.deletedStates[o][y]===null){this.deletedStates[o][y]={};for(const x in this.state[o][y])h[x]||(this.deletedStates[o][y][x]=null)}else for(const x in h)this.deletedStates[o]&&this.deletedStates[o][y]&&this.deletedStates[o][y][x]===null&&delete this.deletedStates[o][y][x]}removeFeatureState(o,u,h){if(this.deletedStates[o]===null)return;const y=String(u);if(this.deletedStates[o]=this.deletedStates[o]||{},h&&u!==void 0)this.deletedStates[o][y]!==null&&(this.deletedStates[o][y]=this.deletedStates[o][y]||{},this.deletedStates[o][y][h]=null);else if(u!==void 0)if(this.stateChanges[o]&&this.stateChanges[o][y])for(h in this.deletedStates[o][y]={},this.stateChanges[o][y])this.deletedStates[o][y][h]=null;else this.deletedStates[o][y]=null;else this.deletedStates[o]=null}getState(o,u){const h=String(u),y=pe({},(this.state[o]||{})[h],(this.stateChanges[o]||{})[h]);if(this.deletedStates[o]===null)return{};if(this.deletedStates[o]){const x=this.deletedStates[o][u];if(x===null)return{};for(const S in x)delete y[S]}return y}initializeTileState(o,u){o.setFeatureState(this.state,u)}coalesceChanges(o,u){const h={};for(const y in this.stateChanges){this.state[y]=this.state[y]||{};const x={};for(const S in this.stateChanges[y])this.state[y][S]||(this.state[y][S]={}),pe(this.state[y][S],this.stateChanges[y][S]),x[S]=this.state[y][S];h[y]=x}for(const y in this.deletedStates){this.state[y]=this.state[y]||{};const x={};if(this.deletedStates[y]===null)for(const S in this.state[y])x[S]={},this.state[y][S]={};else for(const S in this.deletedStates[y]){if(this.deletedStates[y][S]===null)this.state[y][S]={};else if(this.state[y][S])for(const A of Object.keys(this.deletedStates[y][S]))delete this.state[y][S][A];x[S]=this.state[y][S]}h[y]=h[y]||{},pe(h[y],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(h).length!==0)for(const y in o)o[y].setFeatureState(h,u)}}class Gj{constructor(o){this.size=o,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(o,u){const h=this.toIdx(o,u);return{min:this.minimums[h],max:this.maximums[h]}}isLeaf(o,u){return this.leaves[this.toIdx(o,u)]}toIdx(o,u){return u*this.size+o}}function Hj(c,o,u,h){let y=0,x=Number.MAX_VALUE;for(let S=0;S<3;S++)if(Math.abs(h[S])<1e-15){if(u[S]<c[S]||u[S]>o[S])return null}else{const A=1/h[S];let P=(c[S]-u[S])*A,D=(o[S]-u[S])*A;if(P>D){const V=P;P=D,D=V}if(P>y&&(y=P),D<x&&(x=D),y>x)return null}return y}function Zj(c,o,u,h,y,x,S,A,P,D,V){const W=h-c,q=y-o,X=x-u,te=S-c,ue=A-o,Se=P-u,Ce=V[1]*Se-V[2]*ue,Ue=V[2]*te-V[0]*Se,De=V[0]*ue-V[1]*te,Fe=W*Ce+q*Ue+X*De;if(Math.abs(Fe)<1e-15)return null;const He=1/Fe,qe=D[0]-c,_t=D[1]-o,ft=D[2]-u,kt=(qe*Ce+_t*Ue+ft*De)*He;if(kt<0||kt>1)return null;const Wt=_t*X-ft*q,wt=ft*W-qe*X,Nt=qe*q-_t*W,Lt=(V[0]*Wt+V[1]*wt+V[2]*Nt)*He;return Lt<0||kt+Lt>1?null:(te*Wt+ue*wt+Se*Nt)*He}function Yj(c,o,u){return(c-o)/(u-o)}function Xj(c,o,u,h,y,x,S,A,P){const D=1<<u,V=x-h,W=S-y,q=(c+1)/D*V+h,X=(o+0)/D*W+y,te=(o+1)/D*W+y;A[0]=(c+0)/D*V+h,A[1]=X,P[0]=q,P[1]=te}class Qj{constructor(o){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=o,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const u=function(x){const S=Math.ceil(Math.log2(x.dim/8)),A=[];let P=Math.ceil(Math.pow(2,S));const D=1/P,V=(X,te,ue,Se,Ce)=>{const Ue=Se?1:0,De=(X+1)*ue-Ue,Fe=te*ue,He=(te+1)*ue-Ue;Ce[0]=X*ue,Ce[1]=Fe,Ce[2]=De,Ce[3]=He};let W=new Gj(P);const q=[];for(let X=0;X<P*P;X++){V(X%P,Math.floor(X/P),D,!1,q);const te=yp(q[0],q[1],x),ue=yp(q[2],q[1],x),Se=yp(q[2],q[3],x),Ce=yp(q[0],q[3],x);W.minimums.push(Math.min(te,ue,Se,Ce)),W.maximums.push(Math.max(te,ue,Se,Ce)),W.leaves.push(1)}for(A.push(W),P/=2;P>=1;P/=2){const X=A[A.length-1];W=new Gj(P);for(let te=0;te<P*P;te++){V(te%P,Math.floor(te/P),2,!0,q);const ue=X.getElevation(q[0],q[1]),Se=X.getElevation(q[2],q[1]),Ce=X.getElevation(q[2],q[3]),Ue=X.getElevation(q[0],q[3]),De=X.isLeaf(q[0],q[1]),Fe=X.isLeaf(q[2],q[1]),He=X.isLeaf(q[2],q[3]),qe=X.isLeaf(q[0],q[3]),_t=Math.min(ue.min,Se.min,Ce.min,Ue.min),ft=Math.max(ue.max,Se.max,Ce.max,Ue.max),kt=De&&Fe&&He&&qe;W.maximums.push(ft),W.minimums.push(_t),W.leaves.push(ft-_t<=5&&kt?1:0)}A.push(W)}return A}(this.dem),h=u.length-1,y=u[h];this._addNode(y.minimums[0],y.maximums[0],y.leaves[0]),this._construct(u,0,0,h,0)}raycastRoot(o,u,h,y,x,S,A=1){return Hj([o,u,-100],[h,y,this.maximums[0]*A],x,S)}raycast(o,u,h,y,x,S,A=1){if(!this.nodeCount)return null;const P=this.raycastRoot(o,u,h,y,x,S,A);if(P==null)return null;const D=[],V=[],W=[],q=[],X=[{idx:0,t:P,nodex:0,nodey:0,depth:0}];for(;X.length>0;){const{idx:te,t:ue,nodex:Se,nodey:Ce,depth:Ue}=X.pop();if(this.leaves[te]){Xj(Se,Ce,Ue,o,u,h,y,W,q);const Fe=1<<Ue,He=(Se+0)/Fe,qe=(Se+1)/Fe,_t=(Ce+0)/Fe,ft=(Ce+1)/Fe,kt=yp(He,_t,this.dem)*A,Wt=yp(qe,_t,this.dem)*A,wt=yp(qe,ft,this.dem)*A,Nt=yp(He,ft,this.dem)*A,Lt=Zj(W[0],W[1],kt,q[0],W[1],Wt,q[0],q[1],wt,x,S),jt=Zj(q[0],q[1],wt,W[0],q[1],Nt,W[0],W[1],kt,x,S),qt=Math.min(Lt!==null?Lt:Number.MAX_VALUE,jt!==null?jt:Number.MAX_VALUE);if(qt!==Number.MAX_VALUE)return qt;{const Pt=N_([],x,S,ue);if(Jj(kt,Wt,Nt,wt,Yj(Pt[0],W[0],q[0]),Yj(Pt[1],W[1],q[1]))>=Pt[2])return ue}continue}let De=0;for(let Fe=0;Fe<this._siblingOffset.length;Fe++){Xj((Se<<1)+this._siblingOffset[Fe][0],(Ce<<1)+this._siblingOffset[Fe][1],Ue+1,o,u,h,y,W,q),W[2]=-100,q[2]=this.maximums[this.childOffsets[te]+Fe]*A;const He=Hj(W,q,x,S);if(He!=null){const qe=He;D[Fe]=qe;let _t=!1;for(let ft=0;ft<De&&!_t;ft++)qe>=D[V[ft]]&&(V.splice(ft,0,Fe),_t=!0);_t||(V[De]=Fe),De++}}for(let Fe=0;Fe<De;Fe++){const He=V[Fe];X.push({idx:this.childOffsets[te]+He,t:D[He],nodex:(Se<<1)+this._siblingOffset[He][0],nodey:(Ce<<1)+this._siblingOffset[He][1],depth:Ue+1})}}return null}_addNode(o,u,h){return this.minimums.push(o),this.maximums.push(u),this.leaves.push(h),this.childOffsets.push(0),this.nodeCount++}_construct(o,u,h,y,x){if(o[y].isLeaf(u,h)===1)return;this.childOffsets[x]||(this.childOffsets[x]=this.nodeCount);const S=y-1,A=o[S];let P=0,D=0;for(let V=0;V<this._siblingOffset.length;V++){const W=2*u+this._siblingOffset[V][0],q=2*h+this._siblingOffset[V][1],X=A.getElevation(W,q),te=A.isLeaf(W,q),ue=this._addNode(X.min,X.max,te);te&&(P|=1<<V),D||(D=ue)}for(let V=0;V<this._siblingOffset.length;V++)P&1<<V||this._construct(o,2*u+this._siblingOffset[V][0],2*h+this._siblingOffset[V][1],S,D+V)}}function Jj(c,o,u,h,y,x){return gn(gn(c,u,x),gn(o,h,x),y)}function yp(c,o,u){const h=u.dim,y=Q(c*h-.5,0,h-1),x=Q(o*h-.5,0,h-1),S=Math.floor(y),A=Math.floor(x),P=Math.min(S+1,h-1),D=Math.min(A+1,h-1);return Jj(u.get(S,A),u.get(P,A),u.get(S,D),u.get(P,D),y-S,x-A)}const eV={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function rhe(c,o,u){return(256*c*256+256*o+u)/10-1e4}function nhe(c,o,u){return 256*c+o+u/256-32768}class Aw{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(o,u,h,y=!1,x=!1){if(this.uid=o,u.height!==u.width)throw new RangeError("DEM tiles must be square");if(h&&h!=="mapbox"&&h!=="terrarium")return rt(`"${h}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=u.height;const S=this.dim=u.height-2,A=new Uint32Array(u.data.buffer);if(this.pixels=new Uint8Array(u.data.buffer),this.encoding=h||"mapbox",this.borderReady=y,!y){for(let P=0;P<S;P++)A[this._idx(-1,P)]=A[this._idx(0,P)],A[this._idx(S,P)]=A[this._idx(S-1,P)],A[this._idx(P,-1)]=A[this._idx(P,0)],A[this._idx(P,S)]=A[this._idx(P,S-1)];A[this._idx(-1,-1)]=A[this._idx(0,0)],A[this._idx(S,-1)]=A[this._idx(S-1,0)],A[this._idx(-1,S)]=A[this._idx(0,S-1)],A[this._idx(S,S)]=A[this._idx(S-1,S-1)],x&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Qj(this)}get(o,u,h=!1){h&&(o=Q(o,-1,this.dim),u=Q(u,-1,this.dim));const y=4*this._idx(o,u);return(this.encoding==="terrarium"?nhe:rhe)(this.pixels[y],this.pixels[y+1],this.pixels[y+2])}static getUnpackVector(o){return eV[o]}get unpackVector(){return eV[this.encoding]}_idx(o,u){if(o<-1||o>=this.dim+1||u<-1||u>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(u+1)*this.stride+(o+1)}static pack(o,u){const h=[0,0,0,0],y=Aw.getUnpackVector(u);let x=Math.floor((o+y[3])/y[2]);return h[2]=x%256,x=Math.floor(x/256),h[1]=x%256,x=Math.floor(x/256),h[0]=x,h}getPixels(){return new _s({width:this.stride,height:this.stride},this.pixels)}backfillBorder(o,u,h){if(this.dim!==o.dim)throw new Error("dem dimension mismatch");let y=u*this.dim,x=u*this.dim+this.dim,S=h*this.dim,A=h*this.dim+this.dim;switch(u){case-1:y=x-1;break;case 1:x=y+1}switch(h){case-1:S=A-1;break;case 1:A=S+1}const P=-u*this.dim,D=-h*this.dim;for(let V=S;V<A;V++)for(let W=y;W<x;W++){const q=4*this._idx(W,V),X=4*this._idx(W+P,V+D);this.pixels[q+0]=o.pixels[X+0],this.pixels[q+1]=o.pixels[X+1],this.pixels[q+2]=o.pixels[X+2],this.pixels[q+3]=o.pixels[X+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}or(Aw,"DEMData"),or(Qj,"DemMinMaxQuadTree",{omit:["dem"]});class ihe{constructor(o,u){this.max=o,this.onRemove=u,this.reset()}reset(){for(const o in this.data)for(const u of this.data[o])u.timeout&&clearTimeout(u.timeout),this.onRemove(u.value);return this.data={},this.order=[],this}add(o,u,h){const y=o.wrapped().key;this.data[y]===void 0&&(this.data[y]=[]);const x={value:u,timeout:void 0};if(h!==void 0&&(x.timeout=setTimeout(()=>{this.remove(o,x)},h)),this.data[y].push(x),this.order.push(y),this.order.length>this.max){const S=this._getAndRemoveByKey(this.order[0]);S&&this.onRemove(S)}return this}has(o){return o.wrapped().key in this.data}getAndRemove(o){return this.has(o)?this._getAndRemoveByKey(o.wrapped().key):null}_getAndRemoveByKey(o){const u=this.data[o].shift();return u.timeout&&clearTimeout(u.timeout),this.data[o].length===0&&delete this.data[o],this.order.splice(this.order.indexOf(o),1),u.value}getByKey(o){const u=this.data[o];return u?u[0].value:null}get(o){return this.has(o)?this.data[o.wrapped().key][0].value:null}remove(o,u){if(!this.has(o))return this;const h=o.wrapped().key,y=u===void 0?0:this.data[h].indexOf(u),x=this.data[h][y];return this.data[h].splice(y,1),x.timeout&&clearTimeout(x.timeout),this.data[h].length===0&&delete this.data[h],this.onRemove(x.value),this.order.splice(this.order.indexOf(h),1),this}setMaxSize(o){for(this.max=o;this.order.length>this.max;){const u=this._getAndRemoveByKey(this.order[0]);u&&this.onRemove(u)}return this}filter(o){const u=[];for(const h in this.data)for(const y of this.data[h])o(y.value)||u.push(y);for(const h of u)this.remove(h.value.tileID,h)}}class Q0{constructor(o,u,h){this.func=o,this.mask=u,this.range=h}}Q0.ReadOnly=!1,Q0.ReadWrite=!0,Q0.disabled=new Q0(519,Q0.ReadOnly,[0,1]);const gE=7680;class yE{constructor(o,u,h,y,x,S){this.test=o,this.ref=u,this.mask=h,this.fail=y,this.depthFail=x,this.pass=S}}yE.disabled=new yE({func:519,mask:0},0,0,gE,gE,gE);class Vc{constructor(o,u,h){this.blendFunction=o,this.blendColor=u,this.mask=h}}Vc.Replace=[1,0],Vc.disabled=new Vc(Vc.Replace,Ti.transparent,[!1,!1,!1,!1]),Vc.unblended=new Vc(Vc.Replace,Ti.transparent,[!0,!0,!0,!0]),Vc.alphaBlended=new Vc([1,771],Ti.transparent,[!0,!0,!0,!0]);const vE=1029,_E=2305;class Ql{constructor(o,u,h){this.enable=o,this.mode=u,this.frontFace=h}}Ql.disabled=new Ql(!1,vE,_E),Ql.backCCW=new Ql(!0,vE,_E),Ql.backCW=new Ql(!0,vE,2304),Ql.frontCW=new Ql(!0,1028,2304),Ql.frontCCW=new Ql(!0,1028,_E);class Nf extends Ll{constructor(o,u,h){super(),this.id=o,this._onlySymbols=h,u.on("data",y=>{y.dataType==="source"&&y.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&y.dataType==="source"&&y.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),u.on("error",()=>{this._sourceErrored=!0}),this._source=u,this._tiles={},this._cache=new ihe(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=u.minTileCacheSize,this._maxTileCacheSize=u.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new the,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(o){this.map=o,this._minTileCacheSize=this._minTileCacheSize===void 0&&o?o._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&o?o._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const o in this._tiles){const u=this._tiles[o];if(u.state!=="loaded"&&u.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const o=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,o&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(o,u){return o.isSymbolTile=this._onlySymbols,this._source.loadTile(o,u)}_unloadTile(o){if(this._source.unloadTile)return this._source.unloadTile(o,()=>{})}_abortTile(o){if(this._source.abortTile)return this._source.abortTile(o,()=>{})}serialize(){return this._source.serialize()}prepare(o){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const u in this._tiles){const h=this._tiles[u];h.upload(o),h.prepare(this.map.style.imageManager)}}getIds(){return K(this._tiles).map(o=>o.tileID).sort(tV).map(o=>o.key)}getRenderableIds(o){const u=[];for(const h in this._tiles)this._isIdRenderable(+h,o)&&u.push(this._tiles[h]);return o?u.sort((h,y)=>{const x=h.tileID,S=y.tileID,A=new me(x.canonical.x,x.canonical.y)._rotate(this.transform.angle),P=new me(S.canonical.x,S.canonical.y)._rotate(this.transform.angle);return x.overscaledZ-S.overscaledZ||P.y-A.y||P.x-A.x}).map(h=>h.tileID.key):u.map(h=>h.tileID).sort(tV).map(h=>h.key)}hasRenderableParent(o){const u=this.findLoadedParent(o,0);return!!u&&this._isIdRenderable(u.tileID.key)}_isIdRenderable(o,u){return this._tiles[o]&&this._tiles[o].hasData()&&!this._coveredTiles[o]&&(u||!this._tiles[o].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const o in this._tiles)this._tiles[o].state!=="errored"&&this._reloadTile(+o,"reloading")}}_reloadTile(o,u){const h=this._tiles[o];h&&(h.state!=="loading"&&(h.state=u),this._loadTile(h,this._tileLoaded.bind(this,h,o,u)))}_tileLoaded(o,u,h,y){if(y)if(o.state="errored",y.status!==404)this._source.fire(new qo(y,{tile:o}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const x=this.map.painter.terrain;this.update(this.transform,x.getScaledDemTileSize(),!0),x.resetTileLookupCache(this.id)}else this.update(this.transform);else o.timeAdded=Ko.now(),h==="expired"&&(o.refreshedUponExpiration=!0),this._setTileReloadTimer(u,o),this._source.type==="raster-dem"&&o.dem&&this._backfillDEM(o),this._state.initializeTileState(o,this.map?this.map.painter:null),this._source.fire(new zs("data",{dataType:"source",tile:o,coord:o.tileID,sourceCacheId:this.id}))}_backfillDEM(o){const u=this.getRenderableIds();for(let y=0;y<u.length;y++){const x=u[y];if(o.neighboringTiles&&o.neighboringTiles[x]){const S=this.getTileByID(x);h(o,S),h(S,o)}}function h(y,x){if(!y.dem||y.dem.borderReady)return;y.needsHillshadePrepare=!0,y.needsDEMTextureUpload=!0;let S=x.tileID.canonical.x-y.tileID.canonical.x;const A=x.tileID.canonical.y-y.tileID.canonical.y,P=Math.pow(2,y.tileID.canonical.z),D=x.tileID.key;S===0&&A===0||Math.abs(A)>1||(Math.abs(S)>1&&(Math.abs(S+P)===1?S+=P:Math.abs(S-P)===1&&(S-=P)),x.dem&&y.dem&&(y.dem.backfillBorder(x.dem,S,A),y.neighboringTiles&&y.neighboringTiles[D]&&(y.neighboringTiles[D].backfilled=!0)))}}getTile(o){return this.getTileByID(o.key)}getTileByID(o){return this._tiles[o]}_retainLoadedChildren(o,u,h,y){for(const x in this._tiles){let S=this._tiles[x];if(y[x]||!S.hasData()||S.tileID.overscaledZ<=u||S.tileID.overscaledZ>h)continue;let A=S.tileID;for(;S&&S.tileID.overscaledZ>u+1;){const D=S.tileID.scaledTo(S.tileID.overscaledZ-1);S=this._tiles[D.key],S&&S.hasData()&&(A=D)}let P=A;for(;P.overscaledZ>u;)if(P=P.scaledTo(P.overscaledZ-1),o[P.key]){y[A.key]=A;break}}}findLoadedParent(o,u){if(o.key in this._loadedParentTiles){const h=this._loadedParentTiles[o.key];return h&&h.tileID.overscaledZ>=u?h:null}for(let h=o.overscaledZ-1;h>=u;h--){const y=o.scaledTo(h),x=this._getLoadedTile(y);if(x)return x}}_getLoadedTile(o){const u=this._tiles[o.key];return u&&u.hasData()?u:this._cache.getByKey(this._source.reparseOverscaled?o.wrapped().key:o.canonical.key)}updateCacheSize(o,u){u=u||this._source.tileSize;const h=Math.ceil(o.width/u)+1,y=Math.ceil(o.height/u)+1,x=Math.floor(h*y*5),S=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,x):x,A=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,S):S;this._cache.setMaxSize(A)}handleWrapJump(o){const u=Math.round((o-(this._prevLng===void 0?o:this._prevLng))/360);if(this._prevLng=o,u){const h={};for(const y in this._tiles){const x=this._tiles[y];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+u),h[x.tileID.key]=x}this._tiles=h;for(const y in this._timers)clearTimeout(this._timers[y]),delete this._timers[y];for(const y in this._tiles)this._setTileReloadTimer(+y,this._tiles[y])}}update(o,u,h){if(this.transform=o,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!h)return;let y;this.updateCacheSize(o,u),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?y=o.getVisibleUnwrappedCoordinates(this._source.tileID).map(A=>new _o(A.canonical.z,A.wrap,A.canonical.z,A.canonical.x,A.canonical.y)):(y=o.coveringTiles({tileSize:u||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!h,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(y=y.filter(A=>this._source.hasTile(A)))):y=[];const x=this._updateRetainedTiles(y);if(rV(this._source.type)&&y.length!==0){const A={},P={},D=Object.keys(x);for(const W of D){const q=x[W],X=this._tiles[W];if(!X||X.fadeEndTime&&X.fadeEndTime<=Ko.now())continue;const te=this.findLoadedParent(q,Math.max(q.overscaledZ-Nf.maxOverzooming,this._source.minzoom));te&&(this._addTile(te.tileID),A[te.tileID.key]=te.tileID),P[W]=q}const V=y[y.length-1].overscaledZ;for(const W in this._tiles){const q=this._tiles[W];if(x[W]||!q.hasData())continue;let X=q.tileID;for(;X.overscaledZ>V;){X=X.scaledTo(X.overscaledZ-1);const te=this._tiles[X.key];if(te&&te.hasData()&&P[X.key]){x[W]=q.tileID;break}}}for(const W in A)x[W]||(this._coveredTiles[W]=!0,x[W]=A[W])}for(const A in x)this._tiles[A].clearFadeHold();const S=function(A,P){const D=[];for(const V in A)V in P||D.push(V);return D}(this._tiles,x);for(const A of S){const P=this._tiles[A];P.hasSymbolBuckets&&!P.holdingForFade()?P.setHoldDuration(this.map._fadeDuration):P.hasSymbolBuckets&&!P.symbolFadeFinished()||this._removeTile(+A)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const o in this._tiles)this._tiles[o].holdingForFade()&&this._removeTile(+o)}_updateRetainedTiles(o){const u={};if(o.length===0)return u;const h={},y=o.reduce((D,V)=>Math.min(D,V.overscaledZ),1/0),x=o[0].overscaledZ,S=Math.max(x-Nf.maxOverzooming,this._source.minzoom),A=Math.max(x+Nf.maxUnderzooming,this._source.minzoom),P={};for(const D of o){const V=this._addTile(D);u[D.key]=D,V.hasData()||y<this._source.maxzoom&&(P[D.key]=D)}this._retainLoadedChildren(P,y,A,u);for(const D of o){let V=this._tiles[D.key];if(V.hasData())continue;if(D.canonical.z>=this._source.maxzoom){const q=D.children(this._source.maxzoom)[0],X=this.getTile(q);if(X&&X.hasData()){u[q.key]=q;continue}}else{const q=D.children(this._source.maxzoom);if(u[q[0].key]&&u[q[1].key]&&u[q[2].key]&&u[q[3].key])continue}let W=V.wasRequested();for(let q=D.overscaledZ-1;q>=S;--q){const X=D.scaledTo(q);if(h[X.key]||(h[X.key]=!0,V=this.getTile(X),!V&&W&&(V=this._addTile(X)),V&&(u[X.key]=X,W=V.wasRequested(),V.hasData())))break}}return u}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const o in this._tiles){const u=[];let h,y=this._tiles[o].tileID;for(;y.overscaledZ>0;){if(y.key in this._loadedParentTiles){h=this._loadedParentTiles[y.key];break}u.push(y.key);const x=y.scaledTo(y.overscaledZ-1);if(h=this._getLoadedTile(x),h)break;y=x}for(const x of u)this._loadedParentTiles[x]=h}}_addTile(o){let u=this._tiles[o.key];if(u)return u;u=this._cache.getAndRemove(o),u&&(this._setTileReloadTimer(o.key,u),u.tileID=o,this._state.initializeTileState(u,this.map?this.map.painter:null),this._cacheTimers[o.key]&&(clearTimeout(this._cacheTimers[o.key]),delete this._cacheTimers[o.key],this._setTileReloadTimer(o.key,u)));const h=!!u;if(!h){const y=this.map?this.map.painter:null;u=new mE(o,this._source.tileSize*o.overscaleFactor(),this.transform.tileZoom,y,this._isRaster),this._loadTile(u,this._tileLoaded.bind(this,u,o.key,u.state))}return u?(u.uses++,this._tiles[o.key]=u,h||this._source.fire(new zs("dataloading",{tile:u,coord:u.tileID,dataType:"source"})),u):null}_setTileReloadTimer(o,u){o in this._timers&&(clearTimeout(this._timers[o]),delete this._timers[o]);const h=u.getExpiryTimeout();h&&(this._timers[o]=setTimeout(()=>{this._reloadTile(o,"expired"),delete this._timers[o]},h))}_removeTile(o){const u=this._tiles[o];u&&(u.uses--,delete this._tiles[o],this._timers[o]&&(clearTimeout(this._timers[o]),delete this._timers[o]),u.uses>0||(u.hasData()&&u.state!=="reloading"?this._cache.add(u.tileID,u,u.getExpiryTimeout()):(u.aborted=!0,this._abortTile(u),this._unloadTile(u))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const o in this._tiles)this._removeTile(+o);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(o,u,h){const y=[],x=this.transform;if(!x)return y;const S=x.projection.name==="globe",A=Oc(x.center.lng);for(const P in this._tiles){const D=this._tiles[P];if(h&&D.clearQueryDebugViz(),D.holdingForFade())continue;let V;if(S){const W=D.tileID.canonical;if(W.z===0){const q=[Math.abs(Q(A,...ob(W,-1))-A),Math.abs(Q(A,...ob(W,1))-A)];V=[0,2*q.indexOf(Math.min(...q))-1]}else{const q=[Math.abs(Q(A,...ob(W,-1))-A),Math.abs(Q(A,...ob(W,0))-A),Math.abs(Q(A,...ob(W,1))-A)];V=[q.indexOf(Math.min(...q))-1]}}else V=[0];for(const W of V){const q=o.containsTile(D,x,u,W);q&&y.push(q)}}return y}getVisibleCoordinates(o){const u=this.getRenderableIds(o).map(h=>this._tiles[h].tileID);for(const h of u)h.projMatrix=this.transform.calculateProjMatrix(h.toUnwrapped());return u}hasTransition(){if(this._source.hasTransition())return!0;if(rV(this._source.type))for(const o in this._tiles){const u=this._tiles[o];if(u.fadeEndTime!==void 0&&u.fadeEndTime>=Ko.now())return!0}return!1}setFeatureState(o,u,h){this._state.updateState(o=o||"_geojsonTileLayer",u,h)}removeFeatureState(o,u,h){this._state.removeFeatureState(o=o||"_geojsonTileLayer",u,h)}getFeatureState(o,u){return this._state.getState(o=o||"_geojsonTileLayer",u)}setDependencies(o,u,h){const y=this._tiles[o];y&&y.setDependencies(u,h)}reloadTilesForDependencies(o,u){for(const h in this._tiles)this._tiles[h].hasDependency(o,u)&&this._reloadTile(+h,"reloading");this._cache.filter(h=>!h.hasDependency(o,u))}_preloadTiles(o,u){if(!this._sourceLoaded){const A=()=>{this._sourceLoaded&&(this._source.off("data",A),this._preloadTiles(o,u))};return void this._source.on("data",A)}const h=new Map,y=Array.isArray(o)?o:[o],x=this.map.painter.terrain,S=this.usedForTerrain&&x?x.getScaledDemTileSize():this._source.tileSize;for(const A of y){const P=A.coveringTiles({tileSize:S,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const D of P)h.set(D.key,D);this.usedForTerrain&&A.updateElevation(!1)}fe(Array.from(h.values()),(A,P)=>{const D=new mE(A,this._source.tileSize*A.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(D,V=>{this._source.type==="raster-dem"&&D.dem&&this._backfillDEM(D),P(V,D)})},u)}}function tV(c,o){const u=Math.abs(2*c.wrap)-+(c.wrap<0),h=Math.abs(2*o.wrap)-+(o.wrap<0);return c.overscaledZ-o.overscaledZ||h-u||o.canonical.y-c.canonical.y||o.canonical.x-c.canonical.x}function rV(c){return c==="raster"||c==="image"||c==="video"||c==="custom"}function ob(c,o){const u=1<<c.z;return[c.x/u+o,(c.x+1)/u+o]}Nf.maxOverzooming=10,Nf.maxUnderzooming=3;class Tw{constructor(o,u,h){this._demTile=o,this._dem=this._demTile.dem,this._scale=u,this._offset=h}static create(o,u,h){const y=h||o.findDEMTileFor(u);if(!y||!y.dem)return;const x=y.dem,S=y.tileID,A=1<<u.canonical.z-S.canonical.z;return new Tw(y,y.tileSize/Sr/A,[(u.canonical.x/A-S.canonical.x)*x.dim,(u.canonical.y/A-S.canonical.y)*x.dim])}tileCoordToPixel(o,u){const h=u*this._scale+this._offset[1],y=Math.floor(o*this._scale+this._offset[0]),x=Math.floor(h);return new me(y,x)}getElevationAt(o,u,h,y){const x=o*this._scale+this._offset[0],S=u*this._scale+this._offset[1],A=Math.floor(x),P=Math.floor(S),D=this._dem;return y=!!y,h?gn(gn(D.get(A,P,y),D.get(A,P+1,y),S-P),gn(D.get(A+1,P,y),D.get(A+1,P+1,y),S-P),x-A):D.get(A,P,y)}getElevationAtPixel(o,u,h){return this._dem.get(o,u,!!h)}getMeterToDEM(o){return(1<<this._demTile.tileID.canonical.z)*Zl(1,o)*this._dem.stride}}class nV{constructor(o,u){this.tileID=o,this.x=o.canonical.x,this.y=o.canonical.y,this.z=o.canonical.z,this.grid=new Iu(Sr,16,0),this.featureIndexArray=new Sf,this.promoteId=u}insert(o,u,h,y,x,S=0){const A=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(h,y,x,S);const P=this.grid;for(let D=0;D<u.length;D++){const V=u[D],W=[1/0,1/0,-1/0,-1/0];for(let q=0;q<V.length;q++){const X=V[q];W[0]=Math.min(W[0],X.x),W[1]=Math.min(W[1],X.y),W[2]=Math.max(W[2],X.x),W[3]=Math.max(W[3],X.y)}W[0]<Sr&&W[1]<Sr&&W[2]>=0&&W[3]>=0&&P.insert(A,W[0],W[1],W[2],W[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new J7(new pw(this.rawTileData)).layers,this.sourceLayerCoder=new Uj(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const o in this.vtLayers)this.vtFeatures[o]=[]}return this.vtLayers}query(o,u,h,y){this.loadVTLayers();const x=o.params||{},S=M0(x.filter),A=o.tileResult,P=o.transform,D=A.bufferedTilespaceBounds,V=this.grid.query(D.min.x,D.min.y,D.max.x,D.max.y,(te,ue,Se,Ce)=>PF(A.bufferedTilespaceGeometry,te,ue,Se,Ce));V.sort(ahe);let W=null;P.elevation&&V.length>0&&(W=Tw.create(P.elevation,this.tileID));const q={};let X;for(let te=0;te<V.length;te++){const ue=V[te];if(ue===X)continue;X=ue;const Se=this.featureIndexArray.get(ue);let Ce=null;this.loadMatchingFeature(q,Se,S,x.layers,x.availableImages,u,h,y,(Ue,De,Fe,He=0)=>(Ce||(Ce=Ou(Ue,this.tileID.canonical,o.tileTransform)),De.queryIntersectsFeature(A,Ue,Fe,Ce,this.z,o.transform,o.pixelPosMatrix,W,He)))}return q}loadMatchingFeature(o,u,h,y,x,S,A,P,D){const{featureIndex:V,bucketIndex:W,sourceLayerIndex:q,layoutVertexArrayOffset:X}=u,te=this.bucketLayerIDs[W];if(y&&!function(Ue,De){for(let Fe=0;Fe<Ue.length;Fe++)if(De.indexOf(Ue[Fe])>=0)return!0;return!1}(y,te))return;const ue=this.sourceLayerCoder.decode(q),Se=this.vtLayers[ue].feature(V);if(h.needGeometry){const Ue=Cf(Se,!0);if(!h.filter(new U(this.tileID.overscaledZ),Ue,this.tileID.canonical))return}else if(!h.filter(new U(this.tileID.overscaledZ),Se))return;const Ce=this.getId(Se,ue);for(let Ue=0;Ue<te.length;Ue++){const De=te[Ue];if(y&&y.indexOf(De)<0)continue;const Fe=S[De];if(!Fe)continue;let He={};Ce!==void 0&&P&&(He=P.getState(Fe.sourceLayer||"_geojsonTileLayer",Ce));const qe=pe({},A[De]);qe.paint=iV(qe.paint,Fe.paint,Se,He,x),qe.layout=iV(qe.layout,Fe.layout,Se,He,x);const _t=!D||D(Se,Fe,He,X);if(!_t)continue;const ft=new Wj(Se,this.z,this.x,this.y,Ce);ft.layer=qe;let kt=o[De];kt===void 0&&(kt=o[De]=[]),kt.push({featureIndex:V,feature:ft,intersectionZ:_t})}}lookupSymbolFeatures(o,u,h,y,x,S,A,P){const D={};this.loadVTLayers();const V=M0(x);for(const W of o)this.loadMatchingFeature(D,{bucketIndex:h,sourceLayerIndex:y,featureIndex:W,layoutVertexArrayOffset:0},V,S,A,P,u);return D}loadFeature(o){const{featureIndex:u,sourceLayerIndex:h}=o;this.loadVTLayers();const y=this.sourceLayerCoder.decode(h),x=this.vtFeatures[y];if(x[u])return x[u];const S=this.vtLayers[y].feature(u);return x[u]=S,S}hasLayer(o){for(const u of this.bucketLayerIDs)for(const h of u)if(o===h)return!0;return!1}getId(o,u){let h=o.id;if(this.promoteId){const y=typeof this.promoteId=="string"?this.promoteId:this.promoteId[u];y!=null&&(h=o.properties[y]),typeof h=="boolean"&&(h=Number(h))}return h}}function iV(c,o,u,h,y){return _e(c,(x,S)=>{const A=o instanceof Ie?o.get(S):null;return A&&A.evaluate?A.evaluate(u,h,y):A})}function ahe(c,o){return o-c}or(nV,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class aV{constructor(o,u){this.width=o,this.height=u,this.nextRow=0,this.image=new Bu({width:o,height:u}),this.positions={},this.uploaded=!1}getDash(o,u){const h=this.getKey(o,u);return this.positions[h]}trim(){const o=this.width,u=this.height=Be(this.nextRow);this.image.resize({width:o,height:u})}getKey(o,u){return o.join(",")+u}getDashRanges(o,u,h){const y=[];let x=o.length%2==1?-o[o.length-1]*h:0,S=o[0]*h,A=!0;y.push({left:x,right:S,isDash:A,zeroLength:o[0]===0});let P=o[0];for(let D=1;D<o.length;D++){A=!A;const V=o[D];x=P*h,P+=V,S=P*h,y.push({left:x,right:S,isDash:A,zeroLength:V===0})}return y}addRoundDash(o,u,h){const y=u/2;for(let x=-h;x<=h;x++){const S=this.width*(this.nextRow+h+x);let A=0,P=o[A];for(let D=0;D<this.width;D++){D/P.right>1&&(P=o[++A]);const V=Math.abs(D-P.left),W=Math.abs(D-P.right),q=Math.min(V,W);let X;const te=x/h*(y+1);if(P.isDash){const ue=y-Math.abs(te);X=Math.sqrt(q*q+ue*ue)}else X=y-Math.sqrt(q*q+te*te);this.image.data[S+D]=Math.max(0,Math.min(255,X+128))}}}addRegularDash(o,u){for(let P=o.length-1;P>=0;--P){const D=o[P],V=o[P+1];D.zeroLength?o.splice(P,1):V&&V.isDash===D.isDash&&(V.left=D.left,o.splice(P,1))}const h=o[0],y=o[o.length-1];h.isDash===y.isDash&&(h.left=y.left-this.width,y.right=h.right+this.width);const x=this.width*this.nextRow;let S=0,A=o[S];for(let P=0;P<this.width;P++){P/A.right>1&&(A=o[++S]);const D=Math.abs(P-A.left),V=Math.abs(P-A.right),W=Math.min(D,V);this.image.data[x+P]=Math.max(0,Math.min(255,(A.isDash?W:-W)+u+128))}}addDash(o,u){const h=this.getKey(o,u);if(this.positions[h])return this.positions[h];const y=u==="round",x=y?7:0,S=2*x+1;if(this.nextRow+S>this.height)return rt("LineAtlas out of space"),null;o.length===0&&o.push(1);let A=0;for(let V=0;V<o.length;V++)o[V]<0&&(rt("Negative value is found in line dasharray, replacing values with 0"),o[V]=0),A+=o[V];if(A!==0){const V=this.width/A,W=this.getDashRanges(o,this.width,V);y?this.addRoundDash(W,V,x):this.addRegularDash(W,u==="square"?.5*V:0)}const P=this.nextRow+x;this.nextRow+=S;const D={tl:[P,x],br:[A,0]};return this.positions[h]=D,D}}or(aV,"LineAtlas");const oV=1*Xl;class sV{constructor(o){const u={},h=[];for(const A in o){const P=o[A],D=u[A]={};for(const V in P.glyphs){const W=P.glyphs[+V];if(!W||W.bitmap.width===0||W.bitmap.height===0)continue;const q=W.metrics.localGlyph?oV:1,X={x:0,y:0,w:W.bitmap.width+2*q,h:W.bitmap.height+2*q};h.push(X),D[V]=X}}const{w:y,h:x}=nE(h),S=new Bu({width:y||1,height:x||1});for(const A in o){const P=o[A];for(const D in P.glyphs){const V=P.glyphs[+D];if(!V||V.bitmap.width===0||V.bitmap.height===0)continue;const W=u[A][D],q=V.metrics.localGlyph?oV:1;Bu.copy(V.bitmap,S,{x:0,y:0},{x:W.x+q,y:W.y+q},V.bitmap)}}this.image=S,this.positions=u}}or(sV,"GlyphAtlas");class ohe{constructor(o){this.tileID=new _o(o.tileID.overscaledZ,o.tileID.wrap,o.tileID.canonical.z,o.tileID.canonical.x,o.tileID.canonical.y),this.tileZoom=o.tileZoom,this.uid=o.uid,this.zoom=o.zoom,this.canonical=o.tileID.canonical,this.pixelRatio=o.pixelRatio,this.tileSize=o.tileSize,this.source=o.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=o.showCollisionBoxes,this.collectResourceTiming=!!o.collectResourceTiming,this.returnDependencies=!!o.returnDependencies,this.promoteId=o.promoteId,this.enableTerrain=!!o.enableTerrain,this.isSymbolTile=o.isSymbolTile,this.tileTransform=Rf(o.tileID.canonical,o.projection),this.projection=o.projection}parse(o,u,h,y,x){this.status="parsing",this.data=o,this.collisionBoxArray=new On;const S=new Uj(Object.keys(o.layers).sort()),A=new nV(this.tileID,this.promoteId);A.bucketLayerIDs=[];const P={},D=new aV(256,256),V={featureIndex:A,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:D,availableImages:h},W=u.familiesBySource[this.source];for(const He in W){const qe=o.layers[He];if(!qe)continue;let _t=!1,ft=!1;for(const wt of W[He])wt[0].type==="symbol"?_t=!0:ft=!0;if(this.isSymbolTile===!0&&!_t||this.isSymbolTile===!1&&!ft)continue;qe.version===1&&rt(`Vector tile source "${this.source}" layer "${He}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const kt=S.encode(He),Wt=[];for(let wt=0;wt<qe.length;wt++){const Nt=qe.feature(wt),Lt=A.getId(Nt,He);Wt.push({feature:Nt,id:Lt,index:wt,sourceLayerIndex:kt})}for(const wt of W[He]){const Nt=wt[0];this.isSymbolTile!==void 0&&Nt.type==="symbol"!==this.isSymbolTile||Nt.minzoom&&this.zoom<Math.floor(Nt.minzoom)||Nt.maxzoom&&this.zoom>=Nt.maxzoom||Nt.visibility!=="none"&&(bE(wt,this.zoom,h),(P[Nt.id]=Nt.createBucket({index:A.bucketLayerIDs.length,layers:wt,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:kt,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:h})).populate(Wt,V,this.tileID.canonical,this.tileTransform),A.bucketLayerIDs.push(wt.map(Lt=>Lt.id)))}}let q,X,te,ue;D.trim();const Se={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Ce=()=>{if(q)return x(q);if(X&&te&&ue){const He=new sV(X),qe=new fj(te,ue);for(const _t in P){const ft=P[_t];ft instanceof fp?(bE(ft.layers,this.zoom,h),Dpe(ft,X,He.positions,te,qe.iconPositions,this.showCollisionBoxes,h,this.tileID.canonical,this.tileZoom,this.projection)):ft.hasPattern&&(ft instanceof cw||ft instanceof iw||ft instanceof H_)&&(bE(ft.layers,this.zoom,h),ft.addFeatures(V,this.tileID.canonical,qe.patternPositions,h,this.tileTransform))}this.status="done",x(null,{buckets:K(P).filter(_t=>!_t.isEmpty()),featureIndex:A,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:He.image,lineAtlas:D,imageAtlas:qe,glyphMap:this.returnDependencies?X:null,iconMap:this.returnDependencies?te:null,glyphPositions:this.returnDependencies?He.positions:null})}},Ue=_e(V.glyphDependencies,He=>Object.keys(He).map(Number));Object.keys(Ue).length?y.send("getGlyphs",{uid:this.uid,stacks:Ue},(He,qe)=>{q||(q=He,X=qe,Ce())},void 0,!1,Se):X={};const De=Object.keys(V.iconDependencies);De.length?y.send("getImages",{icons:De,source:this.source,tileID:this.tileID,type:"icons"},(He,qe)=>{q||(q=He,te=qe,Ce())},void 0,!1,Se):te={};const Fe=Object.keys(V.patternDependencies);Fe.length?y.send("getImages",{icons:Fe,source:this.source,tileID:this.tileID,type:"patterns"},(He,qe)=>{q||(q=He,ue=qe,Ce())},void 0,!1,Se):ue={},Ce()}}function bE(c,o,u){const h=new U(o);for(const y of c)y.recalculate(h,u)}class lV{constructor(o){this.entries={},this.scheduler=o}request(o,u,h,y){const x=this.entries[o]=this.entries[o]||{callbacks:[]};if(x.result){const[S,A]=x.result;return this.scheduler?this.scheduler.add(()=>{y(S,A)},u):y(S,A),()=>{}}return x.callbacks.push(y),x.cancel||(x.cancel=h((S,A)=>{x.result=[S,A];for(const P of x.callbacks)this.scheduler?this.scheduler.add(()=>{P(S,A)},u):P(S,A);setTimeout(()=>delete this.entries[o],3e3)})),()=>{x.result||(x.callbacks=x.callbacks.filter(S=>S!==y),x.callbacks.length||(x.cancel(),delete this.entries[o]))}}}function cV(c,o,u){const h=JSON.stringify(c.request);return c.data&&(this.deduped.entries[h]={result:[null,c.data]}),this.deduped.request(h,{type:"parseTile",isSymbolTile:c.isSymbolTile,zoom:c.tileZoom},y=>{const x=Mn(c.request,(S,A,P,D)=>{S?y(S):A&&y(null,{vectorTile:u?void 0:new J7(new pw(A)),rawData:A,cacheControl:P,expires:D})});return()=>{x.cancel(),y()}},o)}const uV=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class xE{static from(o){if(!(o instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[u,h]=new Uint8Array(o,0,2);if(u!==219)throw new Error("Data does not appear to be in a KDBush format.");const y=h>>4;if(y!==1)throw new Error(`Got v${y} data when expected v1.`);const x=uV[15&h];if(!x)throw new Error("Unrecognized array type.");const[S]=new Uint16Array(o,2,1),[A]=new Uint32Array(o,4,1);return new xE(A,S,x,o)}constructor(o,u=64,h=Float64Array,y){if(isNaN(o)||o<0)throw new Error(`Unpexpected numItems value: ${o}.`);this.numItems=+o,this.nodeSize=Math.min(Math.max(+u,2),65535),this.ArrayType=h,this.IndexArrayType=o<65536?Uint16Array:Uint32Array;const x=uV.indexOf(this.ArrayType),S=2*o*this.ArrayType.BYTES_PER_ELEMENT,A=o*this.IndexArrayType.BYTES_PER_ELEMENT,P=(8-A%8)%8;if(x<0)throw new Error(`Unexpected typed array class: ${h}.`);y&&y instanceof ArrayBuffer?(this.data=y,this.ids=new this.IndexArrayType(this.data,8,o),this.coords=new this.ArrayType(this.data,8+A+P,2*o),this._pos=2*o,this._finished=!0):(this.data=new ArrayBuffer(8+S+A+P),this.ids=new this.IndexArrayType(this.data,8,o),this.coords=new this.ArrayType(this.data,8+A+P,2*o),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+x]),new Uint16Array(this.data,2,1)[0]=u,new Uint32Array(this.data,4,1)[0]=o)}add(o,u){const h=this._pos>>1;return this.ids[h]=h,this.coords[this._pos++]=o,this.coords[this._pos++]=u,h}finish(){const o=this._pos>>1;if(o!==this.numItems)throw new Error(`Added ${o} items when expected ${this.numItems}.`);return wE(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(o,u,h,y){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:x,coords:S,nodeSize:A}=this,P=[0,x.length-1,0],D=[];for(;P.length;){const V=P.pop()||0,W=P.pop()||0,q=P.pop()||0;if(W-q<=A){for(let Se=q;Se<=W;Se++){const Ce=S[2*Se],Ue=S[2*Se+1];Ce>=o&&Ce<=h&&Ue>=u&&Ue<=y&&D.push(x[Se])}continue}const X=q+W>>1,te=S[2*X],ue=S[2*X+1];te>=o&&te<=h&&ue>=u&&ue<=y&&D.push(x[X]),(V===0?o<=te:u<=ue)&&(P.push(q),P.push(X-1),P.push(1-V)),(V===0?h>=te:y>=ue)&&(P.push(X+1),P.push(W),P.push(1-V))}return D}within(o,u,h){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:y,coords:x,nodeSize:S}=this,A=[0,y.length-1,0],P=[],D=h*h;for(;A.length;){const V=A.pop()||0,W=A.pop()||0,q=A.pop()||0;if(W-q<=S){for(let Se=q;Se<=W;Se++)pV(x[2*Se],x[2*Se+1],o,u)<=D&&P.push(y[Se]);continue}const X=q+W>>1,te=x[2*X],ue=x[2*X+1];pV(te,ue,o,u)<=D&&P.push(y[X]),(V===0?o-h<=te:u-h<=ue)&&(A.push(q),A.push(X-1),A.push(1-V)),(V===0?o+h>=te:u+h>=ue)&&(A.push(X+1),A.push(W),A.push(1-V))}return P}}function wE(c,o,u,h,y,x){if(y-h<=u)return;const S=h+y>>1;dV(c,o,S,h,y,x),wE(c,o,u,h,S-1,1-x),wE(c,o,u,S+1,y,1-x)}function dV(c,o,u,h,y,x){for(;y>h;){if(y-h>600){const D=y-h+1,V=u-h+1,W=Math.log(D),q=.5*Math.exp(2*W/3),X=.5*Math.sqrt(W*q*(D-q)/D)*(V-D/2<0?-1:1);dV(c,o,u,Math.max(h,Math.floor(u-V*q/D+X)),Math.min(y,Math.floor(u+(D-V)*q/D+X)),x)}const S=o[2*u+x];let A=h,P=y;for(sb(c,o,h,u),o[2*y+x]>S&&sb(c,o,h,y);A<P;){for(sb(c,o,A,P),A++,P--;o[2*A+x]<S;)A++;for(;o[2*P+x]>S;)P--}o[2*h+x]===S?sb(c,o,h,P):(P++,sb(c,o,P,y)),P<=u&&(h=P+1),u<=P&&(y=P-1)}}function sb(c,o,u,h){SE(c,u,h),SE(o,2*u,2*h),SE(o,2*u+1,2*h+1)}function SE(c,o,u){const h=c[o];c[o]=c[u],c[u]=h}function pV(c,o,u,h){const y=c-u,x=o-h;return y*y+x*x}a.ARRAY_TYPE=vs,a.AUTH_ERR_MSG=$e,a.Aabb=vo,a.Actor=class{constructor(c,o,u){this.target=c,this.parent=o,this.mapId=u,this.callbacks={},this.cancelCallbacks={},bt(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Jt()?c:p,this.scheduler=new Jpe}send(c,o,u,h,y=!1,x){const S=Math.round(1e18*Math.random()).toString(36).substring(0,10);u&&(u.metadata=x,this.callbacks[S]=u);const A=Fr(this.globalScope)?void 0:[];return this.target.postMessage({id:S,type:c,hasCallback:!!u,targetMapId:h,mustQueue:y,sourceMapId:this.mapId,data:op(o,A)},A),{cancel:()=>{u&&delete this.callbacks[S],this.target.postMessage({id:S,type:"<cancel>",targetMapId:h,sourceMapId:this.mapId})}}}receive(c){const o=c.data,u=o.id;if(u&&(!o.targetMapId||this.mapId===o.targetMapId))if(o.type==="<cancel>"){const h=this.cancelCallbacks[u];delete this.cancelCallbacks[u],h&&h.cancel()}else if(o.mustQueue||Jt()){const h=this.callbacks[u];this.cancelCallbacks[u]=this.scheduler.add(()=>this.processTask(u,o),h&&h.metadata||{type:"message"})}else this.processTask(u,o)}processTask(c,o){if(o.type==="<response>"){const u=this.callbacks[c];delete this.callbacks[c],u&&(o.error?u(Cu(o.error)):u(null,Cu(o.data)))}else{const u=Fr(this.globalScope)?void 0:[],h=o.hasCallback?(x,S)=>{delete this.cancelCallbacks[c],this.target.postMessage({id:c,type:"<response>",sourceMapId:this.mapId,error:x?op(x):null,data:op(S,u)},u)}:x=>{},y=Cu(o.data);if(this.parent[o.type])this.parent[o.type](o.sourceMapId,y,h);else if(this.parent.getWorkerSource){const x=o.type.split(".");this.parent.getWorkerSource(o.sourceMapId,x[0],y.source)[x[1]](y,h)}else h(new Error(`Could not find function ${o.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.CanonicalTileID=lw,a.Color=Ti,a.ColorMode=Vc,a.CullFaceMode=Ql,a.DEMData=Aw,a.DataConstantProperty=se,a.DedupedRequest=lV,a.DepthMode=Q0,a.EXTENT=Sr,a.Elevation=class{isDataAvailableAtPoint(c){const o=this._source();if(this.isUsingMockSource()||!o||c.y<0||c.y>1)return!1;const u=o.getSource().maxzoom,h=1<<u,y=Math.floor(c.x),x=Math.floor((c.x-y)*h),S=Math.floor(c.y*h),A=this.findDEMTileFor(new _o(u,y,u,x,S));return!(!A||!A.dem)}getAtPointOrZero(c,o=0){return this.getAtPoint(c,o)||0}getAtPoint(c,o,u=!0){if(this.isUsingMockSource())return null;o==null&&(o=null);const h=this._source();if(!h||c.y<0||c.y>1)return o;const y=h.getSource().maxzoom,x=1<<y,S=Math.floor(c.x),A=c.x-S,P=new _o(y,S,y,Math.floor(A*x),Math.floor(c.y*x)),D=this.findDEMTileFor(P);if(!D||!D.dem)return o;const V=D.dem,W=1<<D.tileID.canonical.z,q=(A*W-D.tileID.canonical.x)*V.dim,X=(c.y*W-D.tileID.canonical.y)*V.dim,te=Math.floor(q),ue=Math.floor(X);return(u?this.exaggeration():1)*gn(gn(V.get(te,ue),V.get(te,ue+1),X-ue),gn(V.get(te+1,ue),V.get(te+1,ue+1),X-ue),q-te)}getAtTileOffset(c,o,u){const h=1<<c.canonical.z;return this.getAtPointOrZero(new B0(c.wrap+(c.canonical.x+o/Sr)/h,(c.canonical.y+u/Sr)/h))}getAtTileOffsetFunc(c,o,u,h){return y=>{const x=this.getAtTileOffset(c,y.x,y.y),S=h.upVector(c.canonical,y.x,y.y);return Os(S,S,x*h.upVectorScale(c.canonical,o,u).metersToTile),S}}getForTilePoints(c,o,u,h){if(this.isUsingMockSource())return!1;const y=Tw.create(this,c,h);return!!y&&(o.forEach(x=>{x[2]=this.exaggeration()*y.getElevationAt(x[0],x[1],u)}),!0)}getMinMaxForTile(c){if(this.isUsingMockSource())return null;const o=this.findDEMTileFor(c);if(!o||!o.dem)return null;const u=o.dem.tree,h=o.tileID,y=1<<c.canonical.z-h.canonical.z;let x=c.canonical.x/y-h.canonical.x,S=c.canonical.y/y-h.canonical.y,A=0;for(let P=0;P<c.canonical.z-h.canonical.z&&!u.leaves[A];P++){x*=2,S*=2;const D=2*Math.floor(S)+Math.floor(x);A=u.childOffsets[A]+D,x%=1,S%=1}return{min:this.exaggeration()*u.minimums[A],max:this.exaggeration()*u.maximums[A]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(c,o,u){throw new Error("Pure virtual method called.")}pointCoordinate(c){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(c){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},a.ErrorEvent=qo,a.EvaluationParameters=U,a.Event=zs,a.Evented=Ll,a.FillExtrusionBucket=H_,a.Frustum=I7,a.FrustumCorners=k7,a.GLOBE_RADIUS=Nc,a.GLOBE_SCALE_MATCH_LATITUDE=45,a.GLOBE_ZOOM_THRESHOLD_MAX=dF,a.GLOBE_ZOOM_THRESHOLD_MIN=C7,a.GlobeSharedBuffers=class{constructor(c){this._createGrid(c),this._createPoles(c)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const c of this._poleSegments)c.destroy();for(const c of this._gridSegments)c.withSkirts.destroy(),c.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const c of this._wireframeSegments)c.destroy()}}_fillGridMeshWithLods(c,o){const u=new Ut,h=new gr,y=[],x=c+1+2,S=o[0]+1,A=o[0]+1+(1+o.length),P=(D,V,W)=>{let q=D===x-1?D-2:D===0?D:D-1;return q+=W?24575:0,[q,V]};for(let D=0;D<x;++D)u.emplaceBack(...P(D,0,!0));for(let D=0;D<S;++D)for(let V=0;V<x;++V)u.emplaceBack(...P(V,D,(V===0||V===x-1)&&!0));for(let D=0;D<o.length;++D){const V=o[D];for(let W=0;W<x;++W)u.emplaceBack(...P(W,V,!0))}for(let D=0;D<o.length;++D){const V=h.length,W=o[D]+1+2,q=new gr;for(let ue=0;ue<W-1;ue++){const Se=ue===W-2,Ce=Se?x*(A-o.length+D-ue):x;for(let Ue=0;Ue<x-1;Ue++){const De=ue*x+Ue;ue===0||Se||Ue===0||Ue===x-2?(q.emplaceBack(De+1,De,De+Ce),q.emplaceBack(De+Ce,De+Ce+1,De+1)):(h.emplaceBack(De+1,De,De+Ce),h.emplaceBack(De+Ce,De+Ce+1,De+1))}}const X=Oi.simpleSegment(0,V,u.length,h.length-V);for(let ue=0;ue<q.uint16.length;ue+=3)h.emplaceBack(q.uint16[ue],q.uint16[ue+1],q.uint16[ue+2]);const te=Oi.simpleSegment(0,V,u.length,h.length-V);y.push({withoutSkirts:X,withSkirts:te})}return{vertices:u,indices:h,segments:y}}_createGrid(c){const o=this._fillGridMeshWithLods(kf,B_);this._gridSegments=o.segments,this._gridBuffer=c.createVertexBuffer(o.vertices,O_.members),this._gridIndexBuffer=c.createIndexBuffer(o.indices,!0)}_createPoles(c){const o=new gr;for(let y=0;y<=kf;y++)o.emplaceBack(0,y+1,y+2);this._poleIndexBuffer=c.createIndexBuffer(o,!0);const u=new Ln,h=new Ln;this._poleSegments=[];for(let y=0,x=0;y<C7;y++){const S=360/(1<<y);u.emplaceBack(0,-Nc,0,.5,0),h.emplaceBack(0,-Nc,0,.5,1);for(let A=0;A<=kf;A++){const P=A/kf,D=gn(0,S,P),[V,W,q]=N0(Jue,ede,D,Nc);u.emplaceBack(V,W,q,P,0),h.emplaceBack(V,W,q,P,1)}this._poleSegments.push(Oi.simpleSegment(x,0,66,64)),x+=66}this._poleNorthVertexBuffer=c.createVertexBuffer(u,cF,!1),this._poleSouthVertexBuffer=c.createVertexBuffer(h,cF,!1)}getGridBuffers(c,o){return[this._gridBuffer,this._gridIndexBuffer,o?this._gridSegments[c].withSkirts:this._gridSegments[c].withoutSkirts]}getPoleBuffers(c){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[c]]}getWirefameBuffers(c,o){if(!this._wireframeSegments){const u=new wa,h=kf,y=h+1+2,x=1;this._wireframeSegments=[];for(let S=0,A=0;S<B_.length;S++){const P=B_[S];for(let V=x;V<P+x;V++)for(let W=x;W<h+x;W++){const q=V*y+W;u.emplaceBack(q,q+1),u.emplaceBack(q,q+y),u.emplaceBack(q,q+y+1)}const D=P*h*3;this._wireframeSegments.push(Oi.simpleSegment(0,A,(P+1)*y,D)),A+=D}this._wireframeIndexBuffer=c.createIndexBuffer(u)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[o]]}},a.GlyphManager=G0,a.ImagePosition=iE,a.KDBush=xE,a.LivePerformanceUtils=Xh,a.LngLat=Bn,a.LngLatBounds=up,a.LocalGlyphMode=sE,a.MAX_MERCATOR_LATITUDE=Ua,a.MercatorCoordinate=B0,a.ONE_EM=Da,a.OverscaledTileID=_o,a.PerformanceMarkers=ol,a.Point=me,a.Properties=Oe,a.RGBAImage=_s,a.Ray=P7,a.RequestManager=class{constructor(c,o,u){this._transformRequestFn=c,this._customAccessToken=o,this._silenceAuthErrors=!!u,this._createSkuToken()}_createSkuToken(){const c=function(){let o="";for(let u=0;u<10;u++)o+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",L,o].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=c.token,this._skuTokenExpiresAt=c.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(c,o){return this._transformRequestFn&&this._transformRequestFn(c,o)||{url:c}}normalizeStyleURL(c,o){if(!Ye(c))return c;const u=Ot(c);return u.path=`/styles/v1${u.path}`,this._makeAPIURL(u,this._customAccessToken||o)}normalizeGlyphsURL(c,o){if(!Ye(c))return c;const u=Ot(c);return u.path=`/fonts/v1${u.path}`,this._makeAPIURL(u,this._customAccessToken||o)}normalizeSourceURL(c,o,u,h){if(!Ye(c))return c;const y=Ot(c);return y.path=`/v4/${y.authority}.json`,y.params.push("secure"),u&&y.params.push(`language=${u}`),h&&y.params.push(`worldview=${h}`),this._makeAPIURL(y,this._customAccessToken||o)}normalizeSpriteURL(c,o,u,h){const y=Ot(c);return Ye(c)?(y.path=`/styles/v1${y.path}/sprite${o}${u}`,this._makeAPIURL(y,this._customAccessToken||h)):(y.path+=`${o}${u}`,It(y))}normalizeTileURL(c,o,u){if(this._isSkuTokenExpired()&&this._createSkuToken(),c&&!Ye(c))return c;const h=Ot(c);h.path=h.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${o||u&&h.authority!=="raster"&&u===512?"@2x":""}${_.supported?".webp":"$1"}`),h.authority==="raster"?h.path=`/${v.RASTER_URL_PREFIX}${h.path}`:(h.path=h.path.replace(/^.+\/v4\//,"/"),h.path=`/${v.TILE_URL_VERSION}${h.path}`);const y=this._customAccessToken||function(x){for(const S of x){const A=S.match(/^access_token=(.*)$/);if(A)return A[1]}return null}(h.params)||v.ACCESS_TOKEN;return v.REQUIRE_ACCESS_TOKEN&&y&&this._skuToken&&h.params.push(`sku=${this._skuToken}`),this._makeAPIURL(h,y)}canonicalizeTileURL(c,o){const u=Ot(c);if(!u.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!u.path.match(/\.[\w]+$/))return c;let h="mapbox://";u.path.match(/^\/raster\/v1\//)?h+=`raster/${u.path.replace(`/${v.RASTER_URL_PREFIX}/`,"")}`:h+=`tiles/${u.path.replace(`/${v.TILE_URL_VERSION}/`,"")}`;let y=u.params;return o&&(y=y.filter(x=>!x.match(/^access_token=/))),y.length&&(h+=`?${y.join("&")}`),h}canonicalizeTileset(c,o){const u=!!o&&Ye(o),h=[];for(const y of c.tiles||[])Ge(y)?h.push(this.canonicalizeTileURL(y,u)):h.push(y);return h}_makeAPIURL(c,o){const u="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",h=Ot(v.API_URL);if(c.protocol=h.protocol,c.authority=h.authority,c.protocol==="http"){const y=c.params.indexOf("secure");y>=0&&c.params.splice(y,1)}if(h.path!=="/"&&(c.path=`${h.path}${c.path}`),!v.REQUIRE_ACCESS_TOKEN)return It(c);if(o=o||v.ACCESS_TOKEN,!this._silenceAuthErrors){if(!o)throw new Error(`An API access token is required to use Mapbox GL. ${u}`);if(o[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${u}`)}return c.params=c.params.filter(y=>y.indexOf("access_token")===-1),c.params.push(`access_token=${o||""}`),It(c)}},a.ResourceType=At,a.SegmentVector=Oi,a.SourceCache=Nf,a.StencilMode=yE,a.StructArrayLayout1ui2=ys,a.StructArrayLayout2f1f2i16=Tr,a.StructArrayLayout2i4=Ut,a.StructArrayLayout2ui4=wa,a.StructArrayLayout3f12=rn,a.StructArrayLayout3ui6=gr,a.StructArrayLayout4i8=Rt,a.StructArrayLayout5f20=Ln,a.Texture=ab,a.Tile=mE,a.Transitionable=ae,a.Uniform1f=K6,a.Uniform1i=class extends Ru{constructor(c){super(c),this.current=0}set(c,o,u){this.fetchUniformLocation(c,o)&&this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},a.Uniform2f=class extends Ru{constructor(c){super(c),this.current=[0,0]}set(c,o,u){this.fetchUniformLocation(c,o)&&(u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1])))}},a.Uniform3f=class extends Ru{constructor(c){super(c),this.current=[0,0,0]}set(c,o,u){this.fetchUniformLocation(c,o)&&(u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2])))}},a.Uniform4f=qB,a.UniformColor=GB,a.UniformMatrix2f=class extends Ru{constructor(c){super(c),this.current=Oue}set(c,o,u){if(this.fetchUniformLocation(c,o)){for(let h=0;h<4;h++)if(u[h]!==this.current[h]){this.current=u,this.gl.uniformMatrix2fv(this.location,!1,u);break}}}},a.UniformMatrix3f=class extends Ru{constructor(c){super(c),this.current=Lue}set(c,o,u){if(this.fetchUniformLocation(c,o)){for(let h=0;h<9;h++)if(u[h]!==this.current[h]){this.current=u,this.gl.uniformMatrix3fv(this.location,!1,u);break}}}},a.UniformMatrix4f=class extends Ru{constructor(c){super(c),this.current=Nue}set(c,o,u){if(this.fetchUniformLocation(c,o)){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let h=1;h<16;h++)if(u[h]!==this.current[h]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}}},a.UnwrappedTileID=JF,a.ValidationError=ir,a.VectorTileFeature=ow,a.VectorTileWorkerSource=class extends Ll{constructor(c,o,u,h,y){super(),this.actor=c,this.layerIndex=o,this.availableImages=u,this.loadVectorData=y||cV,this.loading={},this.loaded={},this.deduped=new lV(c.scheduler),this.isSpriteLoaded=h,this.scheduler=c.scheduler}loadTile(c,o){const u=c.uid,h=c&&c.request,y=h&&h.collectResourceTiming,x=this.loading[u]=new ohe(c);x.abort=this.loadVectorData(c,(S,A)=>{const P=!this.loading[u];if(delete this.loading[u],P||S||!A)return x.status="done",P||(this.loaded[u]=x),o(S);const D=A.rawData,V={};A.expires&&(V.expires=A.expires),A.cacheControl&&(V.cacheControl=A.cacheControl),x.vectorTile=A.vectorTile||new J7(new pw(D));const W=()=>{x.parse(x.vectorTile,this.layerIndex,this.availableImages,this.actor,(q,X)=>{if(q||!X)return o(q);const te={};if(y){const ue=bu(h);ue.length>0&&(te.resourceTiming=JSON.parse(JSON.stringify(ue)))}o(null,pe({rawTileData:D.slice(0)},X,V,te))})};this.isSpriteLoaded?W():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(W,{type:"parseTile",isSymbolTile:c.isSymbolTile,zoom:c.tileZoom}):W()}),this.loaded=this.loaded||{},this.loaded[u]=x})}reloadTile(c,o){const u=this.loaded,h=c.uid,y=this;if(u&&u[h]){const x=u[h];x.showCollisionBoxes=c.showCollisionBoxes,x.enableTerrain=!!c.enableTerrain,x.projection=c.projection,x.tileTransform=Rf(c.tileID.canonical,c.projection);const S=(A,P)=>{const D=x.reloadCallback;D&&(delete x.reloadCallback,x.parse(x.vectorTile,y.layerIndex,this.availableImages,y.actor,D)),o(A,P)};x.status==="parsing"?x.reloadCallback=S:x.status==="done"&&(x.vectorTile?x.parse(x.vectorTile,this.layerIndex,this.availableImages,this.actor,S):S())}}abortTile(c,o){const u=c.uid,h=this.loading[u];h&&(h.abort&&h.abort(),delete this.loading[u]),o()}removeTile(c,o){const u=this.loaded,h=c.uid;u&&u[h]&&delete u[h],o()}},a.WritingMode=Fs,a.ZoomDependentExpression=gf,a.add=Lu,a.addDynamicAttributes=ww,a.adjoint=function(c,o){var u=o[0],h=o[1],y=o[2],x=o[3],S=o[4],A=o[5],P=o[6],D=o[7],V=o[8];return c[0]=S*V-A*D,c[1]=y*D-h*V,c[2]=h*A-y*S,c[3]=A*P-x*V,c[4]=u*V-y*P,c[5]=y*x-u*A,c[6]=x*D-S*P,c[7]=h*P-u*D,c[8]=u*S-h*x,c},a.asyncAll=fe,a.bezier=oe,a.bindAll=bt,a.boundsAttributes=Kj,a.bufferConvexPolygon=function(c,o){const u=[];for(let h=0;h<c.length;h++){const y=Ee(h-1,-1,c.length-1),x=Ee(h+1,-1,c.length-1),S=c[h],A=c[x],P=c[y].sub(S).unit(),D=A.sub(S).unit(),V=D.angleWithSep(P.x,P.y),W=P.add(D).unit().mult(-1*o/Math.sin(V/2));u.push(S.add(W))}return u},a.cacheEntryPossiblyAdded=function(c){mt++,mt>Xr&&(c.getActor().send("enforceCacheSizeLimit",Ei),mt=0)},a.calculateGlobeLabelMatrix=function(c,o){const{x:u,y:h}=c.point,y=gF(u,h,c.worldSize/c._pixelsPerMercatorPixel,0,0);return Tf(y,y,R7(Lc(o)))},a.calculateGlobeMatrix=function(c){const{x:o,y:u}=c.point,{lng:h,lat:y}=c._center;return gF(o,u,c.worldSize,h,y)},a.calculateGlobeMercatorMatrix=function(c){const o=c.pixelsPerMeter,u=o/Zl(1,c.center.lat),h=Gl(new Float64Array(16));return C_(h,h,[c.point.x,c.point.y,0]),Mf(h,h,[u,u,o]),Float32Array.from(h)},a.circumferenceAtLatitude=L7,a.clamp=Q,a.clearTileCache=function(c){if(!J())return;const o=p.caches.delete(Sn);c&&o.catch(c).then(()=>c())},a.clipLine=Mj,a.clone=function(c){var o=new vs(16);return o[0]=c[0],o[1]=c[1],o[2]=c[2],o[3]=c[3],o[4]=c[4],o[5]=c[5],o[6]=c[6],o[7]=c[7],o[8]=c[8],o[9]=c[9],o[10]=c[10],o[11]=c[11],o[12]=c[12],o[13]=c[13],o[14]=c[14],o[15]=c[15],o},a.clone$1=we,a.collisionCircleLayout=ipe,a.config=v,a.conjugate=function(c,o){return c[0]=-o[0],c[1]=-o[1],c[2]=-o[2],c[3]=o[3],c},a.create=function(){var c=new vs(16);return vs!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},a.create$1=YB,a.createExpression=np,a.createLayout=ot,a.createStyleLayer=function(c){return c.type==="custom"?new Zpe(c):new Xpe[c.type](c)},a.cross=M7,a.degToRad=Ke,a.distance=function(c,o){return Math.hypot(o[0]-c[0],o[1]-c[1],o[2]-c[2])},a.div=function(c,o,u){return c[0]=o[0]/u[0],c[1]=o[1]/u[1],c[2]=o[2]/u[2],c},a.dot=pl,a.earthRadius=V_,a.ease=le,a.easeCubicInOut=Z,a.ecefToLatLng=function([c,o,u]){const h=Math.hypot(c,o,u),y=Math.atan2(c,u),x=.5*Math.PI-Math.acos(-o/h);return new Bn(ye(y),ye(x))},a.emitValidationErrors=F6,a.endsWith=Ht,a.enforceCacheSizeLimit=function(c){ze(),ve&&ve.then(o=>{o.keys().then(u=>{for(let h=0;h<u.length-c;h++)o.delete(u[h])})})},a.evaluateSizeForFeature=uw,a.evaluateSizeForZoom=W0,a.evaluateVariableOffset=Dj,a.evented=E,a.exactEquals=function(c,o){return c[0]===o[0]&&c[1]===o[1]&&c[2]===o[2]&&c[3]===o[3]},a.exactEquals$1=function(c,o){return c[0]===o[0]&&c[1]===o[1]&&c[2]===o[2]},a.exported=Ko,a.exported$1=_,a.extend=pe,a.extend$1=Go,a.fillExtrusionHeightLift=YF,a.filterObject=Me,a.fromMat4=function(c,o){return c[0]=o[0],c[1]=o[1],c[2]=o[2],c[3]=o[4],c[4]=o[5],c[5]=o[6],c[6]=o[8],c[7]=o[9],c[8]=o[10],c},a.fromQuat=function(c,o){var u=o[0],h=o[1],y=o[2],x=o[3],S=u+u,A=h+h,P=y+y,D=u*S,V=h*S,W=h*A,q=y*S,X=y*A,te=y*P,ue=x*S,Se=x*A,Ce=x*P;return c[0]=1-W-te,c[1]=V+Ce,c[2]=q-Se,c[3]=0,c[4]=V-Ce,c[5]=1-D-te,c[6]=X+ue,c[7]=0,c[8]=q+Se,c[9]=X-ue,c[10]=1-D-W,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},a.fromRotation=function(c,o){var u=Math.sin(o),h=Math.cos(o);return c[0]=h,c[1]=u,c[2]=0,c[3]=-u,c[4]=h,c[5]=0,c[6]=0,c[7]=0,c[8]=1,c},a.fromScaling=QB,a.furthestTileCorner=function(c){const o=Math.round((c+45+360)%360/90)%4;return j[o]},a.getAABBPointSquareDist=function(c,o,u){let h=0;for(let y=0;y<2;++y){const x=u?u[y]:0;c[y]>x&&(h+=(c[y]-x)*(c[y]-x)),o[y]<x&&(h+=(x-o[y])*(x-o[y]))}return h},a.getAnchorAlignment=oE,a.getAnchorJustification=cE,a.getBounds=function(c){let o=1/0,u=1/0,h=-1/0,y=-1/0;for(const x of c)o=Math.min(o,x.x),u=Math.min(u,x.y),h=Math.max(h,x.x),y=Math.max(y,x.y);return{min:new me(o,u),max:new me(h,y)}},a.getColumn=en,a.getDefaultExportFromCjs=N,a.getGridMatrix=function(c,o,u,h){const y=o.getNorth(),x=o.getSouth(),S=o.getWest(),A=o.getEast(),P=1<<c.z,D=A-S,V=y-x,W=D/kf,q=-V/B_[u],X=[0,W,0,q,0,0,y,S,0];if(c.z>0){const te=180/h;XB(X,X,[te/D+1,0,0,0,te/V+1,0,-.5*te/W,.5*te/q,1])}return X[2]=P,X[5]=c.x,X[8]=c.y,X},a.getImage=Re,a.getJSON=function(c,o){return Mr(pe(c,{type:"json"}),o)},a.getLatitudinalLod=function(c){const o=Ua-5;c=Q(c,-o,o)/o*90;const u=Math.pow(Math.abs(Math.sin(Ke(c))),3);return Math.round(u*(B_.length-1))},a.getMapSessionAPI=pn,a.getPerformanceMeasurement=bu,a.getProjection=jj,a.getRTLTextPluginStatus=M,a.getReferrer=Lr,a.getTilePoint=function(c,{x:o,y:u},h=0){return new me(((o-h)*c.scale-c.x)*Sr,(u*c.scale-c.y)*Sr)},a.getTileVec3=function(c,o,u=0){return R0(((o.x-u)*c.scale-c.x)*Sr,(o.y*c.scale-c.y)*Sr,bF(o.z,o.y))},a.getVideo=function(c,o){const u=p.document.createElement("video");u.muted=!0,u.onloadstart=function(){o(null,u)};for(let h=0;h<c.length;h++){const y=p.document.createElement("source");Nr(c[h])||(u.crossOrigin="Anonymous"),y.src=c[h],u.appendChild(y)}return{cancel:()=>{}}},a.globeCenterToScreenPoint=function(c){const o=[0,0,0],u=Gl(new Float64Array(16));return Tf(u,c.pixelMatrix,c.globeMatrix),Mi(o,o,u),new me(o[0],o[1])},a.globeDenormalizeECEF=R7,a.globeECEFOrigin=function(c,o){const u=[0,0,0];return Mi(u,u,j_(Lc(o.canonical))),Mi(u,u,c),u},a.globeMetersToEcef=H6,a.globeNormalizeECEF=j_,a.globePixelsToTileUnits=function(c,o){return Sr/(512*Math.pow(2,c))*Y6(Lc(o))},a.globePoleMatrixForTile=function(c,o,u){const h=Gl(new Float64Array(16)),y=(o/(1<<c)-.5)*Math.PI*2;return G6(h,u.globeMatrix,y),Float32Array.from(h)},a.globeTileBounds=Lc,a.globeTiltAtLngLat=yF,a.globeToMercatorTransition=O0,a.globeUseCustomAntiAliasing=function(c,o,u){const h=O0(u.zoom),y=c.style.map._antialias,x=!!o.extStandardDerivatives,S=o.extStandardDerivativesForceOff||c.terrain&&c.terrain.exaggeration()>0;return h===0&&!y&&!S&&x},a.identity=Gl,a.identity$1=oF,a.invert=S7,a.isFullscreen=function(){return!!p.document.fullscreenElement||!!p.document.webkitFullscreenElement},a.isLngLatBehindGlobe=N7,a.isMapAuthenticated=function(c){return bn.has(c)},a.isMapboxURL=Ye,a.isSafariWithAntialiasingBug=function(c){const o=c.navigator?c.navigator.userAgent:null;return!!Fr(c)&&o&&(o.match("Version/15.4")||o.match("Version/15.5")||o.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},a.latFromMercatorY=Va,a.latLngToECEF=L0,a.len=que,a.length=D_,a.length$1=function(c){return Math.hypot(c[0],c[1],c[2],c[3])},a.lngFromMercatorX=Bs,a.loadVectorTile=cV,a.makeRequest=Mr,a.mapValue=function(c,o,u,h,y){return Q((c-o)/(u-o)*(y-h)+h,h,y)},a.mercatorScale=xF,a.mercatorXfromLng=Oc,a.mercatorYfromLat=Bc,a.mercatorZfromAltitude=Zl,a.mul=$ue,a.mul$1=Kue,a.multiply=Tf,a.multiply$1=XB,a.multiply$2=tF,a.nextPowerOfTwo=Be,a.normalize=yo,a.normalize$1=Gue,a.normalize$2=iF,a.number=gn,a.ortho=function(c,o,u,h,y,x,S){var A=1/(o-u),P=1/(h-y),D=1/(x-S);return c[0]=-2*A,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*P,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*D,c[11]=0,c[12]=(o+u)*A,c[13]=(y+h)*P,c[14]=(S+x)*D,c[15]=1,c},a.pbf=oj,a.perspective=function(c,o,u,h,y){var x,S=1/Math.tan(o/2);return c[0]=S/u,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=S,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,y!=null&&y!==1/0?(c[10]=(y+h)*(x=1/(h-y)),c[14]=2*y*h*x):(c[10]=-1,c[14]=-2*h),c},a.pick=function(c,o){const u={};for(let h=0;h<o.length;h++){const y=o[h];y in c&&(u[y]=c[y])}return u},a.plugin=F,a.pointGeometry=ne,a.polesInViewport=function(c){const o=Gl(new Float64Array(16));Tf(o,c.pixelMatrix,c.globeMatrix);const u=[0,hl,0],h=[0,fl,0];return Mi(u,u,o),Mi(h,h,o),[u[0]>0&&u[0]<=c.width&&u[1]>0&&u[1]<=c.height&&!N7(c,new Bn(c.center.lat,90)),h[0]>0&&h[0]<=c.width&&h[1]>0&&h[1]<=c.height&&!N7(c,new Bn(c.center.lat,-90))]},a.polygonContainsPoint=Df,a.polygonIntersectsBox=PF,a.polygonIntersectsPolygon=EF,a.polygonizeBounds=function(c,o,u=0,h=!0){const y=new me(u,u),x=c.sub(y),S=o.add(y),A=[x,new me(S.x,x.y),S,new me(x.x,S.y)];return h&&A.push(x.clone()),A},a.posAttributes=O_,a.postMapLoadEvent=ui,a.postPerformanceEvent=un,a.postTurnstileEvent=Ar,a.potpack=nE,a.prevPowerOfTwo=function(c){return c<=1?1:Math.pow(2,Math.floor(Math.log(c)/Math.LN2))},a.radToDeg=ye,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.registerForPluginStateChange=function(c){return c({pluginStatus:b,pluginURL:d}),E.on("pluginStateChange",c),c},a.removeAuthState=function(c){bn.delete(c)},a.renderColorRamp=$7,a.resample=wF,a.rotateX=E7,a.rotateX$1=sF,a.rotateY=G6,a.rotateY$1=lF,a.rotateZ=function(c,o,u){var h=Math.sin(u),y=Math.cos(u),x=o[0],S=o[1],A=o[2],P=o[3],D=o[4],V=o[5],W=o[6],q=o[7];return o!==c&&(c[8]=o[8],c[9]=o[9],c[10]=o[10],c[11]=o[11],c[12]=o[12],c[13]=o[13],c[14]=o[14],c[15]=o[15]),c[0]=x*y+D*h,c[1]=S*y+V*h,c[2]=A*y+W*h,c[3]=P*y+q*h,c[4]=D*y-x*h,c[5]=V*y-S*h,c[6]=W*y-A*h,c[7]=q*y-P*h,c},a.rotateZ$1=function(c,o,u){u*=.5;var h=o[0],y=o[1],x=o[2],S=o[3],A=Math.sin(u),P=Math.cos(u);return c[0]=h*P+y*A,c[1]=y*P-h*A,c[2]=x*P+S*A,c[3]=S*P-x*A,c},a.scale=Mf,a.scale$1=nF,a.scale$2=Os,a.scaleAndAdd=N_,a.set=function(c,o,u,h){return c[0]=o,c[1]=u,c[2]=h,c},a.setCacheLimits=function(c,o){Ei=c,Xr=o},a.setColumn=function(c,o,u){c[4*o+0]=u[0],c[4*o+1]=u[1],c[4*o+2]=u[2],c[4*o+3]=u[3]},a.setRTLTextPlugin=function(c,o,u=!1){if(b===T_||b===M_||b===P_)throw new Error("setRTLTextPlugin cannot be called multiple times.");d=Ko.resolveURL(c),b=T_,sp=o,w(),u||O()},a.smoothstep=ce,a.spec=Mt,a.squaredLength=function(c){var o=c[0],u=c[1],h=c[2];return o*o+u*u+h*h},a.storeAuthState=function(c,o){o?bn.add(c):bn.delete(c)},a.sub=Hl,a.subtract=T7,a.symbolSize=ape,a.tileAABB=function(c,o,u,h,y,x,S,A,P){if(P.name==="globe")return Que(c,o,new lw(u,h,y));const D=Rf({z:u,x:h,y},P);return new vo([(x+D.x/D.scale)*o,o*(D.y/D.scale),S],[(x+D.x2/D.scale)*o,o*(D.y2/D.scale),A])},a.tileCornersToBounds=Z6,a.tileTransform=Rf,a.transformMat3=function(c,o,u){var h=o[0],y=o[1],x=o[2];return c[0]=h*u[0]+y*u[3]+x*u[6],c[1]=h*u[1]+y*u[4]+x*u[7],c[2]=h*u[2]+y*u[5]+x*u[8],c},a.transformMat4=Mi,a.transformMat4$1=Pf,a.transformQuat=rF,a.transitionTileAABBinECEF=hF,a.translate=C_,a.transpose=function(c,o){if(c===o){var u=o[1],h=o[2],y=o[5];c[1]=o[3],c[2]=o[6],c[3]=u,c[5]=o[7],c[6]=h,c[7]=y}else c[0]=o[0],c[1]=o[3],c[2]=o[6],c[3]=o[1],c[4]=o[4],c[5]=o[7],c[6]=o[2],c[7]=o[5],c[8]=o[8];return c},a.triggerPluginCompletionEvent=m,a.uniqueId=zt,a.updateGlobeVertexNormal=function(c,o,u,h,y){const x=5*o+2;c.float32[x+0]=u,c.float32[x+1]=h,c.float32[x+2]=y},a.validateCustomStyleLayer=function(c){const o=[],u=c.id;return u===void 0&&o.push({message:`layers.${u}: missing required property "id"`}),c.render===void 0&&o.push({message:`layers.${u}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&o.push({message:`layers.${u}: property "renderingMode" must be either "2d" or "3d"`}),o},a.validateFilter=c=>gs(xf(c)),a.validateFog=c=>gs(L6(c)),a.validateLayer=c=>gs(D6(c)),a.validateLight=c=>gs(N6(c)),a.validateSource=c=>gs(R6(c)),a.validateStyle=B6,a.validateTerrain=c=>gs(x_(c)),a.values=K,a.vectorTile=aw,a.version=f,a.warnOnce=rt,a.window=p,a.wrap=Ee}),s(["./shared"],function(a){function p(Le){if(typeof Le=="number"||typeof Le=="boolean"||typeof Le=="string"||Le==null)return JSON.stringify(Le);if(Array.isArray(Le)){let ge="[";for(const Re of Le)ge+=`${p(Re)},`;return`${ge}]`}let de="{";for(const ge of Object.keys(Le).sort())de+=`${ge}:${p(Le[ge])},`;return`${de}}`}function f(Le){let de="";for(const ge of a.refProperties)de+=`/${p(Le[ge])}`;return de}class g{constructor(de){this.keyCache={},de&&this.replace(de)}replace(de){this._layerConfigs={},this._layers={},this.update(de,[])}update(de,ge){for(const $e of de)this._layerConfigs[$e.id]=$e,(this._layers[$e.id]=a.createStyleLayer($e)).compileFilter(),this.keyCache[$e.id]&&delete this.keyCache[$e.id];for(const $e of ge)delete this.keyCache[$e],delete this._layerConfigs[$e],delete this._layers[$e];this.familiesBySource={};const Re=function($e,Ye){const Ge={};for(let We=0;We<$e.length;We++){const lt=Ye&&Ye[$e[We].id]||f($e[We]);Ye&&(Ye[$e[We].id]=lt);let Ft=Ge[lt];Ft||(Ft=Ge[lt]=[]),Ft.push($e[We])}const tt=[];for(const We in Ge)tt.push(Ge[We]);return tt}(a.values(this._layerConfigs),this.keyCache);for(const $e of Re){const Ye=$e.map(Ot=>this._layers[Ot.id]),Ge=Ye[0];if(Ge.visibility==="none")continue;const tt=Ge.source||"";let We=this.familiesBySource[tt];We||(We=this.familiesBySource[tt]={});const lt=Ge.sourceLayer||"_geojsonTileLayer";let Ft=We[lt];Ft||(Ft=We[lt]=[]),Ft.push(Ye)}}}class v{loadTile(de,ge){const{uid:Re,encoding:$e,rawImageData:Ye,padding:Ge,buildQuadTree:tt}=de,We=a.window.ImageBitmap&&Ye instanceof a.window.ImageBitmap?this.getImageData(Ye,Ge):Ye;ge(null,new a.DEMData(Re,We,$e,Ge<1,tt))}getImageData(de,ge){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(de.width,de.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=de.width,this.offscreenCanvas.height=de.height,this.offscreenCanvasContext.drawImage(de,0,0,de.width,de.height);const Re=this.offscreenCanvasContext.getImageData(-ge,-ge,de.width+2*ge,de.height+2*ge);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Re}}function _(Le,de){if(Le.length!==0){T(Le[0],de);for(var ge=1;ge<Le.length;ge++)T(Le[ge],!de)}}function T(Le,de){for(var ge=0,Re=0,$e=0,Ye=Le.length,Ge=Ye-1;$e<Ye;Ge=$e++){var tt=(Le[$e][0]-Le[Ge][0])*(Le[Ge][1]+Le[$e][1]),We=ge+tt;Re+=Math.abs(ge)>=Math.abs(tt)?ge-We+tt:tt-We+ge,ge=We}ge+Re>=0!=!!de&&Le.reverse()}var z=a.getDefaultExportFromCjs(function Le(de,ge){var Re,$e=de&&de.type;if($e==="FeatureCollection")for(Re=0;Re<de.features.length;Re++)Le(de.features[Re],ge);else if($e==="GeometryCollection")for(Re=0;Re<de.geometries.length;Re++)Le(de.geometries[Re],ge);else if($e==="Feature")Le(de.geometry,ge);else if($e==="Polygon")_(de.coordinates,ge);else if($e==="MultiPolygon")for(Re=0;Re<de.coordinates.length;Re++)_(de.coordinates[Re],ge);return de});const I=a.VectorTileFeature.prototype.toGeoJSON;var k={exports:{}},C=a.pointGeometry,L=a.vectorTile.VectorTileFeature,N=$;function $(Le,de){this.options=de||{},this.features=Le,this.length=Le.length}function ee(Le,de){this.id=typeof Le.id=="number"?Le.id:void 0,this.type=Le.type,this.rawGeometry=Le.type===1?[Le.geometry]:Le.geometry,this.properties=Le.tags,this.extent=de||4096}$.prototype.feature=function(Le){return new ee(this.features[Le],this.options.extent)},ee.prototype.loadGeometry=function(){var Le=this.rawGeometry;this.geometry=[];for(var de=0;de<Le.length;de++){for(var ge=Le[de],Re=[],$e=0;$e<ge.length;$e++)Re.push(new C(ge[$e][0],ge[$e][1]));this.geometry.push(Re)}return this.geometry},ee.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Le=this.geometry,de=1/0,ge=-1/0,Re=1/0,$e=-1/0,Ye=0;Ye<Le.length;Ye++)for(var Ge=Le[Ye],tt=0;tt<Ge.length;tt++){var We=Ge[tt];de=Math.min(de,We.x),ge=Math.max(ge,We.x),Re=Math.min(Re,We.y),$e=Math.max($e,We.y)}return[de,Re,ge,$e]},ee.prototype.toGeoJSON=L.prototype.toGeoJSON;var re=a.pbf,ne=N;function ie(Le){var de=new re;return function(ge,Re){for(var $e in ge.layers)Re.writeMessage(3,me,ge.layers[$e])}(Le,de),de.finish()}function me(Le,de){var ge;de.writeVarintField(15,Le.version||1),de.writeStringField(1,Le.name||""),de.writeVarintField(5,Le.extent||4096);var Re={keys:[],values:[],keycache:{},valuecache:{}};for(ge=0;ge<Le.length;ge++)Re.feature=Le.feature(ge),de.writeMessage(2,Ze,Re);var $e=Re.keys;for(ge=0;ge<$e.length;ge++)de.writeStringField(3,$e[ge]);var Ye=Re.values;for(ge=0;ge<Ye.length;ge++)de.writeMessage(4,Z,Ye[ge])}function Ze(Le,de){var ge=Le.feature;ge.id!==void 0&&de.writeVarintField(1,ge.id),de.writeMessage(2,et,Le),de.writeVarintField(3,ge.type),de.writeMessage(4,j,ge)}function et(Le,de){var ge=Le.feature,Re=Le.keys,$e=Le.values,Ye=Le.keycache,Ge=Le.valuecache;for(var tt in ge.properties){var We=ge.properties[tt],lt=Ye[tt];if(We!==null){lt===void 0&&(Re.push(tt),Ye[tt]=lt=Re.length-1),de.writeVarint(lt);var Ft=typeof We;Ft!=="string"&&Ft!=="boolean"&&Ft!=="number"&&(We=JSON.stringify(We));var Ot=Ft+":"+We,It=Ge[Ot];It===void 0&&($e.push(We),Ge[Ot]=It=$e.length-1),de.writeVarint(It)}}}function Ke(Le,de){return(de<<3)+(7&Le)}function ye(Le){return Le<<1^Le>>31}function j(Le,de){for(var ge=Le.loadGeometry(),Re=Le.type,$e=0,Ye=0,Ge=ge.length,tt=0;tt<Ge;tt++){var We=ge[tt],lt=1;Re===1&&(lt=We.length),de.writeVarint(Ke(1,lt));for(var Ft=Re===3?We.length-1:We.length,Ot=0;Ot<Ft;Ot++){Ot===1&&Re!==1&&de.writeVarint(Ke(2,Ft-1));var It=We[Ot].x-$e,wr=We[Ot].y-Ye;de.writeVarint(ye(It)),de.writeVarint(ye(wr)),$e+=It,Ye+=wr}Re===3&&de.writeVarint(Ke(7,1))}}function Z(Le,de){var ge=typeof Le;ge==="string"?de.writeStringField(1,Le):ge==="boolean"?de.writeBooleanField(7,Le):ge==="number"&&(Le%1!=0?de.writeDoubleField(3,Le):Le<0?de.writeSVarintField(6,Le):de.writeVarintField(5,Le))}k.exports=ie,k.exports.fromVectorTileJs=ie,k.exports.fromGeojsonVt=function(Le,de){de=de||{};var ge={};for(var Re in Le)ge[Re]=new ne(Le[Re].features,de),ge[Re].name=Re,ge[Re].version=de.version,ge[Re].extent=de.extent;return ie({layers:ge})},k.exports.GeoJSONWrapper=ne;var oe=a.getDefaultExportFromCjs(k.exports);const le={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Le=>Le},Q=Math.fround||(ce=new Float32Array(1),Le=>(ce[0]=+Le,ce[0]));var ce;const Ee=3,fe=5,K=6;class pe{constructor(de){this.options=Object.assign(Object.create(le),de),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(de){const{log:ge,minZoom:Re,maxZoom:$e}=this.options;ge&&console.time("total time");const Ye=`prepare ${de.length} points`;ge&&console.time(Ye),this.points=de;const Ge=[];for(let We=0;We<de.length;We++){const lt=de[We];if(!lt.geometry)continue;const[Ft,Ot]=lt.geometry.coordinates,It=Q(Ve(Ft)),wr=Q(Be(Ot));Ge.push(It,wr,1/0,We,-1,1),this.options.reduce&&Ge.push(0)}let tt=this.trees[$e+1]=this._createTree(Ge);ge&&console.timeEnd(Ye);for(let We=$e;We>=Re;We--){const lt=+Date.now();tt=this.trees[We]=this._createTree(this._cluster(tt,We)),ge&&console.log("z%d: %d clusters in %dms",We,tt.numItems,+Date.now()-lt)}return ge&&console.timeEnd("total time"),this}getClusters(de,ge){let Re=((de[0]+180)%360+360)%360-180;const $e=Math.max(-90,Math.min(90,de[1]));let Ye=de[2]===180?180:((de[2]+180)%360+360)%360-180;const Ge=Math.max(-90,Math.min(90,de[3]));if(de[2]-de[0]>=360)Re=-180,Ye=180;else if(Re>Ye){const Ot=this.getClusters([Re,$e,180,Ge],ge),It=this.getClusters([-180,$e,Ye,Ge],ge);return Ot.concat(It)}const tt=this.trees[this._limitZoom(ge)],We=tt.range(Ve(Re),Be(Ge),Ve(Ye),Be($e)),lt=tt.data,Ft=[];for(const Ot of We){const It=this.stride*Ot;Ft.push(lt[It+fe]>1?Et(lt,It,this.clusterProps):this.points[lt[It+Ee]])}return Ft}getChildren(de){const ge=this._getOriginId(de),Re=this._getOriginZoom(de),$e="No cluster with the specified id.",Ye=this.trees[Re];if(!Ye)throw new Error($e);const Ge=Ye.data;if(ge*this.stride>=Ge.length)throw new Error($e);const tt=this.options.radius/(this.options.extent*Math.pow(2,Re-1)),We=Ye.within(Ge[ge*this.stride],Ge[ge*this.stride+1],tt),lt=[];for(const Ft of We){const Ot=Ft*this.stride;Ge[Ot+4]===de&&lt.push(Ge[Ot+fe]>1?Et(Ge,Ot,this.clusterProps):this.points[Ge[Ot+Ee]])}if(lt.length===0)throw new Error($e);return lt}getLeaves(de,ge,Re){const $e=[];return this._appendLeaves($e,de,ge=ge||10,Re=Re||0,0),$e}getTile(de,ge,Re){const $e=this.trees[this._limitZoom(de)],Ye=Math.pow(2,de),{extent:Ge,radius:tt}=this.options,We=tt/Ge,lt=(Re-We)/Ye,Ft=(Re+1+We)/Ye,Ot={features:[]};return this._addTileFeatures($e.range((ge-We)/Ye,lt,(ge+1+We)/Ye,Ft),$e.data,ge,Re,Ye,Ot),ge===0&&this._addTileFeatures($e.range(1-We/Ye,lt,1,Ft),$e.data,Ye,Re,Ye,Ot),ge===Ye-1&&this._addTileFeatures($e.range(0,lt,We/Ye,Ft),$e.data,-1,Re,Ye,Ot),Ot.features.length?Ot:null}getClusterExpansionZoom(de){let ge=this._getOriginZoom(de)-1;for(;ge<=this.options.maxZoom;){const Re=this.getChildren(de);if(ge++,Re.length!==1)break;de=Re[0].properties.cluster_id}return ge}_appendLeaves(de,ge,Re,$e,Ye){const Ge=this.getChildren(ge);for(const tt of Ge){const We=tt.properties;if(We&&We.cluster?Ye+We.point_count<=$e?Ye+=We.point_count:Ye=this._appendLeaves(de,We.cluster_id,Re,$e,Ye):Ye<$e?Ye++:de.push(tt),de.length===Re)break}return Ye}_createTree(de){const ge=new a.KDBush(de.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Re=0;Re<de.length;Re+=this.stride)ge.add(de[Re],de[Re+1]);return ge.finish(),ge.data=de,ge}_addTileFeatures(de,ge,Re,$e,Ye,Ge){for(const tt of de){const We=tt*this.stride,lt=ge[We+fe]>1;let Ft,Ot,It;if(lt)Ft=zt(ge,We,this.clusterProps),Ot=ge[We],It=ge[We+1];else{const mr=this.points[ge[We+Ee]];Ft=mr.properties;const[Yr,Ar]=mr.geometry.coordinates;Ot=Ve(Yr),It=Be(Ar)}const wr={type:1,geometry:[[Math.round(this.options.extent*(Ot*Ye-Re)),Math.round(this.options.extent*(It*Ye-$e))]],tags:Ft};let dr;dr=lt||this.options.generateId?ge[We+Ee]:this.points[ge[We+Ee]].id,dr!==void 0&&(wr.id=dr),Ge.features.push(wr)}}_limitZoom(de){return Math.max(this.options.minZoom,Math.min(Math.floor(+de),this.options.maxZoom+1))}_cluster(de,ge){const{radius:Re,extent:$e,reduce:Ye,minPoints:Ge}=this.options,tt=Re/($e*Math.pow(2,ge)),We=de.data,lt=[],Ft=this.stride;for(let Ot=0;Ot<We.length;Ot+=Ft){if(We[Ot+2]<=ge)continue;We[Ot+2]=ge;const It=We[Ot],wr=We[Ot+1],dr=de.within(We[Ot],We[Ot+1],tt),mr=We[Ot+fe];let Yr=mr;for(const Ar of dr){const Qr=Ar*Ft;We[Qr+2]>ge&&(Yr+=We[Qr+fe])}if(Yr>mr&&Yr>=Ge){let Ar,Qr=It*mr,ui=wr*mr,mn=-1;const un=((Ot/Ft|0)<<5)+(ge+1)+this.points.length;for(const $o of dr){const pn=$o*Ft;if(We[pn+2]<=ge)continue;We[pn+2]=ge;const bn=We[pn+fe];Qr+=We[pn]*bn,ui+=We[pn+1]*bn,We[pn+4]=un,Ye&&(Ar||(Ar=this._map(We,Ot,!0),mn=this.clusterProps.length,this.clusterProps.push(Ar)),Ye(Ar,this._map(We,pn)))}We[Ot+4]=un,lt.push(Qr/Yr,ui/Yr,1/0,un,-1,Yr),Ye&&lt.push(mn)}else{for(let Ar=0;Ar<Ft;Ar++)lt.push(We[Ot+Ar]);if(Yr>1)for(const Ar of dr){const Qr=Ar*Ft;if(!(We[Qr+2]<=ge)){We[Qr+2]=ge;for(let ui=0;ui<Ft;ui++)lt.push(We[Qr+ui])}}}}return lt}_getOriginId(de){return de-this.points.length>>5}_getOriginZoom(de){return(de-this.points.length)%32}_map(de,ge,Re){if(de[ge+fe]>1){const Ge=this.clusterProps[de[ge+K]];return Re?Object.assign({},Ge):Ge}const $e=this.points[de[ge+Ee]].properties,Ye=this.options.map($e);return Re&&Ye===$e?Object.assign({},Ye):Ye}}function Et(Le,de,ge){return{type:"Feature",id:Le[de+Ee],properties:zt(Le,de,ge),geometry:{type:"Point",coordinates:[(Re=Le[de],360*(Re-.5)),ut(Le[de+1])]}};var Re}function zt(Le,de,ge){const Re=Le[de+fe],$e=Re>=1e4?`${Math.round(Re/1e3)}k`:Re>=1e3?Math.round(Re/100)/10+"k":Re,Ye=Le[de+K],Ge=Ye===-1?{}:Object.assign({},ge[Ye]);return Object.assign(Ge,{cluster:!0,cluster_id:Le[de+Ee],point_count:Re,point_count_abbreviated:$e})}function Ve(Le){return Le/360+.5}function Be(Le){const de=Math.sin(Le*Math.PI/180),ge=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return ge<0?0:ge>1?1:ge}function ut(Le){const de=(180-360*Le)*Math.PI/180;return 360*Math.atan(Math.exp(de))/Math.PI-90}function bt(Le,de,ge,Re){for(var $e,Ye=Re,Ge=ge-de>>1,tt=ge-de,We=Le[de],lt=Le[de+1],Ft=Le[ge],Ot=Le[ge+1],It=de+3;It<ge;It+=3){var wr=Ht(Le[It],Le[It+1],We,lt,Ft,Ot);if(wr>Ye)$e=It,Ye=wr;else if(wr===Ye){var dr=Math.abs(It-Ge);dr<tt&&($e=It,tt=dr)}}Ye>Re&&($e-de>3&&bt(Le,de,$e,Re),Le[$e+2]=Ye,ge-$e>3&&bt(Le,$e,ge,Re))}function Ht(Le,de,ge,Re,$e,Ye){var Ge=$e-ge,tt=Ye-Re;if(Ge!==0||tt!==0){var We=((Le-ge)*Ge+(de-Re)*tt)/(Ge*Ge+tt*tt);We>1?(ge=$e,Re=Ye):We>0&&(ge+=Ge*We,Re+=tt*We)}return(Ge=Le-ge)*Ge+(tt=de-Re)*tt}function _e(Le,de,ge,Re){var $e={id:Le===void 0?null:Le,type:de,geometry:ge,tags:Re,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ye){var Ge=Ye.geometry,tt=Ye.type;if(tt==="Point"||tt==="MultiPoint"||tt==="LineString")Me(Ye,Ge);else if(tt==="Polygon"||tt==="MultiLineString")for(var We=0;We<Ge.length;We++)Me(Ye,Ge[We]);else if(tt==="MultiPolygon")for(We=0;We<Ge.length;We++)for(var lt=0;lt<Ge[We].length;lt++)Me(Ye,Ge[We][lt])}($e),$e}function Me(Le,de){for(var ge=0;ge<de.length;ge+=3)Le.minX=Math.min(Le.minX,de[ge]),Le.minY=Math.min(Le.minY,de[ge+1]),Le.maxX=Math.max(Le.maxX,de[ge]),Le.maxY=Math.max(Le.maxY,de[ge+1])}function we(Le,de,ge,Re){if(de.geometry){var $e=de.geometry.coordinates,Ye=de.geometry.type,Ge=Math.pow(ge.tolerance/((1<<ge.maxZoom)*ge.extent),2),tt=[],We=de.id;if(ge.promoteId?We=de.properties[ge.promoteId]:ge.generateId&&(We=Re||0),Ye==="Point")be($e,tt);else if(Ye==="MultiPoint")for(var lt=0;lt<$e.length;lt++)be($e[lt],tt);else if(Ye==="LineString")rt($e,tt,Ge,!1);else if(Ye==="MultiLineString"){if(ge.lineMetrics){for(lt=0;lt<$e.length;lt++)rt($e[lt],tt=[],Ge,!1),Le.push(_e(We,"LineString",tt,de.properties));return}pt($e,tt,Ge,!1)}else if(Ye==="Polygon")pt($e,tt,Ge,!0);else{if(Ye!=="MultiPolygon"){if(Ye==="GeometryCollection"){for(lt=0;lt<de.geometry.geometries.length;lt++)we(Le,{id:We,geometry:de.geometry.geometries[lt],properties:de.properties},ge,Re);return}throw new Error("Input data is not a valid GeoJSON object.")}for(lt=0;lt<$e.length;lt++){var Ft=[];pt($e[lt],Ft,Ge,!0),tt.push(Ft)}}Le.push(_e(We,Ye,tt,de.properties))}}function be(Le,de){de.push(Ct(Le[0])),de.push(Jt(Le[1])),de.push(0)}function rt(Le,de,ge,Re){for(var $e,Ye,Ge=0,tt=0;tt<Le.length;tt++){var We=Ct(Le[tt][0]),lt=Jt(Le[tt][1]);de.push(We),de.push(lt),de.push(0),tt>0&&(Ge+=Re?($e*lt-We*Ye)/2:Math.sqrt(Math.pow(We-$e,2)+Math.pow(lt-Ye,2))),$e=We,Ye=lt}var Ft=de.length-3;de[2]=1,bt(de,0,Ft,ge),de[Ft+2]=1,de.size=Math.abs(Ge),de.start=0,de.end=de.size}function pt(Le,de,ge,Re){for(var $e=0;$e<Le.length;$e++){var Ye=[];rt(Le[$e],Ye,ge,Re),de.push(Ye)}}function Ct(Le){return Le/360+.5}function Jt(Le){var de=Math.sin(Le*Math.PI/180),ge=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return ge<0?0:ge>1?1:ge}function Rr(Le,de,ge,Re,$e,Ye,Ge,tt){if(Re/=de,Ye>=(ge/=de)&&Ge<Re)return Le;if(Ge<ge||Ye>=Re)return null;for(var We=[],lt=0;lt<Le.length;lt++){var Ft=Le[lt],Ot=Ft.geometry,It=Ft.type,wr=$e===0?Ft.minX:Ft.minY,dr=$e===0?Ft.maxX:Ft.maxY;if(wr>=ge&&dr<Re)We.push(Ft);else if(!(dr<ge||wr>=Re)){var mr=[];if(It==="Point"||It==="MultiPoint")Br(Ot,mr,ge,Re,$e);else if(It==="LineString")Fr(Ot,mr,ge,Re,$e,!1,tt.lineMetrics);else if(It==="MultiLineString")en(Ot,mr,ge,Re,$e,!1);else if(It==="Polygon")en(Ot,mr,ge,Re,$e,!0);else if(It==="MultiPolygon")for(var Yr=0;Yr<Ot.length;Yr++){var Ar=[];en(Ot[Yr],Ar,ge,Re,$e,!0),Ar.length&&mr.push(Ar)}if(mr.length){if(tt.lineMetrics&&It==="LineString"){for(Yr=0;Yr<mr.length;Yr++)We.push(_e(Ft.id,It,mr[Yr],Ft.tags));continue}It!=="LineString"&&It!=="MultiLineString"||(mr.length===1?(It="LineString",mr=mr[0]):It="MultiLineString"),It!=="Point"&&It!=="MultiPoint"||(It=mr.length===3?"Point":"MultiPoint"),We.push(_e(Ft.id,It,mr,Ft.tags))}}}return We.length?We:null}function Br(Le,de,ge,Re,$e){for(var Ye=0;Ye<Le.length;Ye+=3){var Ge=Le[Ye+$e];Ge>=ge&&Ge<=Re&&(de.push(Le[Ye]),de.push(Le[Ye+1]),de.push(Le[Ye+2]))}}function Fr(Le,de,ge,Re,$e,Ye,Ge){for(var tt,We,lt=Zn(Le),Ft=$e===0?Ei:Xr,Ot=Le.start,It=0;It<Le.length-3;It+=3){var wr=Le[It],dr=Le[It+1],mr=Le[It+2],Yr=Le[It+3],Ar=Le[It+4],Qr=$e===0?wr:dr,ui=$e===0?Yr:Ar,mn=!1;Ge&&(tt=Math.sqrt(Math.pow(wr-Yr,2)+Math.pow(dr-Ar,2))),Qr<ge?ui>ge&&(We=Ft(lt,wr,dr,Yr,Ar,ge),Ge&&(lt.start=Ot+tt*We)):Qr>Re?ui<Re&&(We=Ft(lt,wr,dr,Yr,Ar,Re),Ge&&(lt.start=Ot+tt*We)):Sn(lt,wr,dr,mr),ui<ge&&Qr>=ge&&(We=Ft(lt,wr,dr,Yr,Ar,ge),mn=!0),ui>Re&&Qr<=Re&&(We=Ft(lt,wr,dr,Yr,Ar,Re),mn=!0),!Ye&&mn&&(Ge&&(lt.end=Ot+tt*We),de.push(lt),lt=Zn(Le)),Ge&&(Ot+=tt)}var un=Le.length-3;wr=Le[un],dr=Le[un+1],mr=Le[un+2],(Qr=$e===0?wr:dr)>=ge&&Qr<=Re&&Sn(lt,wr,dr,mr),un=lt.length-3,Ye&&un>=3&&(lt[un]!==lt[0]||lt[un+1]!==lt[1])&&Sn(lt,lt[0],lt[1],lt[2]),lt.length&&de.push(lt)}function Zn(Le){var de=[];return de.size=Le.size,de.start=Le.start,de.end=Le.end,de}function en(Le,de,ge,Re,$e,Ye){for(var Ge=0;Ge<Le.length;Ge++)Fr(Le[Ge],de,ge,Re,$e,Ye,!1)}function Sn(Le,de,ge,Re){Le.push(de),Le.push(ge),Le.push(Re)}function Ei(Le,de,ge,Re,$e,Ye){var Ge=(Ye-de)/(Re-de);return Le.push(Ye),Le.push(ge+($e-ge)*Ge),Le.push(1),Ge}function Xr(Le,de,ge,Re,$e,Ye){var Ge=(Ye-ge)/($e-ge);return Le.push(de+(Re-de)*Ge),Le.push(Ye),Le.push(1),Ge}function ve(Le,de){for(var ge=[],Re=0;Re<Le.length;Re++){var $e,Ye=Le[Re],Ge=Ye.type;if(Ge==="Point"||Ge==="MultiPoint"||Ge==="LineString")$e=Y(Ye.geometry,de);else if(Ge==="MultiLineString"||Ge==="Polygon"){$e=[];for(var tt=0;tt<Ye.geometry.length;tt++)$e.push(Y(Ye.geometry[tt],de))}else if(Ge==="MultiPolygon")for($e=[],tt=0;tt<Ye.geometry.length;tt++){for(var We=[],lt=0;lt<Ye.geometry[tt].length;lt++)We.push(Y(Ye.geometry[tt][lt],de));$e.push(We)}ge.push(_e(Ye.id,Ge,$e,Ye.tags))}return ge}function Y(Le,de){var ge=[];ge.size=Le.size,Le.start!==void 0&&(ge.start=Le.start,ge.end=Le.end);for(var Re=0;Re<Le.length;Re+=3)ge.push(Le[Re]+de,Le[Re+1],Le[Re+2]);return ge}function J(Le,de){if(Le.transformed)return Le;var ge,Re,$e,Ye=1<<Le.z,Ge=Le.x,tt=Le.y;for(ge=0;ge<Le.features.length;ge++){var We=Le.features[ge],lt=We.geometry,Ft=We.type;if(We.geometry=[],Ft===1)for(Re=0;Re<lt.length;Re+=2)We.geometry.push(ze(lt[Re],lt[Re+1],de,Ye,Ge,tt));else for(Re=0;Re<lt.length;Re++){var Ot=[];for($e=0;$e<lt[Re].length;$e+=2)Ot.push(ze(lt[Re][$e],lt[Re][$e+1],de,Ye,Ge,tt));We.geometry.push(Ot)}}return Le.transformed=!0,Le}function ze(Le,de,ge,Re,$e,Ye){return[Math.round(ge*(Le*Re-$e)),Math.round(ge*(de*Re-Ye))]}function st(Le,de,ge,Re,$e){for(var Ye=de===$e.maxZoom?0:$e.tolerance/((1<<de)*$e.extent),Ge={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:ge,y:Re,z:de,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},tt=0;tt<Le.length;tt++){Ge.numFeatures++,mt(Ge,Le[tt],Ye,$e);var We=Le[tt].minX,lt=Le[tt].minY,Ft=Le[tt].maxX,Ot=Le[tt].maxY;We<Ge.minX&&(Ge.minX=We),lt<Ge.minY&&(Ge.minY=lt),Ft>Ge.maxX&&(Ge.maxX=Ft),Ot>Ge.maxY&&(Ge.maxY=Ot)}return Ge}function mt(Le,de,ge,Re){var $e=de.geometry,Ye=de.type,Ge=[];if(Ye==="Point"||Ye==="MultiPoint")for(var tt=0;tt<$e.length;tt+=3)Ge.push($e[tt]),Ge.push($e[tt+1]),Le.numPoints++,Le.numSimplified++;else if(Ye==="LineString")At(Ge,$e,Le,ge,!1,!1);else if(Ye==="MultiLineString"||Ye==="Polygon")for(tt=0;tt<$e.length;tt++)At(Ge,$e[tt],Le,ge,Ye==="Polygon",tt===0);else if(Ye==="MultiPolygon")for(var We=0;We<$e.length;We++){var lt=$e[We];for(tt=0;tt<lt.length;tt++)At(Ge,lt[tt],Le,ge,!0,tt===0)}if(Ge.length){var Ft=de.tags||null;if(Ye==="LineString"&&Re.lineMetrics){for(var Ot in Ft={},de.tags)Ft[Ot]=de.tags[Ot];Ft.mapbox_clip_start=$e.start/$e.size,Ft.mapbox_clip_end=$e.end/$e.size}var It={geometry:Ge,type:Ye==="Polygon"||Ye==="MultiPolygon"?3:Ye==="LineString"||Ye==="MultiLineString"?2:1,tags:Ft};de.id!==null&&(It.id=de.id),Le.features.push(It)}}function At(Le,de,ge,Re,$e,Ye){var Ge=Re*Re;if(Re>0&&de.size<($e?Ge:Re))ge.numPoints+=de.length/3;else{for(var tt=[],We=0;We<de.length;We+=3)(Re===0||de[We+2]>Ge)&&(ge.numSimplified++,tt.push(de[We]),tt.push(de[We+1])),ge.numPoints++;$e&&function(lt,Ft){for(var Ot=0,It=0,wr=lt.length,dr=wr-2;It<wr;dr=It,It+=2)Ot+=(lt[It]-lt[dr])*(lt[It+1]+lt[dr+1]);if(Ot>0===Ft)for(It=0,wr=lt.length;It<wr/2;It+=2){var mr=lt[It],Yr=lt[It+1];lt[It]=lt[wr-2-It],lt[It+1]=lt[wr-1-It],lt[wr-2-It]=mr,lt[wr-1-It]=Yr}}(tt,Ye),Le.push(tt)}}function Dr(Le,de){var ge=(de=this.options=function($e,Ye){for(var Ge in Ye)$e[Ge]=Ye[Ge];return $e}(Object.create(this.options),de)).debug;if(ge&&console.time("preprocess data"),de.maxZoom<0||de.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(de.promoteId&&de.generateId)throw new Error("promoteId and generateId cannot be used together.");var Re=function($e,Ye){var Ge=[];if($e.type==="FeatureCollection")for(var tt=0;tt<$e.features.length;tt++)we(Ge,$e.features[tt],Ye,tt);else we(Ge,$e.type==="Feature"?$e:{geometry:$e},Ye);return Ge}(Le,de);this.tiles={},this.tileCoords=[],ge&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",de.indexMaxZoom,de.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Re=function($e,Ye){var Ge=Ye.buffer/Ye.extent,tt=$e,We=Rr($e,1,-1-Ge,Ge,0,-1,2,Ye),lt=Rr($e,1,1-Ge,2+Ge,0,-1,2,Ye);return(We||lt)&&(tt=Rr($e,1,-Ge,1+Ge,0,-1,2,Ye)||[],We&&(tt=ve(We,1).concat(tt)),lt&&(tt=tt.concat(ve(lt,-1)))),tt}(Re,de),Re.length&&this.splitTile(Re,0,0,0),ge&&(Re.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Lr(Le,de,ge){return 32*((1<<Le)*ge+de)+Le}function Mr(Le,de){const ge=Le.tileID.canonical;if(!this._geoJSONIndex)return de(null,null);const Re=this._geoJSONIndex.getTile(ge.z,ge.x,ge.y);if(!Re)return de(null,null);const $e=new class{constructor(Ge){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=Ge.length,this._features=Ge}feature(Ge){return new class{constructor(tt){this._feature=tt,this.extent=a.EXTENT,this.type=tt.type,this.properties=tt.tags,"id"in tt&&!isNaN(tt.id)&&(this.id=parseInt(tt.id,10))}loadGeometry(){if(this._feature.type===1){const tt=[];for(const We of this._feature.geometry)tt.push([new a.Point(We[0],We[1])]);return tt}{const tt=[];for(const We of this._feature.geometry){const lt=[];for(const Ft of We)lt.push(new a.Point(Ft[0],Ft[1]));tt.push(lt)}return tt}}toGeoJSON(tt,We,lt){return I.call(this,tt,We,lt)}}(this._features[Ge])}}(Re.features);let Ye=oe($e);Ye.byteOffset===0&&Ye.byteLength===Ye.buffer.byteLength||(Ye=new Uint8Array(Ye)),de(null,{vectorTile:$e,rawData:Ye.buffer})}Dr.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Dr.prototype.splitTile=function(Le,de,ge,Re,$e,Ye,Ge){for(var tt=[Le,de,ge,Re],We=this.options,lt=We.debug;tt.length;){Re=tt.pop(),ge=tt.pop(),de=tt.pop(),Le=tt.pop();var Ft=1<<de,Ot=Lr(de,ge,Re),It=this.tiles[Ot];if(!It&&(lt>1&&console.time("creation"),It=this.tiles[Ot]=st(Le,de,ge,Re,We),this.tileCoords.push({z:de,x:ge,y:Re}),lt)){lt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",de,ge,Re,It.numFeatures,It.numPoints,It.numSimplified),console.timeEnd("creation"));var wr="z"+de;this.stats[wr]=(this.stats[wr]||0)+1,this.total++}if(It.source=Le,$e){if(de===We.maxZoom||de===$e)continue;var dr=1<<$e-de;if(ge!==Math.floor(Ye/dr)||Re!==Math.floor(Ge/dr))continue}else if(de===We.indexMaxZoom||It.numPoints<=We.indexMaxPoints)continue;if(It.source=null,Le.length!==0){lt>1&&console.time("clipping");var mr,Yr,Ar,Qr,ui,mn,un=.5*We.buffer/We.extent,$o=.5-un,pn=.5+un,bn=1+un;mr=Yr=Ar=Qr=null,ui=Rr(Le,Ft,ge-un,ge+pn,0,It.minX,It.maxX,We),mn=Rr(Le,Ft,ge+$o,ge+bn,0,It.minX,It.maxX,We),Le=null,ui&&(mr=Rr(ui,Ft,Re-un,Re+pn,1,It.minY,It.maxY,We),Yr=Rr(ui,Ft,Re+$o,Re+bn,1,It.minY,It.maxY,We),ui=null),mn&&(Ar=Rr(mn,Ft,Re-un,Re+pn,1,It.minY,It.maxY,We),Qr=Rr(mn,Ft,Re+$o,Re+bn,1,It.minY,It.maxY,We),mn=null),lt>1&&console.timeEnd("clipping"),tt.push(mr||[],de+1,2*ge,2*Re),tt.push(Yr||[],de+1,2*ge,2*Re+1),tt.push(Ar||[],de+1,2*ge+1,2*Re),tt.push(Qr||[],de+1,2*ge+1,2*Re+1)}}},Dr.prototype.getTile=function(Le,de,ge){var Re=this.options,$e=Re.extent,Ye=Re.debug;if(Le<0||Le>24)return null;var Ge=1<<Le,tt=Lr(Le,de=(de%Ge+Ge)%Ge,ge);if(this.tiles[tt])return J(this.tiles[tt],$e);Ye>1&&console.log("drilling down to z%d-%d-%d",Le,de,ge);for(var We,lt=Le,Ft=de,Ot=ge;!We&&lt>0;)lt--,Ft=Math.floor(Ft/2),Ot=Math.floor(Ot/2),We=this.tiles[Lr(lt,Ft,Ot)];return We&&We.source?(Ye>1&&console.log("found parent tile z%d-%d-%d",lt,Ft,Ot),Ye>1&&console.time("drilling down"),this.splitTile(We.source,lt,Ft,Ot,Le,de,ge),Ye>1&&console.timeEnd("drilling down"),this.tiles[tt]?J(this.tiles[tt],$e):null):null};class Mn extends a.VectorTileWorkerSource{constructor(de,ge,Re,$e,Ye){super(de,ge,Re,$e,Mr),Ye&&(this.loadGeoJSON=Ye)}loadData(de,ge){const Re=de&&de.request,$e=Re&&Re.collectResourceTiming;this.loadGeoJSON(de,(Ye,Ge)=>{if(Ye||!Ge)return ge(Ye);if(typeof Ge!="object")return ge(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));{z(Ge,!0);try{if(de.filter){const We=a.createExpression(de.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(We.result==="error")throw new Error(We.value.map(Ft=>`${Ft.key}: ${Ft.message}`).join(", "));Ge={type:"FeatureCollection",features:Ge.features.filter(Ft=>We.value.evaluate({zoom:0},Ft))}}this._geoJSONIndex=de.cluster?new pe(function({superclusterOptions:We,clusterProperties:lt}){if(!lt||!We)return We;const Ft={},Ot={},It={accumulated:null,zoom:0},wr={properties:null},dr=Object.keys(lt);for(const mr of dr){const[Yr,Ar]=lt[mr],Qr=a.createExpression(Ar),ui=a.createExpression(typeof Yr=="string"?[Yr,["accumulated"],["get",mr]]:Yr);Ft[mr]=Qr.value,Ot[mr]=ui.value}return We.map=mr=>{wr.properties=mr;const Yr={};for(const Ar of dr)Yr[Ar]=Ft[Ar].evaluate(It,wr);return Yr},We.reduce=(mr,Yr)=>{wr.properties=Yr;for(const Ar of dr)It.accumulated=mr[Ar],mr[Ar]=Ot[Ar].evaluate(It,wr)},We}(de)).load(Ge.features):function(We,lt){return new Dr(We,lt)}(Ge,de.geojsonVtOptions)}catch(We){return ge(We)}this.loaded={};const tt={};if($e){const We=a.getPerformanceMeasurement(Re);We&&(tt.resourceTiming={},tt.resourceTiming[de.source]=JSON.parse(JSON.stringify(We)))}ge(null,tt)}})}reloadTile(de,ge){const Re=this.loaded;return Re&&Re[de.uid]?super.reloadTile(de,ge):this.loadTile(de,ge)}loadGeoJSON(de,ge){if(de.request)a.getJSON(de.request,ge);else{if(typeof de.data!="string")return ge(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));try{return ge(null,JSON.parse(de.data))}catch{return ge(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(de,ge){try{ge(null,this._geoJSONIndex.getClusterExpansionZoom(de.clusterId))}catch(Re){ge(Re)}}getClusterChildren(de,ge){try{ge(null,this._geoJSONIndex.getChildren(de.clusterId))}catch(Re){ge(Re)}}getClusterLeaves(de,ge){try{ge(null,this._geoJSONIndex.getLeaves(de.clusterId,de.limit,de.offset))}catch(Re){ge(Re)}}}class Nr{constructor(de){this.self=de,this.actor=new a.Actor(de,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=a.getProjection({name:"mercator"}),this.workerSourceTypes={vector:a.VectorTileWorkerSource,geojson:Mn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(ge,Re)=>{if(this.workerSourceTypes[ge])throw new Error(`Worker source with name "${ge}" already registered.`);this.workerSourceTypes[ge]=Re},this.self.registerRTLTextPlugin=ge=>{if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=ge.applyArabicShaping,a.plugin.processBidirectionalText=ge.processBidirectionalText,a.plugin.processStyledBidirectionalText=ge.processStyledBidirectionalText}}clearCaches(de,ge,Re){delete this.layerIndexes[de],delete this.availableImages[de],delete this.workerSources[de],delete this.demWorkerSources[de],Re()}checkIfReady(de,ge,Re){Re()}setReferrer(de,ge){this.referrer=ge}spriteLoaded(de,ge){this.isSpriteLoaded[de]=ge;for(const Re in this.workerSources[de]){const $e=this.workerSources[de][Re];for(const Ye in $e)$e[Ye]instanceof a.VectorTileWorkerSource&&($e[Ye].isSpriteLoaded=ge,$e[Ye].fire(new a.Event("isSpriteLoaded")))}}setImages(de,ge,Re){this.availableImages[de]=ge;for(const $e in this.workerSources[de]){const Ye=this.workerSources[de][$e];for(const Ge in Ye)Ye[Ge].availableImages=ge}Re()}enableTerrain(de,ge,Re){this.terrain=ge,Re()}setProjection(de,ge){this.projections[de]=a.getProjection(ge)}setLayers(de,ge,Re){this.getLayerIndex(de).replace(ge),Re()}updateLayers(de,ge,Re){this.getLayerIndex(de).update(ge.layers,ge.removedIds),Re()}loadTile(de,ge,Re){const $e=this.enableTerrain?a.extend({enableTerrain:this.terrain},ge):ge;$e.projection=this.projections[de]||this.defaultProjection,this.getWorkerSource(de,ge.type,ge.source).loadTile($e,Re)}loadDEMTile(de,ge,Re){const $e=this.enableTerrain?a.extend({buildQuadTree:this.terrain},ge):ge;this.getDEMWorkerSource(de,ge.source).loadTile($e,Re)}reloadTile(de,ge,Re){const $e=this.enableTerrain?a.extend({enableTerrain:this.terrain},ge):ge;$e.projection=this.projections[de]||this.defaultProjection,this.getWorkerSource(de,ge.type,ge.source).reloadTile($e,Re)}abortTile(de,ge,Re){this.getWorkerSource(de,ge.type,ge.source).abortTile(ge,Re)}removeTile(de,ge,Re){this.getWorkerSource(de,ge.type,ge.source).removeTile(ge,Re)}removeSource(de,ge,Re){if(!this.workerSources[de]||!this.workerSources[de][ge.type]||!this.workerSources[de][ge.type][ge.source])return;const $e=this.workerSources[de][ge.type][ge.source];delete this.workerSources[de][ge.type][ge.source],$e.removeSource!==void 0?$e.removeSource(ge,Re):Re()}loadWorkerSource(de,ge,Re){try{this.self.importScripts(ge.url),Re()}catch($e){Re($e.toString())}}syncRTLPluginState(de,ge,Re){try{a.plugin.setState(ge);const $e=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&$e!=null){this.self.importScripts($e);const Ye=a.plugin.isParsed();Re(Ye?void 0:new Error(`RTL Text Plugin failed to import scripts from ${$e}`),Ye)}}catch($e){Re($e.toString())}}getAvailableImages(de){let ge=this.availableImages[de];return ge||(ge=[]),ge}getLayerIndex(de){let ge=this.layerIndexes[de];return ge||(ge=this.layerIndexes[de]=new g),ge}getWorkerSource(de,ge,Re){if(this.workerSources[de]||(this.workerSources[de]={}),this.workerSources[de][ge]||(this.workerSources[de][ge]={}),!this.workerSources[de][ge][Re]){const $e={send:(Ye,Ge,tt,We,lt,Ft)=>{this.actor.send(Ye,Ge,tt,de,lt,Ft)},scheduler:this.actor.scheduler};this.workerSources[de][ge][Re]=new this.workerSourceTypes[ge]($e,this.getLayerIndex(de),this.getAvailableImages(de),this.isSpriteLoaded[de])}return this.workerSources[de][ge][Re]}getDEMWorkerSource(de,ge){return this.demWorkerSources[de]||(this.demWorkerSources[de]={}),this.demWorkerSources[de][ge]||(this.demWorkerSources[de][ge]=new v),this.demWorkerSources[de][ge]}enforceCacheSizeLimit(de,ge){a.enforceCacheSizeLimit(ge)}getWorkerPerformanceMetrics(de,ge,Re){Re(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Nr(self)),Nr}),s(["./shared"],function(a){function p(b,d){if(Array.isArray(b)){if(!Array.isArray(d)||b.length!==d.length)return!1;for(let m=0;m<b.length;m++)if(!p(b[m],d[m]))return!1;return!0}if(typeof b=="object"&&b!==null&&d!==null){if(typeof d!="object"||Object.keys(b).length!==Object.keys(d).length)return!1;for(const m in b)if(!p(b[m],d[m]))return!1;return!0}return b===d}var f=g;function g(b){return!function(d){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var w,E,M=new Blob([""],{type:"text/javascript"}),O=URL.createObjectURL(M);try{E=new Worker(O),w=!0}catch{w=!1}return E&&E.terminate(),URL.revokeObjectURL(O),w}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var w=document.createElement("canvas");w.width=w.height=1;var E=w.getContext("2d");if(!E)return!1;var M=E.getImageData(0,0,1,1);return M&&M.width===w.width}()?(v[m=d&&d.failIfMajorPerformanceCaveat]===void 0&&(v[m]=function(w){var E,M=function(O){var F=document.createElement("canvas"),U=Object.create(g.webGLContextAttributes);return U.failIfMajorPerformanceCaveat=O,F.getContext("webgl",U)||F.getContext("experimental-webgl",U)}(w);if(!M)return!1;try{E=M.createShader(M.VERTEX_SHADER)}catch{return!1}return!(!E||M.isContextLost())&&(M.shaderSource(E,"void main() {}"),M.compileShader(E),M.getShaderParameter(E,M.COMPILE_STATUS)===!0)}(m)),v[m]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var m}(b)}var v={};function _(b,d,m){const w=a.window.document.createElement(b);return d!==void 0&&(w.className=d),m&&m.appendChild(w),w}function T(b,d,m){const w=a.window.document.createElementNS("http://www.w3.org/2000/svg",b);for(const E of Object.keys(d))w.setAttributeNS(null,E,d[E]);return m&&m.appendChild(w),w}g.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const z=a.window.document&&a.window.document.documentElement.style,I=z&&z.userSelect!==void 0?"userSelect":"WebkitUserSelect";let k;function C(){z&&I&&(k=z[I],z[I]="none")}function L(){z&&I&&(z[I]=k)}function N(b){b.preventDefault(),b.stopPropagation(),a.window.removeEventListener("click",N,!0)}function $(){a.window.addEventListener("click",N,!0),a.window.setTimeout(()=>{a.window.removeEventListener("click",N,!0)},0)}function ee(b,d){const m=b.getBoundingClientRect();return ie(b,m,d)}function re(b,d){const m=b.getBoundingClientRect(),w=[];for(let E=0;E<d.length;E++)w.push(ie(b,m,d[E]));return w}function ne(b){return a.window.InstallTrigger!==void 0&&b.button===2&&b.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:b.button}function ie(b,d,m){const w=b.offsetWidth===d.width?1:b.offsetWidth/d.width;return new a.Point((m.clientX-d.left)*w,(m.clientY-d.top)*w)}function me(b,d){var m=d[0],w=d[1],E=d[2],M=d[3],O=m*M-E*w;return O?(b[0]=M*(O=1/O),b[1]=-w*O,b[2]=-E*O,b[3]=m*O,b):null}function Ze(b){const{userImage:d}=b;return!!(d&&d.render&&d.render())&&(b.data.replace(new Uint8Array(d.data.buffer)),!0)}class et extends a.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(d){if(this.loaded!==d&&(this.loaded=d,d)){for(const{ids:m,callback:w}of this.requestors)this._notify(m,w);this.requestors=[]}}hasImage(d){return!!this.getImage(d)}getImage(d){return this.images[d]}addImage(d,m){this._validate(d,m)&&(this.images[d]=m)}_validate(d,m){let w=!0;return this._validateStretch(m.stretchX,m.data&&m.data.width)||(this.fire(new a.ErrorEvent(new Error(`Image "${d}" has invalid "stretchX" value`))),w=!1),this._validateStretch(m.stretchY,m.data&&m.data.height)||(this.fire(new a.ErrorEvent(new Error(`Image "${d}" has invalid "stretchY" value`))),w=!1),this._validateContent(m.content,m)||(this.fire(new a.ErrorEvent(new Error(`Image "${d}" has invalid "content" value`))),w=!1),w}_validateStretch(d,m){if(!d)return!0;let w=0;for(const E of d){if(E[0]<w||E[1]<E[0]||m<E[1])return!1;w=E[1]}return!0}_validateContent(d,m){return!(d&&(d.length!==4||d[0]<0||m.data.width<d[0]||d[1]<0||m.data.height<d[1]||d[2]<0||m.data.width<d[2]||d[3]<0||m.data.height<d[3]||d[2]<d[0]||d[3]<d[1]))}updateImage(d,m){m.version=this.images[d].version+1,this.images[d]=m,this.updatedImages[d]=!0}removeImage(d){const m=this.images[d];delete this.images[d],delete this.patterns[d],m.userImage&&m.userImage.onRemove&&m.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(d,m){let w=!0;if(!this.isLoaded())for(const E of d)this.images[E]||(w=!1);this.isLoaded()||w?this._notify(d,m):this.requestors.push({ids:d,callback:m})}_notify(d,m){const w={};for(const E of d){this.images[E]||this.fire(new a.Event("styleimagemissing",{id:E}));const M=this.images[E];M?w[E]={data:M.data.clone(),pixelRatio:M.pixelRatio,sdf:M.sdf,version:M.version,stretchX:M.stretchX,stretchY:M.stretchY,content:M.content,hasRenderCallback:!!(M.userImage&&M.userImage.render)}:a.warnOnce(`Image "${E}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}m(null,w)}getPixelSize(){const{width:d,height:m}=this.atlasImage;return{width:d,height:m}}getPattern(d){const m=this.patterns[d],w=this.getImage(d);if(!w)return null;if(m&&m.position.version===w.version)return m.position;if(m)m.position.version=w.version;else{const E={w:w.data.width+2,h:w.data.height+2,x:0,y:0},M=new a.ImagePosition(E,w);this.patterns[d]={bin:E,position:M}}return this._updatePatternAtlas(),this.patterns[d].position}bind(d){const m=d.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(d,this.atlasImage,m.RGBA),this.atlasTexture&&this.atlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE)}_updatePatternAtlas(){const d=[];for(const M in this.patterns)d.push(this.patterns[M].bin);const{w:m,h:w}=a.potpack(d),E=this.atlasImage;E.resize({width:m||1,height:w||1});for(const M in this.patterns){const{bin:O}=this.patterns[M],F=O.x+1,U=O.y+1,H=this.images[M].data,G=H.width,ae=H.height;a.RGBAImage.copy(H,E,{x:0,y:0},{x:F,y:U},{width:G,height:ae}),a.RGBAImage.copy(H,E,{x:0,y:ae-1},{x:F,y:U-1},{width:G,height:1}),a.RGBAImage.copy(H,E,{x:0,y:0},{x:F,y:U+ae},{width:G,height:1}),a.RGBAImage.copy(H,E,{x:G-1,y:0},{x:F-1,y:U},{width:1,height:ae}),a.RGBAImage.copy(H,E,{x:0,y:0},{x:F+G,y:U},{width:1,height:ae})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(d){for(const m of d){if(this.callbackDispatchedThisFrame[m])continue;this.callbackDispatchedThisFrame[m]=!0;const w=this.images[m];Ze(w)&&this.updateImage(m,w)}}}const Ke=new a.Properties({anchor:new a.DataConstantProperty(a.spec.light.anchor),position:new class{constructor(){this.specification=a.spec.light.position}possiblyEvaluate(b,d){return function([m,w,E]){const M=a.degToRad(w+90),O=a.degToRad(E);return{x:m*Math.cos(M)*Math.sin(O),y:m*Math.sin(M)*Math.sin(O),z:m*Math.cos(O),azimuthal:w,polar:E}}(b.expression.evaluate(d))}interpolate(b,d,m){return{x:a.number(b.x,d.x,m),y:a.number(b.y,d.y,m),z:a.number(b.z,d.z,m),azimuthal:a.number(b.azimuthal,d.azimuthal,m),polar:a.number(b.polar,d.polar,m)}}},color:new a.DataConstantProperty(a.spec.light.color),intensity:new a.DataConstantProperty(a.spec.light.intensity)});class ye extends a.Evented{constructor(d){super(),this._transitionable=new a.Transitionable(Ke),this.setLight(d),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(d,m={}){if(!this._validate(a.validateLight,d,m))for(const w in d){const E=d[w];a.endsWith(w,"-transition")?this._transitionable.setTransition(w.slice(0,-11),E):this._transitionable.setValue(w,E)}}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}_validate(d,m,w){return(!w||w.validate!==!1)&&a.emitValidationErrors(this,d.call(a.validateStyle,a.extend({value:m,style:{glyphs:!0,sprite:!0},styleSpec:a.spec})))}}const j=new a.Properties({source:new a.DataConstantProperty(a.spec.terrain.source),exaggeration:new a.DataConstantProperty(a.spec.terrain.exaggeration)});let Z=class extends a.Evented{constructor(b,d){super(),this._transitionable=new a.Transitionable(j),this.set(b),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=d}get(){return this._transitionable.serialize()}set(b){for(const d in b){const m=b[d];a.endsWith(d,"-transition")?this._transitionable.setTransition(d.slice(0,-11),m):this._transitionable.setValue(d,m)}}updateTransitions(b){this._transitioning=this._transitionable.transitioned(b,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(b){this.properties=this._transitioning.possiblyEvaluate(b)}};function oe(b,d,m,w){const E=a.smoothstep(45,65,m),[M,O]=le(b,w),F=a.length(d);let U=1-Math.min(1,Math.exp((F-M)/(O-M)*-6));return U*=U*U,U=Math.min(1,1.00747*U),U*E*b.alpha}function le(b,d){const m=.5/Math.tan(.5*d);return[b.range[0]+m,b.range[1]+m]}const Q=new a.Properties({range:new a.DataConstantProperty(a.spec.fog.range),color:new a.DataConstantProperty(a.spec.fog.color),"high-color":new a.DataConstantProperty(a.spec.fog["high-color"]),"space-color":new a.DataConstantProperty(a.spec.fog["space-color"]),"horizon-blend":new a.DataConstantProperty(a.spec.fog["horizon-blend"]),"star-intensity":new a.DataConstantProperty(a.spec.fog["star-intensity"])});class ce extends a.Evented{constructor(d,m){super(),this._transitionable=new a.Transitionable(Q),this.set(d),this._transitioning=this._transitionable.untransitioned(),this._transform=m}get state(){const d=this._transform,m=d.projection.name==="globe",w=a.globeToMercatorTransition(d.zoom),E=this.properties.get("range"),M=[.5,3];return{range:m?[a.number(M[0],E[0],w),a.number(M[1],E[1],w)]:E,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(d,m={}){if(!this._validate(a.validateFog,d,m)){for(const w of Object.keys(a.spec.fog))d&&d[w]===void 0&&(d[w]=a.spec.fog[w].default);for(const w in d){const E=d[w];a.endsWith(w,"-transition")?this._transitionable.setTransition(w.slice(0,-11),E):this._transitionable.setValue(w,E)}}}getOpacity(d){if(!this._transform.projection.supportsFog)return 0;const m=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:a.smoothstep(45,65,d))*m.a}getOpacityAtLatLng(d,m){return this._transform.projection.supportsFog?function(w,E,M){const O=a.MercatorCoordinate.fromLngLat(E),F=M.elevation?M.elevation.getAtPointOrZero(O):0,U=[O.x,O.y,F];return a.transformMat4(U,U,M.mercatorFogMatrix),oe(w,U,M.pitch,M._fov)}(this.state,d,m):0}getFovAdjustedRange(d){return this._transform.projection.supportsFog?le(this.state,d):[0,1]}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}_validate(d,m,w){return(!w||w.validate!==!1)&&a.emitValidationErrors(this,d.call(a.validateStyle,a.extend({value:m,style:{glyphs:!0,sprite:!0},styleSpec:a.spec})))}}class Ee{constructor(d,m){this.workerPool=d,this.actors=[],this.currentActor=0,this.id=a.uniqueId();const w=this.workerPool.acquire(this.id);for(let E=0;E<w.length;E++){const M=new Ee.Actor(w[E],m,this.id);M.name=`Worker ${E}`,this.actors.push(M)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(d,m,w){a.asyncAll(this.actors,(E,M)=>{E.send(d,m,M)},w=w||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(d=>{d.remove()}),this.actors=[],this.workerPool.release(this.id)}}function fe(b,d,m){return d*(a.EXTENT/(b.tileSize*Math.pow(2,m-b.tileID.overscaledZ)))}Ee.Actor=a.Actor;class K{constructor(d,m,w,E){this.screenBounds=d,this.cameraPoint=m,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=w,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,E)}static createFromScreenPoints(d,m){let w,E;if(d instanceof a.Point||typeof d[0]=="number"){const M=a.Point.convert(d);w=[M],E=m.isPointAboveHorizon(M)}else{const M=a.Point.convert(d[0]),O=a.Point.convert(d[1]);w=[M,O],E=a.polygonizeBounds(M,O).every(F=>m.isPointAboveHorizon(F))}return new K(w,m.getCameraPoint(),E,m)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(d){return a.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],d)}bufferedCameraGeometry(d){const m=this.screenBounds[0],w=this.screenBounds.length===1?this.screenBounds[0].add(new a.Point(1,1)):this.screenBounds[1],E=a.polygonizeBounds(m,w,0,!1);return this.cameraPoint.y>w.y&&(this.cameraPoint.x>m.x&&this.cameraPoint.x<w.x?E.splice(3,0,this.cameraPoint):this.cameraPoint.x>=w.x?E[2]=this.cameraPoint:this.cameraPoint.x<=m.x&&(E[3]=this.cameraPoint)),a.bufferConvexPolygon(E,d)}bufferedCameraGeometryGlobe(d){const m=this.screenBounds[0],w=this.screenBounds.length===1?this.screenBounds[0].add(new a.Point(1,1)):this.screenBounds[1],E=a.polygonizeBounds(m,w,d),M=this.cameraPoint.clone();switch(3*((M.y>m.y)+(M.y>w.y))+((M.x>m.x)+(M.x>w.x))){case 0:E[0]=M,E[4]=M.clone();break;case 1:E.splice(1,0,M);break;case 2:E[1]=M;break;case 3:E.splice(4,0,M);break;case 5:E.splice(2,0,M);break;case 6:E[3]=M;break;case 7:E.splice(3,0,M);break;case 8:E[2]=M}return E}containsTile(d,m,w,E=0){const M=d.queryPadding/m._pixelsPerMercatorPixel+1,O=w?this._bufferedCameraMercator(M,m):this._bufferedScreenMercator(M,m);let F=d.tileID.wrap+(O.unwrapped?E:0);const U=O.polygon.map(Ie=>a.getTilePoint(d.tileTransform,Ie,F));if(!a.polygonIntersectsBox(U,0,0,a.EXTENT,a.EXTENT))return;F=d.tileID.wrap+(this.screenGeometryMercator.unwrapped?E:0);const H=this.screenGeometryMercator.polygon.map(Ie=>a.getTileVec3(d.tileTransform,Ie,F)),G=H.map(Ie=>new a.Point(Ie[0],Ie[1])),ae=m.getFreeCameraOptions().position||new a.MercatorCoordinate(0,0,0),xe=a.getTileVec3(d.tileTransform,ae,F),Te=H.map(Ie=>{const se=a.sub(Ie,Ie,xe);return a.normalize(se,se),new a.Ray(xe,se)}),ke=fe(d,1,m.zoom)*m._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:G,tilespaceRays:Te,bufferedTilespaceGeometry:U,bufferedTilespaceBounds:(Pe=a.getBounds(U),Pe.min.x=a.clamp(Pe.min.x,0,a.EXTENT),Pe.min.y=a.clamp(Pe.min.y,0,a.EXTENT),Pe.max.x=a.clamp(Pe.max.x,0,a.EXTENT),Pe.max.y=a.clamp(Pe.max.y,0,a.EXTENT),Pe),tile:d,tileID:d.tileID,pixelToTileUnitsFactor:ke};var Pe}_bufferedScreenMercator(d,m){const w=zt(d);if(this._screenRaycastCache[w])return this._screenRaycastCache[w];{let E;return E=m.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(d),m):{polygon:this.bufferedScreenGeometry(d).map(M=>m.pointCoordinate3D(M)),unwrapped:!0},this._screenRaycastCache[w]=E,E}}_bufferedCameraMercator(d,m){const w=zt(d);if(this._cameraRaycastCache[w])return this._cameraRaycastCache[w];{let E;return E=m.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(d),m):{polygon:this.bufferedCameraGeometry(d).map(M=>m.pointCoordinate3D(M)),unwrapped:!0},this._cameraRaycastCache[w]=E,E}}_projectAndResample(d,m){const w=function(M,O){const F=a.multiply([],O.pixelMatrix,O.globeMatrix),U=[0,-a.GLOBE_RADIUS,0,1],H=[0,a.GLOBE_RADIUS,0,1],G=[0,0,0,1];a.transformMat4$1(U,U,F),a.transformMat4$1(H,H,F),a.transformMat4$1(G,G,F);const ae=new a.Point(U[0]/U[3],U[1]/U[3]),xe=new a.Point(H[0]/H[3],H[1]/H[3]),Te=a.polygonContainsPoint(M,ae)&&U[3]<G[3],ke=a.polygonContainsPoint(M,xe)&&H[3]<G[3];if(!Te&&!ke)return null;const Pe=function(Qe,ct,ot){for(let vt=1;vt<Qe.length;vt++){const Ut=Et(ct.pointCoordinate3D(Qe[vt-1]).x),ht=Et(ct.pointCoordinate3D(Qe[vt]).x);if(ot<0){if(Ut<ht)return{idx:vt,t:-Ut/(ht-1-Ut)}}else if(ht<Ut)return{idx:vt,t:(1-Ut)/(ht+1-Ut)}}return null}(M,O,Te?-1:1);if(!Pe)return null;const{idx:Ie,t:se}=Pe;let Ae=Ie>1?pe(M.slice(0,Ie),O):[],Ne=Ie<M.length?pe(M.slice(Ie),O):[];Ae=Ae.map(Qe=>new a.Point(Et(Qe.x),Qe.y)),Ne=Ne.map(Qe=>new a.Point(Et(Qe.x),Qe.y));const Oe=[...Ae];Oe.length===0&&Oe.push(Ne[Ne.length-1]);const Xe=a.number(Oe[Oe.length-1].y,(Ne.length===0?Ae[0]:Ne[0]).y,se);let Je;return Je=Te?[new a.Point(0,Xe),new a.Point(0,0),new a.Point(1,0),new a.Point(1,Xe)]:[new a.Point(1,Xe),new a.Point(1,1),new a.Point(0,1),new a.Point(0,Xe)],Oe.push(...Je),Ne.length===0?Oe.push(Ae[0]):Oe.push(...Ne),{polygon:Oe.map(Qe=>new a.MercatorCoordinate(Qe.x,Qe.y)),unwrapped:!1}}(d,m);if(w)return w;const E=function(M,O){let F=!1,U=-1/0,H=0;for(let ae=0;ae<M.length-1;ae++)M[ae].x>U&&(U=M[ae].x,H=ae);for(let ae=0;ae<M.length-1;ae++){const xe=(H+ae)%(M.length-1),Te=M[xe],ke=M[xe+1];Math.abs(Te.x-ke.x)>.5&&(Te.x<ke.x?(Te.x+=1,xe===0&&(M[M.length-1].x+=1)):(ke.x+=1,xe+1===M.length-1&&(M[0].x+=1)),F=!0)}const G=a.mercatorXfromLng(O.center.lng);return F&&G<Math.abs(G-1)&&M.forEach(ae=>{ae.x-=1}),{polygon:M,unwrapped:F}}(pe(d,m).map(M=>new a.Point(Et(M.x),M.y)),m);return{polygon:E.polygon.map(M=>new a.MercatorCoordinate(M.x,M.y)),unwrapped:E.unwrapped}}}function pe(b,d){return a.resample(b,m=>{const w=d.pointCoordinate3D(m);m.x=w.x,m.y=w.y},1/256)}function Et(b){return b<0?1+b%1:b%1}function zt(b){return 100*b|0}function Ve(b,d,m,w,E){const M=function(O,F){if(O)return E(O);if(F){b.url&&F.tiles&&b.tiles&&delete b.tiles;const U=a.pick(a.extend(F,b),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);F.vector_layers&&(U.vectorLayers=F.vector_layers,U.vectorLayerIds=U.vectorLayers.map(H=>H.id)),U.tiles=d.canonicalizeTileset(U,b.url),E(null,U)}};return b.url?a.getJSON(d.transformRequest(d.normalizeSourceURL(b.url,null,m,w),a.ResourceType.Source),M):a.exported.frame(()=>M(null,b))}class Be{constructor(d,m,w){this.bounds=a.LngLatBounds.convert(this.validateBounds(d)),this.minzoom=m||0,this.maxzoom=w||24}validateBounds(d){return Array.isArray(d)&&d.length===4?[Math.max(-180,d[0]),Math.max(-90,d[1]),Math.min(180,d[2]),Math.min(90,d[3])]:[-180,-90,180,90]}contains(d){const m=Math.pow(2,d.z),w=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*m),E=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*m),M=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*m),O=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*m);return d.x>=w&&d.x<M&&d.y>=E&&d.y<O}}class ut{constructor(d,m,w){this.context=d;const E=d.gl;this.buffer=E.createBuffer(),this.dynamicDraw=!!w,this.context.unbindVAO(),d.bindElementBuffer.set(this.buffer),E.bufferData(E.ELEMENT_ARRAY_BUFFER,m.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||m.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(d){const m=this.context.gl;this.context.unbindVAO(),this.bind(),m.bufferSubData(m.ELEMENT_ARRAY_BUFFER,0,d.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const bt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Ht{constructor(d,m,w,E){this.length=m.length,this.attributes=w,this.itemSize=m.bytesPerElement,this.dynamicDraw=E,this.context=d;const M=d.gl;this.buffer=M.createBuffer(),d.bindVertexBuffer.set(this.buffer),M.bufferData(M.ARRAY_BUFFER,m.arrayBuffer,this.dynamicDraw?M.DYNAMIC_DRAW:M.STATIC_DRAW),this.dynamicDraw||m.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(d){const m=this.context.gl;this.bind(),m.bufferSubData(m.ARRAY_BUFFER,0,d.arrayBuffer)}enableAttributes(d,m){for(let w=0;w<this.attributes.length;w++){const E=m.attributes[this.attributes[w].name];E!==void 0&&d.enableVertexAttribArray(E)}}setVertexAttribPointers(d,m,w){for(let E=0;E<this.attributes.length;E++){const M=this.attributes[E],O=m.attributes[M.name];O!==void 0&&d.vertexAttribPointer(O,M.components,d[bt[M.type]],!1,this.itemSize,M.offset+this.itemSize*(w||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class _e{constructor(d){this.gl=d.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(d){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Me extends _e{getDefault(){return a.Color.transparent}set(d){const m=this.current;(d.r!==m.r||d.g!==m.g||d.b!==m.b||d.a!==m.a||this.dirty)&&(this.gl.clearColor(d.r,d.g,d.b,d.a),this.current=d,this.dirty=!1)}}class we extends _e{getDefault(){return 1}set(d){(d!==this.current||this.dirty)&&(this.gl.clearDepth(d),this.current=d,this.dirty=!1)}}class be extends _e{getDefault(){return 0}set(d){(d!==this.current||this.dirty)&&(this.gl.clearStencil(d),this.current=d,this.dirty=!1)}}class rt extends _e{getDefault(){return[!0,!0,!0,!0]}set(d){const m=this.current;(d[0]!==m[0]||d[1]!==m[1]||d[2]!==m[2]||d[3]!==m[3]||this.dirty)&&(this.gl.colorMask(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class pt extends _e{getDefault(){return!0}set(d){(d!==this.current||this.dirty)&&(this.gl.depthMask(d),this.current=d,this.dirty=!1)}}class Ct extends _e{getDefault(){return 255}set(d){(d!==this.current||this.dirty)&&(this.gl.stencilMask(d),this.current=d,this.dirty=!1)}}class Jt extends _e{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(d){const m=this.current;(d.func!==m.func||d.ref!==m.ref||d.mask!==m.mask||this.dirty)&&(this.gl.stencilFunc(d.func,d.ref,d.mask),this.current=d,this.dirty=!1)}}class Rr extends _e{getDefault(){const d=this.gl;return[d.KEEP,d.KEEP,d.KEEP]}set(d){const m=this.current;(d[0]!==m[0]||d[1]!==m[1]||d[2]!==m[2]||this.dirty)&&(this.gl.stencilOp(d[0],d[1],d[2]),this.current=d,this.dirty=!1)}}class Br extends _e{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;d?m.enable(m.STENCIL_TEST):m.disable(m.STENCIL_TEST),this.current=d,this.dirty=!1}}class Fr extends _e{getDefault(){return[0,1]}set(d){const m=this.current;(d[0]!==m[0]||d[1]!==m[1]||this.dirty)&&(this.gl.depthRange(d[0],d[1]),this.current=d,this.dirty=!1)}}class Zn extends _e{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;d?m.enable(m.DEPTH_TEST):m.disable(m.DEPTH_TEST),this.current=d,this.dirty=!1}}class en extends _e{getDefault(){return this.gl.LESS}set(d){(d!==this.current||this.dirty)&&(this.gl.depthFunc(d),this.current=d,this.dirty=!1)}}class Sn extends _e{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;d?m.enable(m.BLEND):m.disable(m.BLEND),this.current=d,this.dirty=!1}}class Ei extends _e{getDefault(){const d=this.gl;return[d.ONE,d.ZERO]}set(d){const m=this.current;(d[0]!==m[0]||d[1]!==m[1]||this.dirty)&&(this.gl.blendFunc(d[0],d[1]),this.current=d,this.dirty=!1)}}class Xr extends _e{getDefault(){return a.Color.transparent}set(d){const m=this.current;(d.r!==m.r||d.g!==m.g||d.b!==m.b||d.a!==m.a||this.dirty)&&(this.gl.blendColor(d.r,d.g,d.b,d.a),this.current=d,this.dirty=!1)}}class ve extends _e{getDefault(){return this.gl.FUNC_ADD}set(d){(d!==this.current||this.dirty)&&(this.gl.blendEquation(d),this.current=d,this.dirty=!1)}}class Y extends _e{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;d?m.enable(m.CULL_FACE):m.disable(m.CULL_FACE),this.current=d,this.dirty=!1}}class J extends _e{getDefault(){return this.gl.BACK}set(d){(d!==this.current||this.dirty)&&(this.gl.cullFace(d),this.current=d,this.dirty=!1)}}class ze extends _e{getDefault(){return this.gl.CCW}set(d){(d!==this.current||this.dirty)&&(this.gl.frontFace(d),this.current=d,this.dirty=!1)}}let st,mt=class extends _e{getDefault(){return null}set(b){(b!==this.current||this.dirty)&&(this.gl.useProgram(b),this.current=b,this.dirty=!1)}};class At extends _e{getDefault(){return this.gl.TEXTURE0}set(d){(d!==this.current||this.dirty)&&(this.gl.activeTexture(d),this.current=d,this.dirty=!1)}}class Dr extends _e{getDefault(){const d=this.gl;return[0,0,d.drawingBufferWidth,d.drawingBufferHeight]}set(d){const m=this.current;(d[0]!==m[0]||d[1]!==m[1]||d[2]!==m[2]||d[3]!==m[3]||this.dirty)&&(this.gl.viewport(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class Lr extends _e{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.bindFramebuffer(m.FRAMEBUFFER,d),this.current=d,this.dirty=!1}}class Mr extends _e{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.bindRenderbuffer(m.RENDERBUFFER,d),this.current=d,this.dirty=!1}}class Mn extends _e{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.bindTexture(m.TEXTURE_2D,d),this.current=d,this.dirty=!1}}class Nr extends _e{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.bindBuffer(m.ARRAY_BUFFER,d),this.current=d,this.dirty=!1}}class Le extends _e{getDefault(){return null}set(d){const m=this.gl;m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,d),this.current=d,this.dirty=!1}}class de extends _e{constructor(d){super(d),this.vao=d.extVertexArrayObject}getDefault(){return null}set(d){this.vao&&(d!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(d),this.current=d,this.dirty=!1)}}class ge extends _e{getDefault(){return 4}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_ALIGNMENT,d),this.current=d,this.dirty=!1}}class Re extends _e{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d),this.current=d,this.dirty=!1}}class $e extends _e{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,d),this.current=d,this.dirty=!1}}class Ye extends _e{constructor(d,m){super(d),this.context=d,this.parent=m}getDefault(){return null}}class Ge extends Ye{setDirty(){this.dirty=!0}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const m=this.gl;m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,d,0),this.current=d,this.dirty=!1}}class tt extends Ye{attachment(){return this.gl.DEPTH_ATTACHMENT}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const m=this.gl;m.framebufferRenderbuffer(m.FRAMEBUFFER,this.attachment(),m.RENDERBUFFER,d),this.current=d,this.dirty=!1}}class We extends tt{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class lt{constructor(d,m,w,E){this.context=d,this.width=m,this.height=w;const M=this.framebuffer=d.gl.createFramebuffer();this.colorAttachment=new Ge(d,M),E&&(this.depthAttachment=new tt(d,M))}destroy(){const d=this.context.gl,m=this.colorAttachment.get();if(m&&d.deleteTexture(m),this.depthAttachment){const w=this.depthAttachment.get();w&&d.deleteRenderbuffer(w)}d.deleteFramebuffer(this.framebuffer)}}class Ft{constructor(d,m=!1){if(this.gl=d,this.isWebGL2=m,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),m){const w=d;this.extVertexArrayObject={createVertexArrayOES:w.createVertexArray.bind(d),deleteVertexArrayOES:w.deleteVertexArray.bind(d),bindVertexArrayOES:w.bindVertexArray.bind(d)}}this.clearColor=new Me(this),this.clearDepth=new we(this),this.clearStencil=new be(this),this.colorMask=new rt(this),this.depthMask=new pt(this),this.stencilMask=new Ct(this),this.stencilFunc=new Jt(this),this.stencilOp=new Rr(this),this.stencilTest=new Br(this),this.depthRange=new Fr(this),this.depthTest=new Zn(this),this.depthFunc=new en(this),this.blend=new Sn(this),this.blendFunc=new Ei(this),this.blendColor=new Xr(this),this.blendEquation=new ve(this),this.cullFace=new Y(this),this.cullFaceSide=new J(this),this.frontFace=new ze(this),this.program=new mt(this),this.activeTexture=new At(this),this.viewport=new Dr(this),this.bindFramebuffer=new Lr(this),this.bindRenderbuffer=new Mr(this),this.bindTexture=new Mn(this),this.bindVertexBuffer=new Nr(this),this.bindElementBuffer=new Le(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new de(this),this.pixelStoreUnpack=new ge(this),this.pixelStoreUnpackPremultiplyAlpha=new Re(this),this.pixelStoreUnpackFlipY=new $e(this),this.extTextureFilterAnisotropic=d.getExtension("EXT_texture_filter_anisotropic")||d.getExtension("MOZ_EXT_texture_filter_anisotropic")||d.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=d.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=d.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=d.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=d.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),m||(this.extTextureHalfFloat=d.getExtension("OES_texture_half_float")),(m||this.extTextureHalfFloat&&d.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=d.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=m||d.getExtension("OES_standard_derivatives"),this.extTimerQuery=d.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=d.getParameter(d.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(d,m){return new ut(this,d,m)}createVertexBuffer(d,m,w){return new Ht(this,d,m,w)}createRenderbuffer(d,m,w){const E=this.gl,M=E.createRenderbuffer();return this.bindRenderbuffer.set(M),E.renderbufferStorage(E.RENDERBUFFER,d,m,w),this.bindRenderbuffer.set(null),M}createFramebuffer(d,m,w){return new lt(this,d,m,w)}clear({color:d,depth:m,stencil:w}){const E=this.gl;let M=0;d&&(M|=E.COLOR_BUFFER_BIT,this.clearColor.set(d),this.colorMask.set([!0,!0,!0,!0])),m!==void 0&&(M|=E.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(m),this.depthMask.set(!0)),w!==void 0&&(M|=E.STENCIL_BUFFER_BIT,this.clearStencil.set(w),this.stencilMask.set(255)),E.clear(M)}setCullFace(d){d.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(d.mode),this.frontFace.set(d.frontFace))}setDepthMode(d){d.func!==this.gl.ALWAYS||d.mask?(this.depthTest.set(!0),this.depthFunc.set(d.func),this.depthMask.set(d.mask),this.depthRange.set(d.range)):this.depthTest.set(!1)}setStencilMode(d){d.test.func!==this.gl.ALWAYS||d.mask?(this.stencilTest.set(!0),this.stencilMask.set(d.mask),this.stencilOp.set([d.fail,d.depthFail,d.pass]),this.stencilFunc.set({func:d.test.func,ref:d.ref,mask:d.test.mask})):this.stencilTest.set(!1)}setColorMode(d){p(d.blendFunction,a.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(d.blendFunction),this.blendColor.set(d.blendColor)),this.colorMask.set(d.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Ot extends a.Evented{constructor(d,m,w,E){if(super(),this.id=d,this.dispatcher=w,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(m,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},m),this._collectResourceTiming=m.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(E),this._tileWorkers={},this._deduped=new a.DedupedRequest}load(d){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"}));const m=Array.isArray(this.map._language)?this.map._language.join():this.map._language,w=this.map._worldview;this._tileJSONRequest=Ve(this._options,this.map._requestManager,m,w,(E,M)=>{this._tileJSONRequest=null,this._loaded=!0,E?(m&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${m}`),w&&w.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${w}`),this.fire(new a.ErrorEvent(E))):M&&(a.extend(this,M),M.bounds&&(this.tileBounds=new Be(M.bounds,this.minzoom,this.maxzoom)),a.postTurnstileEvent(M.tiles,this.map._requestManager._customAccessToken),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))),d&&d(E)})}loaded(){return this._loaded}hasTile(d){return!this.tileBounds||this.tileBounds.contains(d.canonical)}onAdd(d){this.map=d,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(d){return this._options.tiles=d,this.reload(),this}setUrl(d){return this.url=d,this._options.url=d,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return a.extend({},this._options)}loadTile(d,m){const w=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme)),E={request:this.map._requestManager.transformRequest(w,a.ResourceType.Tile),data:void 0,uid:d.uid,tileID:d.tileID,tileZoom:d.tileZoom,zoom:d.tileID.overscaledZ,tileSize:this.tileSize*d.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:d.isSymbolTile};if(E.request.collectResourceTiming=this._collectResourceTiming,d.actor&&d.state!=="expired")d.state==="loading"?d.reloadCallback=m:d.request=d.actor.send("reloadTile",E,M.bind(this));else if(d.actor=this._tileWorkers[w]=this._tileWorkers[w]||this.dispatcher.getActor(),this.dispatcher.ready)d.request=d.actor.send("loadTile",E,M.bind(this),void 0,!0);else{const O=a.loadVectorTile.call({deduped:this._deduped},E,(F,U)=>{F||!U?M.call(this,F):(E.data={cacheControl:U.cacheControl,expires:U.expires,rawData:U.rawData.slice(0)},d.actor&&d.actor.send("loadTile",E,M.bind(this),void 0,!0))},!0);d.request={cancel:O}}function M(O,F){return delete d.request,d.aborted?m(null):O&&O.status!==404?m(O):(F&&F.resourceTiming&&(d.resourceTiming=F.resourceTiming),this.map._refreshExpiredTiles&&F&&d.setExpiryData(F),d.loadVectorData(F,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),m(null),void(d.reloadCallback&&(this.loadTile(d,d.reloadCallback),d.reloadCallback=null)))}}abortTile(d){d.request&&(d.request.cancel(),delete d.request),d.actor&&d.actor.send("abortTile",{uid:d.uid,type:this.type,source:this.id})}unloadTile(d){d.unloadVectorData(),d.actor&&d.actor.send("removeTile",{uid:d.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class It extends a.Evented{constructor(d,m,w,E){super(),this.id=d,this.dispatcher=w,this.setEventedParent(E),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},m),a.extend(this,a.pick(m,["url","scheme","tileSize"]))}load(d){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Ve(this._options,this.map._requestManager,null,null,(m,w)=>{this._tileJSONRequest=null,this._loaded=!0,m?this.fire(new a.ErrorEvent(m)):w&&(a.extend(this,w),w.bounds&&(this.tileBounds=new Be(w.bounds,this.minzoom,this.maxzoom)),a.postTurnstileEvent(w.tiles),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))),d&&d(m)})}loaded(){return this._loaded}onAdd(d){this.map=d,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(d){return this._options.tiles=d,this.reload(),this}setUrl(d){return this.url=d,this._options.url=d,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return a.extend({},this._options)}hasTile(d){return!this.tileBounds||this.tileBounds.contains(d.canonical)}loadTile(d,m){const w=a.exported.devicePixelRatio>=2,E=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme),w,this.tileSize);d.request=a.getImage(this.map._requestManager.transformRequest(E,a.ResourceType.Tile),(M,O,F,U)=>(delete d.request,d.aborted?(d.state="unloaded",m(null)):M?(d.state="errored",m(M)):O?(this.map._refreshExpiredTiles&&d.setExpiryData({cacheControl:F,expires:U}),d.setTexture(O,this.map.painter),d.state="loaded",a.cacheEntryPossiblyAdded(this.dispatcher),void m(null)):m(null)))}static loadTileData(d,m,w){d.setTexture(m,w)}static unloadTileData(d,m){d.texture&&m.saveTileTexture(d.texture)}abortTile(d,m){d.request&&(d.request.cancel(),delete d.request),m()}unloadTile(d,m){d.texture&&this.map.painter.saveTileTexture(d.texture),m()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}function wr(b,d,m,w,E,M,O,F){const U=[b,m,E,d,w,M,1,1,1],H=[O,F,1],G=a.adjoint([],U),[ae,xe,Te]=a.transformMat3(H,H,a.transpose(G,G));return a.multiply$1(U,[ae,0,0,0,xe,0,0,0,Te],U)}class dr extends a.Evented{constructor(d,m,w,E){super(),this.id=d,this.dispatcher=w,this.coordinates=m.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(E),this.options=m,this._dirty=!1}load(d,m){this._loaded=m||!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),(w,E)=>{if(this._imageRequest=null,this._loaded=!0,w)this.fire(new a.ErrorEvent(w));else if(E){const{HTMLImageElement:M}=a.window;this.image=E instanceof M?a.exported.getImageData(E):E,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,d&&(this.coordinates=d),this._finishLoading()}})}loaded(){return this._loaded}updateImage(d){return this.image&&d.url?(this._imageRequest&&d.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=d.url,this.load(d.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(d){this.map=d,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(d){this.coordinates=d,this._boundsArray=void 0;const m=d.map(a.MercatorCoordinate.fromLngLat);return this.tileID=function(w){let E=1/0,M=1/0,O=-1/0,F=-1/0;for(const ae of w)E=Math.min(E,ae.x),M=Math.min(M,ae.y),O=Math.max(O,ae.x),F=Math.max(F,ae.y);const U=Math.max(O-E,F-M),H=Math.max(0,Math.floor(-Math.log(U)/Math.LN2)),G=Math.pow(2,H);return new a.CanonicalTileID(H,Math.floor((E+O)/2*G),Math.floor((M+F)/2*G))}(m),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(d){for(const U in this.tiles){const H=this.tiles[U];H.state!=="loaded"&&(H.state="loaded",H.texture=this.texture)}if(this._boundsArray)return;const m=a.tileTransform(this.tileID,this.map.transform.projection),[w,E,M,O]=this.coordinates.map(U=>{const H=m.projection.project(U[0],U[1]);return a.getTilePoint(m,H)._round()});this.perspectiveTransform=function(U,H,G,ae,xe,Te,ke,Pe,Ie,se){const Ae=wr(0,0,U,0,0,H,U,H),Ne=wr(G,ae,xe,Te,ke,Pe,Ie,se);return a.multiply$1(Ne,a.adjoint(Ae,Ae),Ne),[Ne[6]/Ne[8]*U/a.EXTENT,Ne[7]/Ne[8]*H/a.EXTENT]}(this.width,this.height,w.x,w.y,E.x,E.y,O.x,O.y,M.x,M.y);const F=this._boundsArray=new a.StructArrayLayout4i8;F.emplaceBack(w.x,w.y,0,0),F.emplaceBack(E.x,E.y,a.EXTENT,0),F.emplaceBack(O.x,O.y,0,a.EXTENT),F.emplaceBack(M.x,M.y,a.EXTENT,a.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=d.createVertexBuffer(F,a.boundsAttributes.members),this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const d=this.map.painter.context,m=d.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new a.Texture(d,this.image,m.RGBA),this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(d)}loadTile(d,m){this.tileID&&this.tileID.equals(d.tileID.canonical)?(this.tiles[String(d.tileID.wrap)]=d,d.buckets={},m(null)):(d.state="errored",m(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const mr={vector:Ot,raster:It,"raster-dem":class extends It{constructor(b,d,m,w){super(b,d,m,w),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox"}loadTile(b,d){const m=this.map._requestManager.normalizeTileURL(b.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function w(E,M){E&&(b.state="errored",d(E)),M&&(b.dem=M,b.dem.onDeserialize(),b.needsHillshadePrepare=!0,b.needsDEMTextureUpload=!0,b.state="loaded",d(null))}b.request=a.getImage(this.map._requestManager.transformRequest(m,a.ResourceType.Tile),(function(E,M,O,F){if(delete b.request,b.aborted)b.state="unloaded",d(null);else if(E)b.state="errored",d(E);else if(M){this.map._refreshExpiredTiles&&b.setExpiryData({cacheControl:O,expires:F});const U=a.window.ImageBitmap&&M instanceof a.window.ImageBitmap&&(st==null&&(st=a.window.OffscreenCanvas&&new a.window.OffscreenCanvas(1,1).getContext("2d")&&typeof a.window.createImageBitmap=="function"),st),H=1-(M.width-a.prevPowerOfTwo(M.width))/2;H<1||b.neighboringTiles||(b.neighboringTiles=this._getNeighboringTiles(b.tileID));const G=U?M:a.exported.getImageData(M,H),ae={uid:b.uid,coord:b.tileID,source:this.id,rawImageData:G,encoding:this.encoding,padding:H};b.actor&&b.state!=="expired"||(b.actor=this.dispatcher.getActor(),b.actor.send("loadDEMTile",ae,w.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(b){const d=b.canonical,m=Math.pow(2,d.z),w=(d.x-1+m)%m,E=d.x===0?b.wrap-1:b.wrap,M=(d.x+1+m)%m,O=d.x+1===m?b.wrap+1:b.wrap,F={};return F[new a.OverscaledTileID(b.overscaledZ,E,d.z,w,d.y).key]={backfilled:!1},F[new a.OverscaledTileID(b.overscaledZ,O,d.z,M,d.y).key]={backfilled:!1},d.y>0&&(F[new a.OverscaledTileID(b.overscaledZ,E,d.z,w,d.y-1).key]={backfilled:!1},F[new a.OverscaledTileID(b.overscaledZ,b.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},F[new a.OverscaledTileID(b.overscaledZ,O,d.z,M,d.y-1).key]={backfilled:!1}),d.y+1<m&&(F[new a.OverscaledTileID(b.overscaledZ,E,d.z,w,d.y+1).key]={backfilled:!1},F[new a.OverscaledTileID(b.overscaledZ,b.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},F[new a.OverscaledTileID(b.overscaledZ,O,d.z,M,d.y+1).key]={backfilled:!1}),F}unloadTile(b){b.demTexture&&this.map.painter.saveTileTexture(b.demTexture),b.fbo&&(b.fbo.destroy(),delete b.fbo),b.dem&&delete b.dem,delete b.neighboringTiles,b.state="unloaded"}},geojson:class extends a.Evented{constructor(b,d,m,w){super(),this.id=b,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=m.getActor(),this.setEventedParent(w),this._data=d.data,this._options=a.extend({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const E=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(d.buffer!==void 0?d.buffer:128)*E,tolerance:(d.tolerance!==void 0?d.tolerance:.375)*E,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:a.EXTENT,radius:(d.clusterRadius!==void 0?d.clusterRadius:50)*E,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions)}onAdd(b){this.map=b,this.setData(this._data)}setData(b){return this._data=b,this._updateWorkerData(),this}getClusterExpansionZoom(b,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:b,source:this.id},d),this}getClusterChildren(b,d){return this.actor.send("geojson.getClusterChildren",{clusterId:b,source:this.id},d),this}getClusterLeaves(b,d,m,w){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:b,limit:d,offset:m},w),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new a.Event("dataloading",{dataType:"source"})),this._loaded=!1;const b=a.extend({},this.workerOptions),d=this._data;typeof d=="string"?(b.request=this.map._requestManager.transformRequest(a.exported.resolveURL(d),a.ResourceType.Source),b.request.collectResourceTiming=this._collectResourceTiming):b.data=JSON.stringify(d),this._pendingLoad=this.actor.send(`${this.type}.loadData`,b,(m,w)=>{if(this._loaded=!0,this._pendingLoad=null,m)this.fire(new a.ErrorEvent(m));else{const E={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&w&&w.resourceTiming&&w.resourceTiming[this.id]&&(E.resourceTiming=w.resourceTiming[this.id]),this.fire(new a.Event("data",E)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(b,d){const m=b.actor?"reloadTile":"loadTile";b.actor=this.actor,b.request=this.actor.send(m,{type:this.type,uid:b.uid,tileID:b.tileID,tileZoom:b.tileZoom,zoom:b.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(w,E)=>(delete b.request,b.unloadVectorData(),b.aborted?d(null):w?d(w):(b.loadVectorData(E,this.map.painter,m==="reloadTile"),d(null))),void 0,m==="loadTile")}abortTile(b){b.request&&(b.request.cancel(),delete b.request),b.aborted=!0}unloadTile(b){b.unloadVectorData(),this.actor.send("removeTile",{uid:b.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return a.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends dr{constructor(b,d,m,w){super(b,d,m,w),this.roundZoom=!0,this.type="video",this.options=d}load(){this._loaded=!1;const b=this.options;this.urls=[];for(const d of b.urls)this.urls.push(this.map._requestManager.transformRequest(d,a.ResourceType.Source).url);a.getVideo(this.urls,(d,m)=>{this._loaded=!0,d?this.fire(new a.ErrorEvent(d)):m&&(this.video=m,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(b){if(this.video){const d=this.video.seekable;b<d.start(0)||b>d.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=b}}getVideo(){return this.video}onAdd(b){this.map||(this.map=b,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const b=this.map.painter.context,d=b.gl;this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(b,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(b)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:dr,canvas:class extends dr{constructor(b,d,m,w){super(b,d,m,w),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(E=>!Array.isArray(E)||E.length!==2||E.some(M=>typeof M!="number"))||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${b}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${b}`,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${b}`,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${b}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${b}`,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(b){this.map=b,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let b=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,b=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,b=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const d=this.map.painter.context;this.texture?(b||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(d,this.canvas,d.gl.RGBA,{premultiply:!0}),this._prepareData(d)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const b of[this.canvas.width,this.canvas.height])if(isNaN(b)||b<=0)return!0;return!1}},custom:class extends a.Evented{constructor(b,d,m,w){super(),this.id=b,this.type="custom",this._dataType="raster",this._dispatcher=m,this._implementation=d,this.setEventedParent(w),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new a.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new a.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Be(this._implementation.bounds,this.minzoom,this.maxzoom)),d.update=this._update.bind(this),d.clearTiles=this._clearTiles.bind(this),d.coveringTiles=this._coveringTiles.bind(this),a.extend(this,a.pick(d,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return a.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(b){this._map=b,this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(b),this.load()}onRemove(b){this._implementation.onRemove&&this._implementation.onRemove(b)}hasTile(b){if(this._implementation.hasTile){const{x:d,y:m,z:w}=b.canonical;return this._implementation.hasTile({x:d,y:m,z:w})}return!this.tileBounds||this.tileBounds.contains(b.canonical)}loadTile(b,d){const{x:m,y:w,z:E}=b.tileID.canonical,M=new a.window.AbortController;b.request=Promise.resolve(this._implementation.loadTile({x:m,y:w,z:E},{signal:M.signal})).then((function(O){return delete b.request,b.aborted?(b.state="unloaded",d(null)):O===void 0?(b.state="errored",d(null)):O===null?(this.loadTileData(b,{width:this.tileSize,height:this.tileSize,data:null}),b.state="loaded",d(null)):function(F){return F instanceof a.window.ImageData||F instanceof a.window.HTMLCanvasElement||F instanceof a.window.ImageBitmap||F instanceof a.window.HTMLImageElement}(O)?(this.loadTileData(b,O),b.state="loaded",void d(null)):(b.state="errored",d(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(O=>{O.code!==20&&(b.state="errored",d(O))}),b.request.cancel=()=>M.abort()}loadTileData(b,d){It.loadTileData(b,d,this._map.painter)}unloadTileData(b){It.unloadTileData(b,this._map.painter)}unloadTile(b,d){if(this.unloadTileData(b),this._implementation.unloadTile){const{x:m,y:w,z:E}=b.tileID.canonical;this._implementation.unloadTile({x:m,y:w,z:E})}d()}abortTile(b,d){b.request&&b.request.cancel&&(b.request.cancel(),delete b.request),d()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(b=>({x:b.canonical.x,y:b.canonical.y,z:b.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Yr=function(b,d,m,w){const E=new mr[d.type](b,d,m,w);if(E.id!==b)throw new Error(`Expected Source id to be ${b} instead of ${E.id}`);return a.bindAll(["load","abort","unload","serialize","prepare"],E),E};function Ar(b,d){const m=a.identity([]);return a.scale(m,m,[.5*b.width,.5*-b.height,1]),a.translate(m,m,[1,-1,0]),a.multiply(m,m,b.calculateProjMatrix(d.toUnwrapped())),Float32Array.from(m)}function Qr(b,d,m,w,E,M,O,F=!1){const U=b.tilesIn(w,O,F);U.sort(mn);const H=[];for(const ae of U)H.push({wrappedTileID:ae.tile.tileID.wrapped().key,queryResults:ae.tile.queryRenderedFeatures(d,m,b._state,ae,E,M,Ar(b.transform,ae.tile.tileID),F)});const G=function(ae){const xe={},Te={};for(const ke of ae){const Pe=ke.queryResults,Ie=ke.wrappedTileID,se=Te[Ie]=Te[Ie]||{};for(const Ae in Pe){const Ne=Pe[Ae],Oe=se[Ae]=se[Ae]||{},Xe=xe[Ae]=xe[Ae]||[];for(const Je of Ne)Oe[Je.featureIndex]||(Oe[Je.featureIndex]=!0,Xe.push(Je))}}return xe}(H);for(const ae in G)G[ae].forEach(xe=>{const Te=xe.feature,ke=Te.layer;ke&&ke.type!=="background"&&ke.type!=="sky"&&(Te.source=ke.source,ke["source-layer"]&&(Te.sourceLayer=ke["source-layer"]),Te.state=Te.id!==void 0?b.getFeatureState(ke["source-layer"],Te.id):{})});return G}function ui(b,d){const m=b.getRenderableIds().map(M=>b.getTileByID(M)),w=[],E={};for(let M=0;M<m.length;M++){const O=m[M],F=O.tileID.canonical.key;E[F]||(E[F]=!0,O.querySourceFeatures(w,d))}return w}function mn(b,d){const m=b.tileID,w=d.tileID;return m.overscaledZ-w.overscaledZ||m.canonical.y-w.canonical.y||m.wrap-w.wrap||m.canonical.x-w.canonical.x}function un(){return sp.workerClass!=null?new sp.workerClass:new a.window.Worker(sp.workerUrl)}const $o="mapboxgl_preloaded_worker_pool";class pn{constructor(){this.active={}}acquire(d){if(!this.workers)for(this.workers=[];this.workers.length<pn.workerCount;)this.workers.push(new un);return this.active[d]=!0,this.workers.slice()}release(d){delete this.active[d],this.numActive()===0&&(this.workers.forEach(m=>{m.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[$o]}numActive(){return Object.keys(this.active).length}}let bn;function ol(){return bn||(bn=new pn),bn}function Xh(b,d){const m={};for(const w in b)w!=="ref"&&(m[w]=b[w]);return a.refProperties.forEach(w=>{w in d&&(m[w]=d[w])}),m}function Wd(b){b=b.slice();const d=Object.create(null);for(let m=0;m<b.length;m++)d[b[m].id]=b[m];for(let m=0;m<b.length;m++)"ref"in b[m]&&(b[m]=Xh(b[m],d[b[m].ref]));return b}pn.workerCount=2;const hn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function bu(b,d,m){m.push({command:hn.addSource,args:[b,d[b]]})}function Nl(b,d,m){d.push({command:hn.removeSource,args:[b]}),m[b]=!0}function xu(b,d,m,w){Nl(b,m,w),bu(b,d,m)}function Cc(b,d,m){let w;for(w in b[m])if(b[m].hasOwnProperty(w)&&w!=="data"&&!p(b[m][w],d[m][w]))return!1;for(w in d[m])if(d[m].hasOwnProperty(w)&&w!=="data"&&!p(b[m][w],d[m][w]))return!1;return!0}function ho(b,d,m,w,E,M){let O;for(O in d=d||{},b=b||{})b.hasOwnProperty(O)&&(p(b[O],d[O])||m.push({command:M,args:[w,O,d[O],E]}));for(O in d)d.hasOwnProperty(O)&&!b.hasOwnProperty(O)&&(p(b[O],d[O])||m.push({command:M,args:[w,O,d[O],E]}))}function Ko(b){return b.id}function wu(b,d){return b[d.id]=d,b}class Su{constructor(d,m){this.reset(d,m)}reset(d,m){this.points=d||[],this._distances=[0];for(let w=1;w<this.points.length;w++)this._distances[w]=this._distances[w-1]+this.points[w].dist(this.points[w-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(m||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(d){if(this.points.length===1)return this.points[0];d=a.clamp(d,0,1);let m=1,w=this._distances[m];const E=d*this.paddedLength+this.padding;for(;w<E&&m<this._distances.length;)w=this._distances[++m];const M=m-1,O=this._distances[M],F=w-O,U=F>0?(E-O)/F:0;return this.points[M].mult(1-U).add(this.points[m].mult(U))}}class zs{constructor(d,m,w){const E=this.boxCells=[],M=this.circleCells=[];this.xCellCount=Math.ceil(d/w),this.yCellCount=Math.ceil(m/w);for(let O=0;O<this.xCellCount*this.yCellCount;O++)E.push([]),M.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=d,this.height=m,this.xScale=this.xCellCount/d,this.yScale=this.yCellCount/m,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(d,m,w,E,M){this._forEachCell(m,w,E,M,this._insertBoxCell,this.boxUid++),this.boxKeys.push(d),this.bboxes.push(m),this.bboxes.push(w),this.bboxes.push(E),this.bboxes.push(M)}insertCircle(d,m,w,E){this._forEachCell(m-E,w-E,m+E,w+E,this._insertCircleCell,this.circleUid++),this.circleKeys.push(d),this.circles.push(m),this.circles.push(w),this.circles.push(E)}_insertBoxCell(d,m,w,E,M,O){this.boxCells[M].push(O)}_insertCircleCell(d,m,w,E,M,O){this.circleCells[M].push(O)}_query(d,m,w,E,M,O){if(w<0||d>this.width||E<0||m>this.height)return!M&&[];const F=[];if(d<=0&&m<=0&&this.width<=w&&this.height<=E){if(M)return!0;for(let U=0;U<this.boxKeys.length;U++)F.push({key:this.boxKeys[U],x1:this.bboxes[4*U],y1:this.bboxes[4*U+1],x2:this.bboxes[4*U+2],y2:this.bboxes[4*U+3]});for(let U=0;U<this.circleKeys.length;U++){const H=this.circles[3*U],G=this.circles[3*U+1],ae=this.circles[3*U+2];F.push({key:this.circleKeys[U],x1:H-ae,y1:G-ae,x2:H+ae,y2:G+ae})}return O?F.filter(O):F}return this._forEachCell(d,m,w,E,this._queryCell,F,{hitTest:M,seenUids:{box:{},circle:{}}},O),M?F.length>0:F}_queryCircle(d,m,w,E,M){const O=d-w,F=d+w,U=m-w,H=m+w;if(F<0||O>this.width||H<0||U>this.height)return!E&&[];const G=[];return this._forEachCell(O,U,F,H,this._queryCellCircle,G,{hitTest:E,circle:{x:d,y:m,radius:w},seenUids:{box:{},circle:{}}},M),E?G.length>0:G}query(d,m,w,E,M){return this._query(d,m,w,E,!1,M)}hitTest(d,m,w,E,M){return this._query(d,m,w,E,!0,M)}hitTestCircle(d,m,w,E){return this._queryCircle(d,m,w,!0,E)}_queryCell(d,m,w,E,M,O,F,U){const H=F.seenUids,G=this.boxCells[M];if(G!==null){const xe=this.bboxes;for(const Te of G)if(!H.box[Te]){H.box[Te]=!0;const ke=4*Te;if(d<=xe[ke+2]&&m<=xe[ke+3]&&w>=xe[ke+0]&&E>=xe[ke+1]&&(!U||U(this.boxKeys[Te]))){if(F.hitTest)return O.push(!0),!0;O.push({key:this.boxKeys[Te],x1:xe[ke],y1:xe[ke+1],x2:xe[ke+2],y2:xe[ke+3]})}}}const ae=this.circleCells[M];if(ae!==null){const xe=this.circles;for(const Te of ae)if(!H.circle[Te]){H.circle[Te]=!0;const ke=3*Te;if(this._circleAndRectCollide(xe[ke],xe[ke+1],xe[ke+2],d,m,w,E)&&(!U||U(this.circleKeys[Te]))){if(F.hitTest)return O.push(!0),!0;{const Pe=xe[ke],Ie=xe[ke+1],se=xe[ke+2];O.push({key:this.circleKeys[Te],x1:Pe-se,y1:Ie-se,x2:Pe+se,y2:Ie+se})}}}}}_queryCellCircle(d,m,w,E,M,O,F,U){const H=F.circle,G=F.seenUids,ae=this.boxCells[M];if(ae!==null){const Te=this.bboxes;for(const ke of ae)if(!G.box[ke]){G.box[ke]=!0;const Pe=4*ke;if(this._circleAndRectCollide(H.x,H.y,H.radius,Te[Pe+0],Te[Pe+1],Te[Pe+2],Te[Pe+3])&&(!U||U(this.boxKeys[ke])))return O.push(!0),!0}}const xe=this.circleCells[M];if(xe!==null){const Te=this.circles;for(const ke of xe)if(!G.circle[ke]){G.circle[ke]=!0;const Pe=3*ke;if(this._circlesCollide(Te[Pe],Te[Pe+1],Te[Pe+2],H.x,H.y,H.radius)&&(!U||U(this.circleKeys[ke])))return O.push(!0),!0}}}_forEachCell(d,m,w,E,M,O,F,U){const H=this._convertToXCellCoord(d),G=this._convertToYCellCoord(m),ae=this._convertToXCellCoord(w),xe=this._convertToYCellCoord(E);for(let Te=H;Te<=ae;Te++)for(let ke=G;ke<=xe;ke++)if(M.call(this,d,m,w,E,this.xCellCount*ke+Te,O,F,U))return}_convertToXCellCoord(d){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(d*this.xScale)))}_convertToYCellCoord(d){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(d*this.yScale)))}_circlesCollide(d,m,w,E,M,O){const F=E-d,U=M-m,H=w+O;return H*H>F*F+U*U}_circleAndRectCollide(d,m,w,E,M,O,F){const U=(O-E)/2,H=Math.abs(d-(E+U));if(H>U+w)return!1;const G=(F-M)/2,ae=Math.abs(m-(M+G));if(ae>G+w)return!1;if(H<=U||ae<=G)return!0;const xe=H-U,Te=ae-G;return xe*xe+Te*Te<=w*w}}const qo={unknown:0,flipRequired:1,flipNotRequired:2},Ll=Math.tan(85*Math.PI/180);function Mt(b,d,m,w,E,M,O){const F=a.create();if(m)if(M.name==="globe"){const U=a.calculateGlobeLabelMatrix(E,d);a.multiply(F,F,U)}else{const U=me([],O);F[0]=U[0],F[1]=U[1],F[4]=U[2],F[5]=U[3],w||a.rotateZ(F,F,E.angle)}else a.multiply(F,E.labelPlaneMatrix,b);return F}function Go(b,d,m,w,E,M,O){const F=Mt(b,d,m,w,E,M,O);return M.name==="globe"&&m||(F[2]=F[6]=F[10]=F[14]=0),F}function si(b,d,m,w,E,M,O){if(m){if(M.name==="globe"){const F=Mt(b,d,m,w,E,M,O);return a.invert(F,F),a.multiply(F,b,F),F}{const F=a.clone(b),U=a.identity([]);return U[0]=O[0],U[1]=O[1],U[4]=O[2],U[5]=O[3],a.multiply(F,F,U),w||a.rotateZ(F,F,-E.angle),F}}return E.glCoordMatrix}function Ai(b,d,m,w){const E=[b,d,m,1];m?a.transformMat4$1(E,E,w):ln(E,E,w);const M=E[3];return E[0]/=M,E[1]/=M,E[2]/=M,E}function n6(b,d){return Math.min(.5+b/d*.5,1.5)}function sl(b,d){const m=b[0]/b[3],w=b[1]/b[3];return m>=-d[0]&&m<=d[0]&&w>=-d[1]&&w<=d[1]}function B2(b,d,m,w,E,M,O,F,U,H){const G=m.transform,ae=w?b.textSizeData:b.iconSizeData,xe=a.evaluateSizeForZoom(ae,m.transform.zoom),Te=G.projection.name==="globe",ke=[256/m.width*2+1,256/m.height*2+1],Pe=w?b.text.dynamicLayoutVertexArray:b.icon.dynamicLayoutVertexArray;Pe.clear();let Ie=null;Te&&(Ie=w?b.text.globeExtVertexArray:b.icon.globeExtVertexArray);const se=b.lineVertexArray,Ae=w?b.text.placedSymbolArray:b.icon.placedSymbolArray,Ne=m.transform.width/m.transform.height;let Oe,Xe=!1;for(let Je=0;Je<Ae.length;Je++){const Qe=Ae.get(Je),{numGlyphs:ct,writingMode:ot}=Qe;if(ot!==a.WritingMode.vertical||Xe||Oe===a.WritingMode.horizontal||(Xe=!0),Oe=ot,(Qe.hidden||ot===a.WritingMode.vertical)&&!Xe){Rs(ct,Pe);continue}Xe=!1;const vt=new a.Point(Qe.tileAnchorX,Qe.tileAnchorY);let{x:Ut,y:ht,z:Rt}=G.projection.projectTilePoint(vt.x,vt.y,H.canonical);if(U){const[Or,lr,Tr]=U(vt);Ut+=Or,ht+=lr,Rt+=Tr}const xt=[Ut,ht,Rt,1];if(a.transformMat4$1(xt,xt,d),!sl(xt,ke)){Rs(ct,Pe);continue}const Vt=n6(m.transform.cameraToCenterDistance,xt[3]),yt=a.evaluateSizeForFeature(ae,xe,Qe),Dt=O?yt/Vt:yt*Vt,$t=Ai(Ut,ht,Rt,E);if($t[3]<=0){Rs(ct,Pe);continue}let Bt={};const Kt=O?null:U,vr=nr(Qe,Dt,!1,F,d,E,M,b.glyphOffsetArray,se,Pe,Ie,$t,vt,Bt,Ne,Kt,G.projection,H,O);Xe=vr.useVertical,Kt&&vr.needsFlipping&&(Bt={}),(vr.notEnoughRoom||Xe||vr.needsFlipping&&nr(Qe,Dt,!0,F,d,E,M,b.glyphOffsetArray,se,Pe,Ie,$t,vt,Bt,Ne,Kt,G.projection,H,O).notEnoughRoom)&&Rs(ct,Pe)}w?(b.text.dynamicLayoutVertexBuffer.updateData(Pe),Ie&&b.text.globeExtVertexBuffer.updateData(Ie)):(b.icon.dynamicLayoutVertexBuffer.updateData(Pe),Ie&&b.icon.globeExtVertexBuffer.updateData(Ie))}function i6(b,d,m,w,E,M,O,F,U,H,G,ae,xe,Te,ke,Pe){const{lineStartIndex:Ie,glyphStartIndex:se,segment:Ae}=F,Ne=se+F.numGlyphs,Oe=Ie+F.lineLength,Xe=d.getoffsetX(se),Je=d.getoffsetX(Ne-1),Qe=Ho(b*Xe,m,w,E,M,O,Ae,Ie,Oe,U,H,G,ae,xe,!0,Te,ke,Pe);if(!Qe)return null;const ct=Ho(b*Je,m,w,E,M,O,Ae,Ie,Oe,U,H,G,ae,xe,!0,Te,ke,Pe);return ct?{first:Qe,last:ct}:null}function $d(b,d,m,w){return b===a.WritingMode.horizontal&&Math.abs(w)>Math.abs(m)?{useVertical:!0}:b===a.WritingMode.vertical?w>0?{needsFlipping:!0}:null:d!==qo.unknown&&function(E,M){return E===0||Math.abs(M/E)>Ll}(m,w)?d===qo.flipRequired?{needsFlipping:!0}:null:m<0?{needsFlipping:!0}:null}function nr(b,d,m,w,E,M,O,F,U,H,G,ae,xe,Te,ke,Pe,Ie,se,Ae){const Ne=d/24,Oe=b.lineOffsetX*Ne,Xe=b.lineOffsetY*Ne,{lineStartIndex:Je,glyphStartIndex:Qe,numGlyphs:ct,segment:ot,writingMode:vt,flipState:Ut}=b,ht=Je+b.lineLength,Rt=xt=>{if(G){const[$t,Bt,Kt]=xt.up,vr=H.length;a.updateGlobeVertexNormal(G,vr+0,$t,Bt,Kt),a.updateGlobeVertexNormal(G,vr+1,$t,Bt,Kt),a.updateGlobeVertexNormal(G,vr+2,$t,Bt,Kt),a.updateGlobeVertexNormal(G,vr+3,$t,Bt,Kt)}const[Vt,yt,Dt]=xt.point;a.addDynamicAttributes(H,Vt,yt,Dt,xt.angle)};if(ct>1){const xt=i6(Ne,F,Oe,Xe,m,ae,xe,b,U,M,Te,Pe,!1,Ie,se,Ae);if(!xt)return{notEnoughRoom:!0};if(w&&!m){let[Vt,yt,Dt]=xt.first.point,[$t,Bt,Kt]=xt.last.point;[Vt,yt]=Ai(Vt,yt,Dt,O),[$t,Bt]=Ai($t,Bt,Kt,O);const vr=$d(vt,Ut,($t-Vt)*ke,Bt-yt);if(b.flipState=vr&&vr.needsFlipping?qo.flipRequired:qo.flipNotRequired,vr)return vr}Rt(xt.first);for(let Vt=Qe+1;Vt<Qe+ct-1;Vt++){const yt=Ho(Ne*F.getoffsetX(Vt),Oe,Xe,m,ae,xe,ot,Je,ht,U,M,Te,Pe,!1,!1,Ie,se,Ae);if(!yt)return H.length-=4*(Vt-Qe),{notEnoughRoom:!0};Rt(yt)}Rt(xt.last)}else{if(w&&!m){const Vt=Ai(xe.x,xe.y,0,E),yt=Je+ot+1,Dt=new a.Point(U.getx(yt),U.gety(yt)),$t=Ai(Dt.x,Dt.y,0,E),Bt=$t[3]>0?$t:sn(xe,Dt,Vt,1,E,void 0,Ie,se.canonical),Kt=$d(vt,Ut,(Bt[0]-Vt[0])*ke,Bt[1]-Vt[1]);if(b.flipState=Kt&&Kt.needsFlipping?qo.flipRequired:qo.flipNotRequired,Kt)return Kt}const xt=Ho(Ne*F.getoffsetX(Qe),Oe,Xe,m,ae,xe,ot,Je,ht,U,M,Te,Pe,!1,!1,Ie,se,Ae);if(!xt)return{notEnoughRoom:!0};Rt(xt)}return{}}function dn(b,d,m,w,E){const{x:M,y:O,z:F}=w.projectTilePoint(b.x,b.y,d);if(!E)return Ai(M,O,F,m);const[U,H,G]=E(b);return Ai(M+U,O+H,F+G,m)}function sn(b,d,m,w,E,M,O,F){const U=dn(b.sub(d)._unit()._add(b),F,E,O,M);return a.sub(U,m,U),a.normalize(U,U),a.scaleAndAdd(U,m,U,w)}function Ho(b,d,m,w,E,M,O,F,U,H,G,ae,xe,Te,ke,Pe,Ie,se){const Ae=w?b-d:b+d;let Ne=Ae>0?1:-1,Oe=0;w&&(Ne*=-1,Oe=Math.PI),Ne<0&&(Oe+=Math.PI);let Xe=F+O+(Ne>0?0:1)|0,Je=E,Qe=E,ct=0,ot=0;const vt=Math.abs(Ae),Ut=[],ht=[];let Rt=M,xt=Rt;const Vt=()=>sn(xt,Rt,Qe,vt-ct+1,G,xe,Pe,Ie.canonical);for(;ct+ot<=vt;){if(Xe+=Ne,Xe<F||Xe>=U)return null;if(Qe=Je,xt=Rt,Ut.push(Qe),Te&&ht.push(xt),Rt=new a.Point(H.getx(Xe),H.gety(Xe)),Je=ae[Xe],!Je){const Tr=dn(Rt,Ie.canonical,G,Pe,xe);Je=Tr[3]>0?ae[Xe]=Tr:Vt()}ct+=ot,ot=a.distance(Qe,Je)}ke&&xe&&(ae[Xe]&&(Je=Vt(),ot=a.distance(Qe,Je)),ae[Xe]=Je);const yt=(vt-ct)/ot,Dt=Rt.sub(xt)._mult(yt)._add(xt),$t=a.sub([],Je,Qe),Bt=a.scaleAndAdd([],Qe,$t,yt);let Kt=[0,0,1],vr=$t[0],Or=$t[1];if(se&&(Kt=Pe.upVector(Ie.canonical,Dt.x,Dt.y),Kt[0]!==0||Kt[1]!==0||Kt[2]!==1)){const Tr=[Kt[2],0,-Kt[0]],cn=a.cross([],Kt,Tr);a.normalize(Tr,Tr),a.normalize(cn,cn),vr=a.dot($t,Tr),Or=a.dot($t,cn)}if(m){const Tr=a.cross([],Kt,$t);a.normalize(Tr,Tr),a.scaleAndAdd(Bt,Bt,Tr,m*Ne)}const lr=Oe+Math.atan2(Or,vr);return Ut.push(Bt),Te&&ht.push(Dt),{point:Bt,angle:lr,path:Ut,tilePath:ht,up:Kt}}function Rs(b,d){const m=d.length,w=m+4*b;d.resize(w),d.float32.fill(-1/0,4*m,4*w)}function ln(b,d,m){const w=d[0],E=d[1];return b[0]=m[0]*w+m[4]*E+m[12],b[1]=m[1]*w+m[5]*E+m[13],b[3]=m[3]*w+m[7]*E+m[15],b}const Zo=100;class Qh{constructor(d,m,w=new zs(d.width+200,d.height+200,25),E=new zs(d.width+200,d.height+200,25)){this.transform=d,this.grid=w,this.ignoredGrid=E,this.pitchfactor=Math.cos(d._pitch)*d.cameraToCenterDistance,this.screenRightBoundary=d.width+Zo,this.screenBottomBoundary=d.height+Zo,this.gridRightBoundary=d.width+200,this.gridBottomBoundary=d.height+200,this.fogState=m}placeCollisionBox(d,m,w,E,M,O,F,U){let H=w.projectedAnchorX,G=w.projectedAnchorY,ae=w.projectedAnchorZ;const xe=w.elevation,Te=w.tileID,ke=d.getProjection();if(xe&&Te){const[Je,Qe,ct]=ke.upVector(Te.canonical,w.tileAnchorX,w.tileAnchorY),ot=ke.upVectorScale(Te.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;H+=Je*xe*ot,G+=Qe*xe*ot,ae+=ct*xe*ot}const Pe=this.projectAndGetPerspectiveRatio(F,H,G,ae,w.tileID,ke.name==="globe"||!!xe||this.transform.pitch>0,ke),Ie=O*Pe.perspectiveRatio,se=(w.x1*m+E.x-w.padding)*Ie+Pe.point.x,Ae=(w.y1*m+E.y-w.padding)*Ie+Pe.point.y,Ne=(w.x2*m+E.x+w.padding)*Ie+Pe.point.x,Oe=(w.y2*m+E.y+w.padding)*Ie+Pe.point.y,Xe=Pe.perspectiveRatio<=.55||Pe.occluded;return!this.isInsideGrid(se,Ae,Ne,Oe)||!M&&this.grid.hitTest(se,Ae,Ne,Oe,U)||Xe?{box:[],offscreen:!1,occluded:Pe.occluded}:{box:[se,Ae,Ne,Oe],offscreen:this.isOffscreen(se,Ae,Ne,Oe),occluded:!1}}placeCollisionCircles(d,m,w,E,M,O,F,U,H,G,ae,xe,Te,ke,Pe){const Ie=[],se=this.transform.elevation,Ae=d.getProjection(),Ne=se?se.getAtTileOffsetFunc(Pe,this.transform.center.lat,this.transform.worldSize,Ae):null,Oe=new a.Point(w.tileAnchorX,w.tileAnchorY);let{x:Xe,y:Je,z:Qe}=Ae.projectTilePoint(Oe.x,Oe.y,Pe.canonical);if(Ne){const[Dt,$t,Bt]=Ne(Oe);Xe+=Dt,Je+=$t,Qe+=Bt}const ct=Ae.name==="globe",ot=this.projectAndGetPerspectiveRatio(F,Xe,Je,Qe,Pe,ct||!!se||this.transform.pitch>0,Ae),{perspectiveRatio:vt}=ot,Ut=(ae?O/vt:O*vt)/a.ONE_EM,ht=Ai(Xe,Je,Qe,U),Rt=ot.signedDistanceFromCamera>0?i6(Ut,M,w.lineOffsetX*Ut,w.lineOffsetY*Ut,!1,ht,Oe,w,E,U,{},se&&!ae?Ne:null,ae&&!!se,Ae,Pe,ae):null;let xt=!1,Vt=!1,yt=!0;if(Rt&&!ot.occluded){const Dt=.5*Te*vt+ke,$t=new a.Point(-100,-100),Bt=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Kt=new Su,{first:vr,last:Or}=Rt,lr=vr.path.length;let Tr=[];for(let gr=lr-1;gr>=1;gr--)Tr.push(vr.path[gr]);for(let gr=1;gr<Or.path.length;gr++)Tr.push(Or.path[gr]);const cn=2.5*Dt;H&&(Tr=Tr.map(([gr,Dn,Rn],Nn)=>(Ne&&!ct&&(Rn=Ne(Nn<lr-1?vr.tilePath[lr-1-Nn]:Or.tilePath[Nn-lr+2])[2]),Ai(gr,Dn,Rn,H))),Tr.some(gr=>gr[3]<=0)&&(Tr=[]));let rn=[];if(Tr.length>0){let gr=1/0,Dn=-1/0,Rn=1/0,Nn=-1/0;for(const Ln of Tr)gr=Math.min(gr,Ln[0]),Rn=Math.min(Rn,Ln[1]),Dn=Math.max(Dn,Ln[0]),Nn=Math.max(Nn,Ln[1]);Dn>=$t.x&&gr<=Bt.x&&Nn>=$t.y&&Rn<=Bt.y&&(rn=[Tr.map(Ln=>new a.Point(Ln[0],Ln[1]))],(gr<$t.x||Dn>Bt.x||Rn<$t.y||Nn>Bt.y)&&(rn=a.clipLine(rn,$t.x,$t.y,Bt.x,Bt.y)))}for(const gr of rn){Kt.reset(gr,.25*Dt);let Dn=0;Dn=Kt.length<=.5*Dt?1:Math.ceil(Kt.paddedLength/cn)+1;for(let Rn=0;Rn<Dn;Rn++){const Nn=Rn/Math.max(Dn-1,1),Ln=Kt.lerp(Nn),ja=Ln.x+Zo,wa=Ln.y+Zo;Ie.push(ja,wa,Dt,0);const ys=ja-Dt,dl=wa-Dt,ai=ja+Dt,On=wa+Dt;if(yt=yt&&this.isOffscreen(ys,dl,ai,On),Vt=Vt||this.isInsideGrid(ys,dl,ai,On),!m&&this.grid.hitTestCircle(ja,wa,Dt,xe)&&(xt=!0,!G))return{circles:[],offscreen:!1,collisionDetected:xt,occluded:!1}}}}return{circles:!G&&xt||!Vt?[]:Ie,offscreen:yt,collisionDetected:xt,occluded:ot.occluded}}queryRenderedSymbols(d){if(d.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const m=[];let w=1/0,E=1/0,M=-1/0,O=-1/0;for(const G of d){const ae=new a.Point(G.x+Zo,G.y+Zo);w=Math.min(w,ae.x),E=Math.min(E,ae.y),M=Math.max(M,ae.x),O=Math.max(O,ae.y),m.push(ae)}const F=this.grid.query(w,E,M,O).concat(this.ignoredGrid.query(w,E,M,O)),U={},H={};for(const G of F){const ae=G.key;if(U[ae.bucketInstanceId]===void 0&&(U[ae.bucketInstanceId]={}),U[ae.bucketInstanceId][ae.featureIndex])continue;const xe=[new a.Point(G.x1,G.y1),new a.Point(G.x2,G.y1),new a.Point(G.x2,G.y2),new a.Point(G.x1,G.y2)];a.polygonIntersectsPolygon(m,xe)&&(U[ae.bucketInstanceId][ae.featureIndex]=!0,H[ae.bucketInstanceId]===void 0&&(H[ae.bucketInstanceId]=[]),H[ae.bucketInstanceId].push(ae.featureIndex))}return H}insertCollisionBox(d,m,w,E,M){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:w,featureIndex:E,collisionGroupID:M},d[0],d[1],d[2],d[3])}insertCollisionCircles(d,m,w,E,M){const O=m?this.ignoredGrid:this.grid,F={bucketInstanceId:w,featureIndex:E,collisionGroupID:M};for(let U=0;U<d.length;U+=4)O.insertCircle(F,d[U],d[U+1],d[U+2])}projectAndGetPerspectiveRatio(d,m,w,E,M,O,F){const U=[m,w,E,1];let H=!1;E||this.transform.pitch>0?(a.transformMat4$1(U,U,d),this.fogState&&M&&F.name!=="globe"&&(H=function(xe,Te,ke,Pe,Ie,se){const Ae=se.calculateFogTileMatrix(Ie),Ne=[Te,ke,Pe];return a.transformMat4(Ne,Ne,Ae),oe(xe,Ne,se.pitch,se._fov)}(this.fogState,m,w,E,M.toUnwrapped(),this.transform)>.9)):ln(U,U,d);const G=U[3];return{point:new a.Point((U[0]/G+1)/2*this.transform.width+Zo,(-U[1]/G+1)/2*this.transform.height+Zo),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(F)/G*.5,1.5),signedDistanceFromCamera:G,occluded:O&&U[2]>G||H}}isOffscreen(d,m,w,E){return w<Zo||d>=this.screenRightBoundary||E<Zo||m>this.screenBottomBoundary}isInsideGrid(d,m,w,E){return w>=0&&d<this.gridRightBoundary&&E>=0&&m<this.gridBottomBoundary}getViewportMatrix(){const d=a.identity([]);return a.translate(d,d,[-100,-100,0]),d}}function Eu(b,d,m){const w=d.createTileMatrix(b,b.worldSize,m.toUnwrapped());return a.multiply(new Float32Array(16),b.projMatrix,w)}function hs(b,d,m){if(d.projection.name===m.projection.name)return b.projMatrix;const w=m.clone();return w.setProjection(d.projection),Eu(w,d.getProjection(),b)}function ii(b,d,m){return d.name===m.projection.name?b.projMatrix:Eu(m,d,b)}class a6{constructor(d,m,w,E){this.opacity=d?Math.max(0,Math.min(1,d.opacity+(d.placed?m:-m))):E&&w?1:0,this.placed=w}isHidden(){return this.opacity===0&&!this.placed}}class Ol{constructor(d,m,w,E,M,O=!1){this.text=new a6(d?d.text:null,m,w,M),this.icon=new a6(d?d.icon:null,m,E,M),this.clipped=O}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Jh{constructor(d,m,w,E=!1){this.text=d,this.icon=m,this.skipFade=w,this.clipped=E}}class ef{constructor(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]}}class F2{constructor(d,m,w,E,M){this.bucketInstanceId=d,this.featureIndex=m,this.sourceLayerIndex=w,this.bucketIndex=E,this.tileID=M}}class o6{constructor(d){this.crossSourceCollisions=d,this.maxGroupID=0,this.collisionGroups={}}get(d){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[d]){const m=++this.maxGroupID;this.collisionGroups[d]={ID:m,predicate:w=>w.collisionGroupID===m}}return this.collisionGroups[d]}}function tf(b,d,m,w,E){const{horizontalAlign:M,verticalAlign:O}=a.getAnchorAlignment(b),F=-(M-.5)*d,U=-(O-.5)*m,H=a.evaluateVariableOffset(b,w);return new a.Point(F+H[0]*E,U+H[1]*E)}function rf(b,d,m,w,E){const M=new a.Point(b,d);return m&&M._rotate(w?E:-E),M}class i0{constructor(d,m,w,E,M){this.transform=d.clone(),this.projection=d.projection.name,this.collisionIndex=new Qh(this.transform,M),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=m,this.retainedQueryData={},this.collisionGroups=new o6(w),this.collisionCircleArrays={},this.prevPlacement=E,E&&(E.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(d,m,w,E){const M=w.getBucket(m),O=w.latestFeatureIndex;if(!M||!O||m.id!==M.layerIds[0])return;const F=M.layers[0].layout,U=w.collisionBoxArray,H=Math.pow(2,this.transform.zoom-w.tileID.overscaledZ),G=w.tileSize/a.EXTENT,ae=w.tileID.toUnwrapped();this.transform.setProjection(M.projection);const xe=(Te=w.tileID,ke=M.getProjection(),Pe=this.transform,ke.name===this.projection?Pe.calculateProjMatrix(Te.toUnwrapped()):Eu(Pe,ke,Te));var Te,ke,Pe;const Ie=F.get("text-pitch-alignment")==="map",se=F.get("text-rotation-alignment")==="map";m.compileFilter();const Ae=m.dynamicFilter(),Ne=m.dynamicFilterNeedsFeature(),Oe=this.transform.calculatePixelsToTileUnitsMatrix(w),Xe=Go(xe,w.tileID.canonical,Ie,se,this.transform,M.getProjection(),Oe);let Je=null;if(Ie){const ot=si(xe,w.tileID.canonical,Ie,se,this.transform,M.getProjection(),Oe);Je=a.multiply([],this.transform.labelPlaneMatrix,ot)}let Qe=null;Ae&&w.latestFeatureIndex&&(Qe={unwrappedTileID:ae,dynamicFilter:Ae,dynamicFilterNeedsFeature:Ne,featureIndex:w.latestFeatureIndex}),this.retainedQueryData[M.bucketInstanceId]=new F2(M.bucketInstanceId,O,M.sourceLayerIndex,M.index,w.tileID);const ct={bucket:M,layout:F,posMatrix:xe,textLabelPlaneMatrix:Xe,labelToScreenMatrix:Je,clippingData:Qe,scale:H,textPixelRatio:G,holdingForFade:w.holdingForFade(),collisionBoxArray:U,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(M.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:a.evaluateSizeForZoom(M.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(M.sourceID)};if(E)for(const ot of M.sortKeyRanges){const{sortKey:vt,symbolInstanceStart:Ut,symbolInstanceEnd:ht}=ot;d.push({sortKey:vt,symbolInstanceStart:Ut,symbolInstanceEnd:ht,parameters:ct})}else d.push({symbolInstanceStart:0,symbolInstanceEnd:M.symbolInstances.length,parameters:ct})}attemptAnchorPlacement(d,m,w,E,M,O,F,U,H,G,ae,xe,Te,ke,Pe,Ie,se,Ae){const{textOffset0:Ne,textOffset1:Oe,crossTileID:Xe}=xe,Je=[Ne,Oe],Qe=tf(d,w,E,Je,M),ct=this.collisionIndex.placeCollisionBox(ke,M,m,rf(Qe.x,Qe.y,O,F,this.transform.angle),ae,U,H,G.predicate);if(Ie){const ot=ke.getSymbolInstanceIconSize(Ae,this.transform.zoom,xe.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(ke,ot,Ie,rf(Qe.x,Qe.y,O,F,this.transform.angle),ae,U,H,G.predicate).box.length===0)return}if(ct.box.length>0){let ot;return this.prevPlacement&&this.prevPlacement.variableOffsets[Xe]&&this.prevPlacement.placements[Xe]&&this.prevPlacement.placements[Xe].text&&(ot=this.prevPlacement.variableOffsets[Xe].anchor),this.variableOffsets[Xe]={textOffset:Je,width:w,height:E,anchor:d,textScale:M,prevAnchor:ot},this.markUsedJustification(ke,d,xe,Pe),ke.allowVerticalPlacement&&(this.markUsedOrientation(ke,Pe,xe),this.placedOrientations[Xe]=Pe),{shift:Qe,placedGlyphBoxes:ct}}}placeLayerBucketPart(d,m,w,E){const{bucket:M,layout:O,posMatrix:F,textLabelPlaneMatrix:U,labelToScreenMatrix:H,clippingData:G,textPixelRatio:ae,holdingForFade:xe,collisionBoxArray:Te,partiallyEvaluatedTextSize:ke,partiallyEvaluatedIconSize:Pe,collisionGroup:Ie}=d.parameters,se=O.get("text-optional"),Ae=O.get("icon-optional"),Ne=O.get("text-allow-overlap"),Oe=O.get("icon-allow-overlap"),Xe=O.get("text-rotation-alignment")==="map",Je=O.get("text-pitch-alignment")==="map",Qe=O.get("icon-text-fit")!=="none",ct=O.get("symbol-z-order")==="viewport-y";this.transform.setProjection(M.projection);let ot=Ne&&(Oe||!M.hasIconData()||Ae),vt=Oe&&(Ne||!M.hasTextData()||se);!M.collisionArrays&&Te&&M.deserializeCollisionBoxes(Te),w&&E&&M.updateCollisionDebugBuffers(this.transform.zoom,Te);const Ut=(ht,Rt,xt)=>{const{crossTileID:Vt,numVerticalGlyphVertices:yt}=ht;if(G){const ai={zoom:this.transform.zoom,pitch:this.transform.pitch};let On=null;if(G.dynamicFilterNeedsFeature){const En=this.retainedQueryData[M.bucketInstanceId];On=G.featureIndex.loadFeature({featureIndex:ht.featureIndex,bucketIndex:En.bucketIndex,sourceLayerIndex:En.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,G.dynamicFilter)(ai,On,this.retainedQueryData[M.bucketInstanceId].tileID.canonical,new a.Point(ht.tileAnchorX,ht.tileAnchorY),this.transform.calculateDistanceTileData(G.unwrappedTileID)))return this.placements[Vt]=new Jh(!1,!1,!1,!0),void m.add(Vt)}if(m.has(Vt))return;if(xe)return void(this.placements[Vt]=new Jh(!1,!1,!1));let Dt=!1,$t=!1,Bt=!0,Kt=!1,vr=!1,Or=null,lr={box:null,offscreen:null,occluded:null},Tr={box:null,offscreen:null,occluded:null},cn=null,rn=null,gr=null,Dn=0,Rn=0,Nn=0;xt.textFeatureIndex?Dn=xt.textFeatureIndex:ht.useRuntimeCollisionCircles&&(Dn=ht.featureIndex),xt.verticalTextFeatureIndex&&(Rn=xt.verticalTextFeatureIndex);const Ln=ai=>{ai.tileID=this.retainedQueryData[M.bucketInstanceId].tileID;const On=this.transform.elevation;(On||ai.elevation)&&(ai.elevation=On?On.getAtTileOffset(ai.tileID,ai.tileAnchorX,ai.tileAnchorY):0)},ja=xt.textBox;if(ja){Ln(ja);const ai=En=>{let Li=a.WritingMode.horizontal;if(M.allowVerticalPlacement&&!En&&this.prevPlacement){const to=this.prevPlacement.placedOrientations[Vt];to&&(this.placedOrientations[Vt]=to,Li=to,this.markUsedOrientation(M,Li,ht))}return Li},On=(En,Li)=>{if(M.allowVerticalPlacement&&yt>0&&xt.verticalTextBox){for(const to of M.writingModes)if(to===a.WritingMode.vertical?(lr=Li(),Tr=lr):lr=En(),lr&&lr.box&&lr.box.length)break}else lr=En()};if(O.get("text-variable-anchor")){let En=O.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Vt]){const Jn=this.prevPlacement.variableOffsets[Vt];En.indexOf(Jn.anchor)>0&&(En=En.filter(go=>go!==Jn.anchor),En.unshift(Jn.anchor))}const Li=(Jn,go,C0)=>{const Du=M.getSymbolInstanceTextSize(ke,ht,this.transform.zoom,Rt),Sf=(Jn.x2-Jn.x1)*Du+2*Jn.padding,$l=(Jn.y2-Jn.y1)*Du+2*Jn.padding,Rc=Qe&&!Oe?go:null;Rc&&Ln(Rc);let zu={box:[],offscreen:!1,occluded:!1};const D0=Ne?2*En.length:En.length;for(let Ef=0;Ef<D0;++Ef){const k_=this.attemptAnchorPlacement(En[Ef%En.length],Jn,Sf,$l,Du,Xe,Je,ae,F,Ie,Ef>=En.length,ht,Rt,M,C0,Rc,ke,Pe);if(k_&&(zu=k_.placedGlyphBoxes,zu&&zu.box&&zu.box.length)){Dt=!0,Or=k_.shift;break}}return zu};On(()=>Li(ja,xt.iconBox,a.WritingMode.horizontal),()=>{const Jn=xt.verticalTextBox;return Jn&&Ln(Jn),M.allowVerticalPlacement&&!(lr&&lr.box&&lr.box.length)&&yt>0&&Jn?Li(Jn,xt.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),lr&&(Dt=lr.box,Bt=lr.offscreen,Kt=lr.occluded);const to=ai(!(!lr||!lr.box));if(!Dt&&this.prevPlacement){const Jn=this.prevPlacement.variableOffsets[Vt];Jn&&(this.variableOffsets[Vt]=Jn,this.markUsedJustification(M,Jn.anchor,ht,to))}}else{const En=(Li,to)=>{const Jn=M.getSymbolInstanceTextSize(ke,ht,this.transform.zoom,Rt),go=this.collisionIndex.placeCollisionBox(M,Jn,Li,new a.Point(0,0),Ne,ae,F,Ie.predicate);return go&&go.box&&go.box.length&&(this.markUsedOrientation(M,to,ht),this.placedOrientations[Vt]=to),go};On(()=>En(ja,a.WritingMode.horizontal),()=>{const Li=xt.verticalTextBox;return M.allowVerticalPlacement&&yt>0&&Li?(Ln(Li),En(Li,a.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),ai(!!(lr&&lr.box&&lr.box.length))}}if(cn=lr,Dt=cn&&cn.box&&cn.box.length>0,Bt=cn&&cn.offscreen,Kt=cn&&cn.occluded,ht.useRuntimeCollisionCircles){const ai=M.text.placedSymbolArray.get(ht.centerJustifiedTextSymbolIndex>=0?ht.centerJustifiedTextSymbolIndex:ht.verticalPlacedTextSymbolIndex),On=a.evaluateSizeForFeature(M.textSizeData,ke,ai),En=O.get("text-padding");rn=this.collisionIndex.placeCollisionCircles(M,Ne,ai,M.lineVertexArray,M.glyphOffsetArray,On,F,U,H,w,Je,Ie.predicate,ht.collisionCircleDiameter*On/a.ONE_EM,En,this.retainedQueryData[M.bucketInstanceId].tileID),Dt=Ne||rn.circles.length>0&&!rn.collisionDetected,Bt=Bt&&rn.offscreen,Kt=rn.occluded}if(xt.iconFeatureIndex&&(Nn=xt.iconFeatureIndex),xt.iconBox){const ai=On=>{Ln(On);const En=Qe&&Or?rf(Or.x,Or.y,Xe,Je,this.transform.angle):new a.Point(0,0),Li=M.getSymbolInstanceIconSize(Pe,this.transform.zoom,ht.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(M,Li,On,En,Oe,ae,F,Ie.predicate)};Tr&&Tr.box&&Tr.box.length&&xt.verticalIconBox?(gr=ai(xt.verticalIconBox),$t=gr.box.length>0):(gr=ai(xt.iconBox),$t=gr.box.length>0),Bt=Bt&&gr.offscreen,vr=gr.occluded}const wa=se||ht.numHorizontalGlyphVertices===0&&yt===0,ys=Ae||ht.numIconVertices===0;if(wa||ys?ys?wa||($t=$t&&Dt):Dt=$t&&Dt:$t=Dt=$t&&Dt,Dt&&cn&&cn.box&&this.collisionIndex.insertCollisionBox(cn.box,O.get("text-ignore-placement"),M.bucketInstanceId,Tr&&Tr.box&&Rn?Rn:Dn,Ie.ID),$t&&gr&&this.collisionIndex.insertCollisionBox(gr.box,O.get("icon-ignore-placement"),M.bucketInstanceId,Nn,Ie.ID),rn&&(Dt&&this.collisionIndex.insertCollisionCircles(rn.circles,O.get("text-ignore-placement"),M.bucketInstanceId,Dn,Ie.ID),w)){const ai=M.bucketInstanceId;let On=this.collisionCircleArrays[ai];On===void 0&&(On=this.collisionCircleArrays[ai]=new ef);for(let En=0;En<rn.circles.length;En+=4)On.circles.push(rn.circles[En+0]),On.circles.push(rn.circles[En+1]),On.circles.push(rn.circles[En+2]),On.circles.push(rn.collisionDetected?1:0)}const dl=M.projection.name!=="globe";ot=ot&&(dl||!Kt),vt=vt&&(dl||!vr),this.placements[Vt]=new Jh(Dt||ot,$t||vt,Bt||M.justReloaded),m.add(Vt)};if(ct){const ht=M.getSortedSymbolIndexes(this.transform.angle);for(let Rt=ht.length-1;Rt>=0;--Rt){const xt=ht[Rt];Ut(M.symbolInstances.get(xt),xt,M.collisionArrays[xt])}}else for(let ht=d.symbolInstanceStart;ht<d.symbolInstanceEnd;ht++)Ut(M.symbolInstances.get(ht),ht,M.collisionArrays[ht]);if(w&&M.bucketInstanceId in this.collisionCircleArrays){const ht=this.collisionCircleArrays[M.bucketInstanceId];a.invert(ht.invProjMatrix,F),ht.viewportMatrix=this.collisionIndex.getViewportMatrix()}M.justReloaded=!1}markUsedJustification(d,m,w,E){const{leftJustifiedTextSymbolIndex:M,centerJustifiedTextSymbolIndex:O,rightJustifiedTextSymbolIndex:F,verticalPlacedTextSymbolIndex:U,crossTileID:H}=w,G=a.getAnchorJustification(m),ae=E===a.WritingMode.vertical?U:G==="left"?M:G==="center"?O:G==="right"?F:-1;M>=0&&(d.text.placedSymbolArray.get(M).crossTileID=ae>=0&&M!==ae?0:H),O>=0&&(d.text.placedSymbolArray.get(O).crossTileID=ae>=0&&O!==ae?0:H),F>=0&&(d.text.placedSymbolArray.get(F).crossTileID=ae>=0&&F!==ae?0:H),U>=0&&(d.text.placedSymbolArray.get(U).crossTileID=ae>=0&&U!==ae?0:H)}markUsedOrientation(d,m,w){const E=m===a.WritingMode.horizontal||m===a.WritingMode.horizontalOnly?m:0,M=m===a.WritingMode.vertical?m:0,{leftJustifiedTextSymbolIndex:O,centerJustifiedTextSymbolIndex:F,rightJustifiedTextSymbolIndex:U,verticalPlacedTextSymbolIndex:H}=w,G=d.text.placedSymbolArray;O>=0&&(G.get(O).placedOrientation=E),F>=0&&(G.get(F).placedOrientation=E),U>=0&&(G.get(U).placedOrientation=E),H>=0&&(G.get(H).placedOrientation=M)}commit(d){this.commitTime=d,this.zoomAtLastRecencyCheck=this.transform.zoom;const m=this.prevPlacement;let w=!1;this.prevZoomAdjustment=m?m.zoomAdjustment(this.transform.zoom):0;const E=m?m.symbolFadeChange(d):1,M=m?m.opacities:{},O=m?m.variableOffsets:{},F=m?m.placedOrientations:{};for(const U in this.placements){const H=this.placements[U],G=M[U];G?(this.opacities[U]=new Ol(G,E,H.text,H.icon,null,H.clipped),w=w||H.text!==G.text.placed||H.icon!==G.icon.placed):(this.opacities[U]=new Ol(null,E,H.text,H.icon,H.skipFade,H.clipped),w=w||H.text||H.icon)}for(const U in M){const H=M[U];if(!this.opacities[U]){const G=new Ol(H,E,!1,!1);G.isHidden()||(this.opacities[U]=G,w=w||H.text.placed||H.icon.placed)}}for(const U in O)this.variableOffsets[U]||!this.opacities[U]||this.opacities[U].isHidden()||(this.variableOffsets[U]=O[U]);for(const U in F)this.placedOrientations[U]||!this.opacities[U]||this.opacities[U].isHidden()||(this.placedOrientations[U]=F[U]);w?this.lastPlacementChangeTime=d:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=m?m.lastPlacementChangeTime:d)}updateLayerOpacities(d,m){const w=new Set;for(const E of m){const M=E.getBucket(d);M&&E.latestFeatureIndex&&d.id===M.layerIds[0]&&this.updateBucketOpacities(M,w,E.collisionBoxArray)}}updateBucketOpacities(d,m,w){d.hasTextData()&&d.text.opacityVertexArray.clear(),d.hasIconData()&&d.icon.opacityVertexArray.clear(),d.hasIconCollisionBoxData()&&d.iconCollisionBox.collisionVertexArray.clear(),d.hasTextCollisionBoxData()&&d.textCollisionBox.collisionVertexArray.clear();const E=d.layers[0].layout,M=!!d.layers[0].dynamicFilter(),O=new Ol(null,0,!1,!1,!0),F=E.get("text-allow-overlap"),U=E.get("icon-allow-overlap"),H=E.get("text-variable-anchor"),G=E.get("text-rotation-alignment")==="map",ae=E.get("text-pitch-alignment")==="map",xe=E.get("icon-text-fit")!=="none",Te=new Ol(null,0,F&&(U||!d.hasIconData()||E.get("icon-optional")),U&&(F||!d.hasTextData()||E.get("text-optional")),!0);!d.collisionArrays&&w&&(d.hasIconCollisionBoxData()||d.hasTextCollisionBoxData())&&d.deserializeCollisionBoxes(w);const ke=(Ie,se,Ae)=>{for(let Ne=0;Ne<se/4;Ne++)Ie.opacityVertexArray.emplaceBack(Ae)};let Pe=0;for(let Ie=0;Ie<d.symbolInstances.length;Ie++){const se=d.symbolInstances.get(Ie),{numHorizontalGlyphVertices:Ae,numVerticalGlyphVertices:Ne,crossTileID:Oe,numIconVertices:Xe}=se,Je=m.has(Oe);let Qe=this.opacities[Oe];Je?Qe=O:Qe||(Qe=Te,this.opacities[Oe]=Qe),m.add(Oe);const ct=Ae>0||Ne>0,ot=Xe>0,vt=this.placedOrientations[Oe],Ut=vt===a.WritingMode.vertical,ht=vt===a.WritingMode.horizontal||vt===a.WritingMode.horizontalOnly;if(!ct&&!ot||Qe.isHidden()||Pe++,ct){const Rt=nf(Qe.text);ke(d.text,Ae,Ut?mi:Rt),ke(d.text,Ne,ht?mi:Rt);const xt=Qe.text.isHidden(),{leftJustifiedTextSymbolIndex:Vt,centerJustifiedTextSymbolIndex:yt,rightJustifiedTextSymbolIndex:Dt,verticalPlacedTextSymbolIndex:$t}=se,Bt=d.text.placedSymbolArray,Kt=xt||Ut?1:0;Vt>=0&&(Bt.get(Vt).hidden=Kt),yt>=0&&(Bt.get(yt).hidden=Kt),Dt>=0&&(Bt.get(Dt).hidden=Kt),$t>=0&&(Bt.get($t).hidden=xt||ht?1:0);const vr=this.variableOffsets[Oe];vr&&this.markUsedJustification(d,vr.anchor,se,vt);const Or=this.placedOrientations[Oe];Or&&(this.markUsedJustification(d,"left",se,Or),this.markUsedOrientation(d,Or,se))}if(ot){const Rt=nf(Qe.icon),{placedIconSymbolIndex:xt,verticalPlacedIconSymbolIndex:Vt}=se,yt=d.icon.placedSymbolArray,Dt=Qe.icon.isHidden()?1:0;xt>=0&&(ke(d.icon,Xe,Ut?mi:Rt),yt.get(xt).hidden=Dt),Vt>=0&&(ke(d.icon,se.numVerticalIconVertices,ht?mi:Rt),yt.get(Vt).hidden=Dt)}if(d.hasIconCollisionBoxData()||d.hasTextCollisionBoxData()){const Rt=d.collisionArrays[Ie];if(Rt){let xt=new a.Point(0,0),Vt=!0;if(Rt.textBox||Rt.verticalTextBox){if(H){const Dt=this.variableOffsets[Oe];Dt?(xt=tf(Dt.anchor,Dt.width,Dt.height,Dt.textOffset,Dt.textScale),G&&xt._rotate(ae?this.transform.angle:-this.transform.angle)):Vt=!1}M&&(Vt=!Qe.clipped),Rt.textBox&&Kd(d.textCollisionBox.collisionVertexArray,Qe.text.placed,!Vt||Ut,xt.x,xt.y),Rt.verticalTextBox&&Kd(d.textCollisionBox.collisionVertexArray,Qe.text.placed,!Vt||ht,xt.x,xt.y)}const yt=Vt&&!!(!ht&&Rt.verticalIconBox);Rt.iconBox&&Kd(d.iconCollisionBox.collisionVertexArray,Qe.icon.placed,yt,xe?xt.x:0,xe?xt.y:0),Rt.verticalIconBox&&Kd(d.iconCollisionBox.collisionVertexArray,Qe.icon.placed,!yt,xe?xt.x:0,xe?xt.y:0)}}}if(d.fullyClipped=Pe===0,d.sortFeatures(this.transform.angle),this.retainedQueryData[d.bucketInstanceId]&&(this.retainedQueryData[d.bucketInstanceId].featureSortOrder=d.featureSortOrder),d.hasTextData()&&d.text.opacityVertexBuffer&&d.text.opacityVertexBuffer.updateData(d.text.opacityVertexArray),d.hasIconData()&&d.icon.opacityVertexBuffer&&d.icon.opacityVertexBuffer.updateData(d.icon.opacityVertexArray),d.hasIconCollisionBoxData()&&d.iconCollisionBox.collisionVertexBuffer&&d.iconCollisionBox.collisionVertexBuffer.updateData(d.iconCollisionBox.collisionVertexArray),d.hasTextCollisionBoxData()&&d.textCollisionBox.collisionVertexBuffer&&d.textCollisionBox.collisionVertexBuffer.updateData(d.textCollisionBox.collisionVertexArray),d.bucketInstanceId in this.collisionCircleArrays){const Ie=this.collisionCircleArrays[d.bucketInstanceId];d.placementInvProjMatrix=Ie.invProjMatrix,d.placementViewportMatrix=Ie.viewportMatrix,d.collisionCircleArray=Ie.circles,delete this.collisionCircleArrays[d.bucketInstanceId]}}symbolFadeChange(d){return this.fadeDuration===0?1:(d-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(d){return Math.max(0,(this.transform.zoom-d)/1.5)}hasTransitions(d){return this.stale||d-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(d,m){const w=this.zoomAtLastRecencyCheck===m?1-this.zoomAdjustment(m):1;return this.zoomAtLastRecencyCheck=m,this.commitTime+this.fadeDuration*w>d}setStale(){this.stale=!0}}function Kd(b,d,m,w,E){b.emplaceBack(d?1:0,m?1:0,w||0,E||0),b.emplaceBack(d?1:0,m?1:0,w||0,E||0),b.emplaceBack(d?1:0,m?1:0,w||0,E||0),b.emplaceBack(d?1:0,m?1:0,w||0,E||0)}const fo=Math.pow(2,25),Ti=Math.pow(2,24),j2=Math.pow(2,17),V2=Math.pow(2,16),mo=Math.pow(2,9),fs=Math.pow(2,8),s6=Math.pow(2,1);function nf(b){if(b.opacity===0&&!b.placed)return 0;if(b.opacity===1&&b.placed)return 4294967295;const d=b.placed?1:0,m=Math.floor(127*b.opacity);return m*fo+d*Ti+m*j2+d*V2+m*mo+d*fs+m*s6+d}const mi=0;class af{constructor(d){this._sortAcrossTiles=d.layout.get("symbol-z-order")!=="viewport-y"&&d.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(d,m,w,E,M){const O=this._bucketParts;for(;this._currentTileIndex<d.length;)if(m.getBucketParts(O,E,d[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,M())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,O.sort((F,U)=>F.sortKey-U.sortKey));this._currentPartIndex<O.length;){const F=O[this._currentPartIndex];if(m.placeLayerBucketPart(F,this._seenCrossTileIDs,w,F.symbolInstanceStart===0),this._currentPartIndex++,M())return!0}return!1}}class U2{constructor(d,m,w,E,M,O,F,U){this.placement=new i0(d,M,O,F,U),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=w,this._showCollisionBoxes=E,this._done=!1}isDone(){return this._done}continuePlacement(d,m,w){const E=a.exported.now(),M=()=>{const O=a.exported.now()-E;return!this._forceFullPlacement&&O>2};for(;this._currentPlacementIndex>=0;){const O=m[d[this._currentPlacementIndex]],F=this.placement.collisionIndex.transform.zoom;if(O.type==="symbol"&&(!O.minzoom||O.minzoom<=F)&&(!O.maxzoom||O.maxzoom>F)){if(this._inProgressLayer||(this._inProgressLayer=new af(O)),this._inProgressLayer.continuePlacement(w[O.source],this.placement,this._showCollisionBoxes,O,M))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(d){return this.placement.commit(d),this.placement}}const Au=512/a.EXTENT/2;class Ca{constructor(d,m,w){this.tileID=d,this.bucketInstanceId=w,this.index=new a.KDBush(m.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const E=d.canonical.x*a.EXTENT,M=d.canonical.y*a.EXTENT;for(let O=0;O<m.length;O++){const{key:F,crossTileID:U,tileAnchorX:H,tileAnchorY:G}=m.get(O),ae=Math.floor((E+H)*Au),xe=Math.floor((M+G)*Au);this.index.add(ae,xe),this.keys.push(F),this.crossTileIDs.push(U)}this.index.finish()}findMatches(d,m,w){const E=this.tileID.canonical.z<m.canonical.z?1:Math.pow(2,this.tileID.canonical.z-m.canonical.z),M=Au/Math.pow(2,m.canonical.z-this.tileID.canonical.z),O=m.canonical.x*a.EXTENT,F=m.canonical.y*a.EXTENT;for(let U=0;U<d.length;U++){const H=d.get(U);if(H.crossTileID)continue;const{key:G,tileAnchorX:ae,tileAnchorY:xe}=H,Te=Math.floor((O+ae)*M),ke=Math.floor((F+xe)*M),Pe=this.index.range(Te-E,ke-E,Te+E,ke+E);for(const Ie of Pe){const se=this.crossTileIDs[Ie];if(this.keys[Ie]===G&&!w.has(se)){w.add(se),H.crossTileID=se;break}}}}}class W2{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class $2{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(d){const m=Math.round((d-this.lng)/360);if(m!==0)for(const w in this.indexes){const E=this.indexes[w],M={};for(const O in E){const F=E[O];F.tileID=F.tileID.unwrapTo(F.tileID.wrap+m),M[F.tileID.key]=F}this.indexes[w]=M}this.lng=d}addBucket(d,m,w){if(this.indexes[d.overscaledZ]&&this.indexes[d.overscaledZ][d.key]){if(this.indexes[d.overscaledZ][d.key].bucketInstanceId===m.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(d.overscaledZ,this.indexes[d.overscaledZ][d.key])}for(let M=0;M<m.symbolInstances.length;M++)m.symbolInstances.get(M).crossTileID=0;this.usedCrossTileIDs[d.overscaledZ]||(this.usedCrossTileIDs[d.overscaledZ]=new Set);const E=this.usedCrossTileIDs[d.overscaledZ];for(const M in this.indexes){const O=this.indexes[M];if(Number(M)>d.overscaledZ)for(const F in O){const U=O[F];U.tileID.isChildOf(d)&&U.findMatches(m.symbolInstances,d,E)}else{const F=O[d.scaledTo(Number(M)).key];F&&F.findMatches(m.symbolInstances,d,E)}}for(let M=0;M<m.symbolInstances.length;M++){const O=m.symbolInstances.get(M);O.crossTileID||(O.crossTileID=w.generate(),E.add(O.crossTileID))}return this.indexes[d.overscaledZ]===void 0&&(this.indexes[d.overscaledZ]={}),this.indexes[d.overscaledZ][d.key]=new Ca(d,m.symbolInstances,m.bucketInstanceId),!0}removeBucketCrossTileIDs(d,m){for(const w of m.crossTileIDs)this.usedCrossTileIDs[d].delete(w)}removeStaleBuckets(d){let m=!1;for(const w in this.indexes){const E=this.indexes[w];for(const M in E)d[E[M].bucketInstanceId]||(this.removeBucketCrossTileIDs(w,E[M]),delete E[M],m=!0)}return m}}class Bl{constructor(){this.layerIndexes={},this.crossTileIDs=new W2,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(d,m,w,E){let M=this.layerIndexes[d.id];M===void 0&&(M=this.layerIndexes[d.id]=new $2);let O=!1;const F={};E.name!=="globe"&&M.handleWrapJump(w);for(const U of m){const H=U.getBucket(d);H&&d.id===H.layerIds[0]&&(H.bucketInstanceId||(H.bucketInstanceId=++this.maxBucketInstanceId),M.addBucket(U.tileID,H,this.crossTileIDs)&&(O=!0),F[H.bucketInstanceId]=!0)}return M.removeStaleBuckets(F)&&(O=!0),O}pruneUnusedLayers(d){const m={};d.forEach(w=>{m[w]=!0});for(const w in this.layerIndexes)m[w]||delete this.layerIndexes[w]}}const Dc=(b,d)=>a.emitValidationErrors(b,d&&d.filter(m=>m.identifier!=="source.canvas")),a0=a.pick(hn,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),QS=a.pick(hn,["setCenter","setZoom","setBearing","setPitch"]),K2={version:8,layers:[],sources:{}},qd={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class ll extends a.Evented{constructor(d,m={}){super(),this.map=d,this.dispatcher=new Ee(ol(),this),this.imageManager=new et,this.imageManager.setEventedParent(this),this.glyphManager=new a.GlyphManager(d._requestManager,m.localFontFamily?a.LocalGlyphMode.all:m.localIdeographFontFamily?a.LocalGlyphMode.ideographs:a.LocalGlyphMode.none,m.localFontFamily||m.localIdeographFontFamily),this.crossTileSymbolIndex=new Bl,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());const w=this;this._rtlTextPluginCallback=ll.registerForPluginStateChange(E=>{w.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:E.pluginStatus,pluginURL:E.pluginURL},(M,O)=>{if(a.triggerPluginCompletionEvent(M),O&&O.every(F=>F))for(const F in w._sourceCaches){const U=w._sourceCaches[F],H=U.getSource().type;H!=="vector"&&H!=="geojson"||U.reload()}})}),this.on("data",E=>{if(E.dataType!=="source"||E.sourceDataType!=="metadata")return;const M=this.getSource(E.sourceId);if(M&&M.vectorLayerIds)for(const O in this._layers){const F=this._layers[O];F.source===M.id&&this._validateLayer(F)}})}loadURL(d,m={}){this.fire(new a.Event("dataloading",{dataType:"style"}));const w=typeof m.validate=="boolean"?m.validate:!a.isMapboxURL(d);d=this.map._requestManager.normalizeStyleURL(d,m.accessToken);const E=this.map._requestManager.transformRequest(d,a.ResourceType.Style);this._request=a.getJSON(E,(M,O)=>{this._request=null,M?this.fire(new a.ErrorEvent(M)):O&&this._load(O,w)})}loadJSON(d,m={}){this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.exported.frame(()=>{this._request=null,this._load(d,m.validate!==!1)})}loadEmpty(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(K2,!1)}_updateLayerCount(d,m){const w=m?1:-1;d.is3D()&&(this._num3DLayers+=w),d.type==="circle"&&(this._numCircleLayers+=w),d.type==="symbol"&&(this._numSymbolLayers+=w)}_load(d,m){if(m&&Dc(this,a.validateStyle(d)))return;this._loaded=!0,this.stylesheet=a.clone$1(d),this._updateMapProjection();for(const E in d.sources)this.addSource(E,d.sources[E],{validate:!1});this._changed=!1,d.sprite?this._loadSprite(d.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(d.glyphs);const w=Wd(this.stylesheet.layers);this._order=w.map(E=>E.id),this._layers={},this._serializedLayers={};for(const E of w){const M=a.createStyleLayer(E);M.setEventedParent(this,{layer:{id:M.id}}),this._layers[M.id]=M,this._serializedLayers[M.id]=M.serialize(),this._updateLayerCount(M,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new ye(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(d){d?this.stylesheet.projection=d:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(d){this._spriteRequest=function(m,w,E){let M,O,F;const U=a.exported.devicePixelRatio>1?"@2x":"";let H=a.getJSON(w.transformRequest(w.normalizeSpriteURL(m,U,".json"),a.ResourceType.SpriteJSON),(xe,Te)=>{H=null,F||(F=xe,M=Te,ae())}),G=a.getImage(w.transformRequest(w.normalizeSpriteURL(m,U,".png"),a.ResourceType.SpriteImage),(xe,Te)=>{G=null,F||(F=xe,O=Te,ae())});function ae(){if(F)E(F);else if(M&&O){const xe=a.exported.getImageData(O),Te={};for(const ke in M){const{width:Pe,height:Ie,x:se,y:Ae,sdf:Ne,pixelRatio:Oe,stretchX:Xe,stretchY:Je,content:Qe}=M[ke],ct=new a.RGBAImage({width:Pe,height:Ie});a.RGBAImage.copy(xe,ct,{x:se,y:Ae},{x:0,y:0},{width:Pe,height:Ie}),Te[ke]={data:ct,pixelRatio:Oe,sdf:Ne,stretchX:Xe,stretchY:Je,content:Qe}}E(null,Te)}}return{cancel(){H&&(H.cancel(),H=null),G&&(G.cancel(),G=null)}}}(d,this.map._requestManager,(m,w)=>{if(this._spriteRequest=null,m)this.fire(new a.ErrorEvent(m));else if(w)for(const E in w)this.imageManager.addImage(E,w[E]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new a.Event("data",{dataType:"style"}))})}_validateLayer(d){const m=this.getSource(d.source);if(!m)return;const w=d.sourceLayer;w&&(m.type==="geojson"||m.vectorLayerIds&&m.vectorLayerIds.indexOf(w)===-1)&&this.fire(new a.ErrorEvent(new Error(`Source layer "${w}" does not exist on source "${m.id}" as specified by style layer "${d.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const d in this._sourceCaches)if(!this._sourceCaches[d].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(d){const m=[];for(const w of d){const E=this._layers[w];E.type!=="custom"&&m.push(E.serialize())}return m}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const d in this._sourceCaches)if(this._sourceCaches[d].hasTransition())return!0;for(const d in this._layers)if(this._layers[d].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(d){return!!this.terrain&&(typeof d.isLayerDraped=="function"?d.isLayerDraped():qd[d.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(d){if(!this._loaded)return;const m=this._changed;if(this._changed){const E=Object.keys(this._updatedLayers),M=Object.keys(this._removedLayers);(E.length||M.length)&&this._updateWorkerLayers(E,M);for(const O in this._updatedSources){const F=this._updatedSources[O];F==="reload"?this._reloadSource(O):F==="clear"&&this._clearSource(O)}this._updateTilesForChangedImages();for(const O in this._updatedPaintProps)this._layers[O].updateTransitions(d);this.light.updateTransitions(d),this.fog&&this.fog.updateTransitions(d),this._resetUpdates()}const w={};for(const E in this._sourceCaches){const M=this._sourceCaches[E];w[E]=M.used,M.used=!1}for(const E of this._order){const M=this._layers[E];if(M.recalculate(d,this._availableImages),!M.isHidden(d.zoom)){const F=this._getLayerSourceCache(M);F&&(F.used=!0)}const O=this.map.painter;if(O){const F=M.getProgramIds();if(!F)continue;const U=M.getProgramConfiguration(d.zoom);for(const H of F)O.useProgram(H,U)}}for(const E in w){const M=this._sourceCaches[E];w[E]!==M.used&&M.getSource().fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:M.getSource().id}))}this.light.recalculate(d),this.terrain&&this.terrain.recalculate(d),this.fog&&this.fog.recalculate(d),this.z=d.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),m&&this.fire(new a.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const d=Object.keys(this._changedImages);if(d.length){for(const m in this._sourceCaches)this._sourceCaches[m].reloadTilesForDependencies(["icons","patterns"],d);this._changedImages={}}}_updateWorkerLayers(d,m){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(d),removedIds:m})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(d){if(this._checkLoaded(),Dc(this,a.validateStyle(d)))return!1;(d=a.clone$1(d)).layers=Wd(d.layers);const m=function(E,M){if(!E)return[{command:hn.setStyle,args:[M]}];let O=[];try{if(!p(E.version,M.version))return[{command:hn.setStyle,args:[M]}];p(E.center,M.center)||O.push({command:hn.setCenter,args:[M.center]}),p(E.zoom,M.zoom)||O.push({command:hn.setZoom,args:[M.zoom]}),p(E.bearing,M.bearing)||O.push({command:hn.setBearing,args:[M.bearing]}),p(E.pitch,M.pitch)||O.push({command:hn.setPitch,args:[M.pitch]}),p(E.sprite,M.sprite)||O.push({command:hn.setSprite,args:[M.sprite]}),p(E.glyphs,M.glyphs)||O.push({command:hn.setGlyphs,args:[M.glyphs]}),p(E.transition,M.transition)||O.push({command:hn.setTransition,args:[M.transition]}),p(E.light,M.light)||O.push({command:hn.setLight,args:[M.light]}),p(E.fog,M.fog)||O.push({command:hn.setFog,args:[M.fog]}),p(E.projection,M.projection)||O.push({command:hn.setProjection,args:[M.projection]});const F={},U=[];(function(ae,xe,Te,ke){let Pe;for(Pe in xe=xe||{},ae=ae||{})ae.hasOwnProperty(Pe)&&(xe.hasOwnProperty(Pe)||Nl(Pe,Te,ke));for(Pe in xe){if(!xe.hasOwnProperty(Pe))continue;const Ie=xe[Pe];ae.hasOwnProperty(Pe)?p(ae[Pe],Ie)||(ae[Pe].type==="geojson"&&Ie.type==="geojson"&&Cc(ae,xe,Pe)?Te.push({command:hn.setGeoJSONSourceData,args:[Pe,Ie.data]}):xu(Pe,xe,Te,ke)):bu(Pe,xe,Te)}})(E.sources,M.sources,U,F);const H=[];E.layers&&E.layers.forEach(ae=>{ae.source&&F[ae.source]?O.push({command:hn.removeLayer,args:[ae.id]}):H.push(ae)});let G=E.terrain;G&&F[G.source]&&(O.push({command:hn.setTerrain,args:[void 0]}),G=void 0),O=O.concat(U),p(G,M.terrain)||O.push({command:hn.setTerrain,args:[M.terrain]}),function(ae,xe,Te){xe=xe||[];const ke=(ae=ae||[]).map(Ko),Pe=xe.map(Ko),Ie=ae.reduce(wu,{}),se=xe.reduce(wu,{}),Ae=ke.slice(),Ne=Object.create(null);let Oe,Xe,Je,Qe,ct,ot,vt;for(Oe=0,Xe=0;Oe<ke.length;Oe++)Je=ke[Oe],se.hasOwnProperty(Je)?Xe++:(Te.push({command:hn.removeLayer,args:[Je]}),Ae.splice(Ae.indexOf(Je,Xe),1));for(Oe=0,Xe=0;Oe<Pe.length;Oe++)Je=Pe[Pe.length-1-Oe],Ae[Ae.length-1-Oe]!==Je&&(Ie.hasOwnProperty(Je)?(Te.push({command:hn.removeLayer,args:[Je]}),Ae.splice(Ae.lastIndexOf(Je,Ae.length-Xe),1)):Xe++,ot=Ae[Ae.length-Oe],Te.push({command:hn.addLayer,args:[se[Je],ot]}),Ae.splice(Ae.length-Oe,0,Je),Ne[Je]=!0);for(Oe=0;Oe<Pe.length;Oe++)if(Je=Pe[Oe],Qe=Ie[Je],ct=se[Je],!Ne[Je]&&!p(Qe,ct))if(p(Qe.source,ct.source)&&p(Qe["source-layer"],ct["source-layer"])&&p(Qe.type,ct.type)){for(vt in ho(Qe.layout,ct.layout,Te,Je,null,hn.setLayoutProperty),ho(Qe.paint,ct.paint,Te,Je,null,hn.setPaintProperty),p(Qe.filter,ct.filter)||Te.push({command:hn.setFilter,args:[Je,ct.filter]}),p(Qe.minzoom,ct.minzoom)&&p(Qe.maxzoom,ct.maxzoom)||Te.push({command:hn.setLayerZoomRange,args:[Je,ct.minzoom,ct.maxzoom]}),Qe)Qe.hasOwnProperty(vt)&&vt!=="layout"&&vt!=="paint"&&vt!=="filter"&&vt!=="metadata"&&vt!=="minzoom"&&vt!=="maxzoom"&&(vt.indexOf("paint.")===0?ho(Qe[vt],ct[vt],Te,Je,vt.slice(6),hn.setPaintProperty):p(Qe[vt],ct[vt])||Te.push({command:hn.setLayerProperty,args:[Je,vt,ct[vt]]}));for(vt in ct)ct.hasOwnProperty(vt)&&!Qe.hasOwnProperty(vt)&&vt!=="layout"&&vt!=="paint"&&vt!=="filter"&&vt!=="metadata"&&vt!=="minzoom"&&vt!=="maxzoom"&&(vt.indexOf("paint.")===0?ho(Qe[vt],ct[vt],Te,Je,vt.slice(6),hn.setPaintProperty):p(Qe[vt],ct[vt])||Te.push({command:hn.setLayerProperty,args:[Je,vt,ct[vt]]}))}else Te.push({command:hn.removeLayer,args:[Je]}),ot=Ae[Ae.lastIndexOf(Je)+1],Te.push({command:hn.addLayer,args:[ct,ot]})}(H,M.layers,O)}catch(F){console.warn("Unable to compute style diff:",F),O=[{command:hn.setStyle,args:[M]}]}return O}(this.serialize(),d).filter(E=>!(E.command in QS));if(m.length===0)return!1;const w=m.filter(E=>!(E.command in a0));if(w.length>0)throw new Error(`Unimplemented: ${w.map(E=>E.command).join(", ")}.`);return m.forEach(E=>{E.command!=="setTransition"&&E.command!=="setProjection"&&this[E.command].apply(this,E.args)}),this.stylesheet=d,this._updateMapProjection(),!0}addImage(d,m){return this.getImage(d)?this.fire(new a.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(d,m),this._afterImageUpdated(d),this)}updateImage(d,m){this.imageManager.updateImage(d,m)}getImage(d){return this.imageManager.getImage(d)}removeImage(d){return this.getImage(d)?(this.imageManager.removeImage(d),this._afterImageUpdated(d),this):this.fire(new a.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(d){this._availableImages=this.imageManager.listImages(),this._changedImages[d]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(d,m,w={}){if(this._checkLoaded(),this.getSource(d)!==void 0)throw new Error("There is already a source with this ID");if(!m.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(m).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(m.type)>=0&&this._validate(a.validateSource,`sources.${d}`,m,null,w))return;this.map&&this.map._collectResourceTiming&&(m.collectResourceTiming=!0);const E=Yr(d,m,this.dispatcher,this);E.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(d),source:E.serialize(),sourceId:d}));const M=O=>{const F=(O?"symbol:":"other:")+d,U=this._sourceCaches[F]=new a.SourceCache(F,E,O);(O?this._symbolSourceCaches:this._otherSourceCaches)[d]=U,U.style=this,U.onAdd(this.map)};M(!1),m.type!=="vector"&&m.type!=="geojson"||M(!0),E.onAdd&&E.onAdd(this.map),this._changed=!0}removeSource(d){this._checkLoaded();const m=this.getSource(d);if(!m)throw new Error("There is no source with this ID");for(const E in this._layers)if(this._layers[E].source===d)return this.fire(new a.ErrorEvent(new Error(`Source "${d}" cannot be removed while layer "${E}" is using it.`)));if(this.terrain&&this.terrain.get().source===d)return this.fire(new a.ErrorEvent(new Error(`Source "${d}" cannot be removed while terrain is using it.`)));const w=this._getSourceCaches(d);for(const E of w)delete this._sourceCaches[E.id],delete this._updatedSources[E.id],E.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:E.getSource().id})),E.setEventedParent(null),E.clearTiles();return delete this._otherSourceCaches[d],delete this._symbolSourceCaches[d],m.setEventedParent(null),m.onRemove&&m.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(d,m){this._checkLoaded(),this.getSource(d).setData(m),this._changed=!0}getSource(d){const m=this._getSourceCache(d);return m&&m.getSource()}_getSources(){const d=[];for(const m in this._otherSourceCaches){const w=this._getSourceCache(m);w&&d.push(w.getSource())}return d}addLayer(d,m,w={}){this._checkLoaded();const E=d.id;if(this.getLayer(E))return void this.fire(new a.ErrorEvent(new Error(`Layer with id "${E}" already exists on this map`)));let M;if(d.type==="custom"){if(Dc(this,a.validateCustomStyleLayer(d)))return;M=a.createStyleLayer(d)}else{if(typeof d.source=="object"&&(this.addSource(E,d.source),d=a.clone$1(d),d=a.extend(d,{source:E})),this._validate(a.validateLayer,`layers.${E}`,d,{arrayIndex:-1},w))return;M=a.createStyleLayer(d),this._validateLayer(M),M.setEventedParent(this,{layer:{id:E}}),this._serializedLayers[M.id]=M.serialize(),this._updateLayerCount(M,!0)}const O=m?this._order.indexOf(m):this._order.length;if(m&&O===-1)return void this.fire(new a.ErrorEvent(new Error(`Layer with id "${m}" does not exist on this map.`)));this._order.splice(O,0,E),this._layerOrderChanged=!0,this._layers[E]=M;const F=this._getLayerSourceCache(M);if(this._removedLayers[E]&&M.source&&F&&M.type!=="custom"){const U=this._removedLayers[E];delete this._removedLayers[E],U.type!==M.type?this._updatedSources[M.source]="clear":(this._updatedSources[M.source]="reload",F.pause())}this._updateLayer(M),M.onAdd&&M.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(d,m){if(this._checkLoaded(),this._changed=!0,!this._layers[d])return void this.fire(new a.ErrorEvent(new Error(`The layer '${d}' does not exist in the map's style and cannot be moved.`)));if(d===m)return;const w=this._order.indexOf(d);this._order.splice(w,1);const E=m?this._order.indexOf(m):this._order.length;m&&E===-1?this.fire(new a.ErrorEvent(new Error(`Layer with id "${m}" does not exist on this map.`))):(this._order.splice(E,0,d),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(d){this._checkLoaded();const m=this._layers[d];if(!m)return void this.fire(new a.ErrorEvent(new Error(`The layer '${d}' does not exist in the map's style and cannot be removed.`)));m.setEventedParent(null),this._updateLayerCount(m,!1);const w=this._order.indexOf(d);this._order.splice(w,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[d]=m,delete this._layers[d],delete this._serializedLayers[d],delete this._updatedLayers[d],delete this._updatedPaintProps[d],m.onRemove&&m.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(d){return this._layers[d]}hasLayer(d){return d in this._layers}hasLayerType(d){for(const m in this._layers)if(this._layers[m].type===d)return!0;return!1}setLayerZoomRange(d,m,w){this._checkLoaded();const E=this.getLayer(d);E?E.minzoom===m&&E.maxzoom===w||(m!=null&&(E.minzoom=m),w!=null&&(E.maxzoom=w),this._updateLayer(E)):this.fire(new a.ErrorEvent(new Error(`The layer '${d}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(d,m,w={}){this._checkLoaded();const E=this.getLayer(d);if(E){if(!p(E.filter,m))return m==null?(E.filter=void 0,void this._updateLayer(E)):void(this._validate(a.validateFilter,`layers.${E.id}.filter`,m,{layerType:E.type},w)||(E.filter=a.clone$1(m),this._updateLayer(E)))}else this.fire(new a.ErrorEvent(new Error(`The layer '${d}' does not exist in the map's style and cannot be filtered.`)))}getFilter(d){const m=this.getLayer(d);return m&&a.clone$1(m.filter)}setLayoutProperty(d,m,w,E={}){this._checkLoaded();const M=this.getLayer(d);M?p(M.getLayoutProperty(m),w)||(M.setLayoutProperty(m,w,E),this._updateLayer(M)):this.fire(new a.ErrorEvent(new Error(`The layer '${d}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(d,m){const w=this.getLayer(d);if(w)return w.getLayoutProperty(m);this.fire(new a.ErrorEvent(new Error(`The layer '${d}' does not exist in the map's style.`)))}setPaintProperty(d,m,w,E={}){this._checkLoaded();const M=this.getLayer(d);M?p(M.getPaintProperty(m),w)||(M.setPaintProperty(m,w,E)&&this._updateLayer(M),this._changed=!0,this._updatedPaintProps[d]=!0):this.fire(new a.ErrorEvent(new Error(`The layer '${d}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(d,m){const w=this.getLayer(d);return w&&w.getPaintProperty(m)}setFeatureState(d,m){this._checkLoaded();const w=d.source,E=d.sourceLayer,M=this.getSource(w);if(!M)return void this.fire(new a.ErrorEvent(new Error(`The source '${w}' does not exist in the map's style.`)));const O=M.type;if(O==="geojson"&&E)return void this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(O==="vector"&&!E)return void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));d.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided.")));const F=this._getSourceCaches(w);for(const U of F)U.setFeatureState(E,d.id,m)}removeFeatureState(d,m){this._checkLoaded();const w=d.source,E=this.getSource(w);if(!E)return void this.fire(new a.ErrorEvent(new Error(`The source '${w}' does not exist in the map's style.`)));const M=E.type,O=M==="vector"?d.sourceLayer:void 0;if(M==="vector"&&!O)return void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(m&&typeof d.id!="string"&&typeof d.id!="number")return void this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const F=this._getSourceCaches(w);for(const U of F)U.removeFeatureState(O,d.id,m)}getFeatureState(d){this._checkLoaded();const m=d.source,w=d.sourceLayer,E=this.getSource(m);if(E){if(E.type!=="vector"||w)return d.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(m)[0].getFeatureState(w,d.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error(`The source '${m}' does not exist in the map's style.`)))}getTransition(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const d={};for(const m in this._sourceCaches){const w=this._sourceCaches[m].getSource();d[w.id]||(d[w.id]=w.serialize())}return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:d,layers:this._serializeLayers(this._order)},m=>m!==void 0)}_updateLayer(d){this._updatedLayers[d.id]=!0;const m=this._getLayerSourceCache(d);d.source&&!this._updatedSources[d.source]&&m&&m.getSource().type!=="raster"&&(this._updatedSources[d.source]="reload",m.pause()),this._changed=!0,d.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(d){const m=O=>this._layers[O].type==="fill-extrusion",w={},E=[];for(let O=this._order.length-1;O>=0;O--){const F=this._order[O];if(m(F)){w[F]=O;for(const U of d){const H=U[F];if(H)for(const G of H)E.push(G)}}}E.sort((O,F)=>F.intersectionZ-O.intersectionZ);const M=[];for(let O=this._order.length-1;O>=0;O--){const F=this._order[O];if(m(F))for(let U=E.length-1;U>=0;U--){const H=E[U].feature;if(w[H.layer.id]<O)break;M.push(H),E.pop()}else for(const U of d){const H=U[F];if(H)for(const G of H)M.push(G.feature)}}return M}queryRenderedFeatures(d,m,w){m&&m.filter&&this._validate(a.validateFilter,"queryRenderedFeatures.filter",m.filter,null,m);const E={};if(m&&m.layers){if(!Array.isArray(m.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const U of m.layers){const H=this._layers[U];if(!H)return this.fire(new a.ErrorEvent(new Error(`The layer '${U}' does not exist in the map's style and cannot be queried for features.`))),[];E[H.source]=!0}}const M=[];m.availableImages=this._availableImages;const O=m&&m.layers?m.layers.some(U=>{const H=this.getLayer(U);return H&&H.is3D()}):this.has3DLayers(),F=K.createFromScreenPoints(d,w);for(const U in this._sourceCaches){const H=this._sourceCaches[U].getSource().id;m.layers&&!E[H]||M.push(Qr(this._sourceCaches[U],this._layers,this._serializedLayers,F,m,w,O,!!this.map._showQueryGeometry))}return this.placement&&M.push(function(U,H,G,ae,xe,Te,ke){const Pe={},Ie=Te.queryRenderedSymbols(ae),se=[];for(const Ae of Object.keys(Ie).map(Number))se.push(ke[Ae]);se.sort(mn);for(const Ae of se){const Ne=Ae.featureIndex.lookupSymbolFeatures(Ie[Ae.bucketInstanceId],H,Ae.bucketIndex,Ae.sourceLayerIndex,xe.filter,xe.layers,xe.availableImages,U);for(const Oe in Ne){const Xe=Pe[Oe]=Pe[Oe]||[],Je=Ne[Oe];Je.sort((Qe,ct)=>{const ot=Ae.featureSortOrder;if(ot){const vt=ot.indexOf(Qe.featureIndex);return ot.indexOf(ct.featureIndex)-vt}return ct.featureIndex-Qe.featureIndex});for(const Qe of Je)Xe.push(Qe)}}for(const Ae in Pe)Pe[Ae].forEach(Ne=>{const Oe=Ne.feature,Xe=G(U[Ae]);if(!Xe)return;const Je=Xe.getFeatureState(Oe.layer["source-layer"],Oe.id);Oe.source=Oe.layer.source,Oe.layer["source-layer"]&&(Oe.sourceLayer=Oe.layer["source-layer"]),Oe.state=Je});return Pe}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),F.screenGeometry,m,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(M)}querySourceFeatures(d,m){m&&m.filter&&this._validate(a.validateFilter,"querySourceFeatures.filter",m.filter,null,m);const w=this._getSourceCaches(d);let E=[];for(const M of w)E=E.concat(ui(M,m));return E}addSourceType(d,m,w){return ll.getSourceType(d)?w(new Error(`A source type called "${d}" already exists.`)):(ll.setSourceType(d,m),m.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:d,url:m.workerSourceURL},w):w(null,null))}getLight(){return this.light.getLight()}setLight(d,m={}){this._checkLoaded();const w=this.light.getLight();let E=!1;for(const O in d)if(!p(d[O],w[O])){E=!0;break}if(!E)return;const M=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(d,m),this.light.updateTransitions(M)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(d,m=1){if(this._checkLoaded(),!d)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let w=d;if(m===1){if(typeof w.source=="object"){const E="terrain-dem-src";this.addSource(E,w.source),w=a.clone$1(w),w=a.extend(w,{source:E})}if(this._validate(a.validateTerrain,"terrain",w))return}if(!this.terrain||this.terrain&&m!==this.terrain.drapeRenderMode){if(!w)return;this._createTerrain(w,m)}else{const E=this.terrain,M=E.get();for(const O of Object.keys(a.spec.terrain))!w.hasOwnProperty(O)&&a.spec.terrain[O].default&&(w[O]=a.spec.terrain[O].default);for(const O in w)if(!p(w[O],M[O])){E.set(w),this.stylesheet.terrain=w;const F=this._setTransitionParameters({duration:0});E.updateTransitions(F);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(d){const m=this.fog=new ce(d,this.map.transform);this.stylesheet.fog=d;const w=this._setTransitionParameters({duration:0});m.updateTransitions(w)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const d of this.map._markers)d._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(d){if(this._checkLoaded(),!d)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const m=this.fog,w=m.get();Object.keys(d).length===0&&m.set(d);for(const E in d)if(!p(d[E],w[E])){m.set(d),this.stylesheet.fog=d;const M=this._setTransitionParameters({duration:0});m.updateTransitions(M);break}}else this._createFog(d);this._markersNeedUpdate=!0}_setTransitionParameters(d){return{now:a.exported.now(),transition:a.extend(d,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const d=this._order.filter(w=>this.isLayerDraped(this._layers[w])),m=this._order.filter(w=>!this.isLayerDraped(this._layers[w]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...d),this._drapedFirstOrder.push(...m)}_createTerrain(d,m){const w=this.terrain=new Z(d,m);this.stylesheet.terrain=d,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const E=this._setTransitionParameters({duration:0});w.updateTransitions(E)}_force3DLayerUpdate(){for(const d in this._layers){const m=this._layers[d];m.type==="fill-extrusion"&&this._updateLayer(m)}}_forceSymbolLayerUpdate(){for(const d in this._layers){const m=this._layers[d];m.type==="symbol"&&this._updateLayer(m)}}_validate(d,m,w,E,M={}){return(!M||M.validate!==!1)&&Dc(this,d.call(a.validateStyle,a.extend({key:m,style:this.serialize(),value:w,styleSpec:a.spec},E)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const d in this._layers)this._layers[d].setEventedParent(null);for(const d in this._sourceCaches)this._sourceCaches[d].clearTiles(),this._sourceCaches[d].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(d){const m=this._getSourceCaches(d);for(const w of m)w.clearTiles()}_reloadSource(d){const m=this._getSourceCaches(d);for(const w of m)w.resume(),w.reload()}_reloadSources(){for(const d of this._getSources())d.reload&&d.reload()}_updateSources(d){for(const m in this._sourceCaches)this._sourceCaches[m].update(d)}_generateCollisionBoxes(){for(const d in this._sourceCaches){const m=this._sourceCaches[d];m.resume(),m.reload()}}_updatePlacement(d,m,w,E,M=!1){let O=!1,F=!1;const U={};for(const H of this._order){const G=this._layers[H];if(G.type!=="symbol")continue;if(!U[G.source]){const xe=this._getLayerSourceCache(G);if(!xe)continue;U[G.source]=xe.getRenderableIds(!0).map(Te=>xe.getTileByID(Te)).sort((Te,ke)=>ke.tileID.overscaledZ-Te.tileID.overscaledZ||(Te.tileID.isLessThan(ke.tileID)?-1:1))}const ae=this.crossTileSymbolIndex.addLayer(G,U[G.source],d.center.lng,d.projection);O=O||ae}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),M=M||this._layerOrderChanged||w===0,this._layerOrderChanged&&this.fire(new a.Event("neworder")),(M||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.exported.now(),d.zoom))&&(this.pauseablePlacement=new U2(d,this._order,M,m,w,E,this.placement,this.fog&&d.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,U),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.exported.now()),F=!0),O&&this.pauseablePlacement.placement.setStale()),F||O)for(const H of this._order){const G=this._layers[H];G.type==="symbol"&&this.placement.updateLayerOpacities(G,U[G.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.exported.now())}_releaseSymbolFadeTiles(){for(const d in this._sourceCaches)this._sourceCaches[d].releaseSymbolFadeTiles()}getImages(d,m,w){this.imageManager.getImages(m.icons,w),this._updateTilesForChangedImages();const E=M=>{M&&M.setDependencies(m.tileID.key,m.type,m.icons)};E(this._otherSourceCaches[m.source]),E(this._symbolSourceCaches[m.source])}getGlyphs(d,m,w){this.glyphManager.getGlyphs(m.stacks,w)}getResource(d,m,w){return a.makeRequest(m,w)}_getSourceCache(d){return this._otherSourceCaches[d]}_getLayerSourceCache(d){return d.type==="symbol"?this._symbolSourceCaches[d.source]:this._otherSourceCaches[d.source]}_getSourceCaches(d){const m=[];return this._otherSourceCaches[d]&&m.push(this._otherSourceCaches[d]),this._symbolSourceCaches[d]&&m.push(this._symbolSourceCaches[d]),m}_isSourceCacheLoaded(d){const m=this._getSourceCaches(d);return m.length===0?(this.fire(new a.ErrorEvent(new Error(`There is no source with ID '${d}'`))),!1):m.every(w=>w.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}ll.getSourceType=function(b){return mr[b]},ll.setSourceType=function(b,d){mr[b]=d},ll.registerForPluginStateChange=a.registerForPluginStateChange;var q2=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,Tu="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Fl=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,of=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,jl=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let o0={},Gd={};const sf=[];Hd(q2,sf),Hd(Fl,sf),Hd(of,sf),Hd(jl,sf),o0=Pn("",Fl),Gd=Pn(jl,of);const l6=Pn(`
#if __VERSION__ >=300
#define varying in
#define gl_FragColor glFragColor
#define texture2D texture
#define textureCube texture
out vec4 glFragColor;
#endif
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
#if __VERSION__ >=300
#define attribute in
#define varying out
#define texture2D texture
#endif
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),s0=q2,G2=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var H2={background:Pn(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Pn(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Pn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Pn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Pn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Pn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Pn("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Pn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Pn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Pn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Pn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Pn(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Pn(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Pn(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Pn(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Pn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Pn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Pn(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trimmed=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Pn(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Pn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Pn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:Pn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:Pn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:Pn(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=wireframeOffset;
#endif
v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:Pn(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Pn(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Tu),skyboxGradient:Pn(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Tu),skyboxCapture:Pn(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Pn(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Pn(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function Hd(b,d){const m=b.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let w of m)if(w=w.trim(),w[0]==="#"&&w.includes("if")&&!w.includes("endif")){w=w.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const E=w.split(" ");for(const M of E)d.includes(M)||d.push(M)}}function Pn(b,d){const m=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,w=d.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),E={},M=[...sf];return Hd(b,M),Hd(d,M),{fragmentSource:b=b.replace(m,(O,F,U,H,G)=>(E[G]=!0,F==="define"?`
#ifndef HAS_UNIFORM_u_${G}
varying ${U} ${H} ${G};
#else
uniform ${U} ${H} u_${G};
#endif
`:`
#ifdef HAS_UNIFORM_u_${G}
    ${U} ${H} ${G} = u_${G};
#endif
`)),vertexSource:d=d.replace(m,(O,F,U,H,G)=>{const ae=H==="float"?"vec2":"vec4",xe=G.match(/color/)?"color":ae;return E[G]?F==="define"?`
#ifndef HAS_UNIFORM_u_${G}
uniform lowp float u_${G}_t;
attribute ${U} ${ae} a_${G};
varying ${U} ${H} ${G};
#else
uniform ${U} ${H} u_${G};
#endif
`:xe==="vec4"?`
#ifndef HAS_UNIFORM_u_${G}
    ${G} = a_${G};
#else
    ${U} ${H} ${G} = u_${G};
#endif
`:`
#ifndef HAS_UNIFORM_u_${G}
    ${G} = unpack_mix_${xe}(a_${G}, u_${G}_t);
#else
    ${U} ${H} ${G} = u_${G};
#endif
`:F==="define"?`
#ifndef HAS_UNIFORM_u_${G}
uniform lowp float u_${G}_t;
attribute ${U} ${ae} a_${G};
#else
uniform ${U} ${H} u_${G};
#endif
`:xe==="vec4"?`
#ifndef HAS_UNIFORM_u_${G}
    ${U} ${H} ${G} = a_${G};
#else
    ${U} ${H} ${G} = u_${G};
#endif
`:`
#ifndef HAS_UNIFORM_u_${G}
    ${U} ${H} ${G} = unpack_mix_${xe}(a_${G}, u_${G}_t);
#else
    ${U} ${H} ${G} = u_${G};
#endif
`}),staticAttributes:w,usedDefines:M}}class JS{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(d,m,w,E,M,O,F){this.context=d;let U=this.boundPaintVertexBuffers.length!==E.length;for(let G=0;!U&&G<E.length;G++)this.boundPaintVertexBuffers[G]!==E[G]&&(U=!0);let H=this.boundDynamicVertexBuffers.length!==F.length;for(let G=0;!H&&G<F.length;G++)this.boundDynamicVertexBuffers[G]!==F[G]&&(H=!0);if(!d.extVertexArrayObject||!this.vao||this.boundProgram!==m||this.boundLayoutVertexBuffer!==w||U||H||this.boundIndexBuffer!==M||this.boundVertexOffset!==O)this.freshBind(m,w,E,M,O,F);else{d.bindVertexArrayOES.set(this.vao);for(const G of F)G&&G.bind();M&&M.dynamicDraw&&M.bind()}}freshBind(d,m,w,E,M,O){let F;const U=d.numAttributes,H=this.context,G=H.gl;if(H.extVertexArrayObject)this.vao&&this.destroy(),this.vao=H.extVertexArrayObject.createVertexArrayOES(),H.bindVertexArrayOES.set(this.vao),F=0,this.boundProgram=d,this.boundLayoutVertexBuffer=m,this.boundPaintVertexBuffers=w,this.boundIndexBuffer=E,this.boundVertexOffset=M,this.boundDynamicVertexBuffers=O;else{F=H.currentNumAttributes||0;for(let ae=U;ae<F;ae++)G.disableVertexAttribArray(ae)}m.enableAttributes(G,d),m.bind(),m.setVertexAttribPointers(G,d,M);for(const ae of w)ae.enableAttributes(G,d),ae.bind(),ae.setVertexAttribPointers(G,d,M);for(const ae of O)ae&&(ae.enableAttributes(G,d),ae.bind(),ae.setVertexAttribPointers(G,d,M));E&&E.bind(),H.currentNumAttributes=U}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Z2(b,d){const m=Math.pow(2,d.canonical.z),w=d.canonical.y;return[new a.MercatorCoordinate(0,w/m).toLngLat().lat,new a.MercatorCoordinate(0,(w+1)/m).toLngLat().lat]}function c6(b,d,m,w,E,M,O){const F=b.context,U=F.gl,H=m.fbo;if(!H)return;b.prepareDrawTile();const G=b.useProgram("hillshade");F.activeTexture.set(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,H.colorAttachment.get());const ae=((Pe,Ie,se,Ae)=>{const Ne=se.paint.get("hillshade-shadow-color"),Oe=se.paint.get("hillshade-highlight-color"),Xe=se.paint.get("hillshade-accent-color");let Je=se.paint.get("hillshade-illumination-direction")*(Math.PI/180);se.paint.get("hillshade-illumination-anchor")==="viewport"&&(Je-=Pe.transform.angle);const Qe=!Pe.options.moving;return{u_matrix:Ae||Pe.transform.calculateProjMatrix(Ie.tileID.toUnwrapped(),Qe),u_image:0,u_latrange:Z2(0,Ie.tileID),u_light:[se.paint.get("hillshade-exaggeration"),Je],u_shadow:Ne,u_highlight:Oe,u_accent:Xe}})(b,m,w,b.terrain?d.projMatrix:null);b.prepareDrawProgram(F,G,d.toUnwrapped());const{tileBoundsBuffer:xe,tileBoundsIndexBuffer:Te,tileBoundsSegments:ke}=b.getTileBoundsBuffers(m);G.draw(F,U.TRIANGLES,E,M,O,a.CullFaceMode.disabled,ae,w.id,xe,Te,ke)}function Y2(b,d,m){if(!d.needsDEMTextureUpload)return;const w=b.context,E=w.gl;w.pixelStoreUnpackPremultiplyAlpha.set(!1),d.demTexture=d.demTexture||b.getTileTexture(m.stride);const M=m.getPixels();d.demTexture?d.demTexture.update(M,{premultiply:!1}):d.demTexture=new a.Texture(w,M,E.RGBA,{premultiply:!1}),d.needsDEMTextureUpload=!1}function u6(b,d,m,w,E,M){const O=b.context,F=O.gl;if(!d.dem)return;const U=d.dem;if(O.activeTexture.set(F.TEXTURE1),Y2(b,d,U),!d.demTexture)return;d.demTexture.bind(F.NEAREST,F.CLAMP_TO_EDGE);const H=U.dim;O.activeTexture.set(F.TEXTURE0);let G=d.fbo;if(!G){const ke=new a.Texture(O,{width:H,height:H,data:null},F.RGBA);ke.bind(F.LINEAR,F.CLAMP_TO_EDGE),G=d.fbo=O.createFramebuffer(H,H,!0),G.colorAttachment.set(ke.texture)}O.bindFramebuffer.set(G.framebuffer),O.viewport.set([0,0,H,H]);const{tileBoundsBuffer:ae,tileBoundsIndexBuffer:xe,tileBoundsSegments:Te}=b.getMercatorTileBoundsBuffers();b.useProgram("hillshadePrepare").draw(O,F.TRIANGLES,w,E,M,a.CullFaceMode.disabled,((ke,Pe)=>{const Ie=Pe.stride,se=a.create();return a.ortho(se,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(se,se,[0,-a.EXTENT,0]),{u_matrix:se,u_image:1,u_dimension:[Ie,Ie],u_zoom:ke.overscaledZ,u_unpack:Pe.unpackVector}})(d.tileID,U),m.id,ae,xe,Te),d.needsHillshadePrepare=!1}const X2=b=>({u_matrix:new a.UniformMatrix4f(b),u_image0:new a.Uniform1i(b),u_skirt_height:new a.Uniform1f(b)}),Zd=(b,d)=>({u_matrix:b,u_image0:0,u_skirt_height:d}),l0=(b,d,m,w,E,M,O,F,U,H,G,ae,xe,Te,ke)=>({u_proj_matrix:Float32Array.from(b),u_globe_matrix:d,u_normalize_matrix:Float32Array.from(w),u_merc_matrix:m,u_zoom_transition:E,u_merc_center:M,u_image0:0,u_frustum_tl:O,u_frustum_tr:F,u_frustum_br:U,u_frustum_bl:H,u_globe_pos:G,u_globe_radius:ae,u_viewport:xe,u_grid_matrix:ke?Float32Array.from(ke):new Float32Array(9),u_skirt_height:Te});function Yd(b,d){return b!=null&&d!=null&&!(!b.hasData()||!d.hasData())&&b.demTexture!=null&&d.demTexture!=null&&b.tileID.key!==d.tileID.key}const Vl=new class{constructor(){this.operations={}}newMorphing(b,d,m,w,E){if(b in this.operations){const M=this.operations[b];M.to.tileID.key!==m.tileID.key&&(M.queued=m)}else this.operations[b]={startTime:w,phase:0,duration:E,from:d,to:m,queued:null}}getMorphValuesForProxy(b){if(!(b in this.operations))return null;const d=this.operations[b];return{from:d.from,to:d.to,phase:d.phase}}update(b){for(const d in this.operations){const m=this.operations[d];for(m.phase=(b-m.startTime)/m.duration;m.phase>=1||!this._validOp(m);)if(!this._nextOp(m,b)){delete this.operations[d];break}}}_nextOp(b,d){return!!b.queued&&(b.from=b.to,b.to=b.queued,b.queued=null,b.phase=0,b.startTime=d,!0)}_validOp(b){return b.from.hasData()&&b.to.hasData()}},Mu={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function c0(b){return 6*Math.pow(1.5,22-b)}function d6(b,d){const m=1<<b.z;return!d&&(b.x===0||b.x===m-1)||b.y===0||b.y===m-1}const lf=b=>({u_matrix:b});function Q2(b,d,m,w,E){if(E>0){const M=a.exported.now(),O=(M-b.timeAdded)/E,F=d?(M-d.timeAdded)/E:-1,U=m.getSource(),H=w.coveringZoomLevel({tileSize:U.tileSize,roundZoom:U.roundZoom}),G=!d||Math.abs(d.tileID.overscaledZ-H)>Math.abs(b.tileID.overscaledZ-H),ae=G&&b.refreshedUponExpiration?1:a.clamp(G?O:1-F,0,1);return b.refreshedUponExpiration&&O>=1&&(b.refreshedUponExpiration=!1),d?{opacity:1,mix:1-ae}:{opacity:ae,mix:0}}return{opacity:1,mix:0}}class J2 extends a.SourceCache{constructor(d){const m={type:"raster-dem",maxzoom:d.transform.maxZoom},w=new Ee(ol(),null),E=Yr("mock-dem",m,w,d.style);super("mock-dem",E,!1),E.setEventedParent(this),this._sourceLoaded=!0}_loadTile(d,m){d.state="loaded",m(null)}}class u0 extends a.SourceCache{constructor(d){const m=Yr("proxy",{type:"geojson",maxzoom:d.transform.maxZoom},new Ee(ol(),null),d.style);super("proxy",m,!1),m.setEventedParent(this),this.map=this.getSource().map=d,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(d,m,w){if(d.freezeTileCoverage)return;this.transform=d;const E=d.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((M,O)=>{if(M[O.key]="",!this._tiles[O.key]){const F=new a.Tile(O,this._source.tileSize*O.overscaleFactor(),d.tileZoom);F.state="loaded",this._tiles[O.key]=F}return M},{});for(const M in this._tiles)M in E||(this.freeFBO(M),this._tiles[M].unloadVectorData(),delete this._tiles[M])}freeFBO(d){const m=this.proxyCachedFBO[d];if(m!==void 0){const w=Object.values(m);this.renderCachePool.push(...w),delete this.proxyCachedFBO[d]}}deallocRenderCache(){this.renderCache.forEach(d=>d.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class d0 extends a.OverscaledTileID{constructor(d,m,w){super(d.overscaledZ,d.wrap,d.canonical.z,d.canonical.x,d.canonical.y),this.proxyTileKey=m,this.projMatrix=w}}class e_ extends a.Elevation{constructor(d,m){super(),this.painter=d,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[w,E,M]=function(U){const H=new a.StructArrayLayout2i4,G=new a.StructArrayLayout3ui6,ae=131;H.reserve(17161),G.reserve(33800);const xe=a.EXTENT/128,Te=a.EXTENT+xe/2,ke=Te+xe;for(let Ie=-xe;Ie<ke;Ie+=xe)for(let se=-xe;se<ke;se+=xe){const Ae=se<0||se>Te||Ie<0||Ie>Te?24575:0,Ne=a.clamp(Math.round(se),0,a.EXTENT),Oe=a.clamp(Math.round(Ie),0,a.EXTENT);H.emplaceBack(Ne+Ae,Oe)}const Pe=(Ie,se)=>{const Ae=se*ae+Ie;G.emplaceBack(Ae+1,Ae,Ae+ae),G.emplaceBack(Ae+ae,Ae+ae+1,Ae+1)};for(let Ie=1;Ie<129;Ie++)for(let se=1;se<129;se++)Pe(se,Ie);return[0,129].forEach(Ie=>{for(let se=0;se<130;se++)Pe(se,Ie),Pe(Ie,se)}),[H,G,32768]}(),O=d.context;this.gridBuffer=O.createVertexBuffer(w,a.posAttributes.members),this.gridIndexBuffer=O.createIndexBuffer(E),this.gridSegments=a.SegmentVector.simpleSegment(0,0,w.length,E.length),this.gridNoSkirtSegments=a.SegmentVector.simpleSegment(0,0,w.length,M),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new u0(m.map),this.orthoMatrix=a.create(),a.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,a.EXTENT,0,a.EXTENT,0,1);const F=O.gl;this._overlapStencilMode=new a.StencilMode({func:F.GEQUAL,mask:255},0,255,F.KEEP,F.KEEP,F.REPLACE),this._previousZoom=d.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=m,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new J2(m.map)}set style(d){d.on("data",this._onStyleDataEvent.bind(this)),d.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=d,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(d,m,w){if(d&&d.terrain){this._style!==d&&(this.style=d),this.enabled=!0;const E=d.terrain.properties;this.sourceCache=d.terrain.drapeRenderMode===0?this._mockSourceCache:d._getSourceCache(E.get("source")),this._exaggeration=E.get("exaggeration");const M=()=>{this.sourceCache.used&&a.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const O=this.getScaledDemTileSize();this.sourceCache.update(m,O,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,M(),this._initializing=!0),M(),m.updateElevation(!0,w),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(m),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(d){this._findCoveringTileCache[d]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const d=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||d.efficiency!==100&&a.warnOnce(`Terrain render cache efficiency is not optimal (${d.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${d.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(d){d.coord&&d.dataType==="source"?this._clearRenderCacheForTile(d.sourceCacheId,d.coord):d.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const d in this._style._sourceCaches)this._style._sourceCaches[d].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(d=>d.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const d=2*this.proxySourceCache.getSource().tileSize;return[d,d]}set useVertexMorphing(d){this._useVertexMorphing=d}updateTileBinding(d){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const m=this.proxySourceCache,w=this.painter.transform;this._initializing&&(this._initializing=w._centerAltitude===0&&this.getAtPointOrZero(a.MercatorCoordinate.fromLngLat(w.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const E=this.proxyCoords=m.getIds().map(U=>{const H=m.getTileByID(U).tileID;return H.projMatrix=w.calculateProjMatrix(H.toUnwrapped()),H});(function(U,H){const G=H.transform.pointCoordinate(H.transform.getCameraPoint()),ae=new a.Point(G.x,G.y);U.sort((xe,Te)=>{if(Te.overscaledZ-xe.overscaledZ)return Te.overscaledZ-xe.overscaledZ;const ke=new a.Point(xe.canonical.x+(1<<xe.canonical.z)*xe.wrap,xe.canonical.y),Pe=new a.Point(Te.canonical.x+(1<<Te.canonical.z)*Te.wrap,Te.canonical.y),Ie=ae.mult(1<<xe.canonical.z);return Ie.x-=.5,Ie.y-=.5,Ie.distSqr(ke)-Ie.distSqr(Pe)})})(E,this.painter),this._previousZoom=w.zoom;const M=this.proxyToSource||{};this.proxyToSource={},E.forEach(U=>{this.proxyToSource[U.key]={}}),this.terrainTileForTile={};const O=this._style._sourceCaches;for(const U in O){const H=O[U];if(!H.used||(H!==this.sourceCache&&this.resetTileLookupCache(H.id),this._setupProxiedCoordsForOrtho(H,d[U],M),H.usedForTerrain))continue;const G=d[U];H.getSource().reparseOverscaled&&this._assignTerrainTiles(G)}this.proxiedCoords[m.id]=E.map(U=>new d0(U,U.key,this.orthoMatrix)),this._assignTerrainTiles(E),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(M),this.renderingToTexture=!1,this._updateTimestamp=a.exported.now();const F={};this._visibleDemTiles=[];for(const U of this.proxyCoords){const H=this.terrainTileForTile[U.key];if(!H)continue;const G=H.tileID.key;G in F||(this._visibleDemTiles.push(H),F[G]=G)}}_assignTerrainTiles(d){this._initializing||d.forEach(m=>{if(this.terrainTileForTile[m.key])return;const w=this._findTileCoveringTileID(m,this.sourceCache);w&&(this.terrainTileForTile[m.key]=w)})}_prepareDEMTextures(){const d=this.painter.context,m=d.gl;for(const w in this.terrainTileForTile){const E=this.terrainTileForTile[w],M=E.dem;!M||E.demTexture&&!E.needsDEMTextureUpload||(d.activeTexture.set(m.TEXTURE1),Y2(this.painter,E,M))}}_prepareDemTileUniforms(d,m,w,E){if(!m||m.demTexture==null)return!1;const M=d.tileID.canonical,O=Math.pow(2,m.tileID.canonical.z-M.z),F=E||"";return w[`u_dem_tl${F}`]=[M.x*O%1,M.y*O%1],w[`u_dem_scale${F}`]=O,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const d=this.painter.context,m=d.gl;if(!this._emptyDepthBufferTexture){const w=new a.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new a.Texture(d,w,m.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let d=0;const m=this._visibleDemTiles.reduce((w,E)=>{if(!E.dem)return w;const M=E.dem.tree.minimums[0];return M>0&&d++,w+M},0);return d?m/d:0}_updateEmptyDEMTexture(){const d=this.painter.context,m=d.gl;d.activeTexture.set(m.TEXTURE2);const w=this._getLoadedAreaMinimum(),E=new a.RGBAImage({width:1,height:1},new Uint8Array(a.DEMData.pack(w,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let M=this._emptyDEMTexture;return M?M.update(E,{premultiply:!1}):M=this._emptyDEMTexture=new a.Texture(d,E,m.RGBA,{premultiply:!1}),M}setupElevationDraw(d,m,w){const E=this.painter.context,M=E.gl,O=(F=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:a.DEMData.getUnpackVector(F),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var F;O.u_dem_size=this.sourceCache.getSource().tileSize,O.u_exaggeration=this.exaggeration();let U=null,H=null,G=1;if(w&&w.morphing&&this._useVertexMorphing){const ae=w.morphing.srcDemTile,xe=w.morphing.dstDemTile;G=w.morphing.phase,ae&&xe&&(this._prepareDemTileUniforms(d,ae,O,"_prev")&&(H=ae),this._prepareDemTileUniforms(d,xe,O)&&(U=xe))}if(H&&U?(E.activeTexture.set(M.TEXTURE2),U.demTexture.bind(M.NEAREST,M.CLAMP_TO_EDGE,M.NEAREST),E.activeTexture.set(M.TEXTURE4),H.demTexture.bind(M.NEAREST,M.CLAMP_TO_EDGE,M.NEAREST),O.u_dem_lerp=G):(U=this.terrainTileForTile[d.tileID.key],E.activeTexture.set(M.TEXTURE2),(this._prepareDemTileUniforms(d,U,O)?U.demTexture:this.emptyDEMTexture).bind(M.NEAREST,M.CLAMP_TO_EDGE)),E.activeTexture.set(M.TEXTURE3),w&&w.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(M.NEAREST,M.CLAMP_TO_EDGE),this._depthFBO&&(O.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(M.NEAREST,M.CLAMP_TO_EDGE),O.u_depth_size_inv=[1,1]),w&&w.useMeterToDem&&U){const ae=(1<<U.tileID.canonical.z)*a.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;O.u_meter_to_dem=ae}if(w&&w.labelPlaneMatrixInv&&(O.u_label_plane_matrix_inv=w.labelPlaneMatrixInv),m.setTerrainUniformValues(E,O),this.painter.transform.projection.name==="globe"){const ae=this.globeUniformValues(this.painter.transform,d.tileID.canonical,w&&w.useDenormalizedUpVectorScale);m.setGlobeUniformValues(E,ae)}}globeUniformValues(d,m,w){const E=d.projection;return{u_tile_tl_up:E.upVector(m,0,0),u_tile_tr_up:E.upVector(m,a.EXTENT,0),u_tile_br_up:E.upVector(m,a.EXTENT,a.EXTENT),u_tile_bl_up:E.upVector(m,0,a.EXTENT),u_tile_up_scale:w?a.globeMetersToEcef(1):E.upVectorScale(m,d.center.lat,d.worldSize).metersToTile}}renderToBackBuffer(d){const m=this.painter,w=this.painter.context;d.length!==0&&(w.bindFramebuffer.set(null),w.viewport.set([0,0,m.width,m.height]),m.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(E,M,O,F,U){if(E.transform.projection.name==="globe")(function(H,G,ae,xe,Te){const ke=H.context,Pe=ke.gl;let Ie,se;const Ae=H.options.showTerrainWireframe?2:0,Ne=H.transform,Oe=a.globeUseCustomAntiAliasing(H,ke,Ne),Xe=(Vt,yt)=>{if(se===Vt)return;const Dt=[Mu[Vt],"PROJECTION_GLOBE_VIEW"];Oe&&Dt.push("CUSTOM_ANTIALIASING"),yt&&Dt.push(Mu[Ae]),Ie=H.useProgram("globeRaster",null,Dt),se=Vt},Je=H.colorModeForRenderPass(),Qe=new a.DepthMode(Pe.LEQUAL,a.DepthMode.ReadWrite,H.depthRangeFor3D);Vl.update(Te);const ct=a.calculateGlobeMercatorMatrix(Ne),ot=[a.mercatorXfromLng(Ne.center.lng),a.mercatorYfromLat(Ne.center.lat)],vt=Ae?[!1,!0]:[!1],Ut=H.globeSharedBuffers,ht=[Ne.width*a.exported.devicePixelRatio,Ne.height*a.exported.devicePixelRatio],Rt=Float32Array.from(Ne.globeMatrix),xt={useDenormalizedUpVectorScale:!0};if(vt.forEach(Vt=>{const yt=H.transform,Dt=c0(yt.zoom)*G.exaggeration();se=-1;const $t=Vt?Pe.LINES:Pe.TRIANGLES;for(const Bt of xe){const Kt=ae.getTile(Bt),vr=a.StencilMode.disabled,Or=G.prevTerrainTileForTile[Bt.key],lr=G.terrainTileForTile[Bt.key];Yd(Or,lr)&&Vl.newMorphing(Bt.key,Or,lr,Te,250),ke.activeTexture.set(Pe.TEXTURE0),Kt.texture.bind(Pe.LINEAR,Pe.CLAMP_TO_EDGE);const Tr=Vl.getMorphValuesForProxy(Bt.key),cn=Tr?1:0;Tr&&a.extend$1(xt,{morphing:{srcDemTile:Tr.from,dstDemTile:Tr.to,phase:a.easeCubicInOut(Tr.phase)}});const rn=a.tileCornersToBounds(Bt.canonical),gr=a.getLatitudinalLod(rn.getCenter().lat),Dn=a.getGridMatrix(Bt.canonical,rn,gr,yt.worldSize/yt._pixelsPerMercatorPixel),Rn=a.globeNormalizeECEF(a.globeTileBounds(Bt.canonical)),Nn=l0(yt.projMatrix,Rt,ct,Rn,a.globeToMercatorTransition(yt.zoom),ot,yt.frustumCorners.TL,yt.frustumCorners.TR,yt.frustumCorners.BR,yt.frustumCorners.BL,yt.globeCenterInViewSpace,yt.globeRadius,ht,Dt,Dn);if(Xe(cn,Vt),G.setupElevationDraw(Kt,Ie,xt),H.prepareDrawProgram(ke,Ie,Bt.toUnwrapped()),Ut){const[Ln,ja,wa]=Vt?Ut.getWirefameBuffers(H.context,gr):Ut.getGridBuffers(gr,Dt!==0);Ie.draw(ke,$t,Qe,vr,Je,a.CullFaceMode.backCCW,Nn,"globe_raster",Ln,ja,wa)}}}),Ut){const Vt=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Oe&&Vt.push("CUSTOM_ANTIALIASING"),Ie=H.useProgram("globeRaster",null,Vt);for(const yt of xe){const{x:Dt,y:$t,z:Bt}=yt.canonical,Kt=$t===0,vr=$t===(1<<Bt)-1,[Or,lr,Tr,cn]=Ut.getPoleBuffers(Bt);if(cn&&(Kt||vr)){const rn=ae.getTile(yt);ke.activeTexture.set(Pe.TEXTURE0),rn.texture.bind(Pe.LINEAR,Pe.CLAMP_TO_EDGE);let gr=a.globePoleMatrixForTile(Bt,Dt,Ne);const Dn=a.globeNormalizeECEF(a.globeTileBounds(yt.canonical)),Rn=(Nn,Ln)=>Nn.draw(ke,Pe.TRIANGLES,Qe,a.StencilMode.disabled,Je,a.CullFaceMode.disabled,l0(Ne.projMatrix,gr,gr,Dn,0,ot,Ne.frustumCorners.TL,Ne.frustumCorners.TR,Ne.frustumCorners.BR,Ne.frustumCorners.BL,Ne.globeCenterInViewSpace,Ne.globeRadius,ht,0),"globe_pole_raster",Ln,Tr,cn);G.setupElevationDraw(rn,Ie,xt),H.prepareDrawProgram(ke,Ie,yt.toUnwrapped()),Kt&&Rn(Ie,Or),vr&&(gr=a.scale(a.create(),gr,[1,-1,1]),Rn(Ie,lr))}}}})(E,M,O,F,U);else{const H=E.context,G=H.gl;let ae,xe;const Te=E.options.showTerrainWireframe?2:0,ke=(Ne,Oe)=>{if(xe===Ne)return;const Xe=[Mu[Ne]];Oe&&Xe.push(Mu[Te]),ae=E.useProgram("terrainRaster",null,Xe),xe=Ne},Pe=E.colorModeForRenderPass(),Ie=new a.DepthMode(G.LEQUAL,a.DepthMode.ReadWrite,E.depthRangeFor3D);Vl.update(U);const se=E.transform,Ae=c0(se.zoom)*M.exaggeration();(Te?[!1,!0]:[!1]).forEach(Ne=>{xe=-1;const Oe=Ne?G.LINES:G.TRIANGLES,[Xe,Je]=Ne?M.getWirefameBuffer():[M.gridIndexBuffer,M.gridSegments];for(const Qe of F){const ct=O.getTile(Qe),ot=a.StencilMode.disabled,vt=M.prevTerrainTileForTile[Qe.key],Ut=M.terrainTileForTile[Qe.key];Yd(vt,Ut)&&Vl.newMorphing(Qe.key,vt,Ut,U,250),H.activeTexture.set(G.TEXTURE0),ct.texture.bind(G.LINEAR,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST);const ht=Vl.getMorphValuesForProxy(Qe.key),Rt=ht?1:0;let xt;ht&&(xt={morphing:{srcDemTile:ht.from,dstDemTile:ht.to,phase:a.easeCubicInOut(ht.phase)}});const Vt=Zd(Qe.projMatrix,d6(Qe.canonical,se.renderWorldCopies)?Ae/10:Ae);ke(Rt,Ne),M.setupElevationDraw(ct,ae,xt),E.prepareDrawProgram(H,ae,Qe.toUnwrapped()),ae.draw(H,Oe,Ie,ot,Pe,a.CullFaceMode.backCCW,Vt,"terrain_raster",M.gridBuffer,Xe,Je)}})}}(m,this,this.proxySourceCache,d,this._updateTimestamp),this.renderingToTexture=!0,m.gpuTimingDeferredRenderEnd(),d.splice(0,d.length))}renderBatch(d){if(this._drapedRenderBatches.length===0)return d+1;this.renderingToTexture=!0;const m=this.painter,w=this.painter.context,E=this.proxySourceCache,M=this.proxiedCoords[E.id],O=this._drapedRenderBatches.shift(),F=[],U=m.style.order;let H=0;for(const G of M){const ae=E.getTileByID(G.proxyTileKey),xe=E.proxyCachedFBO[G.key]?E.proxyCachedFBO[G.key][d]:void 0,Te=xe!==void 0?E.renderCache[xe]:this.pool[H++],ke=xe!==void 0;if(ae.texture=Te.tex,ke&&!Te.dirty){F.push(ae.tileID);continue}let Pe;w.bindFramebuffer.set(Te.fb.framebuffer),this.renderedToTile=!1,Te.dirty&&(w.clear({color:a.Color.transparent,stencil:0}),Te.dirty=!1);for(let Ie=O.start;Ie<=O.end;++Ie){const se=m.style._layers[U[Ie]];if(se.isHidden(m.transform.zoom))continue;const Ae=m.style._getLayerSourceCache(se),Ne=Ae?this.proxyToSource[G.key][Ae.id]:[G];if(!Ne)continue;const Oe=Ne;w.viewport.set([0,0,Te.fb.width,Te.fb.height]),Pe!==(Ae?Ae.id:null)&&(this._setupStencil(Te,Ne,se,Ae),Pe=Ae?Ae.id:null),m.renderLayer(m,Ae,se,Oe)}this.renderedToTile?(Te.dirty=!0,F.push(ae.tileID)):ke||--H,H===5&&(H=0,this.renderToBackBuffer(F))}return this.renderToBackBuffer(F),this.renderingToTexture=!1,w.bindFramebuffer.set(null),w.viewport.set([0,0,m.width,m.height]),O.end+1}postRender(){}renderCacheEfficiency(d){const m=d.order.length;if(m===0)return{efficiency:100};let w,E=0,M=0,O=!1;for(let F=0;F<m;++F){const U=d._layers[d.order[F]];this._style.isLayerDraped(U)?(O&&++E,++M):O||(O=!0,w=U.id)}return M===0?{efficiency:100}:{efficiency:100*(1-E/M),firstUndrapedLayer:w}}getMinElevationBelowMSL(){let d=0;return this._visibleDemTiles.filter(m=>m.dem).forEach(m=>{d=Math.min(d,m.dem.tree.minimums[0])}),d===0?d:(d-30)*this._exaggeration}raycast(d,m,w){if(!this._visibleDemTiles)return null;const E=this._visibleDemTiles.filter(M=>M.dem).map(M=>{const O=M.tileID,F=1<<O.overscaledZ,{x:U,y:H}=O.canonical,G=U/F,ae=(U+1)/F,xe=H/F,Te=(H+1)/F;return{minx:G,miny:xe,maxx:ae,maxy:Te,t:M.dem.tree.raycastRoot(G,xe,ae,Te,d,m,w),tile:M}});E.sort((M,O)=>(M.t!==null?M.t:Number.MAX_VALUE)-(O.t!==null?O.t:Number.MAX_VALUE));for(const M of E){if(M.t==null)return null;const O=M.tile.dem.tree.raycast(M.minx,M.miny,M.maxx,M.maxy,d,m,w);if(O!=null)return O}return null}_createFBO(){const d=this.painter.context,m=d.gl,w=this.drapeBufferSize;d.activeTexture.set(m.TEXTURE0);const E=new a.Texture(d,{width:w[0],height:w[1],data:null},m.RGBA);E.bind(m.LINEAR,m.CLAMP_TO_EDGE);const M=d.createFramebuffer(w[0],w[1],!1);return M.colorAttachment.set(E.texture),M.depthAttachment=new We(d,M.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=d.createRenderbuffer(d.gl.DEPTH_STENCIL,w[0],w[1]),this._stencilRef=0,M.depthAttachment.set(this._sharedDepthStencil),d.clear({stencil:0})):M.depthAttachment.set(this._sharedDepthStencil),d.extTextureFilterAnisotropic&&!d.extTextureFilterAnisotropicForceOff&&m.texParameterf(m.TEXTURE_2D,d.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,d.extTextureFilterAnisotropicMax),{fb:M,tex:E,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const d in this._style._sourceCaches)if(this._style._sourceCaches[d].hasTransition())return!0;return this._style.order.some(d=>{const m=this._style._layers[d],w=m.isHidden(this.painter.transform.zoom);return m.type==="custom"?!w&&m.shouldRedrape():!w&&m.hasTransition()})}_clearLineLayersFromRenderCache(){let d=!1;for(const w of this._style._getSources())if(w instanceof Ot){d=!0;break}if(!d)return;const m={};for(let w=0;w<this._style.order.length;++w){const E=this._style._layers[this._style.order[w]],M=this._style._getLayerSourceCache(E);if(M&&!m[M.id]&&!E.isHidden(this.painter.transform.zoom)&&E.type==="line"&&E.widthExpression()instanceof a.ZoomDependentExpression){m[M.id]=!0;for(const O of this.proxyCoords){const F=this.proxyToSource[O.key][M.id];if(F)for(const U of F)this._clearRenderCacheForTile(M.id,U)}}}}_clearRasterLayersFromRenderCache(){let d=!1;for(const w in this._style._sourceCaches)if(this._style._sourceCaches[w]._source instanceof It){d=!0;break}if(!d)return;const m={};for(let w=0;w<this._style.order.length;++w){const E=this._style._layers[this._style.order[w]],M=this._style._getLayerSourceCache(E);if(!M||m[M.id]||E.isHidden(this.painter.transform.zoom)||E.type!=="raster")continue;const O=E.paint.get("raster-fade-duration");for(const F of this.proxyCoords){const U=this.proxyToSource[F.key][M.id];if(U)for(const H of U){const G=Q2(M.getTile(H),M.findLoadedParent(H,0),M,this.painter.transform,O);(G.opacity!==1||G.mix!==0)&&this._clearRenderCacheForTile(M.id,H)}}}}_setupDrapedRenderBatches(){const d=this._style.order,m=d.length;if(m===0)return;const w=[];let E,M=0,O=this._style._layers[d[M]];for(;!this._style.isLayerDraped(O)&&O.isHidden(this.painter.transform.zoom)&&++M<m;)O=this._style._layers[d[M]];for(;M<m;++M){const F=this._style._layers[d[M]];F.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(F)?E===void 0&&(E=M):E!==void 0&&(w.push({start:E,end:M-1}),E=void 0))}E!==void 0&&w.push({start:E,end:M-1}),this._drapedRenderBatches=w}_setupRenderCache(d){const m=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,m.renderCache.length>m.renderCachePool.length){const O=Object.values(m.proxyCachedFBO);m.proxyCachedFBO={};for(let F=0;F<O.length;++F){const U=Object.values(O[F]);m.renderCachePool.push(...U)}}return}this._clearRasterLayersFromRenderCache();const w=this.proxyCoords,E=this._tilesDirty;for(let O=w.length-1;O>=0;O--){const F=w[O];if(m.getTileByID(F.key),m.proxyCachedFBO[F.key]!==void 0){const U=d[F.key],H=this.proxyToSource[F.key];let G=0;for(const ae in H){const xe=H[ae],Te=U[ae];if(!Te||Te.length!==xe.length||xe.some((ke,Pe)=>ke!==Te[Pe]||E[ae]&&E[ae].hasOwnProperty(ke.key))){G=-1;break}++G}for(const ae in m.proxyCachedFBO[F.key])m.renderCache[m.proxyCachedFBO[F.key][ae]].dirty=G<0||G!==Object.values(U).length}}const M=[...this._drapedRenderBatches];M.sort((O,F)=>F.end-F.start-(O.end-O.start));for(const O of M)for(const F of w){if(m.proxyCachedFBO[F.key])continue;let U=m.renderCachePool.pop();U===void 0&&m.renderCache.length<50&&(U=m.renderCache.length,m.renderCache.push(this._createFBO())),U!==void 0&&(m.proxyCachedFBO[F.key]={},m.proxyCachedFBO[F.key][O.start]=U,m.renderCache[U].dirty=!0)}this._tilesDirty={}}_setupStencil(d,m,w,E){if(!E||!this._sourceTilesOverlap[E.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const M=this.painter.context,O=M.gl;if(m.length<=1)return void(this._overlapStencilType=!1);let F;if(w.isTileClipped())F=m.length,this._overlapStencilMode.test={func:O.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(m[0].overscaledZ>m[m.length-1].overscaledZ))return void(this._overlapStencilType=!1);F=1,this._overlapStencilMode.test={func:O.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+F>255&&(M.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=F,this._overlapStencilMode.ref=this._stencilRef,w.isTileClipped()&&this._renderTileClippingMasks(m,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(d){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[d.key]),this._overlapStencilMode):a.StencilMode.disabled}_renderTileClippingMasks(d,m){const w=this.painter,E=this.painter.context,M=E.gl;w._tileClippingMaskIDs={},E.setColorMode(a.ColorMode.disabled),E.setDepthMode(a.DepthMode.disabled);const O=w.useProgram("clippingMask");for(const F of d){const U=w._tileClippingMaskIDs[F.key]=--m;O.draw(E,M.TRIANGLES,a.DepthMode.disabled,new a.StencilMode({func:M.ALWAYS,mask:0},U,255,M.KEEP,M.KEEP,M.REPLACE),a.ColorMode.disabled,a.CullFaceMode.disabled,lf(F.projMatrix),"$clipping",w.tileExtentBuffer,w.quadTriangleIndexBuffer,w.tileExtentSegments)}}pointCoordinate(d){const m=this.painter.transform;if(d.x<0||d.x>m.width||d.y<0||d.y>m.height)return null;const w=[d.x,d.y,1,1];a.transformMat4$1(w,w,m.pixelMatrixInverse),a.scale$1(w,w,1/w[3]),w[0]/=m.worldSize,w[1]/=m.worldSize;const E=m._camera.position,M=a.mercatorZfromAltitude(1,m.center.lat),O=[E[0],E[1],E[2]/M,0],F=a.subtract([],w.slice(0,3),O);a.normalize(F,F);const U=this.raycast(O,F,this._exaggeration);return U!==null&&U?(a.scaleAndAdd(O,O,F,U),O[3]=O[2],O[2]*=M,O):null}drawDepth(){const d=this.painter,m=d.context,w=this.proxySourceCache,E=Math.ceil(d.width),M=Math.ceil(d.height);if(!this._depthFBO||this._depthFBO.width===E&&this._depthFBO.height===M||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const O=m.gl,F=m.createFramebuffer(E,M,!0);m.activeTexture.set(O.TEXTURE0);const U=new a.Texture(m,{width:E,height:M,data:null},O.RGBA);U.bind(O.NEAREST,O.CLAMP_TO_EDGE),F.colorAttachment.set(U.texture);const H=m.createRenderbuffer(m.gl.DEPTH_COMPONENT16,E,M);F.depthAttachment.set(H),this._depthFBO=F,this._depthTexture=U}m.bindFramebuffer.set(this._depthFBO.framebuffer),m.viewport.set([0,0,E,M]),function(O,F,U,H){if(O.transform.projection.name==="globe")return;const G=O.context,ae=G.gl;G.clear({depth:1});const xe=O.useProgram("terrainDepth"),Te=new a.DepthMode(ae.LESS,a.DepthMode.ReadWrite,O.depthRangeFor3D);for(const ke of H){const Pe=U.getTile(ke),Ie=Zd(ke.projMatrix,0);F.setupElevationDraw(Pe,xe),xe.draw(G,ae.TRIANGLES,Te,a.StencilMode.disabled,a.ColorMode.unblended,a.CullFaceMode.backCCW,Ie,"terrain_depth",F.gridBuffer,F.gridIndexBuffer,F.gridNoSkirtSegments)}}(d,this,w,this.proxyCoords)}_setupProxiedCoordsForOrtho(d,m,w){if(d.getSource()instanceof dr)return this._setupProxiedCoordsForImageSource(d,m,w);this._findCoveringTileCache[d.id]=this._findCoveringTileCache[d.id]||{};const E=this.proxiedCoords[d.id]=[],M=this.proxyCoords;for(let F=0;F<M.length;F++){const U=M[F],H=this._findTileCoveringTileID(U,d);if(H){const G=this._createProxiedId(U,H,w[U.key]&&w[U.key][d.id]);E.push(G),this.proxyToSource[U.key][d.id]=[G]}}let O=!1;for(let F=0;F<m.length;F++){const U=d.getTile(m[F]);if(!U||!U.hasData())continue;const H=this._findTileCoveringTileID(U.tileID,this.proxySourceCache);if(H&&H.tileID.canonical.z!==U.tileID.canonical.z){const G=this.proxyToSource[H.tileID.key][d.id],ae=this._createProxiedId(H.tileID,U,w[H.tileID.key]&&w[H.tileID.key][d.id]);G?G.splice(G.length-1,0,ae):this.proxyToSource[H.tileID.key][d.id]=[ae],E.push(ae),O=!0}}this._sourceTilesOverlap[d.id]=O}_setupProxiedCoordsForImageSource(d,m,w){if(!d.getSource().loaded())return;const E=this.proxiedCoords[d.id]=[],M=this.proxyCoords,O=d.getSource(),F=new a.Point(O.tileID.x,O.tileID.y)._div(1<<O.tileID.z),U=O.coordinates.map(a.MercatorCoordinate.fromLngLat).reduce((G,ae)=>(G.min.x=Math.min(G.min.x,ae.x-F.x),G.min.y=Math.min(G.min.y,ae.y-F.y),G.max.x=Math.max(G.max.x,ae.x-F.x),G.max.y=Math.max(G.max.y,ae.y-F.y),G),{min:new a.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new a.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),H=(G,ae)=>{const xe=G.wrap+G.canonical.x/(1<<G.canonical.z),Te=G.canonical.y/(1<<G.canonical.z),ke=a.EXTENT/(1<<G.canonical.z),Pe=ae.wrap+ae.canonical.x/(1<<ae.canonical.z),Ie=ae.canonical.y/(1<<ae.canonical.z);return xe+ke<Pe+U.min.x||xe>Pe+U.max.x||Te+ke<Ie+U.min.y||Te>Ie+U.max.y};for(let G=0;G<M.length;G++){const ae=M[G];for(let xe=0;xe<m.length;xe++){const Te=d.getTile(m[xe]);if(!Te||!Te.hasData()||H(ae,Te.tileID))continue;const ke=this._createProxiedId(ae,Te,w[ae.key]&&w[ae.key][d.id]),Pe=this.proxyToSource[ae.key][d.id];Pe?Pe.push(ke):this.proxyToSource[ae.key][d.id]=[ke],E.push(ke)}}}_createProxiedId(d,m,w){let E=this.orthoMatrix;if(w){const M=w.find(O=>O.key===m.tileID.key);if(M)return M}if(m.tileID.key!==d.key){const M=d.canonical.z-m.tileID.canonical.z;let O,F,U;E=a.create();const H=m.tileID.wrap-d.wrap<<d.overscaledZ;M>0?(O=a.EXTENT>>M,F=O*((m.tileID.canonical.x<<M)-d.canonical.x+H),U=O*((m.tileID.canonical.y<<M)-d.canonical.y)):(O=a.EXTENT<<-M,F=a.EXTENT*(m.tileID.canonical.x-(d.canonical.x+H<<-M)),U=a.EXTENT*(m.tileID.canonical.y-(d.canonical.y<<-M))),a.ortho(E,0,O,0,O,0,1),a.translate(E,E,[F,U,0])}return new d0(m.tileID,d.key,E)}_findTileCoveringTileID(d,m){let w=m.getTile(d);if(w&&w.hasData())return w;const E=this._findCoveringTileCache[m.id],M=E[d.key];if(w=M?m.getTileByID(M):null,w&&w.hasData()||M===null)return w;let O=w?w.tileID:d,F=O.overscaledZ;const U=m.getSource().minzoom,H=[];if(!M){const ae=m.getSource().maxzoom;if(d.canonical.z>=ae){const xe=d.canonical.z-ae;m.getSource().reparseOverscaled?(F=Math.max(d.canonical.z+2,m.transform.tileZoom),O=new a.OverscaledTileID(F,d.wrap,ae,d.canonical.x>>xe,d.canonical.y>>xe)):xe!==0&&(F=ae,O=new a.OverscaledTileID(F,d.wrap,ae,d.canonical.x>>xe,d.canonical.y>>xe))}O.key!==d.key&&(H.push(O.key),w=m.getTile(O))}const G=ae=>{H.forEach(xe=>{E[xe]=ae}),H.length=0};for(F-=1;F>=U&&(!w||!w.hasData());F--){w&&G(w.tileID.key);const ae=O.calculateScaledKey(F);if(w=m.getTileByID(ae),w&&w.hasData())break;const xe=E[ae];if(xe===null)break;xe===void 0?H.push(ae):w=m.getTileByID(xe)}return G(w?w.tileID.key:null),w&&w.hasData()?w:null}findDEMTileFor(d){return this.enabled?this._findTileCoveringTileID(d,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(d,m){let w=this._tilesDirty[d];w||(w=this._tilesDirty[d]={}),w[m.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const d=function(m){let w=0;const E=new a.StructArrayLayout2ui4,M=131;for(let O=1;O<129;O++){for(let F=1;F<129;F++)w=O*M+F,E.emplaceBack(w,w+1),E.emplaceBack(w,w+M),E.emplaceBack(w+1,w+M),O===128&&E.emplaceBack(w+M,w+M+1);E.emplaceBack(w+1,w+1+M)}return E}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(d),this.wireframeSegments=a.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,d.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class gn{static cacheKey(d,m,w,E){let M=`${m}${E?E.cacheKey:""}`;for(const O of w)d.usedDefines.includes(O)&&(M+=`/${O}`);return M}constructor(d,m,w,E,M,O){const F=d.gl;this.program=F.createProgram();const U=function(se){const Ae=[];for(let Ne=0;Ne<se.length;Ne++){if(se[Ne]===null)continue;const Oe=se[Ne].split(" ");Ae.push(Oe.pop())}return Ae}(w.staticAttributes),H=E?E.getBinderAttributes():[],G=U.concat(H);let ae=E?E.defines():[];ae=ae.concat(O.map(se=>`#define ${se}`));const xe=d.isWebGL2?`#version 300 es
`:"",Te=xe+ae.concat(d.extStandardDerivatives&&xe.length===0?`#extension GL_OES_standard_derivatives : enable
`.concat(G2):G2,G2,s0,l6.fragmentSource,Gd.fragmentSource,w.fragmentSource).join(`
`),ke=xe+ae.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,s0,l6.vertexSource,Gd.vertexSource,o0.vertexSource,w.vertexSource).join(`
`),Pe=F.createShader(F.FRAGMENT_SHADER);if(F.isContextLost())return void(this.failedToCreate=!0);F.shaderSource(Pe,Te),F.compileShader(Pe),F.attachShader(this.program,Pe);const Ie=F.createShader(F.VERTEX_SHADER);if(F.isContextLost())this.failedToCreate=!0;else{F.shaderSource(Ie,ke),F.compileShader(Ie),F.attachShader(this.program,Ie),this.attributes={},this.numAttributes=G.length;for(let se=0;se<this.numAttributes;se++)G[se]&&(F.bindAttribLocation(this.program,se,G[se]),this.attributes[G[se]]=se);F.linkProgram(this.program),F.deleteShader(Ie),F.deleteShader(Pe),this.fixedUniforms=M(d),this.binderUniforms=E?E.getUniforms(d):[],O.includes("TERRAIN")&&(this.terrainUniforms=(se=>({u_dem:new a.Uniform1i(se),u_dem_prev:new a.Uniform1i(se),u_dem_unpack:new a.Uniform4f(se),u_dem_tl:new a.Uniform2f(se),u_dem_scale:new a.Uniform1f(se),u_dem_tl_prev:new a.Uniform2f(se),u_dem_scale_prev:new a.Uniform1f(se),u_dem_size:new a.Uniform1f(se),u_dem_lerp:new a.Uniform1f(se),u_exaggeration:new a.Uniform1f(se),u_depth:new a.Uniform1i(se),u_depth_size_inv:new a.Uniform2f(se),u_meter_to_dem:new a.Uniform1f(se),u_label_plane_matrix_inv:new a.UniformMatrix4f(se)}))(d)),O.includes("GLOBE")&&(this.globeUniforms=(se=>({u_tile_tl_up:new a.Uniform3f(se),u_tile_tr_up:new a.Uniform3f(se),u_tile_br_up:new a.Uniform3f(se),u_tile_bl_up:new a.Uniform3f(se),u_tile_up_scale:new a.Uniform1f(se)}))(d)),O.includes("FOG")&&(this.fogUniforms=(se=>({u_fog_matrix:new a.UniformMatrix4f(se),u_fog_range:new a.Uniform2f(se),u_fog_color:new a.Uniform4f(se),u_fog_horizon_blend:new a.Uniform1f(se),u_fog_temporal_offset:new a.Uniform1f(se),u_frustum_tl:new a.Uniform3f(se),u_frustum_tr:new a.Uniform3f(se),u_frustum_br:new a.Uniform3f(se),u_frustum_bl:new a.Uniform3f(se),u_globe_pos:new a.Uniform3f(se),u_globe_radius:new a.Uniform1f(se),u_globe_transition:new a.Uniform1f(se),u_is_globe:new a.Uniform1i(se),u_viewport:new a.Uniform2f(se)}))(d))}}setTerrainUniformValues(d,m){if(!this.terrainUniforms)return;const w=this.terrainUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const E in m)w[E]&&w[E].set(this.program,E,m[E])}}setGlobeUniformValues(d,m){if(!this.globeUniforms)return;const w=this.globeUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const E in m)w[E]&&w[E].set(this.program,E,m[E])}}setFogUniformValues(d,m){if(!this.fogUniforms)return;const w=this.fogUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const E in m)w[E].set(this.program,E,m[E])}}draw(d,m,w,E,M,O,F,U,H,G,ae,xe,Te,ke,Pe){const Ie=d.gl;if(this.failedToCreate)return;d.program.set(this.program),d.setDepthMode(w),d.setStencilMode(E),d.setColorMode(M),d.setCullFace(O);for(const Ae of Object.keys(this.fixedUniforms))this.fixedUniforms[Ae].set(this.program,Ae,F[Ae]);ke&&ke.setUniforms(this.program,d,this.binderUniforms,xe,{zoom:Te});const se={[Ie.LINES]:2,[Ie.TRIANGLES]:3,[Ie.LINE_STRIP]:1}[m];for(const Ae of ae.get()){const Ne=Ae.vaos||(Ae.vaos={});(Ne[U]||(Ne[U]=new JS)).bind(d,this,H,ke?ke.getPaintVertexBuffers():[],G,Ae.vertexOffset,Pe||[]),Ie.drawElements(m,Ae.primitiveLength*se,Ie.UNSIGNED_SHORT,Ae.primitiveOffset*se*2)}}}function cf(b,d){const m=Math.pow(2,d.tileID.overscaledZ),w=d.tileSize*Math.pow(2,b.transform.tileZoom)/m,E=w*(d.tileID.canonical.x+d.tileID.wrap*m),M=w*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_tile_units_to_pixels:1/fe(d,1,b.transform.tileZoom),u_pixel_coord_upper:[E>>16,M>>16],u_pixel_coord_lower:[65535&E,65535&M]}}const p6=a.create(),t_=(b,d,m,w,E,M,O,F,U,H,G)=>{const ae=d.style.light,xe=ae.properties.get("position"),Te=[xe.x,xe.y,xe.z],ke=a.create$1();ae.properties.get("anchor")==="viewport"&&(a.fromRotation(ke,-d.transform.angle),a.transformMat3(Te,Te,ke));const Pe=ae.properties.get("color"),Ie=d.transform,se={u_matrix:b,u_lightpos:Te,u_lightintensity:ae.properties.get("intensity"),u_lightcolor:[Pe.r,Pe.g,Pe.b],u_vertical_gradient:+m,u_opacity:w,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:p6,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:E,u_edge_radius:M};return Ie.projection.name==="globe"&&(se.u_tile_id=[O.canonical.x,O.canonical.y,1<<O.canonical.z],se.u_zoom_transition=U,se.u_inv_rot_matrix=G,se.u_merc_center=H,se.u_up_dir=Ie.projection.upVector(new a.CanonicalTileID(0,0,0),H[0]*a.EXTENT,H[1]*a.EXTENT),se.u_height_lift=F),se},h6=(b,d,m,w,E,M,O,F,U,H,G,ae)=>{const xe=t_(b,d,m,w,E,M,O,U,H,G,ae),Te={u_height_factor:-Math.pow(2,O.overscaledZ)/F.tileSize/8};return a.extend(xe,cf(d,F),Te)},Pu=b=>({u_matrix:b}),r_=(b,d,m)=>a.extend(Pu(b),cf(d,m)),e7=(b,d)=>({u_matrix:b,u_world:d}),t7=(b,d,m,w)=>a.extend(r_(b,d,m),{u_world:w}),r7=a.create(),n_=(b,d,m,w,E,M)=>{const O=b.transform,F=O.projection.name==="globe";let U;if(M.paint.get("circle-pitch-alignment")==="map")if(F){const G=a.globePixelsToTileUnits(O.zoom,d.canonical)*O._pixelsPerMercatorPixel;U=Float32Array.from([G,0,0,G])}else U=O.calculatePixelsToTileUnitsMatrix(m);else U=new Float32Array([O.pixelsToGLUnits[0],0,0,O.pixelsToGLUnits[1]]);const H={u_camera_to_center_distance:O.cameraToCenterDistance,u_matrix:b.translatePosMatrix(d.projMatrix,m,M.paint.get("circle-translate"),M.paint.get("circle-translate-anchor")),u_device_pixel_ratio:a.exported.devicePixelRatio,u_extrude_scale:U,u_inv_rot_matrix:r7,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(F){H.u_inv_rot_matrix=w,H.u_merc_center=E,H.u_tile_id=[d.canonical.x,d.canonical.y,1<<d.canonical.z],H.u_zoom_transition=a.globeToMercatorTransition(O.zoom);const G=E[0]*a.EXTENT,ae=E[1]*a.EXTENT;H.u_up_dir=O.projection.upVector(new a.CanonicalTileID(0,0,0),G,ae)}return H},i_=b=>{const d=[];return b.paint.get("circle-pitch-alignment")==="map"&&d.push("PITCH_WITH_MAP"),b.paint.get("circle-pitch-scale")==="map"&&d.push("SCALE_WITH_MAP"),d},a_=(b,d,m,w)=>{const E=a.EXTENT/m.tileSize;return{u_matrix:b,u_camera_to_center_distance:d.getCameraToCenterDistance(w),u_extrude_scale:[d.pixelsToGLUnits[0]/E,d.pixelsToGLUnits[1]/E]}},p0=(b,d,m=1)=>({u_matrix:b,u_color:d,u_overlay:0,u_overlay_scale:m}),f6=a.create(),m6=(b,d,m,w,E,M,O)=>{const F=b.transform,U=F.projection.name==="globe",H=U?a.globePixelsToTileUnits(F.zoom,d.canonical)*F._pixelsPerMercatorPixel:fe(m,1,M),G={u_matrix:d.projMatrix,u_extrude_scale:H,u_intensity:O,u_inv_rot_matrix:f6,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(U){G.u_inv_rot_matrix=w,G.u_merc_center=E,G.u_tile_id=[d.canonical.x,d.canonical.y,1<<d.canonical.z],G.u_zoom_transition=a.globeToMercatorTransition(F.zoom);const ae=E[0]*a.EXTENT,xe=E[1]*a.EXTENT;G.u_up_dir=F.projection.upVector(new a.CanonicalTileID(0,0,0),ae,xe)}return G},n7=(b,d,m,w,E,M,O)=>{const F=b.transform,U=F.calculatePixelsToTileUnitsMatrix(d);return{u_matrix:o_(b,d,m,w),u_pixels_to_tile_units:U,u_device_pixel_ratio:M,u_units_to_pixels:[1/F.pixelsToGLUnits[0],1/F.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:E,u_texsize:df(m)?d.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Xd(d,b.transform),u_alpha_discard_threshold:0,u_trim_offset:O}},uf=(b,d,m,w,E)=>{const M=b.transform;return{u_matrix:o_(b,d,m,w),u_texsize:d.imageAtlasTexture.size,u_pixels_to_tile_units:M.calculatePixelsToTileUnitsMatrix(d),u_device_pixel_ratio:E,u_image:0,u_tile_units_to_pixels:Xd(d,M),u_units_to_pixels:[1/M.pixelsToGLUnits[0],1/M.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Xd(b,d){return 1/fe(b,1,d.tileZoom)}function o_(b,d,m,w){return b.translatePosMatrix(w||d.tileID.projMatrix,d,m.paint.get("line-translate"),m.paint.get("line-translate-anchor"))}function df(b){const d=b.paint.get("line-dasharray").value;return d.value||d.kind!=="constant"}const s_=(b,d,m,w,E,M)=>{return{u_matrix:b,u_tl_parent:d,u_scale_parent:m,u_fade_t:w.mix,u_opacity:w.opacity*E.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:E.paint.get("raster-brightness-min"),u_brightness_high:E.paint.get("raster-brightness-max"),u_saturation_factor:(F=E.paint.get("raster-saturation"),F>0?1-1/(1.001-F):-F),u_contrast_factor:(O=E.paint.get("raster-contrast"),O>0?1/(1-O):1+O),u_spin_weights:cl(E.paint.get("raster-hue-rotate")),u_perspective_transform:M};var O,F};function cl(b){b*=Math.PI/180;const d=Math.sin(b),m=Math.cos(b);return[(2*m+1)/3,(-Math.sqrt(3)*d-m+1)/3,(Math.sqrt(3)*d-m+1)/3]}const h0=a.create(),l_=(b,d,m,w,E,M,O,F,U,H,G,ae,xe,Te,ke,Pe)=>{const Ie=E.transform,se={u_is_size_zoom_constant:+(b==="constant"||b==="source"),u_is_size_feature_constant:+(b==="constant"||b==="camera"),u_size_t:d?d.uSizeT:0,u_size:d?d.uSize:0,u_camera_to_center_distance:Ie.cameraToCenterDistance,u_rotate_symbol:+m,u_aspect_ratio:Ie.width/Ie.height,u_fade_change:E.options.fadeDuration?E.symbolFadeChange:1,u_matrix:M,u_label_plane_matrix:O,u_coord_matrix:F,u_is_text:+U,u_pitch_with_map:+w,u_texsize:H,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:h0,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:h0,u_up_vector:[0,-1,0]};return Pe.name==="globe"&&(se.u_tile_id=[G.canonical.x,G.canonical.y,1<<G.canonical.z],se.u_zoom_transition=ae,se.u_inv_rot_matrix=Te,se.u_merc_center=xe,se.u_camera_forward=Ie._camera.forward(),se.u_ecef_origin=a.globeECEFOrigin(Ie.globeMatrix,G.toUnwrapped()),se.u_tile_matrix=Float32Array.from(Ie.globeMatrix),se.u_up_vector=ke),se},f0=(b,d,m,w,E,M,O,F,U,H,G,ae,xe,Te,ke,Pe,Ie)=>a.extend(l_(b,d,m,w,E,M,O,F,U,H,ae,xe,Te,ke,Pe,Ie),{u_gamma_scale:w?E.transform.cameraToCenterDistance*Math.cos(E.terrain?0:E.transform._pitch):1,u_device_pixel_ratio:a.exported.devicePixelRatio,u_is_halo:+G}),g6=(b,d,m,w,E,M,O,F,U,H,G,ae,xe,Te,ke,Pe)=>a.extend(f0(b,d,m,w,E,M,O,F,!0,U,!0,G,ae,xe,Te,ke,Pe),{u_texsize_icon:H,u_texture_icon:1}),c_=(b,d,m)=>({u_matrix:b,u_opacity:d,u_color:m}),i7=(b,d,m,w,E)=>a.extend(function(M,O,F){const U=O.imageManager.getPattern(M.toString()),{width:H,height:G}=O.imageManager.getPixelSize(),ae=Math.pow(2,F.tileID.overscaledZ),xe=F.tileSize*Math.pow(2,O.transform.tileZoom)/ae,Te=xe*(F.tileID.canonical.x+F.tileID.wrap*ae),ke=xe*F.tileID.canonical.y;return{u_image:0,u_pattern_tl:U.tl,u_pattern_br:U.br,u_texsize:[H,G],u_pattern_size:U.displaySize,u_tile_units_to_pixels:1/fe(F,1,O.transform.tileZoom),u_pixel_coord_upper:[Te>>16,ke>>16],u_pixel_coord_lower:[65535&Te,65535&ke]}}(w,m,E),{u_matrix:b,u_opacity:d}),u_={fillExtrusion:b=>({u_matrix:new a.UniformMatrix4f(b),u_lightpos:new a.Uniform3f(b),u_lightintensity:new a.Uniform1f(b),u_lightcolor:new a.Uniform3f(b),u_vertical_gradient:new a.Uniform1f(b),u_opacity:new a.Uniform1f(b),u_edge_radius:new a.Uniform1f(b),u_ao:new a.Uniform2f(b),u_tile_id:new a.Uniform3f(b),u_zoom_transition:new a.Uniform1f(b),u_inv_rot_matrix:new a.UniformMatrix4f(b),u_merc_center:new a.Uniform2f(b),u_up_dir:new a.Uniform3f(b),u_height_lift:new a.Uniform1f(b)}),fillExtrusionPattern:b=>({u_matrix:new a.UniformMatrix4f(b),u_lightpos:new a.Uniform3f(b),u_lightintensity:new a.Uniform1f(b),u_lightcolor:new a.Uniform3f(b),u_vertical_gradient:new a.Uniform1f(b),u_height_factor:new a.Uniform1f(b),u_edge_radius:new a.Uniform1f(b),u_ao:new a.Uniform2f(b),u_tile_id:new a.Uniform3f(b),u_zoom_transition:new a.Uniform1f(b),u_inv_rot_matrix:new a.UniformMatrix4f(b),u_merc_center:new a.Uniform2f(b),u_up_dir:new a.Uniform3f(b),u_height_lift:new a.Uniform1f(b),u_image:new a.Uniform1i(b),u_texsize:new a.Uniform2f(b),u_pixel_coord_upper:new a.Uniform2f(b),u_pixel_coord_lower:new a.Uniform2f(b),u_tile_units_to_pixels:new a.Uniform1f(b),u_opacity:new a.Uniform1f(b)}),fill:b=>({u_matrix:new a.UniformMatrix4f(b)}),fillPattern:b=>({u_matrix:new a.UniformMatrix4f(b),u_image:new a.Uniform1i(b),u_texsize:new a.Uniform2f(b),u_pixel_coord_upper:new a.Uniform2f(b),u_pixel_coord_lower:new a.Uniform2f(b),u_tile_units_to_pixels:new a.Uniform1f(b)}),fillOutline:b=>({u_matrix:new a.UniformMatrix4f(b),u_world:new a.Uniform2f(b)}),fillOutlinePattern:b=>({u_matrix:new a.UniformMatrix4f(b),u_world:new a.Uniform2f(b),u_image:new a.Uniform1i(b),u_texsize:new a.Uniform2f(b),u_pixel_coord_upper:new a.Uniform2f(b),u_pixel_coord_lower:new a.Uniform2f(b),u_tile_units_to_pixels:new a.Uniform1f(b)}),circle:b=>({u_camera_to_center_distance:new a.Uniform1f(b),u_extrude_scale:new a.UniformMatrix2f(b),u_device_pixel_ratio:new a.Uniform1f(b),u_matrix:new a.UniformMatrix4f(b),u_inv_rot_matrix:new a.UniformMatrix4f(b),u_merc_center:new a.Uniform2f(b),u_tile_id:new a.Uniform3f(b),u_zoom_transition:new a.Uniform1f(b),u_up_dir:new a.Uniform3f(b)}),collisionBox:b=>({u_matrix:new a.UniformMatrix4f(b),u_camera_to_center_distance:new a.Uniform1f(b),u_extrude_scale:new a.Uniform2f(b)}),collisionCircle:b=>({u_matrix:new a.UniformMatrix4f(b),u_inv_matrix:new a.UniformMatrix4f(b),u_camera_to_center_distance:new a.Uniform1f(b),u_viewport_size:new a.Uniform2f(b)}),debug:b=>({u_color:new a.UniformColor(b),u_matrix:new a.UniformMatrix4f(b),u_overlay:new a.Uniform1i(b),u_overlay_scale:new a.Uniform1f(b)}),clippingMask:b=>({u_matrix:new a.UniformMatrix4f(b)}),heatmap:b=>({u_extrude_scale:new a.Uniform1f(b),u_intensity:new a.Uniform1f(b),u_matrix:new a.UniformMatrix4f(b),u_inv_rot_matrix:new a.UniformMatrix4f(b),u_merc_center:new a.Uniform2f(b),u_tile_id:new a.Uniform3f(b),u_zoom_transition:new a.Uniform1f(b),u_up_dir:new a.Uniform3f(b)}),heatmapTexture:b=>({u_image:new a.Uniform1i(b),u_color_ramp:new a.Uniform1i(b),u_opacity:new a.Uniform1f(b)}),hillshade:b=>({u_matrix:new a.UniformMatrix4f(b),u_image:new a.Uniform1i(b),u_latrange:new a.Uniform2f(b),u_light:new a.Uniform2f(b),u_shadow:new a.UniformColor(b),u_highlight:new a.UniformColor(b),u_accent:new a.UniformColor(b)}),hillshadePrepare:b=>({u_matrix:new a.UniformMatrix4f(b),u_image:new a.Uniform1i(b),u_dimension:new a.Uniform2f(b),u_zoom:new a.Uniform1f(b),u_unpack:new a.Uniform4f(b)}),line:b=>({u_matrix:new a.UniformMatrix4f(b),u_pixels_to_tile_units:new a.UniformMatrix2f(b),u_device_pixel_ratio:new a.Uniform1f(b),u_units_to_pixels:new a.Uniform2f(b),u_dash_image:new a.Uniform1i(b),u_gradient_image:new a.Uniform1i(b),u_image_height:new a.Uniform1f(b),u_texsize:new a.Uniform2f(b),u_tile_units_to_pixels:new a.Uniform1f(b),u_alpha_discard_threshold:new a.Uniform1f(b),u_trim_offset:new a.Uniform2f(b)}),linePattern:b=>({u_matrix:new a.UniformMatrix4f(b),u_texsize:new a.Uniform2f(b),u_pixels_to_tile_units:new a.UniformMatrix2f(b),u_device_pixel_ratio:new a.Uniform1f(b),u_image:new a.Uniform1i(b),u_units_to_pixels:new a.Uniform2f(b),u_tile_units_to_pixels:new a.Uniform1f(b),u_alpha_discard_threshold:new a.Uniform1f(b)}),raster:b=>({u_matrix:new a.UniformMatrix4f(b),u_tl_parent:new a.Uniform2f(b),u_scale_parent:new a.Uniform1f(b),u_fade_t:new a.Uniform1f(b),u_opacity:new a.Uniform1f(b),u_image0:new a.Uniform1i(b),u_image1:new a.Uniform1i(b),u_brightness_low:new a.Uniform1f(b),u_brightness_high:new a.Uniform1f(b),u_saturation_factor:new a.Uniform1f(b),u_contrast_factor:new a.Uniform1f(b),u_spin_weights:new a.Uniform3f(b),u_perspective_transform:new a.Uniform2f(b)}),symbolIcon:b=>({u_is_size_zoom_constant:new a.Uniform1i(b),u_is_size_feature_constant:new a.Uniform1i(b),u_size_t:new a.Uniform1f(b),u_size:new a.Uniform1f(b),u_camera_to_center_distance:new a.Uniform1f(b),u_rotate_symbol:new a.Uniform1i(b),u_aspect_ratio:new a.Uniform1f(b),u_fade_change:new a.Uniform1f(b),u_matrix:new a.UniformMatrix4f(b),u_label_plane_matrix:new a.UniformMatrix4f(b),u_coord_matrix:new a.UniformMatrix4f(b),u_is_text:new a.Uniform1i(b),u_pitch_with_map:new a.Uniform1i(b),u_texsize:new a.Uniform2f(b),u_tile_id:new a.Uniform3f(b),u_zoom_transition:new a.Uniform1f(b),u_inv_rot_matrix:new a.UniformMatrix4f(b),u_merc_center:new a.Uniform2f(b),u_camera_forward:new a.Uniform3f(b),u_tile_matrix:new a.UniformMatrix4f(b),u_up_vector:new a.Uniform3f(b),u_ecef_origin:new a.Uniform3f(b),u_texture:new a.Uniform1i(b)}),symbolSDF:b=>({u_is_size_zoom_constant:new a.Uniform1i(b),u_is_size_feature_constant:new a.Uniform1i(b),u_size_t:new a.Uniform1f(b),u_size:new a.Uniform1f(b),u_camera_to_center_distance:new a.Uniform1f(b),u_rotate_symbol:new a.Uniform1i(b),u_aspect_ratio:new a.Uniform1f(b),u_fade_change:new a.Uniform1f(b),u_matrix:new a.UniformMatrix4f(b),u_label_plane_matrix:new a.UniformMatrix4f(b),u_coord_matrix:new a.UniformMatrix4f(b),u_is_text:new a.Uniform1i(b),u_pitch_with_map:new a.Uniform1i(b),u_texsize:new a.Uniform2f(b),u_texture:new a.Uniform1i(b),u_gamma_scale:new a.Uniform1f(b),u_device_pixel_ratio:new a.Uniform1f(b),u_tile_id:new a.Uniform3f(b),u_zoom_transition:new a.Uniform1f(b),u_inv_rot_matrix:new a.UniformMatrix4f(b),u_merc_center:new a.Uniform2f(b),u_camera_forward:new a.Uniform3f(b),u_tile_matrix:new a.UniformMatrix4f(b),u_up_vector:new a.Uniform3f(b),u_ecef_origin:new a.Uniform3f(b),u_is_halo:new a.Uniform1i(b)}),symbolTextAndIcon:b=>({u_is_size_zoom_constant:new a.Uniform1i(b),u_is_size_feature_constant:new a.Uniform1i(b),u_size_t:new a.Uniform1f(b),u_size:new a.Uniform1f(b),u_camera_to_center_distance:new a.Uniform1f(b),u_rotate_symbol:new a.Uniform1i(b),u_aspect_ratio:new a.Uniform1f(b),u_fade_change:new a.Uniform1f(b),u_matrix:new a.UniformMatrix4f(b),u_label_plane_matrix:new a.UniformMatrix4f(b),u_coord_matrix:new a.UniformMatrix4f(b),u_is_text:new a.Uniform1i(b),u_pitch_with_map:new a.Uniform1i(b),u_texsize:new a.Uniform2f(b),u_texsize_icon:new a.Uniform2f(b),u_texture:new a.Uniform1i(b),u_texture_icon:new a.Uniform1i(b),u_gamma_scale:new a.Uniform1f(b),u_device_pixel_ratio:new a.Uniform1f(b),u_is_halo:new a.Uniform1i(b)}),background:b=>({u_matrix:new a.UniformMatrix4f(b),u_opacity:new a.Uniform1f(b),u_color:new a.UniformColor(b)}),backgroundPattern:b=>({u_matrix:new a.UniformMatrix4f(b),u_opacity:new a.Uniform1f(b),u_image:new a.Uniform1i(b),u_pattern_tl:new a.Uniform2f(b),u_pattern_br:new a.Uniform2f(b),u_texsize:new a.Uniform2f(b),u_pattern_size:new a.Uniform2f(b),u_pixel_coord_upper:new a.Uniform2f(b),u_pixel_coord_lower:new a.Uniform2f(b),u_tile_units_to_pixels:new a.Uniform1f(b)}),terrainRaster:X2,terrainDepth:X2,skybox:b=>({u_matrix:new a.UniformMatrix4f(b),u_sun_direction:new a.Uniform3f(b),u_cubemap:new a.Uniform1i(b),u_opacity:new a.Uniform1f(b),u_temporal_offset:new a.Uniform1f(b)}),skyboxGradient:b=>({u_matrix:new a.UniformMatrix4f(b),u_color_ramp:new a.Uniform1i(b),u_center_direction:new a.Uniform3f(b),u_radius:new a.Uniform1f(b),u_opacity:new a.Uniform1f(b),u_temporal_offset:new a.Uniform1f(b)}),skyboxCapture:b=>({u_matrix_3f:new a.UniformMatrix3f(b),u_sun_direction:new a.Uniform3f(b),u_sun_intensity:new a.Uniform1f(b),u_color_tint_r:new a.Uniform4f(b),u_color_tint_m:new a.Uniform4f(b),u_luminance:new a.Uniform1f(b)}),globeRaster:b=>({u_proj_matrix:new a.UniformMatrix4f(b),u_globe_matrix:new a.UniformMatrix4f(b),u_normalize_matrix:new a.UniformMatrix4f(b),u_merc_matrix:new a.UniformMatrix4f(b),u_zoom_transition:new a.Uniform1f(b),u_merc_center:new a.Uniform2f(b),u_image0:new a.Uniform1i(b),u_grid_matrix:new a.UniformMatrix3f(b),u_skirt_height:new a.Uniform1f(b),u_frustum_tl:new a.Uniform3f(b),u_frustum_tr:new a.Uniform3f(b),u_frustum_br:new a.Uniform3f(b),u_frustum_bl:new a.Uniform3f(b),u_globe_pos:new a.Uniform3f(b),u_globe_radius:new a.Uniform1f(b),u_viewport:new a.Uniform2f(b)}),globeAtmosphere:b=>({u_frustum_tl:new a.Uniform3f(b),u_frustum_tr:new a.Uniform3f(b),u_frustum_br:new a.Uniform3f(b),u_frustum_bl:new a.Uniform3f(b),u_horizon:new a.Uniform1f(b),u_transition:new a.Uniform1f(b),u_fadeout_range:new a.Uniform1f(b),u_color:new a.Uniform4f(b),u_high_color:new a.Uniform4f(b),u_space_color:new a.Uniform4f(b),u_star_intensity:new a.Uniform1f(b),u_star_density:new a.Uniform1f(b),u_star_size:new a.Uniform1f(b),u_temporal_offset:new a.Uniform1f(b),u_horizon_angle:new a.Uniform1f(b),u_rotation_matrix:new a.UniformMatrix4f(b)})};let m0;function pf(b,d,m,w,E,M,O){const F=b.context,U=F.gl,H=b.transform,G=b.useProgram("collisionBox"),ae=[];let xe=0,Te=0;for(let Oe=0;Oe<w.length;Oe++){const Xe=w[Oe],Je=d.getTile(Xe),Qe=Je.getBucket(m);if(!Qe)continue;const ct=hs(Xe,Qe,H);let ot=ct;E[0]===0&&E[1]===0||(ot=b.translatePosMatrix(ct,Je,E,M));const vt=O?Qe.textCollisionBox:Qe.iconCollisionBox,Ut=Qe.collisionCircleArray;if(Ut.length>0){const ht=a.create(),Rt=ot;a.mul(ht,Qe.placementInvProjMatrix,H.glCoordMatrix),a.mul(ht,ht,Qe.placementViewportMatrix),ae.push({circleArray:Ut,circleOffset:Te,transform:Rt,invTransform:ht,projection:Qe.getProjection()}),xe+=Ut.length/4,Te=xe}vt&&(b.terrain&&b.terrain.setupElevationDraw(Je,G),G.draw(F,U.LINES,a.DepthMode.disabled,a.StencilMode.disabled,b.colorModeForRenderPass(),a.CullFaceMode.disabled,a_(ot,H,Je,Qe.getProjection()),m.id,vt.layoutVertexBuffer,vt.indexBuffer,vt.segments,null,H.zoom,null,[vt.collisionVertexBuffer,vt.collisionVertexBufferExt]))}if(!O||!ae.length)return;const ke=b.useProgram("collisionCircle"),Pe=new a.StructArrayLayout2f1f2i16;Pe.resize(4*xe),Pe._trim();let Ie=0;for(const Oe of ae)for(let Xe=0;Xe<Oe.circleArray.length/4;Xe++){const Je=4*Xe,Qe=Oe.circleArray[Je+0],ct=Oe.circleArray[Je+1],ot=Oe.circleArray[Je+2],vt=Oe.circleArray[Je+3];Pe.emplace(Ie++,Qe,ct,ot,vt,0),Pe.emplace(Ie++,Qe,ct,ot,vt,1),Pe.emplace(Ie++,Qe,ct,ot,vt,2),Pe.emplace(Ie++,Qe,ct,ot,vt,3)}(!m0||m0.length<2*xe)&&(m0=function(Oe){const Xe=2*Oe,Je=new a.StructArrayLayout3ui6;Je.resize(Xe),Je._trim();for(let Qe=0;Qe<Xe;Qe++){const ct=6*Qe;Je.uint16[ct+0]=4*Qe+0,Je.uint16[ct+1]=4*Qe+1,Je.uint16[ct+2]=4*Qe+2,Je.uint16[ct+3]=4*Qe+2,Je.uint16[ct+4]=4*Qe+3,Je.uint16[ct+5]=4*Qe+0}return Je}(xe));const se=F.createIndexBuffer(m0,!0),Ae=F.createVertexBuffer(Pe,a.collisionCircleLayout.members,!0);for(const Oe of ae){const Xe={u_matrix:Oe.transform,u_inv_matrix:Oe.invTransform,u_camera_to_center_distance:(Ne=H).getCameraToCenterDistance(Oe.projection),u_viewport_size:[Ne.width,Ne.height]};ke.draw(F,U.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,b.colorModeForRenderPass(),a.CullFaceMode.disabled,Xe,m.id,Ae,se,a.SegmentVector.simpleSegment(0,2*Oe.circleOffset,Oe.circleArray.length,Oe.circleArray.length/2),null,H.zoom)}var Ne;Ae.destroy(),se.destroy()}const y6=a.create();function d_({width:b,height:d,anchor:m,textOffset:w,textScale:E},M){const{horizontalAlign:O,verticalAlign:F}=a.getAnchorAlignment(m),U=-(O-.5)*b,H=-(F-.5)*d,G=a.evaluateVariableOffset(m,w);return new a.Point((U/E+G[0])*M,(H/E+G[1])*M)}function a7(b,d,m,w,E,M,O,F,U,H,G){const ae=b.text.placedSymbolArray,xe=b.text.dynamicLayoutVertexArray,Te=b.icon.dynamicLayoutVertexArray,ke={},Pe=b.getProjection(),Ie=ii(F,Pe,M),se=M.elevation,Ae=Pe.upVectorScale(F.canonical,M.center.lat,M.worldSize).metersToTile;xe.clear();for(let Ne=0;Ne<ae.length;Ne++){const Oe=ae.get(Ne),{tileAnchorX:Xe,tileAnchorY:Je,numGlyphs:Qe}=Oe,ct=Oe.hidden||!Oe.crossTileID||b.allowVerticalPlacement&&!Oe.placedOrientation?null:w[Oe.crossTileID];if(ct){let ot=0,vt=0,Ut=0;if(se){const Kt=se?se.getAtTileOffset(F,Xe,Je):0,[vr,Or,lr]=Pe.upVector(F.canonical,Xe,Je);ot=Kt*vr*Ae,vt=Kt*Or*Ae,Ut=Kt*lr*Ae}let[ht,Rt,xt,Vt]=Ai(Oe.projectedAnchorX+ot,Oe.projectedAnchorY+vt,Oe.projectedAnchorZ+Ut,m?Ie:O);const yt=n6(M.getCameraToCenterDistance(Pe),Vt);let Dt=E.evaluateSizeForFeature(b.textSizeData,H,Oe)*yt/a.ONE_EM;m&&(Dt*=b.tilePixelRatio/U);const $t=d_(ct,Dt);m?({x:ht,y:Rt,z:xt}=Pe.projectTilePoint(Xe+$t.x,Je+$t.y,F.canonical),[ht,Rt,xt]=Ai(ht+ot,Rt+vt,xt+Ut,O)):(d&&$t._rotate(-M.angle),ht+=$t.x,Rt+=$t.y,xt=0);const Bt=b.allowVerticalPlacement&&Oe.placedOrientation===a.WritingMode.vertical?Math.PI/2:0;for(let Kt=0;Kt<Qe;Kt++)a.addDynamicAttributes(xe,ht,Rt,xt,Bt);G&&Oe.associatedIconIndex>=0&&(ke[Oe.associatedIconIndex]={x:ht,y:Rt,z:xt,angle:Bt})}else Rs(Qe,xe)}if(G){Te.clear();const Ne=b.icon.placedSymbolArray;for(let Oe=0;Oe<Ne.length;Oe++){const Xe=Ne.get(Oe),{numGlyphs:Je}=Xe,Qe=ke[Oe];if(Xe.hidden||!Qe)Rs(Je,Te);else{const{x:ct,y:ot,z:vt,angle:Ut}=Qe;for(let ht=0;ht<Je;ht++)a.addDynamicAttributes(Te,ct,ot,vt,Ut)}}b.icon.dynamicLayoutVertexBuffer.updateData(Te)}b.text.dynamicLayoutVertexBuffer.updateData(xe)}function p_(b,d,m){return m.iconsInText&&d?"symbolTextAndIcon":b?"symbolSDF":"symbolIcon"}function v6(b,d,m,w,E,M,O,F,U,H,G,ae){const xe=b.context,Te=xe.gl,ke=b.transform,Pe=F==="map",Ie=U==="map",se=Pe&&m.layout.get("symbol-placement")!=="point",Ae=Pe&&!Ie&&!se,Ne=m.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Oe=!1;const Xe=b.depthModeForSublayer(0,a.DepthMode.ReadOnly),Je=[a.mercatorXfromLng(ke.center.lng),a.mercatorYfromLat(ke.center.lat)],Qe=m.layout.get("text-variable-anchor"),ct=ke.projection.name==="globe",ot=[],vt=[0,-1,0];let Ut=vt;!ct&&!ke.mercatorFromTransition||Pe||(Ut=function(ht){const Rt=ht._camera.getWorldToCamera(ht.worldSize,1),xt=a.multiply([],Rt,ht.globeMatrix);a.invert(xt,xt);const Vt=[0,0,0],yt=[0,1,0,0];return a.transformMat4$1(yt,yt,xt),Vt[0]=yt[0],Vt[1]=yt[1],Vt[2]=yt[2],a.normalize(Vt,Vt),Vt}(ke));for(const ht of w){const Rt=d.getTile(ht),xt=Rt.getBucket(m);if(!xt||xt.projection.name==="mercator"&&ct)continue;const Vt=E?xt.text:xt.icon;if(!Vt||xt.fullyClipped||!Vt.segments.get().length)continue;const yt=Vt.programConfigurations.get(m.id),Dt=E||xt.sdfIcons,$t=E?xt.textSizeData:xt.iconSizeData,Bt=Ie||ke.pitch!==0,Kt=a.evaluateSizeForZoom($t,ke.zoom);let vr,Or,lr,Tr,cn=[0,0],rn=null;if(E)Or=Rt.glyphAtlasTexture,lr=Te.LINEAR,vr=Rt.glyphAtlasTexture.size,xt.iconsInText&&(cn=Rt.imageAtlasTexture.size,rn=Rt.imageAtlasTexture,Tr=Bt||b.options.rotating||b.options.zooming||$t.kind==="composite"||$t.kind==="camera"?Te.LINEAR:Te.NEAREST);else{const $l=m.layout.get("icon-size").constantOr(0)!==1||xt.iconsNeedLinear;Or=Rt.imageAtlasTexture,lr=Dt||b.options.rotating||b.options.zooming||$l||Bt?Te.LINEAR:Te.NEAREST,vr=Rt.imageAtlasTexture.size}const gr=xt.projection.name==="globe",Dn=gr?Ut:vt,Rn=gr?a.globeToMercatorTransition(ke.zoom):0,Nn=ii(ht,xt.getProjection(),ke),Ln=ke.calculatePixelsToTileUnitsMatrix(Rt),ja=Mt(Nn,Rt.tileID.canonical,Ie,Pe,ke,xt.getProjection(),Ln),wa=b.terrain&&Ie&&se?a.invert(a.create(),ja):y6,ys=si(Nn,Rt.tileID.canonical,Ie,Pe,ke,xt.getProjection(),Ln),dl=Qe&&xt.hasTextData(),ai=m.layout.get("icon-text-fit")!=="none"&&dl&&xt.hasIconData();if(se){const $l=ke.elevation,Rc=$l?$l.getAtTileOffsetFunc(ht,ke.center.lat,ke.worldSize,xt.getProjection()):null,zu=Go(Nn,Rt.tileID.canonical,Ie,Pe,ke,xt.getProjection(),Ln);B2(xt,Nn,b,E,zu,ys,Ie,H,Rc,ht)}const On=se||E&&Qe||ai,En=b.translatePosMatrix(Nn,Rt,M,O),Li=On?y6:ja,to=b.translatePosMatrix(ys,Rt,M,O,!0),Jn=xt.getProjection().createInversionMatrix(ke,ht.canonical),go=[];b.terrainRenderModeElevated()&&Ie&&go.push("PITCH_WITH_MAP_TERRAIN"),gr&&go.push("PROJECTION_GLOBE_VIEW"),On&&go.push("PROJECTED_POS_ON_VIEWPORT");const C0=Dt&&m.paint.get(E?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Du;Du=Dt?xt.iconsInText?g6($t.kind,Kt,Ae,Ie,b,En,Li,to,vr,cn,ht,Rn,Je,Jn,Dn,xt.getProjection()):f0($t.kind,Kt,Ae,Ie,b,En,Li,to,E,vr,!0,ht,Rn,Je,Jn,Dn,xt.getProjection()):l_($t.kind,Kt,Ae,Ie,b,En,Li,to,E,vr,ht,Rn,Je,Jn,Dn,xt.getProjection());const Sf={program:b.useProgram(p_(Dt,E,xt),yt,go),buffers:Vt,uniformValues:Du,atlasTexture:Or,atlasTextureIcon:rn,atlasInterpolation:lr,atlasInterpolationIcon:Tr,isSDF:Dt,hasHalo:C0,tile:Rt,labelPlaneMatrixInv:wa};if(Ne&&xt.canOverlap){Oe=!0;const $l=Vt.segments.get();for(const Rc of $l)ot.push({segments:new a.SegmentVector([Rc]),sortKey:Rc.sortKey,state:Sf})}else ot.push({segments:Vt.segments,sortKey:0,state:Sf})}Oe&&ot.sort((ht,Rt)=>ht.sortKey-Rt.sortKey);for(const ht of ot){const Rt=ht.state;if(b.terrain&&b.terrain.setupElevationDraw(Rt.tile,Rt.program,{useDepthForOcclusion:!ct,labelPlaneMatrixInv:Rt.labelPlaneMatrixInv}),xe.activeTexture.set(Te.TEXTURE0),Rt.atlasTexture.bind(Rt.atlasInterpolation,Te.CLAMP_TO_EDGE),Rt.atlasTextureIcon&&(xe.activeTexture.set(Te.TEXTURE1),Rt.atlasTextureIcon&&Rt.atlasTextureIcon.bind(Rt.atlasInterpolationIcon,Te.CLAMP_TO_EDGE)),Rt.isSDF){const xt=Rt.uniformValues;Rt.hasHalo&&(xt.u_is_halo=1,hf(Rt.buffers,ht.segments,m,b,Rt.program,Xe,G,ae,xt)),xt.u_is_halo=0}hf(Rt.buffers,ht.segments,m,b,Rt.program,Xe,G,ae,Rt.uniformValues)}}function hf(b,d,m,w,E,M,O,F,U){const H=w.context,G=[b.dynamicLayoutVertexBuffer,b.opacityVertexBuffer,b.globeExtVertexBuffer];E.draw(H,H.gl.TRIANGLES,M,O,F,a.CullFaceMode.disabled,U,m.id,b.layoutVertexBuffer,b.indexBuffer,d,m.paint,w.transform.zoom,b.programConfigurations.get(m.id),G)}function _6(b,d,m,w,E,M,O){const F=b.context.gl,U=m.paint.get("fill-pattern"),H=U&&U.constantOr(1);let G,ae,xe,Te,ke;O?(ae=H&&!m.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",G=F.LINES):(ae=H?"fillPattern":"fill",G=F.TRIANGLES);for(const Pe of w){const Ie=d.getTile(Pe);if(H&&!Ie.patternsLoaded())continue;const se=Ie.getBucket(m);if(!se)continue;b.prepareDrawTile();const Ae=se.programConfigurations.get(m.id),Ne=b.useProgram(ae,Ae);H&&(b.context.activeTexture.set(F.TEXTURE0),Ie.imageAtlasTexture.bind(F.LINEAR,F.CLAMP_TO_EDGE),Ae.updatePaintBuffers());const Oe=U.constantOr(null);if(Oe&&Ie.imageAtlas){const Je=Ie.imageAtlas.patternPositions[Oe.toString()];Je&&Ae.setConstantPatternPositions(Je)}const Xe=b.translatePosMatrix(Pe.projMatrix,Ie,m.paint.get("fill-translate"),m.paint.get("fill-translate-anchor"));if(O){Te=se.indexBuffer2,ke=se.segments2;const Je=b.terrain&&b.terrain.renderingToTexture?b.terrain.drapeBufferSize:[F.drawingBufferWidth,F.drawingBufferHeight];xe=ae==="fillOutlinePattern"&&H?t7(Xe,b,Ie,Je):e7(Xe,Je)}else Te=se.indexBuffer,ke=se.segments,xe=H?r_(Xe,b,Ie):Pu(Xe);b.prepareDrawProgram(b.context,Ne,Pe.toUnwrapped()),Ne.draw(b.context,G,E,b.stencilModeForClipping(Pe),M,a.CullFaceMode.disabled,xe,m.id,se.layoutVertexBuffer,Te,ke,m.paint,b.transform.zoom,Ae)}}function g0(b,d,m,w,E,M,O){const F=b.context,U=F.gl,H=b.transform,G=m.paint.get("fill-extrusion-pattern"),ae=G.constantOr(1),xe=m.paint.get("fill-extrusion-opacity"),Te=[m.paint.get("fill-extrusion-ambient-occlusion-intensity"),m.paint.get("fill-extrusion-ambient-occlusion-radius")],ke=m.layout.get("fill-extrusion-edge-radius"),Pe=ke>0&&!m.paint.get("fill-extrusion-rounded-roof"),Ie=Pe?0:ke,se=H.projection.name==="globe"?a.fillExtrusionHeightLift():0,Ae=H.projection.name==="globe",Ne=Ae?a.globeToMercatorTransition(H.zoom):0,Oe=[a.mercatorXfromLng(H.center.lng),a.mercatorYfromLat(H.center.lat)],Xe=[];Ae&&Xe.push("PROJECTION_GLOBE_VIEW"),Te[0]>0&&Xe.push("FAUX_AO"),Pe&&Xe.push("ZERO_ROOF_RADIUS");for(const Je of w){const Qe=d.getTile(Je),ct=Qe.getBucket(m);if(!ct||ct.projection.name!==H.projection.name)continue;const ot=ct.programConfigurations.get(m.id),vt=b.useProgram(ae?"fillExtrusionPattern":"fillExtrusion",ot,Xe);if(b.terrain){const Dt=b.terrain;if(b.style.terrainSetForDrapingOnly())Dt.setupElevationDraw(Qe,vt,{useMeterToDem:!0});else{if(!ct.enableTerrain)continue;if(Dt.setupElevationDraw(Qe,vt,{useMeterToDem:!0}),b6(F,d,Je,ct,m,Dt),!ct.centroidVertexBuffer){const $t=vt.attributes.a_centroid_pos;$t!==void 0&&U.vertexAttrib2f($t,0,0)}}}ae&&(b.context.activeTexture.set(U.TEXTURE0),Qe.imageAtlasTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE),ot.updatePaintBuffers());const Ut=G.constantOr(null);if(Ut&&Qe.imageAtlas){const Dt=Qe.imageAtlas.patternPositions[Ut.toString()];Dt&&ot.setConstantPatternPositions(Dt)}const ht=b.translatePosMatrix(Je.projMatrix,Qe,m.paint.get("fill-extrusion-translate"),m.paint.get("fill-extrusion-translate-anchor")),Rt=H.projection.createInversionMatrix(H,Je.canonical),xt=m.paint.get("fill-extrusion-vertical-gradient"),Vt=ae?h6(ht,b,xt,xe,Te,Ie,Je,Qe,se,Ne,Oe,Rt):t_(ht,b,xt,xe,Te,Ie,Je,se,Ne,Oe,Rt);b.prepareDrawProgram(F,vt,Je.toUnwrapped());const yt=[];b.terrain&&yt.push(ct.centroidVertexBuffer),Ae&&yt.push(ct.layoutVertexExtBuffer),vt.draw(F,F.gl.TRIANGLES,E,M,O,a.CullFaceMode.backCCW,Vt,m.id,ct.layoutVertexBuffer,ct.indexBuffer,ct.segments,m.paint,b.transform.zoom,ot,yt)}}function b6(b,d,m,w,E,M){const O=[se=>{let Ae=se.canonical.x-1,Ne=se.wrap;return Ae<0&&(Ae=(1<<se.canonical.z)-1,Ne--),new a.OverscaledTileID(se.overscaledZ,Ne,se.canonical.z,Ae,se.canonical.y)},se=>{let Ae=se.canonical.x+1,Ne=se.wrap;return Ae===1<<se.canonical.z&&(Ae=0,Ne++),new a.OverscaledTileID(se.overscaledZ,Ne,se.canonical.z,Ae,se.canonical.y)},se=>new a.OverscaledTileID(se.overscaledZ,se.wrap,se.canonical.z,se.canonical.x,(se.canonical.y===0?1<<se.canonical.z:se.canonical.y)-1),se=>new a.OverscaledTileID(se.overscaledZ,se.wrap,se.canonical.z,se.canonical.x,se.canonical.y===(1<<se.canonical.z)-1?0:se.canonical.y+1)],F=se=>{const Ae=d.getSource().minzoom,Ne=Xe=>{const Je=d.getTileByID(Xe);if(Je&&Je.hasData())return Je.getBucket(E)},Oe=[0,-1,1];for(const Xe of Oe){if(se.overscaledZ+Xe<Ae)continue;const Je=Ne(se.calculateScaledKey(se.overscaledZ+Xe));if(Je)return Je}},U=[0,0,0],H=(se,Ae)=>(U[0]=Math.min(se.min.y,Ae.min.y),U[1]=Math.max(se.max.y,Ae.max.y),U[2]=a.EXTENT-Ae.min.x>se.max.x?Ae.min.x-a.EXTENT:se.max.x,U),G=(se,Ae)=>(U[0]=Math.min(se.min.x,Ae.min.x),U[1]=Math.max(se.max.x,Ae.max.x),U[2]=a.EXTENT-Ae.min.y>se.max.y?Ae.min.y-a.EXTENT:se.max.y,U),ae=[(se,Ae)=>H(se,Ae),(se,Ae)=>H(Ae,se),(se,Ae)=>G(se,Ae),(se,Ae)=>G(Ae,se)],xe=new a.Point(0,0);let Te,ke,Pe;const Ie=(se,Ae,Ne,Oe,Xe)=>{const Je=[[Oe?Ne:se,Oe?se:Ne,0],[Oe?Ne:Ae,Oe?Ae:Ne,0]],Qe=Xe<0?a.EXTENT+Xe:Xe,ct=[Oe?Qe:(se+Ae)/2,Oe?(se+Ae)/2:Qe,0];return Ne===0&&Xe<0||Ne!==0&&Xe>0?M.getForTilePoints(Pe,[ct],!0,ke):Je.push(ct),M.getForTilePoints(m,Je,!0,Te),Math.max(Je[0][2],Je[1][2],ct[2])/M.exaggeration()};for(let se=0;se<4;se++){const Ae=(se<2?1:5)-se,Ne=w.borders[se];if(Ne.length===0)continue;const Oe=Pe=O[se](m),Xe=F(Oe);if(!(Xe&&Xe instanceof a.FillExtrusionBucket&&Xe.enableTerrain)||w.borderDoneWithNeighborZ[se]===Xe.canonical.z&&Xe.borderDoneWithNeighborZ[Ae]===w.canonical.z||(ke=M.findDEMTileFor(Oe),!ke||!ke.dem))continue;if(!Te){const ot=M.findDEMTileFor(m);if(!ot||!ot.dem)return;Te=ot}const Je=Xe.borders[Ae];let Qe=0;const ct=Xe.borderDoneWithNeighborZ[Ae]!==w.canonical.z;if(w.canonical.z===Xe.canonical.z){for(let ot=0;ot<Ne.length;ot++){const vt=w.featuresOnBorder[Ne[ot]],Ut=vt.borders[se];let ht;for(;Qe<Je.length&&(ht=Xe.featuresOnBorder[Je[Qe]],!(ht.borders[Ae][1]>Ut[0]+3));)ct&&Xe.encodeCentroid(void 0,ht,!1),Qe++;if(ht&&Qe<Je.length){const Rt=Qe;let xt=0;for(;!(ht.borders[Ae][0]>Ut[1]-3)&&(xt++,++Qe!==Je.length);)ht=Xe.featuresOnBorder[Je[Qe]];if(ht=Xe.featuresOnBorder[Je[Rt]],vt.intersectsCount()>1||ht.intersectsCount()>1||xt!==1){xt!==1&&(Qe=Rt),w.encodeCentroid(void 0,vt,!1),ct&&Xe.encodeCentroid(void 0,ht,!1);continue}const Vt=ae[se](vt,ht),yt=se%2?a.EXTENT-1:0;xe.x=Ie(Vt[0],Math.min(a.EXTENT-1,Vt[1]),yt,se<2,Vt[2]),xe.y=0,w.encodeCentroid(xe,vt,!1),ct&&Xe.encodeCentroid(xe,ht,!1)}else w.encodeCentroid(void 0,vt,!1)}w.borderDoneWithNeighborZ[se]=Xe.canonical.z,w.needsCentroidUpdate=!0,ct&&(Xe.borderDoneWithNeighborZ[Ae]=w.canonical.z,Xe.needsCentroidUpdate=!0)}else{for(const ot of Ne)w.encodeCentroid(void 0,w.featuresOnBorder[ot],!1);if(ct){for(const ot of Je)Xe.encodeCentroid(void 0,Xe.featuresOnBorder[ot],!1);Xe.borderDoneWithNeighborZ[Ae]=w.canonical.z,Xe.needsCentroidUpdate=!0}w.borderDoneWithNeighborZ[se]=Xe.canonical.z,w.needsCentroidUpdate=!0}}(w.needsCentroidUpdate||!w.centroidVertexBuffer&&w.centroidVertexArray.length!==0)&&w.uploadCentroid(b)}const Qd=new a.Color(1,0,0,1),o7=new a.Color(0,1,0,1),s7=new a.Color(0,0,1,1),l7=new a.Color(1,0,1,1),c7=new a.Color(0,1,1,1);function u7(b,d,m){const w=b.context,E=b.transform,M=w.gl,O=E.projection.name==="globe",F=O?["PROJECTION_GLOBE_VIEW"]:null;let U=m.projMatrix;if(O&&a.globeToMercatorTransition(E.zoom)>0){const vt=a.transitionTileAABBinECEF(m.canonical,E),Ut=a.globeDenormalizeECEF(vt);U=a.multiply(new Float32Array(16),E.globeMatrix,Ut),a.multiply(U,E.projMatrix,U)}const H=b.useProgram("debug",null,F),G=d.getTileByID(m.key);b.terrain&&b.terrain.setupElevationDraw(G,H);const ae=a.DepthMode.disabled,xe=a.StencilMode.disabled,Te=b.colorModeForRenderPass(),ke="$debug";w.activeTexture.set(M.TEXTURE0),b.emptyTexture.bind(M.LINEAR,M.CLAMP_TO_EDGE),O?G._makeGlobeTileDebugBuffers(b.context,E):G._makeDebugTileBoundsBuffers(b.context,E.projection);const Pe=G._tileDebugBuffer||b.debugBuffer,Ie=G._tileDebugIndexBuffer||b.debugIndexBuffer,se=G._tileDebugSegments||b.debugSegments;H.draw(w,M.LINE_STRIP,ae,xe,Te,a.CullFaceMode.disabled,p0(U,a.Color.red),ke,Pe,Ie,se,null,null,null,[G._globeTileDebugBorderBuffer]);const Ae=G.latestRawTileData,Ne=Math.floor((Ae&&Ae.byteLength||0)/1024),Oe=d.getTile(m).tileSize,Xe=512/Math.min(Oe,512)*(m.overscaledZ/E.zoom)*.5;let Je=m.canonical.toString();m.overscaledZ!==m.canonical.z&&(Je+=` => ${m.overscaledZ}`),Je+=` ${Ne}kb`,function(vt,Ut){vt.initDebugOverlayCanvas();const ht=vt.debugOverlayCanvas,Rt=vt.context.gl,xt=vt.debugOverlayCanvas.getContext("2d");xt.clearRect(0,0,ht.width,ht.height),xt.shadowColor="white",xt.shadowBlur=2,xt.lineWidth=1.5,xt.strokeStyle="white",xt.textBaseline="top",xt.font="bold 36px Open Sans, sans-serif",xt.fillText(Ut,5,5),xt.strokeText(Ut,5,5),vt.debugOverlayTexture.update(ht),vt.debugOverlayTexture.bind(Rt.LINEAR,Rt.CLAMP_TO_EDGE)}(b,Je);const Qe=G._tileDebugTextBuffer||b.debugBuffer,ct=G._tileDebugTextIndexBuffer||b.quadTriangleIndexBuffer,ot=G._tileDebugTextSegments||b.debugSegments;H.draw(w,M.TRIANGLES,ae,xe,a.ColorMode.alphaBlended,a.CullFaceMode.disabled,p0(U,a.Color.transparent,Xe),ke,Qe,ct,ot,null,null,null,[G._globeTileDebugTextBuffer])}function x6(b,d,m,w){Jd(b,0,d+m/2,b.transform.width,m,w)}function y0(b,d,m,w){Jd(b,d-m/2,0,m,b.transform.height,w)}function Jd(b,d,m,w,E,M){const O=b.context,F=O.gl;F.enable(F.SCISSOR_TEST),F.scissor(d*a.exported.devicePixelRatio,m*a.exported.devicePixelRatio,w*a.exported.devicePixelRatio,E*a.exported.devicePixelRatio),O.clear({color:M}),F.disable(F.SCISSOR_TEST)}const w6=a.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:S6}=w6;function Ul(b,d,m,w){b.emplaceBack(d,m,w)}class v0{constructor(d){this.vertexArray=new a.StructArrayLayout3f12,this.indices=new a.StructArrayLayout3ui6,Ul(this.vertexArray,-1,-1,1),Ul(this.vertexArray,1,-1,1),Ul(this.vertexArray,-1,1,1),Ul(this.vertexArray,1,1,1),Ul(this.vertexArray,-1,-1,-1),Ul(this.vertexArray,1,-1,-1),Ul(this.vertexArray,-1,1,-1),Ul(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=d.createVertexBuffer(this.vertexArray,S6),this.indexBuffer=d.createIndexBuffer(this.indices),this.segment=a.SegmentVector.simpleSegment(0,0,36,12)}}function ms(b,d,m,w,E,M){const O=b.gl,F=d.paint.get("sky-atmosphere-color"),U=d.paint.get("sky-atmosphere-halo-color"),H=d.paint.get("sky-atmosphere-sun-intensity"),G=((ae,xe,Te,ke,Pe)=>({u_matrix_3f:ae,u_sun_direction:xe,u_sun_intensity:Te,u_color_tint_r:[ke.r,ke.g,ke.b,ke.a],u_color_tint_m:[Pe.r,Pe.g,Pe.b,Pe.a],u_luminance:5e-5}))(a.fromMat4(a.create$1(),w),E,H,F,U);O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_CUBE_MAP_POSITIVE_X+M,d.skyboxTexture,0),m.draw(b,O.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,a.ColorMode.unblended,a.CullFaceMode.frontCW,G,"skyboxCapture",d.skyboxGeometry.vertexBuffer,d.skyboxGeometry.indexBuffer,d.skyboxGeometry.segment)}const ff=a.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class E6{constructor(d){const m=new a.StructArrayLayout5f20;m.emplaceBack(-1,1,1,0,0),m.emplaceBack(1,1,1,1,0),m.emplaceBack(1,-1,1,1,1),m.emplaceBack(-1,-1,1,0,1);const w=new a.StructArrayLayout3ui6;w.emplaceBack(0,1,2),w.emplaceBack(2,3,0),this.vertexBuffer=d.createVertexBuffer(m,ff.members),this.indexBuffer=d.createIndexBuffer(w),this.segments=a.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const ku={symbol:function(b,d,m,w,E){if(b.renderPass!=="translucent")return;const M=a.StencilMode.disabled,O=b.colorModeForRenderPass();m.layout.get("text-variable-anchor")&&function(F,U,H,G,ae,xe,Te){const ke=U.transform,Pe=ae==="map",Ie=xe==="map";for(const se of F){const Ae=G.getTile(se),Ne=Ae.getBucket(H);if(!Ne||!Ne.text||!Ne.text.segments.get().length)continue;const Oe=a.evaluateSizeForZoom(Ne.textSizeData,ke.zoom),Xe=ii(se,Ne.getProjection(),ke),Je=ke.calculatePixelsToTileUnitsMatrix(Ae),Qe=Mt(Xe,Ae.tileID.canonical,Ie,Pe,ke,Ne.getProjection(),Je),ct=H.layout.get("icon-text-fit")!=="none"&&Ne.hasIconData();if(Oe){const ot=Math.pow(2,ke.zoom-Ae.tileID.overscaledZ);a7(Ne,Pe,Ie,Te,a.symbolSize,ke,Qe,se,ot,Oe,ct)}}}(w,b,m,d,m.layout.get("text-rotation-alignment"),m.layout.get("text-pitch-alignment"),E),m.paint.get("icon-opacity").constantOr(1)!==0&&v6(b,d,m,w,!1,m.paint.get("icon-translate"),m.paint.get("icon-translate-anchor"),m.layout.get("icon-rotation-alignment"),m.layout.get("icon-pitch-alignment"),m.layout.get("icon-keep-upright"),M,O),m.paint.get("text-opacity").constantOr(1)!==0&&v6(b,d,m,w,!0,m.paint.get("text-translate"),m.paint.get("text-translate-anchor"),m.layout.get("text-rotation-alignment"),m.layout.get("text-pitch-alignment"),m.layout.get("text-keep-upright"),M,O),d.map.showCollisionBoxes&&(pf(b,d,m,w,m.paint.get("text-translate"),m.paint.get("text-translate-anchor"),!0),pf(b,d,m,w,m.paint.get("icon-translate"),m.paint.get("icon-translate-anchor"),!1))},circle:function(b,d,m,w){if(b.renderPass!=="translucent")return;const E=m.paint.get("circle-opacity"),M=m.paint.get("circle-stroke-width"),O=m.paint.get("circle-stroke-opacity"),F=m.layout.get("circle-sort-key").constantOr(1)!==void 0;if(E.constantOr(1)===0&&(M.constantOr(1)===0||O.constantOr(1)===0))return;const U=b.context,H=U.gl,G=b.transform,ae=b.depthModeForSublayer(0,a.DepthMode.ReadOnly),xe=a.StencilMode.disabled,Te=b.colorModeForRenderPass(),ke=G.projection.name==="globe",Pe=[a.mercatorXfromLng(G.center.lng),a.mercatorYfromLat(G.center.lat)],Ie=[];for(let Ae=0;Ae<w.length;Ae++){const Ne=w[Ae],Oe=d.getTile(Ne),Xe=Oe.getBucket(m);if(!Xe||Xe.projection.name!==G.projection.name)continue;const Je=Xe.programConfigurations.get(m.id),Qe=i_(m);ke&&Qe.push("PROJECTION_GLOBE_VIEW");const ct=b.useProgram("circle",Je,Qe),ot=Xe.layoutVertexBuffer,vt=Xe.globeExtVertexBuffer,Ut=Xe.indexBuffer,ht=G.projection.createInversionMatrix(G,Ne.canonical),Rt={programConfiguration:Je,program:ct,layoutVertexBuffer:ot,globeExtVertexBuffer:vt,indexBuffer:Ut,uniformValues:n_(b,Ne,Oe,ht,Pe,m),tile:Oe};if(F){const xt=Xe.segments.get();for(const Vt of xt)Ie.push({segments:new a.SegmentVector([Vt]),sortKey:Vt.sortKey,state:Rt})}else Ie.push({segments:Xe.segments,sortKey:0,state:Rt})}F&&Ie.sort((Ae,Ne)=>Ae.sortKey-Ne.sortKey);const se={useDepthForOcclusion:!ke};for(const Ae of Ie){const{programConfiguration:Ne,program:Oe,layoutVertexBuffer:Xe,globeExtVertexBuffer:Je,indexBuffer:Qe,uniformValues:ct,tile:ot}=Ae.state,vt=Ae.segments;b.terrain&&b.terrain.setupElevationDraw(ot,Oe,se),b.prepareDrawProgram(U,Oe,ot.tileID.toUnwrapped()),Oe.draw(U,H.TRIANGLES,ae,xe,Te,a.CullFaceMode.disabled,ct,m.id,Xe,Qe,vt,m.paint,G.zoom,Ne,[Je])}},heatmap:function(b,d,m,w){if(m.paint.get("heatmap-opacity")!==0)if(b.renderPass==="offscreen"){const E=b.context,M=E.gl,O=a.StencilMode.disabled,F=new a.ColorMode([M.ONE,M.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(Te,ke,Pe,Ie){const se=Te.gl,Ae=ke.width*Ie,Ne=ke.height*Ie;Te.activeTexture.set(se.TEXTURE1),Te.viewport.set([0,0,Ae,Ne]);let Oe=Pe.heatmapFbo;if(!Oe||Oe&&(Oe.width!==Ae||Oe.height!==Ne)){Oe&&Oe.destroy();const Xe=se.createTexture();se.bindTexture(se.TEXTURE_2D,Xe),se.texParameteri(se.TEXTURE_2D,se.TEXTURE_WRAP_S,se.CLAMP_TO_EDGE),se.texParameteri(se.TEXTURE_2D,se.TEXTURE_WRAP_T,se.CLAMP_TO_EDGE),se.texParameteri(se.TEXTURE_2D,se.TEXTURE_MIN_FILTER,se.LINEAR),se.texParameteri(se.TEXTURE_2D,se.TEXTURE_MAG_FILTER,se.LINEAR),Oe=Pe.heatmapFbo=Te.createFramebuffer(Ae,Ne,!1),function(Je,Qe,ct,ot,vt,Ut){const ht=Je.gl;ht.texImage2D(ht.TEXTURE_2D,0,Je.isWebGL2&&Je.extRenderToTextureHalfFloat?ht.RGBA16F:ht.RGBA,vt,Ut,0,ht.RGBA,Je.extRenderToTextureHalfFloat?Je.isWebGL2?ht.HALF_FLOAT:Je.extTextureHalfFloat.HALF_FLOAT_OES:ht.UNSIGNED_BYTE,null),ot.colorAttachment.set(ct)}(Te,0,Xe,Oe,Ae,Ne)}else se.bindTexture(se.TEXTURE_2D,Oe.colorAttachment.get()),Te.bindFramebuffer.set(Oe.framebuffer)})(E,b,m,b.transform.projection.name==="globe"?.5:.25),E.clear({color:a.Color.transparent});const U=b.transform,H=U.projection.name==="globe",G=H?["PROJECTION_GLOBE_VIEW"]:null,ae=H?a.CullFaceMode.frontCCW:a.CullFaceMode.disabled,xe=[a.mercatorXfromLng(U.center.lng),a.mercatorYfromLat(U.center.lat)];for(let Te=0;Te<w.length;Te++){const ke=w[Te];if(d.hasRenderableParent(ke))continue;const Pe=d.getTile(ke),Ie=Pe.getBucket(m);if(!Ie||Ie.projection.name!==U.projection.name)continue;const se=Ie.programConfigurations.get(m.id),Ae=b.useProgram("heatmap",se,G),{zoom:Ne}=b.transform;b.terrain&&b.terrain.setupElevationDraw(Pe,Ae),b.prepareDrawProgram(E,Ae,ke.toUnwrapped());const Oe=U.projection.createInversionMatrix(U,ke.canonical);Ae.draw(E,M.TRIANGLES,a.DepthMode.disabled,O,F,ae,m6(b,ke,Pe,Oe,xe,Ne,m.paint.get("heatmap-intensity")),m.id,Ie.layoutVertexBuffer,Ie.indexBuffer,Ie.segments,m.paint,b.transform.zoom,se,H?[Ie.globeExtVertexBuffer]:null)}E.viewport.set([0,0,b.width,b.height])}else b.renderPass==="translucent"&&(b.context.setColorMode(b.colorModeForRenderPass()),function(E,M){const O=E.context,F=O.gl,U=M.heatmapFbo;if(!U)return;O.activeTexture.set(F.TEXTURE0),F.bindTexture(F.TEXTURE_2D,U.colorAttachment.get()),O.activeTexture.set(F.TEXTURE1);let H=M.colorRampTexture;H||(H=M.colorRampTexture=new a.Texture(O,M.colorRamp,F.RGBA)),H.bind(F.LINEAR,F.CLAMP_TO_EDGE),E.useProgram("heatmapTexture").draw(O,F.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,E.colorModeForRenderPass(),a.CullFaceMode.disabled,((G,ae,xe,Te)=>({u_image:0,u_color_ramp:1,u_opacity:ae.paint.get("heatmap-opacity")}))(0,M),M.id,E.viewportBuffer,E.quadTriangleIndexBuffer,E.viewportSegments,M.paint,E.transform.zoom)}(b,m))},line:function(b,d,m,w){if(b.renderPass!=="translucent")return;const E=m.paint.get("line-opacity"),M=m.paint.get("line-width");if(E.constantOr(1)===0||M.constantOr(1)===0)return;const O=b.depthModeForSublayer(0,a.DepthMode.ReadOnly),F=b.colorModeForRenderPass(),U=b.terrain&&b.terrain.renderingToTexture?1:a.exported.devicePixelRatio,H=m.paint.get("line-dasharray"),G=H.constantOr(1),ae=m.layout.get("line-cap"),xe=m.paint.get("line-pattern"),Te=xe.constantOr(1),ke=m.paint.get("line-gradient"),Pe=Te?"linePattern":"line",Ie=b.context,se=Ie.gl,Ae=(Oe=>{const Xe=[];df(Oe)&&Xe.push("RENDER_LINE_DASH"),Oe.paint.get("line-gradient")&&Xe.push("RENDER_LINE_GRADIENT");const Je=Oe.paint.get("line-trim-offset");Je[0]===0&&Je[1]===0||Xe.push("RENDER_LINE_TRIM_OFFSET");const Qe=Oe.paint.get("line-pattern").constantOr(1),ct=Oe.paint.get("line-opacity").constantOr(1)!==1;return!Qe&&ct&&Xe.push("RENDER_LINE_ALPHA_DISCARD"),Xe})(m);let Ne=Ae.includes("RENDER_LINE_ALPHA_DISCARD");b.terrain&&b.terrain.clipOrMaskOverlapStencilType()&&(Ne=!1);for(const Oe of w){const Xe=d.getTile(Oe);if(Te&&!Xe.patternsLoaded())continue;const Je=Xe.getBucket(m);if(!Je)continue;b.prepareDrawTile();const Qe=Je.programConfigurations.get(m.id),ct=b.useProgram(Pe,Qe,Ae),ot=xe.constantOr(null);if(ot&&Xe.imageAtlas){const Dt=Xe.imageAtlas.patternPositions[ot.toString()];Dt&&Qe.setConstantPatternPositions(Dt)}const vt=H.constantOr(null),Ut=ae.constantOr(null);if(!Te&&vt&&Ut&&Xe.lineAtlas){const Dt=Xe.lineAtlas.getDash(vt,Ut);Dt&&Qe.setConstantPatternPositions(Dt)}let[ht,Rt]=m.paint.get("line-trim-offset");(Ut==="round"||Ut==="square")&&ht!==Rt&&(ht===0&&(ht-=1),Rt===1&&(Rt+=1));const xt=b.terrain?Oe.projMatrix:null,Vt=Te?uf(b,Xe,m,xt,U):n7(b,Xe,m,xt,Je.lineClipsArray.length,U,[ht,Rt]);if(ke){const Dt=Je.gradients[m.id];let $t=Dt.texture;if(m.gradientVersion!==Dt.version){let Bt=256;if(m.stepInterpolant){const Kt=d.getSource().maxzoom,vr=Oe.canonical.z===Kt?Math.ceil(1<<b.transform.maxZoom-Oe.canonical.z):1;Bt=a.clamp(a.nextPowerOfTwo(Je.maxLineLength/a.EXTENT*1024*vr),256,Ie.maxTextureSize)}Dt.gradient=a.renderColorRamp({expression:m.gradientExpression(),evaluationKey:"lineProgress",resolution:Bt,image:Dt.gradient||void 0,clips:Je.lineClipsArray}),Dt.texture?Dt.texture.update(Dt.gradient):Dt.texture=new a.Texture(Ie,Dt.gradient,se.RGBA),Dt.version=m.gradientVersion,$t=Dt.texture}Ie.activeTexture.set(se.TEXTURE1),$t.bind(m.stepInterpolant?se.NEAREST:se.LINEAR,se.CLAMP_TO_EDGE)}G&&(Ie.activeTexture.set(se.TEXTURE0),Xe.lineAtlasTexture.bind(se.LINEAR,se.REPEAT),Qe.updatePaintBuffers()),Te&&(Ie.activeTexture.set(se.TEXTURE0),Xe.imageAtlasTexture.bind(se.LINEAR,se.CLAMP_TO_EDGE),Qe.updatePaintBuffers()),b.prepareDrawProgram(Ie,ct,Oe.toUnwrapped());const yt=Dt=>{ct.draw(Ie,se.TRIANGLES,O,Dt,F,a.CullFaceMode.disabled,Vt,m.id,Je.layoutVertexBuffer,Je.indexBuffer,Je.segments,m.paint,b.transform.zoom,Qe,[Je.layoutVertexBuffer2])};if(Ne){const Dt=b.stencilModeForClipping(Oe).ref;Dt===0&&b.terrain&&Ie.clear({stencil:0});const $t={func:se.EQUAL,mask:255};Vt.u_alpha_discard_threshold=.8,yt(new a.StencilMode($t,Dt,255,se.KEEP,se.KEEP,se.INVERT)),Vt.u_alpha_discard_threshold=0,yt(new a.StencilMode($t,Dt,255,se.KEEP,se.KEEP,se.KEEP))}else yt(b.stencilModeForClipping(Oe))}Ne&&(b.resetStencilClippingMasks(),b.terrain&&Ie.clear({stencil:0}))},fill:function(b,d,m,w){const E=m.paint.get("fill-color"),M=m.paint.get("fill-opacity");if(M.constantOr(1)===0)return;const O=b.colorModeForRenderPass(),F=m.paint.get("fill-pattern"),U=b.opaquePassEnabledForLayer()&&!F.constantOr(1)&&E.constantOr(a.Color.transparent).a===1&&M.constantOr(0)===1?"opaque":"translucent";if(b.renderPass===U){const H=b.depthModeForSublayer(1,b.renderPass==="opaque"?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly);_6(b,d,m,w,H,O,!1)}if(b.renderPass==="translucent"&&m.paint.get("fill-antialias")){const H=b.depthModeForSublayer(m.getPaintProperty("fill-outline-color")?2:0,a.DepthMode.ReadOnly);_6(b,d,m,w,H,O,!0)}},"fill-extrusion":function(b,d,m,w){const E=m.paint.get("fill-extrusion-opacity");if(E!==0&&b.renderPass==="translucent"){const M=new a.DepthMode(b.context.gl.LEQUAL,a.DepthMode.ReadWrite,b.depthRangeFor3D);if(E!==1||m.paint.get("fill-extrusion-pattern").constantOr(1))g0(b,d,m,w,M,a.StencilMode.disabled,a.ColorMode.disabled),g0(b,d,m,w,M,b.stencilModeFor3D(),b.colorModeForRenderPass()),b.resetStencilClippingMasks();else{const O=b.colorModeForRenderPass();g0(b,d,m,w,M,a.StencilMode.disabled,O)}}},hillshade:function(b,d,m,w){if(b.renderPass!=="offscreen"&&b.renderPass!=="translucent")return;const E=b.context,M=b.depthModeForSublayer(0,a.DepthMode.ReadOnly),O=b.colorModeForRenderPass(),F=b.terrain&&b.terrain.renderingToTexture,[U,H]=b.renderPass!=="translucent"||F?[{},w]:b.stencilConfigForOverlap(w);for(const G of H){const ae=d.getTile(G);if(ae.needsHillshadePrepare&&b.renderPass==="offscreen")u6(b,ae,m,M,a.StencilMode.disabled,O);else if(b.renderPass==="translucent"){const xe=F&&b.terrain?b.terrain.stencilModeForRTTOverlap(G):U[G.overscaledZ];c6(b,G,ae,m,M,xe,O)}}E.viewport.set([0,0,b.width,b.height]),b.resetStencilClippingMasks()},raster:function(b,d,m,w,E,M){if(b.renderPass!=="translucent"||m.paint.get("raster-opacity")===0||!w.length)return;const O=b.context,F=O.gl,U=d.getSource(),H=b.useProgram("raster"),G=b.colorModeForRenderPass(),ae=b.terrain&&b.terrain.renderingToTexture,[xe,Te]=U instanceof dr||ae?[{},w]:b.stencilConfigForOverlap(w),ke=Te[Te.length-1].overscaledZ,Pe=!b.options.moving;for(const Ie of Te){const se=ae?a.DepthMode.disabled:b.depthModeForSublayer(Ie.overscaledZ-ke,m.paint.get("raster-opacity")===1?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly,F.LESS),Ae=Ie.toUnwrapped(),Ne=d.getTile(Ie);if(ae&&(!Ne||!Ne.hasData()))continue;const Oe=ae?Ie.projMatrix:b.transform.calculateProjMatrix(Ae,Pe),Xe=b.terrain&&ae?b.terrain.stencilModeForRTTOverlap(Ie):xe[Ie.overscaledZ],Je=M?0:m.paint.get("raster-fade-duration");Ne.registerFadeDuration(Je);const Qe=d.findLoadedParent(Ie,0),ct=Q2(Ne,Qe,d,b.transform,Je);let ot,vt;b.terrain&&b.terrain.prepareDrawTile();const Ut=m.paint.get("raster-resampling")==="nearest"?F.NEAREST:F.LINEAR;O.activeTexture.set(F.TEXTURE0),Ne.texture.bind(Ut,F.CLAMP_TO_EDGE),O.activeTexture.set(F.TEXTURE1),Qe?(Qe.texture.bind(Ut,F.CLAMP_TO_EDGE),ot=Math.pow(2,Qe.tileID.overscaledZ-Ne.tileID.overscaledZ),vt=[Ne.tileID.canonical.x*ot%1,Ne.tileID.canonical.y*ot%1]):Ne.texture.bind(Ut,F.CLAMP_TO_EDGE),Ne.texture.useMipmap&&O.extTextureFilterAnisotropic&&b.transform.pitch>20&&F.texParameterf(F.TEXTURE_2D,O.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,O.extTextureFilterAnisotropicMax);const ht=s_(Oe,vt||[0,0],ot||1,ct,m,U instanceof dr?U.perspectiveTransform:[0,0]);if(b.prepareDrawProgram(O,H,Ae),U instanceof dr)U.boundsBuffer&&U.boundsSegments&&H.draw(O,F.TRIANGLES,se,a.StencilMode.disabled,G,a.CullFaceMode.disabled,ht,m.id,U.boundsBuffer,b.quadTriangleIndexBuffer,U.boundsSegments);else{const{tileBoundsBuffer:Rt,tileBoundsIndexBuffer:xt,tileBoundsSegments:Vt}=b.getTileBoundsBuffers(Ne);H.draw(O,F.TRIANGLES,se,Xe,G,a.CullFaceMode.disabled,ht,m.id,Rt,xt,Vt)}}b.resetStencilClippingMasks()},background:function(b,d,m,w){const E=m.paint.get("background-color"),M=m.paint.get("background-opacity");if(M===0)return;const O=b.context,F=O.gl,U=b.transform,H=U.tileSize,G=m.paint.get("background-pattern");if(b.isPatternMissing(G))return;const ae=!G&&E.a===1&&M===1&&b.opaquePassEnabledForLayer()?"opaque":"translucent";if(b.renderPass!==ae)return;const xe=a.StencilMode.disabled,Te=b.depthModeForSublayer(0,ae==="opaque"?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly),ke=b.colorModeForRenderPass(),Pe=b.useProgram(G?"backgroundPattern":"background");let Ie,se=w;se||(Ie=b.getBackgroundTiles(),se=Object.values(Ie).map(Ae=>Ae.tileID)),G&&(O.activeTexture.set(F.TEXTURE0),b.imageManager.bind(b.context));for(const Ae of se){const Ne=Ae.toUnwrapped(),Oe=w?Ae.projMatrix:b.transform.calculateProjMatrix(Ne);b.prepareDrawTile();const Xe=d?d.getTile(Ae):Ie?Ie[Ae.key]:new a.Tile(Ae,H,U.zoom,b),Je=G?i7(Oe,M,b,G,{tileID:Ae,tileSize:H}):c_(Oe,M,E);b.prepareDrawProgram(O,Pe,Ne);const{tileBoundsBuffer:Qe,tileBoundsIndexBuffer:ct,tileBoundsSegments:ot}=b.getTileBoundsBuffers(Xe);Pe.draw(O,F.TRIANGLES,Te,xe,ke,a.CullFaceMode.disabled,Je,m.id,Qe,ct,ot)}},sky:function(b,d,m){const w=b.transform,E=w.projection.name==="mercator"||w.projection.name==="globe"?1:a.smoothstep(7,8,w.zoom),M=m.paint.get("sky-opacity")*E;if(M===0)return;const O=b.context,F=m.paint.get("sky-type"),U=new a.DepthMode(O.gl.LEQUAL,a.DepthMode.ReadOnly,[0,1]),H=b.frameCounter/1e3%1;F==="atmosphere"?b.renderPass==="offscreen"?m.needsSkyboxCapture(b)&&(function(G,ae,xe,Te){const ke=G.context,Pe=ke.gl;let Ie=ae.skyboxFbo;if(!Ie){Ie=ae.skyboxFbo=ke.createFramebuffer(32,32,!1),ae.skyboxGeometry=new v0(ke),ae.skyboxTexture=ke.gl.createTexture(),Pe.bindTexture(Pe.TEXTURE_CUBE_MAP,ae.skyboxTexture),Pe.texParameteri(Pe.TEXTURE_CUBE_MAP,Pe.TEXTURE_WRAP_S,Pe.CLAMP_TO_EDGE),Pe.texParameteri(Pe.TEXTURE_CUBE_MAP,Pe.TEXTURE_WRAP_T,Pe.CLAMP_TO_EDGE),Pe.texParameteri(Pe.TEXTURE_CUBE_MAP,Pe.TEXTURE_MIN_FILTER,Pe.LINEAR),Pe.texParameteri(Pe.TEXTURE_CUBE_MAP,Pe.TEXTURE_MAG_FILTER,Pe.LINEAR);for(let Oe=0;Oe<6;++Oe)Pe.texImage2D(Pe.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,0,Pe.RGBA,32,32,0,Pe.RGBA,Pe.UNSIGNED_BYTE,null)}ke.bindFramebuffer.set(Ie.framebuffer),ke.viewport.set([0,0,32,32]);const se=ae.getCenter(G,!0),Ae=G.useProgram("skyboxCapture"),Ne=new Float64Array(16);a.identity(Ne),a.rotateY(Ne,Ne,.5*-Math.PI),ms(ke,ae,Ae,Ne,se,0),a.identity(Ne),a.rotateY(Ne,Ne,.5*Math.PI),ms(ke,ae,Ae,Ne,se,1),a.identity(Ne),a.rotateX(Ne,Ne,.5*-Math.PI),ms(ke,ae,Ae,Ne,se,2),a.identity(Ne),a.rotateX(Ne,Ne,.5*Math.PI),ms(ke,ae,Ae,Ne,se,3),a.identity(Ne),ms(ke,ae,Ae,Ne,se,4),a.identity(Ne),a.rotateY(Ne,Ne,Math.PI),ms(ke,ae,Ae,Ne,se,5),ke.viewport.set([0,0,G.width,G.height])}(b,m),m.markSkyboxValid(b)):b.renderPass==="sky"&&function(G,ae,xe,Te,ke){const Pe=G.context,Ie=Pe.gl,se=G.transform,Ae=G.useProgram("skybox");Pe.activeTexture.set(Ie.TEXTURE0),Ie.bindTexture(Ie.TEXTURE_CUBE_MAP,ae.skyboxTexture);const Ne=((Oe,Xe,Je,Qe,ct)=>({u_matrix:Oe,u_sun_direction:Xe,u_cubemap:0,u_opacity:Qe,u_temporal_offset:ct}))(se.skyboxMatrix,ae.getCenter(G,!1),0,Te,ke);G.prepareDrawProgram(Pe,Ae),Ae.draw(Pe,Ie.TRIANGLES,xe,a.StencilMode.disabled,G.colorModeForRenderPass(),a.CullFaceMode.backCW,Ne,"skybox",ae.skyboxGeometry.vertexBuffer,ae.skyboxGeometry.indexBuffer,ae.skyboxGeometry.segment)}(b,m,U,M,H):F==="gradient"&&b.renderPass==="sky"&&function(G,ae,xe,Te,ke){const Pe=G.context,Ie=Pe.gl,se=G.transform,Ae=G.useProgram("skyboxGradient");ae.skyboxGeometry||(ae.skyboxGeometry=new v0(Pe)),Pe.activeTexture.set(Ie.TEXTURE0);let Ne=ae.colorRampTexture;Ne||(Ne=ae.colorRampTexture=new a.Texture(Pe,ae.colorRamp,Ie.RGBA)),Ne.bind(Ie.LINEAR,Ie.CLAMP_TO_EDGE);const Oe=((Xe,Je,Qe,ct,ot)=>({u_matrix:Xe,u_color_ramp:0,u_center_direction:Je,u_radius:a.degToRad(Qe),u_opacity:ct,u_temporal_offset:ot}))(se.skyboxMatrix,ae.getCenter(G,!1),ae.paint.get("sky-gradient-radius"),Te,ke);G.prepareDrawProgram(Pe,Ae),Ae.draw(Pe,Ie.TRIANGLES,xe,a.StencilMode.disabled,G.colorModeForRenderPass(),a.CullFaceMode.backCW,Oe,"skyboxGradient",ae.skyboxGeometry.vertexBuffer,ae.skyboxGeometry.indexBuffer,ae.skyboxGeometry.segment)}(b,m,U,M,H)},debug:function(b,d,m){for(let w=0;w<m.length;w++)u7(b,d,m[w])},custom:function(b,d,m,w){const E=b.context,M=m.implementation;if(!b.transform.projection.unsupportedLayers||!b.transform.projection.unsupportedLayers.includes("custom")||b.terrain&&(b.terrain.renderingToTexture||b.renderPass==="offscreen")&&m.isLayerDraped()){if(b.renderPass==="offscreen"){const O=M.prerender;if(O){if(b.setCustomLayerDefaults(),E.setColorMode(b.colorModeForRenderPass()),b.transform.projection.name==="globe"){const F=b.transform.pointMerc;O.call(M,E.gl,b.transform.customLayerMatrix(),b.transform.getProjection(),b.transform.globeToMercatorMatrix(),a.globeToMercatorTransition(b.transform.zoom),[F.x,F.y],b.transform.pixelsPerMeterRatio)}else O.call(M,E.gl,b.transform.customLayerMatrix());E.setDirty(),b.setBaseState()}}else if(b.renderPass==="translucent"){if(b.terrain&&b.terrain.renderingToTexture){const F=M.renderToTile;if(F){const U=w[0].canonical,H=new a.MercatorCoordinate(U.x+w[0].wrap*(1<<U.z),U.y,U.z);E.setDepthMode(a.DepthMode.disabled),E.setStencilMode(a.StencilMode.disabled),E.setColorMode(b.colorModeForRenderPass()),b.setCustomLayerDefaults(),F.call(M,E.gl,H),E.setDirty(),b.setBaseState()}return}b.setCustomLayerDefaults(),E.setColorMode(b.colorModeForRenderPass()),E.setStencilMode(a.StencilMode.disabled);const O=M.renderingMode==="3d"?new a.DepthMode(b.context.gl.LEQUAL,a.DepthMode.ReadWrite,b.depthRangeFor3D):b.depthModeForSublayer(0,a.DepthMode.ReadOnly);if(E.setDepthMode(O),b.transform.projection.name==="globe"){const F=b.transform.pointMerc;M.render(E.gl,b.transform.customLayerMatrix(),b.transform.getProjection(),b.transform.globeToMercatorMatrix(),a.globeToMercatorTransition(b.transform.zoom),[F.x,F.y],b.transform.pixelsPerMeterRatio)}else M.render(E.gl,b.transform.customLayerMatrix());E.setDirty(),b.setBaseState(),E.bindFramebuffer.set(null)}}else a.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class ep{constructor(d,m,w=!1){this.context=new Ft(d,w),this.transform=m,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=a.SourceCache.maxUnderzooming+a.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(d,m){const w=!!d&&!!d.terrain&&this.transform.projection.supportsTerrain;if(!(w||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new e_(this,d));const E=this._terrain;this.transform.elevation=w?E:null,E.update(d,this.transform,m)}_updateFog(d){const m=d.fog;if(!m||this.transform.projection.name==="globe"||m.getOpacity(this.transform.pitch)<1||m.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[w,E]=m.getFovAdjustedRange(this.transform._fov);if(w>E)return void(this.transform.fogCullDistSq=null);const M=w+.78*(E-w);this.transform.fogCullDistSq=M*M}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(d,m){if(this.width=d*a.exported.devicePixelRatio,this.height=m*a.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const w of this.style.order)this.style._layers[w].resize()}setup(){const d=this.context,m=new a.StructArrayLayout2i4;m.emplaceBack(0,0),m.emplaceBack(a.EXTENT,0),m.emplaceBack(0,a.EXTENT),m.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=d.createVertexBuffer(m,a.posAttributes.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);const w=new a.StructArrayLayout2i4;w.emplaceBack(0,0),w.emplaceBack(a.EXTENT,0),w.emplaceBack(0,a.EXTENT),w.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=d.createVertexBuffer(w,a.posAttributes.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);const E=new a.StructArrayLayout2i4;E.emplaceBack(-1,-1),E.emplaceBack(1,-1),E.emplaceBack(-1,1),E.emplaceBack(1,1),this.viewportBuffer=d.createVertexBuffer(E,a.posAttributes.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);const M=new a.StructArrayLayout4i8;M.emplaceBack(0,0,0,0),M.emplaceBack(a.EXTENT,0,a.EXTENT,0),M.emplaceBack(0,a.EXTENT,0,a.EXTENT),M.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.mercatorBoundsBuffer=d.createVertexBuffer(M,a.boundsAttributes.members),this.mercatorBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);const O=new a.StructArrayLayout3ui6;O.emplaceBack(0,1,2),O.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=d.createIndexBuffer(O);const F=new a.StructArrayLayout1ui2;for(const H of[0,1,3,2,0])F.emplaceBack(H);this.debugIndexBuffer=d.createIndexBuffer(F),this.emptyTexture=new a.Texture(d,new a.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),d.gl.RGBA),this.identityMat=a.create();const U=this.context.gl;this.stencilClearMode=new a.StencilMode({func:U.ALWAYS,mask:0},0,255,U.ZERO,U.ZERO,U.ZERO),this.loadTimeStamps.push(a.window.performance.now()),this.atmosphereBuffer=new E6(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(d){return d._makeTileBoundsBuffers(this.context,this.transform.projection),d._tileBoundsBuffer?{tileBoundsBuffer:d._tileBoundsBuffer,tileBoundsIndexBuffer:d._tileBoundsIndexBuffer,tileBoundsSegments:d._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const d=this.context,m=d.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(d,m.TRIANGLES,a.DepthMode.disabled,this.stencilClearMode,a.ColorMode.disabled,a.CullFaceMode.disabled,lf(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(d,m,w){if(!m||this.currentStencilSource===m.id||!d.isTileClipped()||!w||w.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let F=!1;for(const U of w)if(this._tileClippingMaskIDs[U.key]===void 0){F=!0;break}if(!F)return}this.currentStencilSource=m.id;const E=this.context,M=E.gl;this.nextStencilID+w.length>256&&this.clearStencil(),E.setColorMode(a.ColorMode.disabled),E.setDepthMode(a.DepthMode.disabled);const O=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const F of w){const U=m.getTile(F),H=this._tileClippingMaskIDs[F.key]=this.nextStencilID++,{tileBoundsBuffer:G,tileBoundsIndexBuffer:ae,tileBoundsSegments:xe}=this.getTileBoundsBuffers(U);O.draw(E,M.TRIANGLES,a.DepthMode.disabled,new a.StencilMode({func:M.ALWAYS,mask:0},H,255,M.KEEP,M.KEEP,M.REPLACE),a.ColorMode.disabled,a.CullFaceMode.disabled,lf(F.projMatrix),"$clipping",G,ae,xe)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const d=this.nextStencilID++,m=this.context.gl;return new a.StencilMode({func:m.NOTEQUAL,mask:255},d,255,m.KEEP,m.KEEP,m.REPLACE)}stencilModeForClipping(d){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(d);const m=this.context.gl;return new a.StencilMode({func:m.EQUAL,mask:255},this._tileClippingMaskIDs[d.key],0,m.KEEP,m.KEEP,m.REPLACE)}stencilConfigForOverlap(d){const m=this.context.gl,w=d.sort((O,F)=>F.overscaledZ-O.overscaledZ),E=w[w.length-1].overscaledZ,M=w[0].overscaledZ-E+1;if(M>1){this.currentStencilSource=void 0,this.nextStencilID+M>256&&this.clearStencil();const O={};for(let F=0;F<M;F++)O[F+E]=new a.StencilMode({func:m.GEQUAL,mask:255},F+this.nextStencilID,255,m.KEEP,m.KEEP,m.REPLACE);return this.nextStencilID+=M,[O,w]}return[{[E]:a.StencilMode.disabled},w]}colorModeForRenderPass(){const d=this.context.gl;return this._showOverdrawInspector?new a.ColorMode([d.CONSTANT_COLOR,d.ONE],new a.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?a.ColorMode.unblended:a.ColorMode.alphaBlended}depthModeForSublayer(d,m,w){if(!this.opaquePassEnabledForLayer())return a.DepthMode.disabled;const E=1-((1+this.currentLayer)*this.numSublayers+d)*this.depthEpsilon;return new a.DepthMode(w||this.context.gl.LEQUAL,m,[E,E])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(d,m){this.style=d,this.options=m,this.imageManager=d.imageManager,this.glyphManager=d.glyphManager,this.symbolFadeChange=d.placement.symbolFadeChange(a.exported.now()),this.imageManager.beginFrame();const w=this.style.order,E=this.style._sourceCaches;for(const H in E){const G=E[H];G.used&&G.prepare(this.context)}const M={},O={},F={};for(const H in E){const G=E[H];M[H]=G.getVisibleCoordinates(),O[H]=M[H].slice().reverse(),F[H]=G.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let H=0;H<w.length;H++)if(this.style._layers[w[H]].is3D()){this.opaquePassCutoff=H;break}if(this.terrain&&(this.terrain.updateTileBinding(F),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new a.GlobeSharedBuffers(this.context)),!a.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const H of w){const G=this.style._layers[H],ae=d._getLayerSourceCache(G);if(!G.hasOffscreenPass()||G.isHidden(this.transform.zoom))continue;const xe=ae?O[ae.id]:void 0;(G.type==="custom"||G.isSky()||xe&&xe.length)&&this.renderLayer(this,ae,G,xe)}this.depthRangeFor3D=[0,1-(d.order.length+2)*this.numSublayers*this.depthEpsilon];const U=this.terrain;if(U&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&U.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:m.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=m.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=w.length-1;this.currentLayer>=0;this.currentLayer--){const H=this.style._layers[w[this.currentLayer]],G=d._getLayerSourceCache(H);if(H.isSky())continue;const ae=G?O[G.id]:void 0;this._renderTileClippingMasks(H,G,ae),this.renderLayer(this,G,H,ae)}if(this.style.fog&&this.transform.projection.supportsFog&&function(H,G){const ae=H.context,xe=ae.gl,Te=H.transform,ke=new a.DepthMode(xe.LEQUAL,a.DepthMode.ReadOnly,[0,1]),Pe=H.useProgram("globeAtmosphere",null,Te.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),Ie=a.globeToMercatorTransition(Te.zoom),se=G.properties.get("color").toArray01(),Ae=G.properties.get("high-color").toArray01(),Ne=G.properties.get("space-color").toArray01PremultipliedAlpha(),Oe=a.identity$1([]);a.rotateY$1(Oe,Oe,-a.degToRad(Te._center.lng)),a.rotateX$1(Oe,Oe,a.degToRad(Te._center.lat)),a.rotateZ$1(Oe,Oe,Te.angle),a.rotateX$1(Oe,Oe,-Te._pitch);const Xe=a.fromQuat(new Float32Array(16),Oe),Je=a.mapValue(G.properties.get("star-intensity"),0,1,0,.25),Qe=5e-4,ct=a.mapValue(G.properties.get("horizon-blend"),0,1,Qe,.25),ot=a.globeUseCustomAntiAliasing(H,ae,Te)&&ct===Qe?Te.worldSize/(2*Math.PI*1.025)-1:Te.globeRadius,vt=H.frameCounter/1e3%1,Ut=a.length(Te.globeCenterInViewSpace),ht=Math.sqrt(Math.pow(Ut,2)-Math.pow(ot,2)),Rt=Math.acos(ht/Ut),xt=((yt,Dt,$t,Bt,Kt,vr,Or,lr,Tr,cn,rn,gr,Dn,Rn)=>({u_frustum_tl:yt,u_frustum_tr:Dt,u_frustum_br:$t,u_frustum_bl:Bt,u_horizon:Kt,u_transition:vr,u_fadeout_range:Or,u_color:lr,u_high_color:Tr,u_space_color:cn,u_star_intensity:rn,u_star_size:5*a.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:gr,u_horizon_angle:Dn,u_rotation_matrix:Rn}))(Te.frustumCorners.TL,Te.frustumCorners.TR,Te.frustumCorners.BR,Te.frustumCorners.BL,Te.frustumCorners.horizon,Ie,ct,se,Ae,Ne,Je,vt,Rt,Xe);H.prepareDrawProgram(ae,Pe);const Vt=H.atmosphereBuffer;Vt&&Pe.draw(ae,xe.TRIANGLES,ke,a.StencilMode.disabled,a.ColorMode.alphaBlended,a.CullFaceMode.backCW,xt,"skybox",Vt.vertexBuffer,Vt.indexBuffer,Vt.segments)}(this,this.style.fog),this.renderPass="sky",(a.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<w.length;this.currentLayer++){const H=this.style._layers[w[this.currentLayer]],G=d._getLayerSourceCache(H);H.isSky()&&this.renderLayer(this,G,H,G?O[G.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<w.length;){const H=this.style._layers[w[this.currentLayer]],G=d._getLayerSourceCache(H);if(H.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(H)){if(H.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const ae=G?(H.type==="symbol"?F:O)[G.id]:void 0;this._renderTileClippingMasks(H,G,G?M[G.id]:void 0),this.renderLayer(this,G,H,ae),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let H=null;a.values(this.style._layers).forEach(G=>{const ae=d._getLayerSourceCache(G);ae&&!G.isHidden(this.transform.zoom)&&(!H||H.getSource().maxzoom<ae.getSource().maxzoom)&&(H=ae)}),H&&this.options.showTileBoundaries&&ku.debug(this,H,H.getVisibleCoordinates())}this.options.showPadding&&function(H){const G=H.transform.padding;x6(H,H.transform.height-(G.top||0),3,Qd),x6(H,G.bottom||0,3,o7),y0(H,G.left||0,3,s7),y0(H,H.transform.width-(G.right||0),3,l7);const ae=H.transform.centerPoint;(function(xe,Te,ke,Pe){Jd(xe,Te-1,ke-10,2,20,Pe),Jd(xe,Te-10,ke-1,20,2,Pe)})(H,ae.x,H.transform.height-ae.y,c7)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(a.window.performance.now()),this.saveCanvasCopy())}renderLayer(d,m,w,E){w.isHidden(this.transform.zoom)||(w.type==="background"||w.type==="sky"||w.type==="custom"||E&&E.length)&&(this.id=w.id,this.gpuTimingStart(w),(!d.transform.projection.unsupportedLayers||!d.transform.projection.unsupportedLayers.includes(w.type)||d.terrain&&w.type==="custom")&&ku[w.type](d,m,w,E,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(d){if(!this.options.gpuTiming)return;const m=this.context.extTimerQuery;let w=this.gpuTimers[d.id];w||(w=this.gpuTimers[d.id]={calls:0,cpuTime:0,query:m.createQueryEXT()}),w.calls++,m.beginQueryEXT(m.TIME_ELAPSED_EXT,w.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const d=this.context.extTimerQuery,m=d.createQueryEXT();this.deferredRenderGpuTimeQueries.push(m),d.beginQueryEXT(d.TIME_ELAPSED_EXT,m)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const d=this.context.extTimerQuery;d.endQueryEXT(d.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const d=this.context.extTimerQuery;d.endQueryEXT(d.TIME_ELAPSED_EXT)}collectGpuTimers(){const d=this.gpuTimers;return this.gpuTimers={},d}collectDeferredRenderGpuQueries(){const d=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],d}queryGpuTimers(d){const m={};for(const w in d){const E=d[w],M=this.context.extTimerQuery,O=M.getQueryObjectEXT(E.query,M.QUERY_RESULT_EXT)/1e6;M.deleteQueryEXT(E.query),m[w]=O}return m}queryGpuTimeDeferredRender(d){if(!this.options.gpuTimingDeferredRender)return 0;const m=this.context.extTimerQuery;let w=0;for(const E of d)w+=m.getQueryObjectEXT(E,m.QUERY_RESULT_EXT)/1e6,m.deleteQueryEXT(E);return w}translatePosMatrix(d,m,w,E,M){if(!w[0]&&!w[1])return d;const O=M?E==="map"?this.transform.angle:0:E==="viewport"?-this.transform.angle:0;if(O){const H=Math.sin(O),G=Math.cos(O);w=[w[0]*G-w[1]*H,w[0]*H+w[1]*G]}const F=[M?w[0]:fe(m,w[0],this.transform.zoom),M?w[1]:fe(m,w[1],this.transform.zoom),0],U=new Float32Array(16);return a.translate(U,d,F),U}saveTileTexture(d){const m=this._tileTextures[d.size[0]];m?m.push(d):this._tileTextures[d.size[0]]=[d]}getTileTexture(d){const m=this._tileTextures[d];return m&&m.length>0?m.pop():null}isPatternMissing(d){return d===null||d!==void 0&&!this.imageManager.getPattern(d.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const d=this.terrain&&this.terrain.renderingToTexture,m=this.terrain&&this.terrain.exaggeration()===0,w=this.style&&this.style.fog,E=[];return this.terrainRenderModeElevated()&&E.push("TERRAIN"),this.transform.projection.name==="globe"&&E.push("GLOBE"),m&&E.push("ZERO_EXAGGERATION"),w&&!d&&w.getOpacity(this.transform.pitch)!==0&&E.push("FOG"),d&&E.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&E.push("OVERDRAW_INSPECTOR"),E}useProgram(d,m,w){this.cache=this.cache||{};const E=w||[],M=this.currentGlobalDefines().concat(E),O=gn.cacheKey(H2[d],d,M,m);return this.cache[O]||(this.cache[O]=new gn(this.context,d,H2[d],m,u_[d],M)),this.cache[O]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const d=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(d.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(d,m,w){if(this.terrain&&this.terrain.renderingToTexture)return;const E=this.style.fog;if(E){const M=E.getOpacity(this.transform.pitch),O=((F,U,H,G,ae,xe,Te,ke,Pe,Ie,se)=>{const Ae=F.transform,Ne=U.properties.get("color").toArray01();Ne[3]=G;const Oe=F.frameCounter/1e3%1;return{u_fog_matrix:H?Ae.calculateFogTileMatrix(H):F.identityMat,u_fog_range:U.getFovAdjustedRange(Ae._fov),u_fog_color:Ne,u_fog_horizon_blend:U.properties.get("horizon-blend"),u_fog_temporal_offset:Oe,u_frustum_tl:ae,u_frustum_tr:xe,u_frustum_br:Te,u_frustum_bl:ke,u_globe_pos:Pe,u_globe_radius:Ie,u_viewport:se,u_globe_transition:a.globeToMercatorTransition(Ae.zoom),u_is_globe:+(Ae.projection.name==="globe")}})(this,E,w,M,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*a.exported.devicePixelRatio,this.transform.height*a.exported.devicePixelRatio]);m.setFogUniformValues(d,O)}}setTileLoadedFlag(d){this.tileLoaded=d}saveCanvasCopy(){const d=this.canvasCopy();d&&(this.frameCopies.push(d),this.tileLoaded=!1)}canvasCopy(){const d=this.context.gl,m=d.createTexture();return d.bindTexture(d.TEXTURE_2D,m),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGBA,0,0,d.drawingBufferWidth,d.drawingBufferHeight,0),m}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const d=this.style&&this.style.fog;return!!d&&d.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const d=this._backgroundTiles,m=this._backgroundTiles={},w=this.transform.coveringTiles({tileSize:512});for(const E of w)m[E.key]=d[E.key]||new a.Tile(E,512,this.transform.tileZoom,this);return m}clearBackgroundTiles(){this._backgroundTiles={}}}class _0{constructor(d=0,m=0,w=0,E=0){if(isNaN(d)||d<0||isNaN(m)||m<0||isNaN(w)||w<0||isNaN(E)||E<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=d,this.bottom=m,this.left=w,this.right=E}interpolate(d,m,w){return m.top!=null&&d.top!=null&&(this.top=a.number(d.top,m.top,w)),m.bottom!=null&&d.bottom!=null&&(this.bottom=a.number(d.bottom,m.bottom,w)),m.left!=null&&d.left!=null&&(this.left=a.number(d.left,m.left,w)),m.right!=null&&d.right!=null&&(this.right=a.number(d.right,m.right,w)),this}getCenter(d,m){const w=a.clamp((this.left+d-this.right)/2,0,d),E=a.clamp((this.top+m-this.bottom)/2,0,m);return new a.Point(w,E)}equals(d){return this.top===d.top&&this.bottom===d.bottom&&this.left===d.left&&this.right===d.right}clone(){return new _0(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function b0(b,d){const m=a.getColumn(b,3);a.fromQuat(b,d),a.setColumn(b,3,m)}function xn(b,d){const m=a.identity$1([]);return a.rotateZ$1(m,m,-d),a.rotateX$1(m,m,-b),m}function mf(b,d){const m=[b[0],b[1],0],w=[d[0],d[1],0];if(a.length(m)>=1e-15){const O=a.normalize([],m);a.scale$2(w,O,a.dot(w,O)),d[0]=w[0],d[1]=w[1]}const E=a.cross([],d,b);if(a.len(E)<1e-15)return null;const M=Math.atan2(-E[1],E[0]);return xn(Math.atan2(Math.sqrt(b[0]*b[0]+b[1]*b[1]),-b[2]),M)}class A6{constructor(d,m){this.position=d,this.orientation=m}get position(){return this._position}set position(d){if(d){const m=d instanceof a.MercatorCoordinate?d:new a.MercatorCoordinate(d[0],d[1],d[2]);this._renderWorldCopies&&(m.x=a.wrap(m.x,0,1)),this._position=m}else this._position=null}lookAtPoint(d,m){if(this.orientation=null,!this.position)return;const w=this.position,E=this._elevation?this._elevation.getAtPointOrZero(a.MercatorCoordinate.fromLngLat(d)):0,M=a.MercatorCoordinate.fromLngLat(d,E),O=[M.x-w.x,M.y-w.y,M.z-w.z];m||(m=[0,0,1]),m[2]=Math.abs(m[2]),this.orientation=mf(O,m)}setPitchBearing(d,m){this.orientation=xn(a.degToRad(d),a.degToRad(-m))}}class x0{constructor(d,m){this._transform=a.identity([]),this.orientation=m,this.position=d}get mercatorPosition(){const d=this.position;return new a.MercatorCoordinate(d[0],d[1],d[2])}get position(){const d=a.getColumn(this._transform,3);return[d[0],d[1],d[2]]}set position(d){var m;d&&a.setColumn(this._transform,3,[(m=d)[0],m[1],m[2],1])}get orientation(){return this._orientation}set orientation(d){this._orientation=d||a.identity$1([]),d&&b0(this._transform,this._orientation)}getPitchBearing(){const d=this.forward(),m=this.right();return{bearing:Math.atan2(-m[1],m[0]),pitch:Math.atan2(Math.sqrt(d[0]*d[0]+d[1]*d[1]),-d[2])}}setPitchBearing(d,m){this._orientation=xn(d,m),b0(this._transform,this._orientation)}forward(){const d=a.getColumn(this._transform,2);return[-d[0],-d[1],-d[2]]}up(){const d=a.getColumn(this._transform,1);return[-d[0],-d[1],-d[2]]}right(){const d=a.getColumn(this._transform,0);return[d[0],d[1],d[2]]}getCameraToWorld(d,m){const w=new Float64Array(16);return a.invert(w,this.getWorldToCamera(d,m)),w}getWorldToCameraPosition(d,m,w){const E=this.position;a.scale$2(E,E,-d);const M=new Float64Array(16);return a.fromScaling(M,[w,w,w]),a.translate(M,M,E),M[10]*=m,M}getWorldToCamera(d,m){const w=new Float64Array(16),E=new Float64Array(4),M=this.position;return a.conjugate(E,this._orientation),a.scale$2(M,M,-d),a.fromQuat(w,E),a.translate(w,w,M),w[1]*=-1,w[5]*=-1,w[9]*=-1,w[13]*=-1,w[8]*=m,w[9]*=m,w[10]*=m,w[11]*=m,w}getCameraToClipPerspective(d,m,w,E){const M=new Float64Array(16);return a.perspective(M,d,m,w,E),M}getDistanceToElevation(d,m=!1){const w=d===0?0:a.mercatorZfromAltitude(d,m?a.latFromMercatorY(this.position[1]):this.position[1]),E=this.forward();return(w-this.position[2])/E[2]}clone(){return new x0([...this.position],[...this.orientation])}}function tp(b,d){const m=w0(b.projection,b.zoom,b.width,b.height),w=function(M,O,F,U,H){const G=new a.LngLat(F.lng-180*Wl,F.lat),ae=new a.LngLat(F.lng+180*Wl,F.lat),xe=M.project(G.lng,G.lat),Te=M.project(ae.lng,ae.lat),ke=-Math.atan2(Te.y-xe.y,Te.x-xe.x),Pe=a.MercatorCoordinate.fromLngLat(F);Pe.y=a.clamp(Pe.y,-1+Wl,1-Wl);const Ie=Pe.toLngLat(),se=M.project(Ie.lng,Ie.lat),Ae=a.MercatorCoordinate.fromLngLat(Ie);Ae.x+=Wl;const Ne=Ae.toLngLat(),Oe=M.project(Ne.lng,Ne.lat),Xe=S0(Oe.x-se.x,Oe.y-se.y,ke),Je=a.MercatorCoordinate.fromLngLat(Ie);Je.y+=Wl;const Qe=Je.toLngLat(),ct=M.project(Qe.lng,Qe.lat),ot=S0(ct.x-se.x,ct.y-se.y,ke),vt=Math.abs(Xe.x)/Math.abs(ot.y),Ut=a.identity([]);a.rotateZ(Ut,Ut,-ke*(1-(H?0:U)));const ht=a.identity([]);return a.scale(ht,ht,[1,1-(1-vt)*U,1]),ht[4]=-ot.x/ot.y*U,a.rotateZ(ht,ht,ke),a.multiply(ht,Ut,ht),ht}(b.projection,0,b.center,m,d),E=T6(b);return a.scale(w,w,[E,E,1]),w}function T6(b){const d=b.projection,m=w0(b.projection,b.zoom,b.width,b.height),w=M6(d,b.center),E=M6(d,a.LngLat.convert(d.center));return Math.pow(2,w*m+(1-m)*E)}function w0(b,d,m,w,E=1/0){const M=b.range;if(!M)return 0;const O=Math.min(E,Math.max(m,w)),F=Math.log(O/1024)/Math.LN2;return a.smoothstep(M[0]+F,M[1]+F,d)}const Wl=1/4e4;function M6(b,d){const m=a.clamp(d.lat,-a.MAX_MERCATOR_LATITUDE,a.MAX_MERCATOR_LATITUDE),w=new a.LngLat(d.lng-180*Wl,m),E=new a.LngLat(d.lng+180*Wl,m),M=b.project(w.lng,m),O=b.project(E.lng,m),F=a.MercatorCoordinate.fromLngLat(w),U=a.MercatorCoordinate.fromLngLat(E),H=O.x-M.x,G=O.y-M.y,ae=U.x-F.x,xe=U.y-F.y,Te=Math.sqrt((ae*ae+xe*xe)/(H*H+G*G));return Math.log(Te)/Math.LN2}function S0(b,d,m){const w=Math.cos(m),E=Math.sin(m);return{x:b*w-d*E,y:b*E+d*w}}class rp{constructor(d,m,w,E,M,O,F){this.tileSize=512,this._renderWorldCopies=M===void 0||M,this._minZoom=d||0,this._maxZoom=m||22,this._minPitch=w??0,this._maxPitch=E??60,this.setProjection(O),this.setMaxBounds(F),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new _0,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new x0,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const d=new rp(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return d._elevation=this._elevation,d._centerAltitude=this._centerAltitude,d._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,d.tileSize=this.tileSize,d.mercatorFromTransition=this.mercatorFromTransition,d.width=this.width,d.height=this.height,d.cameraElevationReference=this.cameraElevationReference,d._center=this._center,d._setZoom(this.zoom),d._seaLevelZoom=this._seaLevelZoom,d.angle=this.angle,d._fov=this._fov,d._pitch=this._pitch,d._nearZ=this._nearZ,d._farZ=this._farZ,d._averageElevation=this._averageElevation,d._unmodified=this._unmodified,d._edgeInsets=this._edgeInsets.clone(),d._camera=this._camera.clone(),d._calcMatrices(),d.freezeTileCoverage=this.freezeTileCoverage,d.frustumCorners=this.frustumCorners,d}get elevation(){return this._elevation}set elevation(d){this._elevation!==d&&(this._elevation=d,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(d,m=!1){const w=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||w)&&this._updateCameraOnTerrain(),(d||w)&&this._constrainCamera(m),this._calcMatrices()}getProjection(){return a.pick(this.projection,["name","center","parallels"])}setProjection(d){this.projectionOptions=d||{name:"mercator"};const m=this.projection?this.getProjection():void 0;this.projection=a.getProjection(this.projectionOptions);const w=!p(m,this.getProjection());return w&&this._calcMatrices(),this.mercatorFromTransition=!1,w}setMercatorFromTransition(){const d=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=a.getProjection({name:"mercator"});const m=d!==this.projection.name;return m&&this._calcMatrices(),m}get minZoom(){return this._minZoom}set minZoom(d){this._minZoom!==d&&(this._minZoom=d,this.zoom=Math.max(this.zoom,d))}get maxZoom(){return this._maxZoom}set maxZoom(d){this._maxZoom!==d&&(this._maxZoom=d,this.zoom=Math.min(this.zoom,d))}get minPitch(){return this._minPitch}set minPitch(d){this._minPitch!==d&&(this._minPitch=d,this.pitch=Math.max(this.pitch,d))}get maxPitch(){return this._maxPitch}set maxPitch(d){this._maxPitch!==d&&(this._maxPitch=d,this.pitch=Math.min(this.pitch,d))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(d){d===void 0?d=!0:d===null&&(d=!1),this._renderWorldCopies=d}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const d=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(d))}get cameraWorldSize(){const d=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(d))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return a.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.Point(this.width,this.height)}get bearing(){return a.wrap(this.rotation,-180,180)}set bearing(d){this.rotation=d}get rotation(){return-this.angle/Math.PI*180}set rotation(d){const m=-d*Math.PI/180;var w;this.angle!==m&&(this._unmodified=!1,this.angle=m,this._calcMatrices(),this.rotationMatrix=(w=new a.ARRAY_TYPE(4),a.ARRAY_TYPE!=Float32Array&&(w[1]=0,w[2]=0),w[0]=1,w[3]=1,w),function(E,M,O){var F=M[0],U=M[1],H=M[2],G=M[3],ae=Math.sin(O),xe=Math.cos(O);E[0]=F*xe+H*ae,E[1]=U*xe+G*ae,E[2]=F*-ae+H*xe,E[3]=U*-ae+G*xe}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(d){const m=a.clamp(d,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==m&&(this._unmodified=!1,this._pitch=m,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const d=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/d)}set fov(d){d=Math.max(.01,Math.min(60,d)),this._fov!==d&&(this._unmodified=!1,this._fov=a.degToRad(d),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(d){this._averageElevation=d,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(d){const m=Math.min(Math.max(d,this.minZoom),this.maxZoom);this._zoom!==m&&(this._unmodified=!1,this._setZoom(m),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(d){this._zoom=d,this.scale=this.zoomScale(d),this.tileZoom=Math.floor(d),this.zoomFraction=d-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const d=this._elevation;this._centerAltitude=d.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=d.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const d=this._elevation,m=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],w=this.horizonLineFromTop();let E=0,M=0;for(let O=0;O<m.length;O++){const F=new a.Point(m[O][0]*this.width,w+m[O][1]*(this.height-w)),U=d.pointCoordinate(F);if(!U)continue;const H=1/Math.hypot(U[0]-this._camera.position[0],U[1]-this._camera.position[1]);E+=U[3]*H,M+=H}return M===0?NaN:E/M}get center(){return this._center}set center(d){d.lat===this._center.lat&&d.lng===this._center.lng||(this._unmodified=!1,this._center=d,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const d=this._seaLevelZoom,m=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),w=this.pixelsPerMeter/this.worldSize*m,E=this._mercatorZfromZoom(d),M=this._mercatorZfromZoom(this._maxZoom),O=Math.max(E-w,M);this._setZoom(this._zoomFromMercatorZ(O))}get padding(){return this._edgeInsets.toJSON()}set padding(d){this._edgeInsets.equals(d)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,d,1),this._calcMatrices())}computeZoomRelativeTo(d){const m=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,d.toAltitude()));let w;w=d.z<this._camera.position[2]?[m.x,m.y,m.z]:[d.x,d.y,d.z];const E=a.length(a.sub([],this._camera.position,w));return a.clamp(this._zoomFromMercatorZ(E),this._minZoom,this._maxZoom)}setFreeCameraOptions(d){if(!this.height||!d.position&&!d.orientation)return;this._updateCameraState();let m=!1;if(d.orientation&&!a.exactEquals(d.orientation,this._camera.orientation)&&(m=this._setCameraOrientation(d.orientation)),d.position){const w=[d.position.x,d.position.y,d.position.z];a.exactEquals$1(w,this._camera.position)||(this._setCameraPosition(w),m=!0)}m&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const d=this._camera.position,m=new A6;return m.position=new a.MercatorCoordinate(d[0],d[1],d[2]),m.orientation=this._camera.orientation,m._elevation=this.elevation,m._renderWorldCopies=this.renderWorldCopies,m}_setCameraOrientation(d){if(!a.length$1(d))return!1;a.normalize$1(d,d);const m=a.transformQuat([],[0,0,-1],d),w=a.transformQuat([],[0,-1,0],d);if(w[2]<0)return!1;const E=mf(m,w);return!!E&&(this._camera.orientation=E,!0)}_setCameraPosition(d){const m=this.zoomScale(this.minZoom)*this.tileSize,w=this.zoomScale(this.maxZoom)*this.tileSize,E=this.cameraToCenterDistance;d[2]=a.clamp(d[2],E/w,E/m),this._camera.position=d}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(d){return this._edgeInsets.equals(d)}interpolatePadding(d,m,w){this._unmodified=!1,this._edgeInsets.interpolate(d,m,w),this._constrain(),this._calcMatrices()}coveringZoomLevel(d){const m=(d.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/d.tileSize));return Math.max(0,m)}getVisibleUnwrappedCoordinates(d){const m=[new a.UnwrappedTileID(0,d)];if(this.renderWorldCopies){const w=this.pointCoordinate(new a.Point(0,0)),E=this.pointCoordinate(new a.Point(this.width,0)),M=this.pointCoordinate(new a.Point(this.width,this.height)),O=this.pointCoordinate(new a.Point(0,this.height)),F=Math.floor(Math.min(w.x,E.x,M.x,O.x)),U=Math.floor(Math.max(w.x,E.x,M.x,O.x)),H=1;for(let G=F-H;G<=U+H;G++)G!==0&&m.push(new a.UnwrappedTileID(G,d))}return m}coveringTiles(d){let m=this.coveringZoomLevel(d);const w=m,E=this.elevation&&!d.isTerrainDEM,M=this.projection.name==="mercator";if(d.minzoom!==void 0&&m<d.minzoom)return[];d.maxzoom!==void 0&&m>d.maxzoom&&(m=d.maxzoom);const O=this.locationCoordinate(this.center),F=this.center.lat,U=1<<m,H=[U*O.x,U*O.y,0],G=this.projection.name==="globe",ae=!G,xe=a.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,m,ae),Te=G?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),ke=U*a.mercatorZfromAltitude(1,this.center.lat),Pe=this._camera.position[2]/a.mercatorZfromAltitude(1,this.center.lat),Ie=[U*Te.x,U*Te.y,Pe*(ae?1:ke)],se=this.cameraToCenterDistance/d.tileSize*(d.roundZoom?1:.502),Ae=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?m:0,Ne=d.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Oe=d.isTerrainDEM?-Ne:this._elevation?this._elevation.getMinElevationBelowMSL():0,Xe=this.projection.isReprojectedInTileSpace?T6(this):1,Je=yt=>{const $t=new a.MercatorCoordinate(yt.x+25e-6,yt.y,yt.z),Bt=new a.MercatorCoordinate(yt.x,yt.y+25e-6,yt.z),Kt=yt.toLngLat(),vr=$t.toLngLat(),Or=Bt.toLngLat(),lr=this.locationCoordinate(Kt),Tr=this.locationCoordinate(vr),cn=this.locationCoordinate(Or),rn=Math.hypot(Tr.x-lr.x,Tr.y-lr.y),gr=Math.hypot(cn.x-lr.x,cn.y-lr.y);return Math.sqrt(rn*gr)*Xe/25e-6},Qe=yt=>{const Dt=Ne,$t=Oe;return{aabb:a.tileAABB(this,U,0,0,0,yt,$t,Dt,this.projection),zoom:0,x:0,y:0,minZ:$t,maxZ:Dt,wrap:yt,fullyVisible:!1}},ct=[];let ot=[];const vt=m,Ut=d.reparseOverscaled?w:m,ht=yt=>yt*yt,Rt=ht((Pe-this._centerAltitude)*ke),xt=yt=>{if(!this._elevation||!yt.tileID||!M)return;const Dt=this._elevation.getMinMaxForTile(yt.tileID),$t=yt.aabb;Dt?($t.min[2]=Dt.min,$t.max[2]=Dt.max,$t.center[2]=($t.min[2]+$t.max[2])/2):(yt.shouldSplit=Vt(yt),yt.shouldSplit||($t.min[2]=$t.max[2]=$t.center[2]=this._centerAltitude))},Vt=yt=>{if(yt.zoom<Ae)return!0;if(yt.zoom===vt)return!1;if(yt.shouldSplit!=null)return yt.shouldSplit;const Dt=yt.aabb.distanceX(Ie),$t=yt.aabb.distanceY(Ie);let Bt=Rt,Kt=1;if(G){Bt=ht(yt.aabb.distanceZ(Ie));const lr=Math.pow(2,yt.zoom),Tr=a.latFromMercatorY((yt.y+1)/lr),cn=a.latFromMercatorY(yt.y/lr),rn=Math.min(Math.max(F,Tr),cn),gr=a.circumferenceAtLatitude(rn)/a.circumferenceAtLatitude(F);if(Kt=rn===F?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,gr/this._mercatorScaleRatio),this.zoom<=a.GLOBE_ZOOM_THRESHOLD_MIN&&yt.zoom===vt-1&&gr>=.9)return!0}else if(E&&(Bt=ht(yt.aabb.distanceZ(Ie)*ke)),this.projection.isReprojectedInTileSpace&&w<=5){const lr=Math.pow(2,yt.zoom),Tr=Je(new a.MercatorCoordinate((yt.x+.5)/lr,(yt.y+.5)/lr));Kt=Tr>.85?1:Tr}const vr=Dt*Dt+$t*$t+Bt,Or=ht((1<<vt-yt.zoom)*se*Kt*((lr,Tr)=>{if(Tr*ht(.707)<lr)return 1;const cn=Math.sqrt(Tr/lr);return cn/(1.4144271570014144+(Math.pow(1.1,cn-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Bt,Rt),vr));return vr<Or};if(this.renderWorldCopies)for(let yt=1;yt<=3;yt++)ct.push(Qe(-yt)),ct.push(Qe(yt));for(ct.push(Qe(0));ct.length>0;){const yt=ct.pop(),Dt=yt.x,$t=yt.y;let Bt=yt.fullyVisible;if(!Bt){const Kt=yt.aabb.intersects(xe);if(Kt===0)continue;Bt=Kt===2}if(yt.zoom!==vt&&Vt(yt))for(let Kt=0;Kt<4;Kt++){const vr=(Dt<<1)+Kt%2,Or=($t<<1)+(Kt>>1),lr={aabb:M?yt.aabb.quadrant(Kt):a.tileAABB(this,U,yt.zoom+1,vr,Or,yt.wrap,yt.minZ,yt.maxZ,this.projection),zoom:yt.zoom+1,x:vr,y:Or,wrap:yt.wrap,fullyVisible:Bt,tileID:void 0,shouldSplit:void 0,minZ:yt.minZ,maxZ:yt.maxZ};E&&!G&&(lr.tileID=new a.OverscaledTileID(yt.zoom+1===vt?Ut:yt.zoom+1,yt.wrap,yt.zoom+1,vr,Or),xt(lr)),ct.push(lr)}else{const Kt=yt.zoom===vt?Ut:yt.zoom;if(d.minzoom&&d.minzoom>Kt)continue;const vr=H[0]-(.5+Dt+(yt.wrap<<yt.zoom))*(1<<m-yt.zoom),Or=H[1]-.5-$t,lr=yt.tileID?yt.tileID:new a.OverscaledTileID(Kt,yt.wrap,yt.zoom,Dt,$t);ot.push({tileID:lr,distanceSq:vr*vr+Or*Or})}}if(this.fogCullDistSq){const yt=this.fogCullDistSq,Dt=this.horizonLineFromTop();ot=ot.filter($t=>{const Bt=[0,0,0,1],Kt=[a.EXTENT,a.EXTENT,0,1],vr=this.calculateFogTileMatrix($t.tileID.toUnwrapped());a.transformMat4$1(Bt,Bt,vr),a.transformMat4$1(Kt,Kt,vr);const Or=a.getAABBPointSquareDist(Bt,Kt);if(Or===0)return!0;let lr=!1;const Tr=this._elevation;if(Tr&&Or>yt&&Dt!==0){const cn=this.calculateProjMatrix($t.tileID.toUnwrapped());let rn;d.isTerrainDEM||(rn=Tr.getMinMaxForTile($t.tileID)),rn||(rn={min:Oe,max:Ne});const gr=a.furthestTileCorner(this.rotation),Dn=[gr[0]*a.EXTENT,gr[1]*a.EXTENT,rn.max];a.transformMat4(Dn,Dn,cn),lr=(1-Dn[1])*this.height*.5<Dt}return Or<yt||lr})}return ot.sort((yt,Dt)=>yt.distanceSq-Dt.distanceSq).map(yt=>yt.tileID)}resize(d,m){this.width=d,this.height=m,this.pixelsToGLUnits=[2/d,-2/m],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(d){return Math.pow(2,d)}scaleZoom(d){return Math.log(d)/Math.LN2}project(d){const m=a.clamp(d.lat,-a.MAX_MERCATOR_LATITUDE,a.MAX_MERCATOR_LATITUDE),w=this.projection.project(d.lng,m);return new a.Point(w.x*this.worldSize,w.y*this.worldSize)}unproject(d){return this.projection.unproject(d.x/this.worldSize,d.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/a.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(d,m){let w,E;const M=this.centerPoint;if(this.projection.name==="globe"){const F=this.worldSize;w=(m.x-M.x)/F,E=(m.y-M.y)/F}else{const F=this.pointCoordinate(m),U=this.pointCoordinate(M);w=F.x-U.x,E=F.y-U.y}const O=this.locationCoordinate(d);this.setLocation(new a.MercatorCoordinate(O.x-w,O.y-E))}setLocation(d){this.center=this.coordinateLocation(d),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(d){return this.projection.locationPoint(this,d)}locationPoint3D(d){return this.projection.locationPoint(this,d,!0)}pointLocation(d){return this.coordinateLocation(this.pointCoordinate(d))}pointLocation3D(d){return this.coordinateLocation(this.pointCoordinate3D(d))}locationCoordinate(d,m){const w=m?a.mercatorZfromAltitude(m,d.lat):void 0,E=this.projection.project(d.lng,d.lat);return new a.MercatorCoordinate(E.x,E.y,w)}coordinateLocation(d){return this.projection.unproject(d.x,d.y)}pointRayIntersection(d,m){const w=m??this._centerAltitude,E=[d.x,d.y,0,1],M=[d.x,d.y,1,1];a.transformMat4$1(E,E,this.pixelMatrixInverse),a.transformMat4$1(M,M,this.pixelMatrixInverse);const O=M[3];a.scale$1(E,E,1/E[3]),a.scale$1(M,M,1/O);const F=E[2],U=M[2];return{p0:E,p1:M,t:F===U?0:(w-F)/(U-F)}}screenPointToMercatorRay(d){const m=[d.x,d.y,0,1],w=[d.x,d.y,1,1];return a.transformMat4$1(m,m,this.pixelMatrixInverse),a.transformMat4$1(w,w,this.pixelMatrixInverse),a.scale$1(m,m,1/m[3]),a.scale$1(w,w,1/w[3]),m[2]=a.mercatorZfromAltitude(m[2],this._center.lat)*this.worldSize,w[2]=a.mercatorZfromAltitude(w[2],this._center.lat)*this.worldSize,a.scale$1(m,m,1/this.worldSize),a.scale$1(w,w,1/this.worldSize),new a.Ray([m[0],m[1],m[2]],a.normalize([],a.sub([],w,m)))}rayIntersectionCoordinate(d){const{p0:m,p1:w,t:E}=d,M=a.mercatorZfromAltitude(m[2],this._center.lat),O=a.mercatorZfromAltitude(w[2],this._center.lat);return new a.MercatorCoordinate(a.number(m[0],w[0],E)/this.worldSize,a.number(m[1],w[1],E)/this.worldSize,a.number(M,O,E))}pointCoordinate(d,m=this._centerAltitude){return this.projection.pointCoordinate(this,d.x,d.y,m)}pointCoordinate3D(d){if(!this.elevation)return this.pointCoordinate(d);let m=this.projection.pointCoordinate3D(this,d.x,d.y);if(m)return new a.MercatorCoordinate(m[0],m[1],m[2]);let w=0,E=this.horizonLineFromTop();if(d.y>E)return this.pointCoordinate(d);const M=.02*E,O=d.clone();for(let F=0;F<10&&E-w>M;F++){O.y=a.number(w,E,.66);const U=this.projection.pointCoordinate3D(this,O.x,O.y);U?(E=O.y,m=U):w=O.y}return m?new a.MercatorCoordinate(m[0],m[1],m[2]):this.pointCoordinate(d)}isPointAboveHorizon(d){return this.projection.isPointAboveHorizon(this,d)}isPointOnSurface(d){if(d.y<0||d.y>this.height||d.x<0||d.x>this.width)return!1;if(this.elevation||this.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX)return!this.isPointAboveHorizon(d);const m=this.pointCoordinate(d);return m.y>=0&&m.y<=1}_coordinatePoint(d,m){const w=m&&this.elevation?this.elevation.getAtPointOrZero(d,this._centerAltitude):this._centerAltitude,E=[d.x*this.worldSize,d.y*this.worldSize,w+d.toAltitude(),1];return a.transformMat4$1(E,E,this.pixelMatrix),E[3]>0?new a.Point(E[0]/E[3],E[1]/E[3]):new a.Point(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:d,left:m}=this._edgeInsets,w=this.height-this._edgeInsets.bottom,E=this.width-this._edgeInsets.right,M=this.pointLocation3D(new a.Point(m,d)),O=this.pointLocation3D(new a.Point(E,d)),F=this.pointLocation3D(new a.Point(E,w)),U=this.pointLocation3D(new a.Point(m,w));let H=Math.min(M.lng,O.lng,F.lng,U.lng),G=Math.max(M.lng,O.lng,F.lng,U.lng),ae=Math.min(M.lat,O.lat,F.lat,U.lat),xe=Math.max(M.lat,O.lat,F.lat,U.lat);const Te=Math.pow(2,-this.zoom)/16*270,ke=this.projection.name==="globe"?1:4,Pe=(Ie,se,Ae,Ne,Oe)=>{const Xe=(Ie+Ae)/2,Je=(se+Ne)/2,Qe=new a.Point(Xe,Je),{lng:ct,lat:ot}=this.pointLocation3D(Qe),vt=Math.max(0,H-ct,ae-ot,ct-G,ot-xe);H=Math.min(H,ct),G=Math.max(G,ct),ae=Math.min(ae,ot),xe=Math.max(xe,ot),(Oe<ke||vt>Te)&&(Pe(Ie,se,Xe,Je,Oe+1),Pe(Xe,Je,Ae,Ne,Oe+1))};if(Pe(m,d,E,d,1),Pe(E,d,E,w,1),Pe(E,w,m,w,1),Pe(m,w,m,d,1),this.projection.name==="globe"){const[Ie,se]=a.polesInViewport(this);Ie?(xe=90,G=180,H=-180):se&&(ae=-90,G=180,H=-180)}return new a.LngLatBounds(new a.LngLat(H,ae),new a.LngLat(G,xe))}_getBoundsRectangular(d,m){const{top:w,left:E}=this._edgeInsets,M=this.height-this._edgeInsets.bottom,O=this.width-this._edgeInsets.right,F=new a.Point(E,w),U=new a.Point(O,w),H=new a.Point(O,M),G=new a.Point(E,M);let ae=this.pointCoordinate(F,d),xe=this.pointCoordinate(U,d);const Te=this.pointCoordinate(H,m),ke=this.pointCoordinate(G,m),Pe=(Ie,se)=>(se.y-Ie.y)/(se.x-Ie.x);return ae.y>1&&xe.y>=0?ae=new a.MercatorCoordinate((1-ke.y)/Pe(ke,ae)+ke.x,1):ae.y<0&&xe.y<=1&&(ae=new a.MercatorCoordinate(-ke.y/Pe(ke,ae)+ke.x,0)),xe.y>1&&ae.y>=0?xe=new a.MercatorCoordinate((1-Te.y)/Pe(Te,xe)+Te.x,1):xe.y<0&&ae.y<=1&&(xe=new a.MercatorCoordinate(-Te.y/Pe(Te,xe)+Te.x,0)),new a.LngLatBounds().extend(this.coordinateLocation(ae)).extend(this.coordinateLocation(xe)).extend(this.coordinateLocation(ke)).extend(this.coordinateLocation(Te))}_getBoundsRectangularTerrain(){const d=this.elevation;if(!d.visibleDemTiles.length||d.isUsingMockSource())return this._getBoundsRectangular(0,0);const m=d.visibleDemTiles.reduce((w,E)=>{if(E.dem){const M=E.dem.tree;w.min=Math.min(w.min,M.minimums[0]),w.max=Math.max(w.max,M.maximums[0])}return w},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(m.min*d.exaggeration(),m.max*d.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(d=!0){const m=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,w=this.height/2-m*(1-this._horizonShift);return d?Math.max(0,w):w}getMaxBounds(){return this.maxBounds}setMaxBounds(d){this.maxBounds=d,this.minLat=-a.MAX_MERCATOR_LATITUDE,this.maxLat=a.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,d&&(this.minLat=d.getSouth(),this.maxLat=d.getNorth(),this.minLng=d.getWest(),this.maxLng=d.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=a.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=a.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=a.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=a.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(d,m){return this.projection.createTileMatrix(this,m,d)}calculateDistanceTileData(d){const m=d.key,w=this._distanceTileDataCache;if(w[m])return w[m];const E=d.canonical,M=1/this.height,O=this.cameraWorldSize,F=O/this.zoomScale(E.z),U=(E.x+Math.pow(2,E.z)*d.wrap)*F,H=E.y*F,G=this.point;G.x*=O/this.worldSize,G.y*=O/this.worldSize;const ae=this.angle,xe=Math.sin(-ae),Te=-Math.cos(-ae);return w[m]={bearing:[xe,Te],center:[(G.x-U)*M,(G.y-H)*M],scale:F/a.EXTENT*M},w[m]}calculateFogTileMatrix(d){const m=d.key,w=this._fogTileMatrixCache;if(w[m])return w[m];const E=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,d);return a.multiply(E,this.worldToFogMatrix,E),w[m]=new Float32Array(E),w[m]}calculateProjMatrix(d,m=!1){const w=d.key,E=m?this._alignedProjMatrixCache:this._projMatrixCache;if(E[w])return E[w];const M=this.calculatePosMatrix(d,this.worldSize);return a.multiply(M,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:m?this.alignedProjMatrix:this.projMatrix,M),E[w]=new Float32Array(M),E[w]}calculatePixelsToTileUnitsMatrix(d){const m=d.tileID.key,w=this._pixelsToTileUnitsCache;if(w[m])return w[m];const E=function(M,O){const{scale:F}=M.tileTransform,U=F*a.EXTENT/(M.tileSize*Math.pow(2,O.zoom-M.tileID.overscaledZ+M.tileID.canonical.z));return H=new Float32Array(4),xe=(G=O.inverseAdjustmentMatrix)[1],Te=G[2],ke=G[3],Ie=(ae=[U,U])[1],H[0]=G[0]*(Pe=ae[0]),H[1]=xe*Pe,H[2]=Te*Ie,H[3]=ke*Ie,H;var H,G,ae,xe,Te,ke,Pe,Ie}(d,this);return w[m]=E,w[m]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const d=1/this.worldSize,m=a.fromScaling([],[d,d,d]);return a.multiply(m,m,this.globeMatrix),m}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const d=this._elevation;this._updateCameraState();const m=a.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,w=this._computeCameraPosition(m),E=this._camera.forward(),M=a.mercatorZfromAltitude(1,this._center.lat);w[2]/=M,E[2]/=M,a.normalize(E,E);const O=d.raycast(w,E,d.exaggeration());if(O){const F=a.scaleAndAdd([],w,E,O),U=new a.MercatorCoordinate(F[0],F[1],a.mercatorZfromAltitude(F[2],a.latFromMercatorY(F[1]))),H=(U.z+a.length([U.x-w[0],U.y-w[1],U.z-w[2]*M]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(H),this._centerAltitude=U.toAltitude(),this._center=this.coordinateLocation(U),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(d=!1){if(!this._elevation)return;const m=this._elevation,w=a.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,E=this._computeCameraPosition(w),M=m.getAtPointOrZero(new a.MercatorCoordinate(...E)),O=this.pixelsPerMeter/this.worldSize*M,F=this._minimumHeightOverTerrain(),U=E[2]-O;if(U<=F)if(U<0||d){const H=this.locationCoordinate(this._center,this._centerAltitude),G=[E[0],E[1],H.z-E[2]],ae=a.length(G);G[2]-=(F-U)/this._pixelsPerMercatorPixel;const xe=a.length(G);if(xe===0)return;a.scale$2(G,G,ae/xe*this._pixelsPerMercatorPixel),this._camera.position=[E[0],E[1],H.z*this._pixelsPerMercatorPixel-G[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const d=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||d){const xe=this.center;return xe.lat=a.clamp(xe.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!d)&&(xe.lng=a.clamp(xe.lng,this.minLng,this.maxLng)),this.center=xe,void(this._constraining=!1)}const m=this._unmodified,{x:w,y:E}=this.point;let M=0,O=w,F=E;const U=this.width/2,H=this.height/2,G=this.worldMinY*this.scale,ae=this.worldMaxY*this.scale;if(E-H<G&&(F=G+H),E+H>ae&&(F=ae-H),ae-G<this.height&&(M=Math.max(M,this.height/(ae-G)),F=(ae+G)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const xe=this.worldMinX*this.scale,Te=this.worldMaxX*this.scale,ke=this.worldSize/2-(xe+Te)/2;O=(w+ke+this.worldSize)%this.worldSize-ke,O-U<xe&&(O=xe+U),O+U>Te&&(O=Te-U),Te-xe<this.width&&(M=Math.max(M,this.width/(Te-xe)),O=(Te+xe)/2)}O===w&&F===E||(this.center=this.unproject(new a.Point(O,F))),M&&(this.zoom+=this.scaleZoom(M)),this._constrainCamera(),this._unmodified=m,this._constraining=!1}_minZoomForBounds(){let d=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(d=Math.max(d,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),d}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const d=this.centerOffset,m=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=a.mercatorZfromAltitude(1,this.center.lat)/a.mercatorZfromAltitude(1,a.GLOBE_SCALE_MATCH_LATITUDE));const w=w0(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,w),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const E=this.projection.zAxisUnit==="meters"?m:1,M=this._camera.getWorldToCamera(this.worldSize,E),O=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);O[8]=2*-d.x/this.width,O[9]=2*d.y/this.height;let F=a.mul([],O,M);if(this.projection.isReprojectedInTileSpace){const Je=this.locationCoordinate(this.center),Qe=a.identity([]);a.translate(Qe,Qe,[Je.x*this.worldSize,Je.y*this.worldSize,0]),a.multiply(Qe,Qe,tp(this)),a.translate(Qe,Qe,[-Je.x*this.worldSize,-Je.y*this.worldSize,0]),a.multiply(F,F,Qe),this.inverseAdjustmentMatrix=function(ct){const ot=tp(ct,!0);return me([],[ot[0],ot[1],ot[4],ot[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=a.scale([],F,[this.worldSize,this.worldSize,this.worldSize/E,1]),this.projMatrix=F,this.invProjMatrix=a.invert(new Float64Array(16),this.projMatrix);const U=a.invert([],O);this.frustumCorners=a.FrustumCorners.fromInvProjectionMatrix(U,this.horizonLineFromTop(),this.height);const H=new Float32Array(16);a.identity(H),a.scale(H,H,[1,-1,1]),a.rotateX(H,H,this._pitch),a.rotateZ(H,H,this.angle);const G=a.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),ae=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;G[8]=2*-d.x/this.width,G[9]=2*(d.y+ae)/this.height,this.skyboxMatrix=a.multiply(H,G,H);const xe=this.point,Te=xe.x,ke=xe.y,Pe=this.width%2/2,Ie=this.height%2/2,se=Math.cos(this.angle),Ae=Math.sin(this.angle),Ne=Te-Math.round(Te)+se*Pe+Ae*Ie,Oe=ke-Math.round(ke)+se*Ie+Ae*Pe,Xe=new Float64Array(F);if(a.translate(Xe,Xe,[Ne>.5?Ne-1:Ne,Oe>.5?Oe-1:Oe,0]),this.alignedProjMatrix=Xe,F=a.create(),a.scale(F,F,[this.width/2,-this.height/2,1]),a.translate(F,F,[1,-1,0]),this.labelPlaneMatrix=F,F=a.create(),a.scale(F,F,[1,-1,1]),a.translate(F,F,[-1,-1,0]),a.scale(F,F,[2/this.width,2/this.height,1]),this.glCoordMatrix=F,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},F=a.invert(new Float64Array(16),this.pixelMatrix),!F)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=F,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=a.calculateGlobeMatrix(this);const Je=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=a.transformMat4(Je,Je,M),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=F;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const d=this.cameraWorldSizeForFog,m=this.cameraPixelsPerMeter,w=this._camera.position,E=1/this.height/this._pixelsPerMercatorPixel,M=[d,d,m];a.scale$2(M,M,E),a.scale$2(w,w,-1),a.multiply$2(w,w,M);const O=a.create();a.translate(O,O,w),a.scale(O,O,M),this.mercatorFogMatrix=O,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(d,m,E)}_computeCameraPosition(d){const m=(d=d||this.pixelsPerMeter)/this.pixelsPerMeter,w=this._camera.forward(),E=this.point,M=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*m-d/this.worldSize*this._centerAltitude;return[E.x/this.worldSize-w[0]*M,E.y/this.worldSize-w[1]*M,d/this.worldSize*this._centerAltitude-w[2]*M]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(d){const m=this._maxCameraBoundsDistance()*Math.cos(this._pitch),w=this._camera.position[2],E=d[2];let M=1;this.projection.wrap&&(this.center=this.center.wrap()),E>0&&(M=Math.min((m-w)/E,1)),this._camera.position=a.scaleAndAdd([],this._camera.position,d,M),this._updateStateFromCamera()}_updateStateFromCamera(){const d=this._camera.position,m=this._camera.forward(),{pitch:w,bearing:E}=this._camera.getPitchBearing(),M=a.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,O=this._mercatorZfromZoom(this._maxZoom)*Math.cos(a.degToRad(this._maxPitch)),F=Math.max((d[2]-M)/Math.cos(w),O),U=this._zoomFromMercatorZ(F);a.scaleAndAdd(d,d,m,F),this._pitch=a.clamp(w,a.degToRad(this.minPitch),a.degToRad(this.maxPitch)),this.angle=a.wrap(E,-Math.PI,Math.PI),this._setZoom(a.clamp(U,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new a.MercatorCoordinate(d[0],d[1],d[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(d){return Math.pow(2,d)*this.tileSize}_mercatorZfromZoom(d){return this.cameraToCenterDistance/this._worldSizeFromZoom(d)}_minimumHeightOverTerrain(){const d=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(d)}_zoomFromMercatorZ(d){return this.scaleZoom(this.cameraToCenterDistance/(d*this.tileSize))}zoomFromMercatorZAdjusted(d){let m=0,w=a.GLOBE_ZOOM_THRESHOLD_MAX,E=0,M=1/0;for(;w-m>1e-6&&w>m;){const O=m+.5*(w-m),F=this.tileSize*Math.pow(2,O),U=this.getCameraToCenterDistance(this.projection,O,F),H=this.scaleZoom(U/(d*this.tileSize)),G=Math.abs(O-H);G<M&&(M=G,E=O),O<H?m=O:w=O}return E}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(a.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(d,m){const w=Math.min(d.x,m.x),E=Math.max(d.x,m.x),M=Math.min(d.y,m.y),O=Math.max(d.y,m.y);if(M<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const F=[new a.Point(w,M),new a.Point(E,O),new a.Point(w,O),new a.Point(E,M)],U=this.renderWorldCopies?-3:0,H=this.renderWorldCopies?4:1;for(const G of F){const ae=this.pointRayIntersection(G);if(ae.t<0)return!0;const xe=this.rayIntersectionCoordinate(ae);if(xe.x<U||xe.y<0||xe.x>H||xe.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+a.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new a.Point(0,0),new a.Point(this.width,this.height))}zoomDeltaToMovement(d,m){const w=a.length(a.sub([],this._camera.position,d)),E=this._zoomFromMercatorZ(w)+m;return w-this._mercatorZfromZoom(E)}getCameraPoint(){if(this.projection.name==="globe"){const d=function([m,w,E],M){const O=[m,w,E,1];a.transformMat4$1(O,O,M);const F=O[3]=Math.max(O[3],1e-6);return O[0]/=F,O[1]/=F,O[2]/=F,O}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new a.Point(d[0],d[1])}{const d=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,d))}}getCameraToCenterDistance(d,m=this.zoom,w=this.worldSize){const E=w0(d,m,this.width,this.height,1024),M=d.pixelSpaceConversion(this.center.lat,w,E);return .5/Math.tan(.5*this._fov)*this.height*M}getWorldToCameraMatrix(){const d=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&a.multiply(d,d,this.globeMatrix),d}}function np(b,d){let m=!1,w=null;const E=()=>{w=null,m&&(b(),w=setTimeout(E,d),m=!1)};return()=>(m=!0,w||E(),w)}class h_{constructor(d){this._hashName=d&&encodeURIComponent(d),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=np(this._updateHashUnthrottled.bind(this),300)}addTo(d){return this._map=d,a.window.addEventListener("hashchange",this._onHashChange,!1),d.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),a.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const d=this._map;if(!d)return"";const m=gf(d);if(this._hashName){const w=this._hashName;let E=!1;const M=a.window.location.hash.slice(1).split("&").map(O=>{const F=O.split("=")[0];return F===w?(E=!0,`${F}=${m}`):O}).filter(O=>O);return E||M.push(`${w}=${m}`),`#${M.join("&")}`}return`#${m}`}_getCurrentHash(){const d=a.window.location.hash.replace("#","");if(this._hashName){let m;return d.split("&").map(w=>w.split("=")).forEach(w=>{w[0]===this._hashName&&(m=w)}),(m&&m[1]||"").split("/")}return d.split("/")}_onHashChange(){const d=this._map;if(!d)return!1;const m=this._getCurrentHash();if(m.length>=3&&!m.some(w=>isNaN(w))){const w=d.dragRotate.isEnabled()&&d.touchZoomRotate.isEnabled()?+(m[3]||0):d.getBearing();return d.jumpTo({center:[+m[2],+m[1]],zoom:+m[0],bearing:w,pitch:+(m[4]||0)}),!0}return!1}_updateHashUnthrottled(){const d=a.window.location.href.replace(/(#.+)?$/,this.getHashString());a.window.history.replaceState(a.window.history.state,null,d)}}function gf(b,d){const m=b.getCenter(),w=Math.round(100*b.getZoom())/100,E=Math.ceil((w*Math.LN2+Math.log(512/360/.5))/Math.LN10),M=Math.pow(10,E),O=Math.round(m.lng*M)/M,F=Math.round(m.lat*M)/M,U=b.getBearing(),H=b.getPitch();let G=d?`/${O}/${F}/${w}`:`${w}/${F}/${O}`;return(U||H)&&(G+="/"+Math.round(10*U)/10),H&&(G+=`/${Math.round(H)}`),G}const yf={linearity:.3,easing:a.bezier(0,0,.3,1)},E0=a.extend({deceleration:2500,maxSpeed:1400},yf),A0=a.extend({deceleration:20,maxSpeed:1400},yf),ir=a.extend({deceleration:1e3,maxSpeed:360},yf),Ns=a.extend({deceleration:1e3,maxSpeed:90},yf);class P6{constructor(d){this._map=d,this.clear()}clear(){this._inertiaBuffer=[]}record(d){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.exported.now(),settings:d})}_drainInertiaBuffer(){const d=this._inertiaBuffer,m=a.exported.now();for(;d.length>0&&m-d[0].time>160;)d.shift()}_onMoveEnd(d){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const m={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:M}of this._inertiaBuffer)m.zoom+=M.zoomDelta||0,m.bearing+=M.bearingDelta||0,m.pitch+=M.pitchDelta||0,M.panDelta&&m.pan._add(M.panDelta),M.around&&(m.around=M.around),M.pinchAround&&(m.pinchAround=M.pinchAround);const w=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,E={};if(m.pan.mag()){const M=_f(m.pan.mag(),w,a.extend({},E0,d||{}));E.offset=m.pan.mult(M.amount/m.pan.mag()),E.center=this._map.transform.center,vf(E,M)}if(m.zoom){const M=_f(m.zoom,w,A0);E.zoom=this._map.transform.zoom+M.amount,vf(E,M)}if(m.bearing){const M=_f(m.bearing,w,ir);E.bearing=this._map.transform.bearing+a.clamp(M.amount,-179,179),vf(E,M)}if(m.pitch){const M=_f(m.pitch,w,Ns);E.pitch=this._map.transform.pitch+M.amount,vf(E,M)}if(E.zoom||E.bearing){const M=m.pinchAround===void 0?m.around:m.pinchAround;E.around=M?this._map.unproject(M):this._map.getCenter()}return this.clear(),E.noMoveStart=!0,E}}function vf(b,d){(!b.duration||b.duration<d.duration)&&(b.duration=d.duration,b.easing=d.easing)}function _f(b,d,m){const{maxSpeed:w,linearity:E,deceleration:M}=m,O=a.clamp(b*E/(d/1e3),-w,w),F=Math.abs(O)/(M*E);return{easing:m.easing,duration:1e3*F,amount:O*(F/2)}}class xa extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,m,w,E={}){const M=ee(m.getCanvasContainer(),w),O=m.unproject(M);super(d,a.extend({point:M,lngLat:O,originalEvent:w},E)),this._defaultPrevented=!1,this.target=m}}class bf extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,m,w){const E=d==="touchend"?w.changedTouches:w.touches,M=re(m.getCanvasContainer(),E),O=M.map(U=>m.unproject(U)),F=M.reduce((U,H,G,ae)=>U.add(H.div(ae.length)),new a.Point(0,0));super(d,{points:M,point:F,lngLats:O,lngLat:m.unproject(F),originalEvent:w}),this._defaultPrevented=!1}}class T0 extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,m,w){super(d,{originalEvent:w}),this._defaultPrevented=!1}}class f_{constructor(d,m){this._map=d,this._clickTolerance=m.clickTolerance}reset(){this._mousedownPos=void 0}wheel(d){return this._firePreventable(new T0(d.type,this._map,d))}mousedown(d,m){return this._mousedownPos=m,this._firePreventable(new xa(d.type,this._map,d))}mouseup(d){this._map.fire(new xa(d.type,this._map,d))}preclick(d){const m=a.extend({},d);m.type="preclick",this._map.fire(new xa(m.type,this._map,m))}click(d,m){this._mousedownPos&&this._mousedownPos.dist(m)>=this._clickTolerance||(this.preclick(d),this._map.fire(new xa(d.type,this._map,d)))}dblclick(d){return this._firePreventable(new xa(d.type,this._map,d))}mouseover(d){this._map.fire(new xa(d.type,this._map,d))}mouseout(d){this._map.fire(new xa(d.type,this._map,d))}touchstart(d){return this._firePreventable(new bf(d.type,this._map,d))}touchmove(d){this._map.fire(new bf(d.type,this._map,d))}touchend(d){this._map.fire(new bf(d.type,this._map,d))}touchcancel(d){this._map.fire(new bf(d.type,this._map,d))}_firePreventable(d){if(this._map.fire(d),d.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class M0{constructor(d){this._map=d}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(d){this._map.fire(new xa(d.type,this._map,d))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new xa("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(d){this._delayContextMenu?this._contextMenuEvent=d:this._map.fire(new xa(d.type,this._map,d)),this._map.listens("contextmenu")&&d.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class k6{constructor(d,m){this._map=d,this._el=d.getCanvasContainer(),this._container=d.getContainer(),this._clickTolerance=m.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(d,m){this.isEnabled()&&d.shiftKey&&d.button===0&&(C(),this._startPos=this._lastPos=m,this._active=!0)}mousemoveWindow(d,m){if(!this._active)return;const w=m,E=this._startPos,M=this._lastPos;if(!E||!M||M.equals(w)||!this._box&&w.dist(E)<this._clickTolerance)return;this._lastPos=w,this._box||(this._box=_("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",d));const O=Math.min(E.x,w.x),F=Math.max(E.x,w.x),U=Math.min(E.y,w.y),H=Math.max(E.y,w.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${O}px,${U}px)`,this._box.style.width=F-O+"px",this._box.style.height=H-U+"px")})}mouseupWindow(d,m){if(!this._active)return;const w=this._startPos,E=m;if(w&&d.button===0){if(this.reset(),$(),w.x!==E.x||w.y!==E.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:d})),{cameraAnimation:M=>M.fitScreenCoordinates(w,E,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",d)}}keydown(d){this._active&&d.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",d))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),L(),delete this._startPos,delete this._lastPos}_fireEvent(d,m){return this._map.fire(new a.Event(d,{originalEvent:m}))}}function P0(b,d){const m={};for(let w=0;w<b.length;w++)m[b[w].identifier]=d[w];return m}class ip{constructor(d){this.reset(),this.numTouches=d.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(d,m,w){(this.centroid||w.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=d.timeStamp),w.length===this.numTouches&&(this.centroid=function(E){const M=new a.Point(0,0);for(const O of E)M._add(O);return M.div(E.length)}(m),this.touches=P0(w,m)))}touchmove(d,m,w){if(this.aborted||!this.centroid)return;const E=P0(w,m);for(const M in this.touches){const O=E[M];(!O||O.dist(this.touches[M])>30)&&(this.aborted=!0)}}touchend(d,m,w){if((!this.centroid||d.timeStamp-this.startTime>500)&&(this.aborted=!0),w.length===0){const E=!this.aborted&&this.centroid;if(this.reset(),E)return E}}}class m_{constructor(d){this.singleTap=new ip(d),this.numTaps=d.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(d,m,w){this.singleTap.touchstart(d,m,w)}touchmove(d,m,w){this.singleTap.touchmove(d,m,w)}touchend(d,m,w){const E=this.singleTap.touchend(d,m,w);if(E){const M=d.timeStamp-this.lastTime<500,O=!this.lastTap||this.lastTap.dist(E)<30;if(M&&O||this.reset(),this.count++,this.lastTime=d.timeStamp,this.lastTap=E,this.count===this.numTaps)return this.reset(),E}}}class d7{constructor(){this._zoomIn=new m_({numTouches:1,numTaps:2}),this._zoomOut=new m_({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(d,m,w){this._zoomIn.touchstart(d,m,w),this._zoomOut.touchstart(d,m,w)}touchmove(d,m,w){this._zoomIn.touchmove(d,m,w),this._zoomOut.touchmove(d,m,w)}touchend(d,m,w){const E=this._zoomIn.touchend(d,m,w),M=this._zoomOut.touchend(d,m,w);return E?(this._active=!0,d.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:O=>O.easeTo({duration:300,zoom:O.getZoom()+1,around:O.unproject(E)},{originalEvent:d})}):M?(this._active=!0,d.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:O=>O.easeTo({duration:300,zoom:O.getZoom()-1,around:O.unproject(M)},{originalEvent:d})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const I6={0:1,2:2};class ap{constructor(d){this.reset(),this._clickTolerance=d.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(d,m){return!1}_move(d,m){return{}}mousedown(d,m){if(this._lastPoint)return;const w=ne(d);this._correctButton(d,w)&&(this._lastPoint=m,this._eventButton=w)}mousemoveWindow(d,m){const w=this._lastPoint;if(w){if(d.preventDefault(),this._eventButton!=null&&function(E,M){const O=I6[M];return E.buttons===void 0||(E.buttons&O)!==O}(d,this._eventButton))this.reset();else if(this._moved||!(m.dist(w)<this._clickTolerance))return this._moved=!0,this._lastPoint=m,this._move(w,m)}}mouseupWindow(d){this._lastPoint&&ne(d)===this._eventButton&&(this._moved&&$(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class g_ extends ap{mousedown(d,m){super.mousedown(d,m),this._lastPoint&&(this._active=!0)}_correctButton(d,m){return m===0&&!d.ctrlKey}_move(d,m){return{around:m,panDelta:m.sub(d)}}}class y_ extends ap{_correctButton(d,m){return m===0&&d.ctrlKey||m===2}_move(d,m){const w=.8*(m.x-d.x);if(w)return this._active=!0,{bearingDelta:w}}contextmenu(d){d.preventDefault()}}class v_ extends ap{_correctButton(d,m){return m===0&&d.ctrlKey||m===2}_move(d,m){const w=-.5*(m.y-d.y);if(w)return this._active=!0,{pitchDelta:w}}contextmenu(d){d.preventDefault()}}class k0{constructor(d,m){this._map=d,this._el=d.getCanvasContainer(),this._minTouches=1,this._clickTolerance=m.clickTolerance||1,this.reset(),a.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)}touchstart(d,m,w){return this._calculateTransform(d,m,w)}touchmove(d,m,w){if(this._active&&!(w.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(w.length===1&&!a.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return d.cancelable&&d.preventDefault(),this._calculateTransform(d,m,w)}}touchend(d,m,w){this._calculateTransform(d,m,w),this._active&&w.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(d,m,w){w.length>0&&(this._active=!0);const E=P0(w,m),M=new a.Point(0,0),O=new a.Point(0,0);let F=0;for(const H in E){const G=E[H],ae=this._touches[H];ae&&(M._add(G),O._add(G.sub(ae)),F++,E[H]=G)}if(this._touches=E,F<this._minTouches||!O.mag())return;const U=O.div(F);return this._sum._add(U),this._sum.mag()<this._clickTolerance?void 0:{around:M.div(F),panDelta:U}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=_("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class xf{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(d){}_move(d,m,w){return{}}touchstart(d,m,w){this._firstTwoTouches||w.length<2||(this._firstTwoTouches=[w[0].identifier,w[1].identifier],this._start([m[0],m[1]]))}touchmove(d,m,w){const E=this._firstTwoTouches;if(!E)return;d.preventDefault();const[M,O]=E,F=wf(w,m,M),U=wf(w,m,O);if(!F||!U)return;const H=this._aroundCenter?null:F.add(U).div(2);return this._move([F,U],H,d)}touchend(d,m,w){if(!this._firstTwoTouches)return;const[E,M]=this._firstTwoTouches,O=wf(w,m,E),F=wf(w,m,M);O&&F||(this._active&&$(),this.reset())}touchcancel(){this.reset()}enable(d){this._enabled=!0,this._aroundCenter=!!d&&d.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function wf(b,d,m){for(let w=0;w<b.length;w++)if(b[w].identifier===m)return d[w]}function __(b,d){return Math.log(b/d)/Math.LN2}class C6 extends xf{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(d){this._startDistance=this._distance=d[0].dist(d[1])}_move(d,m){const w=this._distance;if(this._distance=d[0].dist(d[1]),this._active||!(Math.abs(__(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:__(this._distance,w),pinchAround:m}}}function b_(b,d){return 180*b.angleWith(d)/Math.PI}class D6 extends xf{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(d){this._startVector=this._vector=d[0].sub(d[1]),this._minDiameter=d[0].dist(d[1])}_move(d,m){const w=this._vector;if(this._vector=d[0].sub(d[1]),w&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:b_(this._vector,w),pinchAround:m}}_isBelowThreshold(d){this._minDiameter=Math.min(this._minDiameter,d.mag());const m=25/(Math.PI*this._minDiameter)*360,w=this._startVector;if(!w)return!1;const E=b_(d,w);return Math.abs(E)<m}}function zc(b){return Math.abs(b.y)>Math.abs(b.x)}class z6 extends xf{constructor(d){super(),this._map=d}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(d){this._lastPoints=d,zc(d[0].sub(d[1]))&&(this._valid=!1)}_move(d,m,w){const E=this._lastPoints;if(!E)return;const M=d[0].sub(E[0]),O=d[1].sub(E[1]);return this._map._cooperativeGestures&&!a.isFullscreen()&&w.touches.length<3||(this._valid=this.gestureBeginsVertically(M,O,w.timeStamp),!this._valid)?void 0:(this._lastPoints=d,this._active=!0,{pitchDelta:(M.y+O.y)/2*-.5})}gestureBeginsVertically(d,m,w){if(this._valid!==void 0)return this._valid;const E=d.mag()>=2,M=m.mag()>=2;if(!E&&!M)return;if(!E||!M)return this._firstMove==null&&(this._firstMove=w),w-this._firstMove<100&&void 0;const O=d.y>0==m.y>0;return zc(d)&&zc(m)&&O}}const R6={panStep:100,bearingStep:15,pitchStep:10};class p7{constructor(){const d=R6;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(d){if(d.altKey||d.ctrlKey||d.metaKey)return;let m=0,w=0,E=0,M=0,O=0;switch(d.keyCode){case 61:case 107:case 171:case 187:m=1;break;case 189:case 109:case 173:m=-1;break;case 37:d.shiftKey?w=-1:(d.preventDefault(),M=-1);break;case 39:d.shiftKey?w=1:(d.preventDefault(),M=1);break;case 38:d.shiftKey?E=1:(d.preventDefault(),O=-1);break;case 40:d.shiftKey?E=-1:(d.preventDefault(),O=1);break;default:return}return this._rotationDisabled&&(w=0,E=0),{cameraAnimation:F=>{const U=F.getZoom();F.easeTo({duration:300,easeId:"keyboardHandler",easing:N6,zoom:m?Math.round(U)+m*(d.shiftKey?2:1):U,bearing:F.getBearing()+w*this._bearingStep,pitch:F.getPitch()+E*this._pitchStep,offset:[-M*this._panStep,-O*this._panStep],center:F.getCenter()},{originalEvent:d})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function N6(b){return b*(2-b)}const x_=4.000244140625;class L6{constructor(d,m){this._map=d,this._el=d.getCanvasContainer(),this._handler=m,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(d){this._defaultZoomRate=d}setWheelZoomRate(d){this._wheelZoomRate=d}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(d){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!d&&d.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(d){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(d.ctrlKey||d.metaKey||this.isZooming()||a.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let m=d.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*d.deltaY:d.deltaY;const w=a.exported.now(),E=w-(this._lastWheelEventTime||0);this._lastWheelEventTime=w,m!==0&&m%x_==0?this._type="wheel":m!==0&&Math.abs(m)<4?this._type="trackpad":E>400?(this._type=null,this._lastValue=m,this._timeout=setTimeout(this._onTimeout,40,d)):this._type||(this._type=Math.abs(E*m)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,m+=this._lastValue)),d.shiftKey&&m&&(m/=4),this._type&&(this._lastWheelEvent=d,this._delta-=m,this._active||this._start(d)),d.preventDefault()}_onTimeout(d){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(d)}_start(d){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const m=ee(this._el,d);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:m,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const d=this._map.transform;this._type==="wheel"&&d.projection.wrap&&(d._center.lng>=180||d._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const m=()=>d._terrainEnabled()&&this._aroundCoord?d.computeZoomRelativeTo(this._aroundCoord):d.zoom;if(this._delta!==0){const U=this._type==="wheel"&&Math.abs(this._delta)>x_?this._wheelZoomRate:this._defaultZoomRate;let H=2/(1+Math.exp(-Math.abs(this._delta*U)));this._delta<0&&H!==0&&(H=1/H);const G=m(),ae=Math.pow(2,G),xe=typeof this._targetZoom=="number"?d.zoomScale(this._targetZoom):ae;this._targetZoom=Math.min(d.maxZoom,Math.max(d.minZoom,d.scaleZoom(xe*H))),this._type==="wheel"&&(this._startZoom=G,this._easing=this._smoothOutEasing(200)),this._delta=0}const w=typeof this._targetZoom=="number"?this._targetZoom:m(),E=this._startZoom,M=this._easing;let O,F=!1;if(this._type==="wheel"&&E&&M){const U=Math.min((a.exported.now()-this._lastWheelEventTime)/200,1),H=M(U);O=a.number(E,w,H),U<1?this._frameId||(this._frameId=!0):F=!0}else O=w,F=!0;return this._active=!0,F&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!F,zoomDelta:O-m(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(d){let m=a.ease;if(this._prevEase){const w=this._prevEase,E=(a.exported.now()-w.start)/w.duration,M=w.easing(E+.01)-w.easing(E),O=.27/Math.sqrt(M*M+1e-4)*.01,F=Math.sqrt(.0729-O*O);m=a.bezier(O,F,.25,1)}return this._prevEase={start:a.exported.now(),duration:d,easing:m},m}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=_("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(a.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class O6{constructor(d,m){this._clickZoom=d,this._tapZoom=m}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Fa{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(d,m){return d.preventDefault(),{cameraAnimation:w=>{w.easeTo({duration:300,zoom:w.getZoom()+(d.shiftKey?-1:1),around:w.unproject(m)},{originalEvent:d})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class h7{constructor(){this._tap=new m_({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(d,m,w){this._swipePoint||(this._tapTime&&d.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?w.length>0&&(this._swipePoint=m[0],this._swipeTouch=w[0].identifier):this._tap.touchstart(d,m,w))}touchmove(d,m,w){if(this._tapTime){if(this._swipePoint){if(w[0].identifier!==this._swipeTouch)return;const E=m[0],M=E.y-this._swipePoint.y;return this._swipePoint=E,d.preventDefault(),this._active=!0,{zoomDelta:M/128}}}else this._tap.touchmove(d,m,w)}touchend(d,m,w){this._tapTime?this._swipePoint&&w.length===0&&this.reset():this._tap.touchend(d,m,w)&&(this._tapTime=d.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class B6{constructor(d,m,w){this._el=d,this._mousePan=m,this._touchPan=w}enable(d){this._inertiaOptions=d||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class f7{constructor(d,m,w){this._pitchWithRotate=d.pitchWithRotate,this._mouseRotate=m,this._mousePitch=w}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class m7{constructor(d,m,w,E){this._el=d,this._touchZoom=m,this._touchRotate=w,this._tapDragZoom=E,this._rotationDisabled=!1,this._enabled=!0}enable(d){this._touchZoom.enable(d),this._rotationDisabled||this._touchRotate.enable(d),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const gs=b=>b.zoom||b.drag||b.pitch||b.rotate;class F6 extends a.Event{}class g7{constructor(){this.constants=[1,1,.01],this.radius=0}setup(d,m){const w=a.sub([],m,d);this.radius=a.length(w[2]<0?a.div([],w,this.constants):[w[0],w[1],0])}projectRay(d){a.div(d,d,this.constants),a.normalize(d,d),a.mul$1(d,d,this.constants);const m=a.scale$2([],d,this.radius);if(m[2]>0){const w=a.scale$2([],[0,0,1],a.dot(m,[0,0,1])),E=a.scale$2([],a.normalize([],[m[0],m[1],0]),this.radius),M=a.add([],m,a.scale$2([],a.sub([],a.add([],E,w),m),2));m[0]=M[0],m[1]=M[1]}return m}}function Ls(b){return b.panDelta&&b.panDelta.mag()||b.zoomDelta||b.bearingDelta||b.pitchDelta}class ul{constructor(d,m){this._map=d,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new P6(d),this._bearingSnap=m.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new g7,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(m),a.bindAll(["handleEvent","handleWindowEvent"],this);const w=this._el;this._listeners=[[w,"touchstart",{passive:!0}],[w,"touchmove",{passive:!1}],[w,"touchend",void 0],[w,"touchcancel",void 0],[w,"mousedown",void 0],[w,"mousemove",void 0],[w,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[w,"mouseover",void 0],[w,"mouseout",void 0],[w,"dblclick",void 0],[w,"click",void 0],[w,"keydown",{capture:!1}],[w,"keyup",void 0],[w,"wheel",{passive:!1}],[w,"contextmenu",void 0],[a.window,"blur",void 0]];for(const[E,M,O]of this._listeners)E.addEventListener(M,E===a.window.document?this.handleWindowEvent:this.handleEvent,O)}destroy(){for(const[d,m,w]of this._listeners)d.removeEventListener(m,d===a.window.document?this.handleWindowEvent:this.handleEvent,w)}_addDefaultHandlers(d){const m=this._map,w=m.getCanvasContainer();this._add("mapEvent",new f_(m,d));const E=m.boxZoom=new k6(m,d);this._add("boxZoom",E);const M=new d7,O=new Fa;m.doubleClickZoom=new O6(O,M),this._add("tapZoom",M),this._add("clickZoom",O);const F=new h7;this._add("tapDragZoom",F);const U=m.touchPitch=new z6(m);this._add("touchPitch",U);const H=new y_(d),G=new v_(d);m.dragRotate=new f7(d,H,G),this._add("mouseRotate",H,["mousePitch"]),this._add("mousePitch",G,["mouseRotate"]);const ae=new g_(d),xe=new k0(m,d);m.dragPan=new B6(w,ae,xe),this._add("mousePan",ae),this._add("touchPan",xe,["touchZoom","touchRotate"]);const Te=new D6,ke=new C6;m.touchZoomRotate=new m7(w,ke,Te,F),this._add("touchRotate",Te,["touchPan","touchZoom"]),this._add("touchZoom",ke,["touchPan","touchRotate"]),this._add("blockableMapEvent",new M0(m));const Pe=m.scrollZoom=new L6(m,this);this._add("scrollZoom",Pe,["mousePan"]);const Ie=m.keyboard=new p7;this._add("keyboard",Ie);for(const se of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])d.interactive&&d[se]&&m[se].enable(d[se])}_add(d,m,w){this._handlers.push({handlerName:d,handler:m,allowed:w}),this._handlersById[d]=m}stop(d){if(!this._updatingCamera){for(const{handler:m}of this._handlers)m.reset();this._inertia.clear(),this._fireEvents({},{},d),this._changes=[]}}isActive(){for(const{handler:d}of this._handlers)if(d.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!gs(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(d,m,w){for(const E in d)if(E!==w&&(!m||m.indexOf(E)<0))return!0;return!1}handleWindowEvent(d){this.handleEvent(d,`${d.type}Window`)}_getMapTouches(d){const m=[];for(const w of d)this._el.contains(w.target)&&m.push(w);return m}handleEvent(d,m){this._updatingCamera=!0;const w=d.type==="renderFrame",E=w?void 0:d,M={needsRenderFrame:!1},O={},F={},U=d.touches?this._getMapTouches(d.touches):void 0,H=U?re(this._el,U):w?void 0:ee(this._el,d);for(const{handlerName:xe,handler:Te,allowed:ke}of this._handlers){if(!Te.isEnabled())continue;let Pe;this._blockedByActive(F,ke,xe)?Te.reset():Te[m||d.type]&&(Pe=Te[m||d.type](d,H,U),this.mergeHandlerResult(M,O,Pe,xe,E),Pe&&Pe.needsRenderFrame&&this._triggerRenderFrame()),(Pe||Te.isActive())&&(F[xe]=Te)}const G={};for(const xe in this._previousActiveHandlers)F[xe]||(G[xe]=E);this._previousActiveHandlers=F,(Object.keys(G).length||Ls(M))&&(this._changes.push([M,O,G]),this._triggerRenderFrame()),(Object.keys(F).length||Ls(M))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ae}=M;ae&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ae(this._map))}mergeHandlerResult(d,m,w,E,M){if(!w)return;a.extend(d,w);const O={handlerName:E,originalEvent:w.originalEvent||M};w.zoomDelta!==void 0&&(m.zoom=O),w.panDelta!==void 0&&(m.drag=O),w.pitchDelta!==void 0&&(m.pitch=O),w.bearingDelta!==void 0&&(m.rotate=O)}_applyChanges(){const d={},m={},w={};for(const[E,M,O]of this._changes)E.panDelta&&(d.panDelta=(d.panDelta||new a.Point(0,0))._add(E.panDelta)),E.zoomDelta&&(d.zoomDelta=(d.zoomDelta||0)+E.zoomDelta),E.bearingDelta&&(d.bearingDelta=(d.bearingDelta||0)+E.bearingDelta),E.pitchDelta&&(d.pitchDelta=(d.pitchDelta||0)+E.pitchDelta),E.around!==void 0&&(d.around=E.around),E.aroundCoord!==void 0&&(d.aroundCoord=E.aroundCoord),E.pinchAround!==void 0&&(d.pinchAround=E.pinchAround),E.noInertia&&(d.noInertia=E.noInertia),a.extend(m,M),a.extend(w,O);this._updateMapTransform(d,m,w),this._changes=[]}_updateMapTransform(d,m,w){const E=this._map,M=E.transform,O=Ae=>[Ae.x,Ae.y,Ae.z];if((Ae=>{const Ne=this._eventsInProgress.drag;return Ne&&!this._handlersById[Ne.handlerName].isActive()})()&&!Ls(d)){const Ae=M.zoom;M.cameraElevationReference="sea",M.recenterOnTerrain(),M.cameraElevationReference="ground",Ae!==M.zoom&&this._map._update(!0)}if(M._isCameraConstrained&&E._stop(!0),!Ls(d))return void this._fireEvents(m,w,!0);let{panDelta:F,zoomDelta:U,bearingDelta:H,pitchDelta:G,around:ae,aroundCoord:xe,pinchAround:Te}=d;M._isCameraConstrained&&(U>0&&(U=0),M._isCameraConstrained=!1),Te!==void 0&&(ae=Te),(U||(Ae=>m[Ae]&&!this._eventsInProgress[Ae])("drag"))&&ae&&(this._dragOrigin=O(M.pointCoordinate3D(ae)),this._trackingEllipsoid.setup(M._camera.position,this._dragOrigin)),M.cameraElevationReference="sea",E._stop(!0),ae=ae||E.transform.centerPoint,H&&(M.bearing+=H),G&&(M.pitch+=G),M._updateCameraState();const ke=[0,0,0];if(F)if(M.projection.name==="mercator"){const Ae=this._trackingEllipsoid.projectRay(M.screenPointToMercatorRay(ae).dir),Ne=this._trackingEllipsoid.projectRay(M.screenPointToMercatorRay(ae.sub(F)).dir);ke[0]=Ne[0]-Ae[0],ke[1]=Ne[1]-Ae[1]}else{const Ae=M.pointCoordinate(ae);if(M.projection.name==="globe"){F=F.rotate(-M.angle);const Ne=M._pixelsPerMercatorPixel/M.worldSize;ke[0]=-F.x*a.mercatorScale(a.latFromMercatorY(Ae.y))*Ne,ke[1]=-F.y*a.mercatorScale(M.center.lat)*Ne}else{const Ne=M.pointCoordinate(ae.sub(F));Ae&&Ne&&(ke[0]=Ne.x-Ae.x,ke[1]=Ne.y-Ae.y)}}const Pe=M.zoom,Ie=[0,0,0];if(U){const Ae=O(xe||M.pointCoordinate3D(ae)),Ne={dir:a.normalize([],a.sub([],Ae,M._camera.position))};if(Ne.dir[2]<0){const Oe=M.zoomDeltaToMovement(Ae,U);a.scale$2(Ie,Ne.dir,Oe)}}const se=a.add(ke,ke,Ie);M._translateCameraConstrained(se),U&&Math.abs(M.zoom-Pe)>1e-4&&M.recenterOnTerrain(),M.cameraElevationReference="ground",this._map._update(),d.noInertia||this._inertia.record(d),this._fireEvents(m,w,!0)}_fireEvents(d,m,w){const E=gs(this._eventsInProgress),M=gs(d),O={};for(const G in d){const{originalEvent:ae}=d[G];this._eventsInProgress[G]||(O[`${G}start`]=ae),this._eventsInProgress[G]=d[G]}!E&&M&&this._fireEvent("movestart",M.originalEvent);for(const G in O)this._fireEvent(G,O[G]);M&&this._fireEvent("move",M.originalEvent);for(const G in d){const{originalEvent:ae}=d[G];this._fireEvent(G,ae)}const F={};let U;for(const G in this._eventsInProgress){const{handlerName:ae,originalEvent:xe}=this._eventsInProgress[G];this._handlersById[ae].isActive()||(delete this._eventsInProgress[G],U=m[ae]||xe,F[`${G}end`]=U)}for(const G in F)this._fireEvent(G,F[G]);const H=gs(this._eventsInProgress);if(w&&(E||M)&&!H){this._updatingCamera=!0;const G=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ae=xe=>xe!==0&&-this._bearingSnap<xe&&xe<this._bearingSnap;G?(ae(G.bearing||this._map.getBearing())&&(G.bearing=0),this._map.easeTo(G,{originalEvent:U})):(this._map.fire(new a.Event("moveend",{originalEvent:U})),ae(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(d,m){this._map.fire(new a.Event(d,m?{originalEvent:m}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(d=>{this._frameId=void 0,this.handleEvent(new F6("renderFrame",{timeStamp:d})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Iu="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class I0 extends a.Evented{constructor(d,m){super(),this._moving=!1,this._zooming=!1,this.transform=d,this._bearingSnap=m.bearingSnap,this._respectPrefersReducedMotion=m.respectPrefersReducedMotion!==!1,a.bindAll(["_renderFrameCallback"],this)}getCenter(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(d,m){return this.jumpTo({center:d},m)}panBy(d,m,w){return d=a.Point.convert(d).mult(-1),this.panTo(this.transform.center,a.extend({offset:d},m),w)}panTo(d,m,w){return this.easeTo(a.extend({center:d},m),w)}getZoom(){return this.transform.zoom}setZoom(d,m){return this.jumpTo({zoom:d},m),this}zoomTo(d,m,w){return this.easeTo(a.extend({zoom:d},m),w)}zoomIn(d,m){return this.zoomTo(this.getZoom()+1,d,m),this}zoomOut(d,m){return this.zoomTo(this.getZoom()-1,d,m),this}getBearing(){return this.transform.bearing}setBearing(d,m){return this.jumpTo({bearing:d},m),this}getPadding(){return this.transform.padding}setPadding(d,m){return this.jumpTo({padding:d},m),this}rotateTo(d,m,w){return this.easeTo(a.extend({bearing:d},m),w)}resetNorth(d,m){return this.rotateTo(0,a.extend({duration:1e3},d),m),this}resetNorthPitch(d,m){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},d),m),this}snapToNorth(d,m){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(d,m):this}getPitch(){return this.transform.pitch}setPitch(d,m){return this.jumpTo({pitch:d},m),this}cameraForBounds(d,m){d=a.LngLatBounds.convert(d);const w=m&&m.bearing||0,E=m&&m.pitch||0,M=d.getNorthWest(),O=d.getSouthEast();return this._cameraForBounds(this.transform,M,O,w,E,m)}_extendCameraOptions(d){const m={top:0,bottom:0,right:0,left:0};if(typeof(d=a.extend({padding:m,offset:[0,0],maxZoom:this.transform.maxZoom},d)).padding=="number"){const w=d.padding;d.padding={top:w,bottom:w,right:w,left:w}}return d.padding=a.extend(m,d.padding),d}_minimumAABBFrustumDistance(d,m){const w=m.max[0]-m.min[0],E=m.max[1]-m.min[1];return w/E>d.aspect?w/(2*Math.tan(.5*d.fovX)*d.aspect):E/(2*Math.tan(.5*d.fovY)*d.aspect)}_cameraForBoundsOnGlobe(d,m,w,E,M,O){const F=d.clone(),U=this._extendCameraOptions(O);F.bearing=E,F.pitch=M;const H=a.LngLat.convert(m),G=a.LngLat.convert(w),ae=.5*(H.lat+G.lat),xe=.5*(H.lng+G.lng),Te=a.latLngToECEF(ae,xe),ke=a.normalize([],Te),Pe=a.normalize([],a.cross([],ke,[0,1,0])),Ie=a.cross([],Pe,ke),se=[Pe[0],Pe[1],Pe[2],0,Ie[0],Ie[1],Ie[2],0,ke[0],ke[1],ke[2],0,0,0,0,1],Ae=[Te,a.latLngToECEF(H.lat,H.lng),a.latLngToECEF(G.lat,H.lng),a.latLngToECEF(G.lat,G.lng),a.latLngToECEF(H.lat,G.lng),a.latLngToECEF(ae,H.lng),a.latLngToECEF(ae,G.lng),a.latLngToECEF(H.lat,xe),a.latLngToECEF(G.lat,xe)];let Ne=a.Aabb.fromPoints(Ae.map(Bt=>[a.dot(Pe,Bt),a.dot(Ie,Bt),a.dot(ke,Bt)]));const Oe=a.transformMat4([],Ne.center,se);a.squaredLength(Oe)===0&&a.set(Oe,0,0,1),a.normalize(Oe,Oe),a.scale$2(Oe,Oe,a.GLOBE_RADIUS),F.center=a.ecefToLatLng(Oe);const Xe=F.getWorldToCameraMatrix(),Je=a.invert(new Float64Array(16),Xe);Ne=a.Aabb.applyTransform(Ne,a.multiply([],Xe,se)),a.transformMat4(Oe,Oe,Xe);const Qe=.5*(Ne.max[2]-Ne.min[2]),ct=this._minimumAABBFrustumDistance(F,Ne),ot=a.scale$2([],[0,0,1],Qe),vt=a.add(ot,Oe,ot),Ut=ct+(F.pitch===0?0:a.distance(Oe,vt)),ht=F.globeCenterInViewSpace,Rt=a.sub([],Oe,[ht[0],ht[1],ht[2]]);a.normalize(Rt,Rt),a.scale$2(Rt,Rt,Ut);const xt=a.add([],Oe,Rt);a.transformMat4(xt,xt,Je);const Vt=a.earthRadius/a.GLOBE_RADIUS,yt=a.length(xt),Dt=a.mercatorZfromAltitude(Math.max(yt*Vt-a.earthRadius,Number.EPSILON),0),$t=Math.min(F.zoomFromMercatorZAdjusted(Dt),U.maxZoom);return $t>.5*(a.GLOBE_ZOOM_THRESHOLD_MIN+a.GLOBE_ZOOM_THRESHOLD_MAX)?(F.setProjection({name:"mercator"}),F.zoom=$t,this._cameraForBounds(F,m,w,E,M,O)):{center:F.center,zoom:$t,bearing:E,pitch:M}}queryTerrainElevation(d,m){const w=this.transform.elevation;return w?(m=a.extend({},{exaggerated:!0},m),w.getAtPoint(a.MercatorCoordinate.fromLngLat(d),null,m.exaggerated)):null}_cameraForBounds(d,m,w,E,M,O){if(d.projection.name==="globe")return this._cameraForBoundsOnGlobe(d,m,w,E,M,O);const F=d.clone(),U=this._extendCameraOptions(O),H=F.padding;F.bearing=E,F.pitch=M;const G=a.LngLat.convert(m),ae=a.LngLat.convert(w),xe=new a.LngLat(G.lng,ae.lat),Te=new a.LngLat(ae.lng,G.lat),ke=F.project(G),Pe=F.project(ae),Ie=this.queryTerrainElevation(G),se=this.queryTerrainElevation(ae),Ae=this.queryTerrainElevation(xe),Ne=this.queryTerrainElevation(Te),Oe=[[ke.x,ke.y,Math.min(Ie||0,se||0,Ae||0,Ne||0)],[Pe.x,Pe.y,Math.max(Ie||0,se||0,Ae||0,Ne||0)]];let Xe=a.Aabb.fromPoints(Oe);const Je=F.getWorldToCameraMatrix(),Qe=a.invert(new Float64Array(16),Je);Xe=a.Aabb.applyTransform(Xe,Je);const ct=a.sub([],Xe.max,Xe.min),ot=H.left||0,vt=H.right||0,Ut=H.bottom||0,ht=H.top||0,{left:Rt,right:xt,top:Vt,bottom:yt}=U.padding,Dt=.5*(ot+vt),$t=.5*(ht+Ut),Bt=Math.min(F.scaleZoom(F.scale*Math.min((F.width-(ot+vt+Rt+xt))/ct[0],(F.height-(Ut+ht+yt+Vt))/ct[1])),U.maxZoom),Kt=F.scale/F.zoomScale(Bt);Xe=new a.Aabb([Xe.min[0]-(Rt+Dt)*Kt,Xe.min[1]-(yt+$t)*Kt,Xe.min[2]],[Xe.max[0]+(xt+Dt)*Kt,Xe.max[1]+(Vt+$t)*Kt,Xe.max[2]]);const vr=.5*ct[2],Or=this._minimumAABBFrustumDistance(F,Xe),lr=[0,0,1,0];a.transformMat4$1(lr,lr,Je),a.normalize$2(lr,lr);const Tr=a.scale$2([],lr,Or+vr),cn=a.add([],Xe.center,Tr),rn=(typeof U.offset.x=="number"&&typeof U.offset.y=="number"?new a.Point(U.offset.x,U.offset.y):a.Point.convert(U.offset)).rotate(-a.degToRad(E));Xe.center[0]-=rn.x*Kt,Xe.center[1]+=rn.y*Kt,a.transformMat4(Xe.center,Xe.center,Qe),a.transformMat4(cn,cn,Qe);const gr=[Xe.center[0],Xe.center[1],cn[2]*F.pixelsPerMeter];a.scale$2(gr,gr,1/F.worldSize);const Dn=a.lngFromMercatorX(gr[0]),Rn=a.latFromMercatorY(gr[1]),Nn=Math.min(F._zoomFromMercatorZ(gr[2]),U.maxZoom),Ln=new a.LngLat(Dn,Rn);return F.mercatorFromTransition&&Nn<.5*(a.GLOBE_ZOOM_THRESHOLD_MIN+a.GLOBE_ZOOM_THRESHOLD_MAX)?(F.setProjection({name:"globe"}),F.zoom=Nn,this._cameraForBounds(F,m,w,E,M,O)):{center:Ln,zoom:Nn,bearing:E,pitch:M}}fitBounds(d,m,w){const E=this.cameraForBounds(d,m);return this._fitInternal(E,m,w)}fitScreenCoordinates(d,m,w,E,M){const O=a.Point.convert(d),F=a.Point.convert(m),U=new a.Point(Math.min(O.x,F.x),Math.min(O.y,F.y)),H=new a.Point(Math.max(O.x,F.x),Math.max(O.y,F.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(O,F))return this;const G=this.transform.pointLocation3D(U),ae=this.transform.pointLocation3D(H),xe=this.transform.pointLocation3D(new a.Point(U.x,H.y)),Te=this.transform.pointLocation3D(new a.Point(H.x,U.y)),ke=[Math.min(G.lng,ae.lng,xe.lng,Te.lng),Math.min(G.lat,ae.lat,xe.lat,Te.lat)],Pe=[Math.max(G.lng,ae.lng,xe.lng,Te.lng),Math.max(G.lat,ae.lat,xe.lat,Te.lat)],Ie=E&&E.pitch?E.pitch:this.getPitch(),se=this._cameraForBounds(this.transform,ke,Pe,w,Ie,E);return this._fitInternal(se,E,M)}_fitInternal(d,m,w){return d?(delete(m=a.extend(d,m)).padding,m.linear?this.easeTo(m,w):this.flyTo(m,w)):this}jumpTo(d,m){this.stop();const w=d.preloadOnly?this.transform.clone():this.transform;let E=!1,M=!1,O=!1;return"zoom"in d&&w.zoom!==+d.zoom&&(E=!0,w.zoom=+d.zoom),d.center!==void 0&&(w.center=a.LngLat.convert(d.center)),"bearing"in d&&w.bearing!==+d.bearing&&(M=!0,w.bearing=+d.bearing),"pitch"in d&&w.pitch!==+d.pitch&&(O=!0,w.pitch=+d.pitch),d.padding==null||w.isPaddingEqual(d.padding)||(w.padding=d.padding),d.preloadOnly?(this._preloadTiles(w),this):(this.fire(new a.Event("movestart",m)).fire(new a.Event("move",m)),E&&this.fire(new a.Event("zoomstart",m)).fire(new a.Event("zoom",m)).fire(new a.Event("zoomend",m)),M&&this.fire(new a.Event("rotatestart",m)).fire(new a.Event("rotate",m)).fire(new a.Event("rotateend",m)),O&&this.fire(new a.Event("pitchstart",m)).fire(new a.Event("pitch",m)).fire(new a.Event("pitchend",m)),this.fire(new a.Event("moveend",m)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||a.warnOnce(Iu),this.transform.getFreeCameraOptions()}setFreeCameraOptions(d,m){const w=this.transform;if(!w.projection.supportsFreeCamera)return a.warnOnce(Iu),this;this.stop();const E=w.zoom,M=w.pitch,O=w.bearing;w.setFreeCameraOptions(d);const F=E!==w.zoom,U=M!==w.pitch,H=O!==w.bearing;return this.fire(new a.Event("movestart",m)).fire(new a.Event("move",m)),F&&this.fire(new a.Event("zoomstart",m)).fire(new a.Event("zoom",m)).fire(new a.Event("zoomend",m)),H&&this.fire(new a.Event("rotatestart",m)).fire(new a.Event("rotate",m)).fire(new a.Event("rotateend",m)),U&&this.fire(new a.Event("pitchstart",m)).fire(new a.Event("pitch",m)).fire(new a.Event("pitchend",m)),this.fire(new a.Event("moveend",m)),this}easeTo(d,m){this._stop(!1,d.easeId),((d=a.extend({offset:[0,0],duration:500,easing:a.ease},d)).animate===!1||this._prefersReducedMotion(d))&&(d.duration=0);const w=this.transform,E=this.getZoom(),M=this.getBearing(),O=this.getPitch(),F=this.getPadding(),U="zoom"in d?+d.zoom:E,H="bearing"in d?this._normalizeBearing(d.bearing,M):M,G="pitch"in d?+d.pitch:O,ae="padding"in d?d.padding:w.padding,xe=a.Point.convert(d.offset);let Te,ke,Pe;if(w.projection.name==="globe"){const ot=a.MercatorCoordinate.fromLngLat(w.center),vt=xe.rotate(-w.angle);ot.x+=vt.x/w.worldSize,ot.y+=vt.y/w.worldSize;const Ut=ot.toLngLat(),ht=a.LngLat.convert(d.center||Ut);this._normalizeCenter(ht),Te=w.centerPoint.add(vt),ke=new a.Point(ot.x,ot.y).mult(w.worldSize),Pe=new a.Point(a.mercatorXfromLng(ht.lng),a.mercatorYfromLat(ht.lat)).mult(w.worldSize).sub(ke)}else{Te=w.centerPoint.add(xe);const ot=w.pointLocation(Te),vt=a.LngLat.convert(d.center||ot);this._normalizeCenter(vt),ke=w.project(ot),Pe=w.project(vt).sub(ke)}const Ie=w.zoomScale(U-E);let se,Ae;d.around&&(se=a.LngLat.convert(d.around),Ae=w.locationPoint(se));const Ne=this._zooming||U!==E,Oe=this._rotating||M!==H,Xe=this._pitching||G!==O,Je=!w.isPaddingEqual(ae),Qe=ot=>vt=>{if(Ne&&(ot.zoom=a.number(E,U,vt)),Oe&&(ot.bearing=a.number(M,H,vt)),Xe&&(ot.pitch=a.number(O,G,vt)),Je&&(ot.interpolatePadding(F,ae,vt),Te=ot.centerPoint.add(xe)),se)ot.setLocationAtPoint(se,Ae);else{const Ut=ot.zoomScale(ot.zoom-E),ht=U>E?Math.min(2,Ie):Math.max(.5,Ie),Rt=Math.pow(ht,1-vt),xt=ot.unproject(ke.add(Pe.mult(vt*Rt)).mult(Ut));ot.setLocationAtPoint(ot.renderWorldCopies?xt.wrap():xt,Te)}return d.preloadOnly||this._fireMoveEvents(m),ot};if(d.preloadOnly){const ot=this._emulate(Qe,d.duration,w);return this._preloadTiles(ot),this}const ct={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=Ne,this._rotating=Oe,this._pitching=Xe,this._padding=Je,this._easeId=d.easeId,this._prepareEase(m,d.noMoveStart,ct),this._ease(Qe(w),ot=>{w.recenterOnTerrain(),this._afterEase(m,ot)},d),this}_prepareEase(d,m,w={}){this._moving=!0,this.transform.cameraElevationReference="sea",m||w.moving||this.fire(new a.Event("movestart",d)),this._zooming&&!w.zooming&&this.fire(new a.Event("zoomstart",d)),this._rotating&&!w.rotating&&this.fire(new a.Event("rotatestart",d)),this._pitching&&!w.pitching&&this.fire(new a.Event("pitchstart",d))}_fireMoveEvents(d){this.fire(new a.Event("move",d)),this._zooming&&this.fire(new a.Event("zoom",d)),this._rotating&&this.fire(new a.Event("rotate",d)),this._pitching&&this.fire(new a.Event("pitch",d))}_afterEase(d,m){if(this._easeId&&m&&this._easeId===m)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const w=this._zooming,E=this._rotating,M=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,w&&this.fire(new a.Event("zoomend",d)),E&&this.fire(new a.Event("rotateend",d)),M&&this.fire(new a.Event("pitchend",d)),this.fire(new a.Event("moveend",d))}flyTo(d,m){if(this._prefersReducedMotion(d)){const Bt=a.pick(d,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Bt,m)}this.stop(),d=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},d);const w=this.transform,E=this.getZoom(),M=this.getBearing(),O=this.getPitch(),F=this.getPadding(),U="zoom"in d?a.clamp(+d.zoom,w.minZoom,w.maxZoom):E,H="bearing"in d?this._normalizeBearing(d.bearing,M):M,G="pitch"in d?+d.pitch:O,ae="padding"in d?d.padding:w.padding,xe=w.zoomScale(U-E),Te=a.Point.convert(d.offset);let ke=w.centerPoint.add(Te);const Pe=w.pointLocation(ke),Ie=a.LngLat.convert(d.center||Pe);this._normalizeCenter(Ie);const se=w.project(Pe),Ae=w.project(Ie).sub(se);let Ne=d.curve;const Oe=Math.max(w.width,w.height),Xe=Oe/xe,Je=Ae.mag();if("minZoom"in d){const Bt=a.clamp(Math.min(d.minZoom,E,U),w.minZoom,w.maxZoom),Kt=Oe/w.zoomScale(Bt-E);Ne=Math.sqrt(Kt/Je*2)}const Qe=Ne*Ne;function ct(Bt){const Kt=(Xe*Xe-Oe*Oe+(Bt?-1:1)*Qe*Qe*Je*Je)/(2*(Bt?Xe:Oe)*Qe*Je);return Math.log(Math.sqrt(Kt*Kt+1)-Kt)}function ot(Bt){return(Math.exp(Bt)-Math.exp(-Bt))/2}function vt(Bt){return(Math.exp(Bt)+Math.exp(-Bt))/2}const Ut=ct(0);let ht=function(Bt){return vt(Ut)/vt(Ut+Ne*Bt)},Rt=function(Bt){return Oe*((vt(Ut)*(ot(Kt=Ut+Ne*Bt)/vt(Kt))-ot(Ut))/Qe)/Je;var Kt},xt=(ct(1)-Ut)/Ne;if(Math.abs(Je)<1e-6||!isFinite(xt)){if(Math.abs(Oe-Xe)<1e-6)return this.easeTo(d,m);const Bt=Xe<Oe?-1:1;xt=Math.abs(Math.log(Xe/Oe))/Ne,Rt=function(){return 0},ht=function(Kt){return Math.exp(Bt*Ne*Kt)}}d.duration="duration"in d?+d.duration:1e3*xt/("screenSpeed"in d?+d.screenSpeed/Ne:+d.speed),d.maxDuration&&d.duration>d.maxDuration&&(d.duration=0);const Vt=M!==H,yt=G!==O,Dt=!w.isPaddingEqual(ae),$t=Bt=>Kt=>{const vr=Kt*xt,Or=1/ht(vr);Bt.zoom=Kt===1?U:E+Bt.scaleZoom(Or),Vt&&(Bt.bearing=a.number(M,H,Kt)),yt&&(Bt.pitch=a.number(O,G,Kt)),Dt&&(Bt.interpolatePadding(F,ae,Kt),ke=Bt.centerPoint.add(Te));const lr=Kt===1?Ie:Bt.unproject(se.add(Ae.mult(Rt(vr))).mult(Or));return Bt.setLocationAtPoint(Bt.renderWorldCopies?lr.wrap():lr,ke),Bt._updateCameraOnTerrain(),d.preloadOnly||this._fireMoveEvents(m),Bt};if(d.preloadOnly){const Bt=this._emulate($t,d.duration,w);return this._preloadTiles(Bt),this}return this._zooming=!0,this._rotating=Vt,this._pitching=yt,this._padding=Dt,this._prepareEase(m,!1),this._ease($t(w),()=>this._afterEase(m),d),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(d,m){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const w=this._onEaseEnd;this._onEaseEnd=void 0,w.call(this,m)}if(!d){const w=this.handlers;w&&w.stop(!1)}return this}_ease(d,m,w){w.animate===!1||w.duration===0?(d(1),m()):(this._easeStart=a.exported.now(),this._easeOptions=w,this._onEaseFrame=d,this._onEaseEnd=m,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const d=Math.min((a.exported.now()-this._easeStart)/this._easeOptions.duration,1),m=this._onEaseFrame;m&&m(this._easeOptions.easing(d)),d<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(d,m){d=a.wrap(d,-180,180);const w=Math.abs(d-m);return Math.abs(d-360-m)<w&&(d-=360),Math.abs(d+360-m)<w&&(d+=360),d}_normalizeCenter(d){const m=this.transform;if(!m.renderWorldCopies||m.maxBounds)return;const w=d.lng-m.center.lng;d.lng+=w>180?-360:w<-180?360:0}_prefersReducedMotion(d){return this._respectPrefersReducedMotion&&a.exported.prefersReducedMotion&&!(d&&d.essential)}_emulate(d,m,w){const E=Math.ceil(15*m/1e3),M=[],O=d(w.clone());for(let F=0;F<=E;F++){const U=O(F/E);M.push(U.clone())}return M}}class or{constructor(d={}){this.options=d,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(d){const m=this.options&&this.options.compact;return this._map=d,this._container=_("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=_("button","mapboxgl-ctrl-attrib-button",this._container),_("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=_("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),m&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),m===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(d,m){const w=this._map._getUIString(`AttributionControl.${m}`);d.setAttribute("aria-label",w),d.removeAttribute("title"),d.firstElementChild&&d.firstElementChild.setAttribute("title",w)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let d=this._editLink;d||(d=this._editLink=this._container.querySelector(".mapbox-improve-map"));const m=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(d){const w=m.reduce((E,M,O)=>(M.value&&(E+=`${M.key}=${M.value}${O<m.length-1?"&":""}`),E),"?");d.href=`${a.config.FEEDBACK_URL}/${w}#${gf(this._map,!0)}`,d.rel="noopener nofollow",this._setElementTitle(d,"MapFeedback")}}_updateData(d){!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let d=[];if(this._map.style.stylesheet){const E=this._map.style.stylesheet;this.styleOwner=E.owner,this.styleId=E.id}const m=this._map.style._sourceCaches;for(const E in m){const M=m[E];if(M.used){const O=M.getSource();O.attribution&&d.indexOf(O.attribution)<0&&d.push(O.attribution)}}d.sort((E,M)=>E.length-M.length),d=d.filter((E,M)=>{for(let O=M+1;O<d.length;O++)if(d[O].indexOf(E)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?d=[...this.options.customAttribution,...d]:d.unshift(this.options.customAttribution));const w=d.join(" | ");w!==this._attribHTML&&(this._attribHTML=w,d.length?(this._innerContainer.innerHTML=w,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class w_{constructor(){a.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(d){this._map=d,this._container=_("div","mapboxgl-ctrl");const m=_("a","mapboxgl-ctrl-logo");return m.target="_blank",m.rel="noopener nofollow",m.href="https://www.mapbox.com/",m.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),m.setAttribute("rel","noopener nofollow"),this._container.appendChild(m),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(d){d&&d.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const d=this._map.style._sourceCaches;if(Object.entries(d).length===0)return!0;for(const m in d){const w=d[m].getSource();if(w.hasOwnProperty("mapbox_logo")&&!w.mapbox_logo)return!1}return!0}_updateCompact(){const d=this._container.children;if(d.length){const m=d[0];this._map.getCanvasContainer().offsetWidth<250?m.classList.add("mapboxgl-compact"):m.classList.remove("mapboxgl-compact")}}}class S_{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(d){const m=++this._id;return this._queue.push({callback:d,id:m,cancelled:!1}),m}remove(d){const m=this._currentlyRunning,w=m?this._queue.concat(m):this._queue;for(const E of w)if(E.id===d)return void(E.cancelled=!0)}run(d=0){const m=this._currentlyRunning=this._queue;this._queue=[];for(const w of m)if(!w.cancelled&&(w.callback(d),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function op(b,d,m){if(b=new a.LngLat(b.lng,b.lat),d){const w=new a.LngLat(b.lng-360,b.lat),E=new a.LngLat(b.lng+360,b.lat),M=360*Math.ceil(Math.abs(b.lng-m.center.lng)/360),O=m.locationPoint(b).distSqr(d),F=d.x<0||d.y<0||d.x>m.width||d.y>m.height;m.locationPoint(w).distSqr(d)<O&&(F||Math.abs(w.lng-m.center.lng)<M)?b=w:m.locationPoint(E).distSqr(d)<O&&(F||Math.abs(E.lng-m.center.lng)<M)&&(b=E)}for(;Math.abs(b.lng-m.center.lng)>180;){const w=m.locationPoint(b);if(w.x>=0&&w.y>=0&&w.x<=m.width&&w.y<=m.height)break;b.lng>m.center.lng?b.lng-=360:b.lng+=360}return b}const Cu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class rr extends a.Evented{constructor(d,m){if(super(),(d instanceof a.window.HTMLElement||m)&&(d=a.extend({element:d},m)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=d&&d.anchor||"center",this._color=d&&d.color||"#3FB1CE",this._scale=d&&d.scale||1,this._draggable=d&&d.draggable||!1,this._clickTolerance=d&&d.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=d&&d.rotation||0,this._rotationAlignment=d&&d.rotationAlignment||"auto",this._pitchAlignment=d&&d.pitchAlignment&&d.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=d&&d.occludedOpacity||.2,d&&d.element)this._element=d.element,this._offset=a.Point.convert(d&&d.offset||[0,0]);else{this._defaultMarker=!0,this._element=_("div");const E=41,M=27,O=T("svg",{display:"block",height:E*this._scale+"px",width:M*this._scale+"px",viewBox:`0 0 ${M} ${E}`},this._element),F=T("radialGradient",{id:"shadowGradient"},T("defs",{},O));T("stop",{offset:"10%","stop-opacity":.4},F),T("stop",{offset:"100%","stop-opacity":.05},F),T("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},O),T("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},O),T("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},O),T("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},O),this._offset=a.Point.convert(d&&d.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",E=>{E.preventDefault()}),this._element.addEventListener("mousedown",E=>{E.preventDefault()});const w=this._element.classList;for(const E in Cu)w.remove(`mapboxgl-marker-anchor-${E}`);w.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(d){return d===this._map||(this.remove(),this._map=d,d.getCanvasContainer().appendChild(this._element),d.on("move",this._updateMoving),d.on("moveend",this._update),d.on("remove",this._clearFadeTimer),d._addMarker(this),this.setDraggable(this._draggable),this._update(),d.on("click",this._onMapClick)),this}remove(){const d=this._map;return d&&(d.off("click",this._onMapClick),d.off("move",this._updateMoving),d.off("moveend",this._update),d.off("mousedown",this._addDragHandler),d.off("touchstart",this._addDragHandler),d.off("mouseup",this._onUp),d.off("touchend",this._onUp),d.off("mousemove",this._onMove),d.off("touchmove",this._onMove),d.off("remove",this._clearFadeTimer),d._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(d){return this._lngLat=a.LngLat.convert(d),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(d){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),d){if(!("offset"in d.options)){const E=Math.sqrt(Math.pow(13.5,2)/2);d.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[E,-1*(38.1-13.5+E)],"bottom-right":[-E,-1*(38.1-13.5+E)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=d,d._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(d){const m=d.code,w=d.charCode||d.keyCode;m!=="Space"&&m!=="Enter"&&w!==32&&w!==13||this.togglePopup()}_onMapClick(d){const m=d.originalEvent.target,w=this._element;this._popup&&(m===w||w.contains(m))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const d=this._popup;return d?(d.isOpen()?(d.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(d.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const d=this._map,m=this._pos;if(!d||!m)return!1;const w=d.unproject(m),E=d.getFreeCameraOptions();if(!E.position)return!1;const M=E.position.toLngLat();return M.distanceTo(w)<.9*M.distanceTo(this._lngLat)}_evaluateOpacity(){const d=this._map;if(!d)return;const m=this._pos;if(!m||m.x<0||m.x>d.transform.width||m.y<0||m.y>d.transform.height)return void this._clearFadeTimer();const w=d.unproject(m);let E;d._showingGlobe()&&a.isLngLatBehindGlobe(d.transform,this._lngLat)?E=0:(E=1-d._queryFogOpacity(w),d.transform._terrainEnabled()&&d.getTerrain()&&this._behindTerrain()&&(E*=this._occludedOpacity)),this._element.style.opacity=`${E}`,this._element.style.pointerEvents=E>0?"auto":"none",this._popup&&this._popup._setOpacity(E),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const d=this._pos;if(!d||!this._map)return;const m=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${d.x}px,${d.y}px)
            ${Cu[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${m.x}px,${m.y}px)
        `}_calculateXYTransform(){const d=this._pos,m=this._map,w=this.getPitchAlignment();if(!m||!d||w!=="map")return"";if(!m._showingGlobe()){const U=m.getPitch();return U?`rotateX(${U}deg)`:""}const E=a.radToDeg(a.globeTiltAtLngLat(m.transform,this._lngLat)),M=d.sub(a.globeCenterToScreenPoint(m.transform)),O=Math.abs(M.x)+Math.abs(M.y);if(O===0)return"";const F=E/O;return`rotateX(${-M.y*F}deg) rotateY(${M.x*F}deg)`}_calculateZTransform(){const d=this._pos,m=this._map;if(!m||!d)return"";let w=0;const E=this.getRotationAlignment();if(E==="map")if(m._showingGlobe()){const M=m.project(new a.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),O=m.project(new a.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(M);w=a.radToDeg(Math.atan2(O.y,O.x))-90}else w=-m.getBearing();else if(E==="horizon"){const M=a.smoothstep(4,6,m.getZoom()),O=a.globeCenterToScreenPoint(m.transform);O.y+=M*m.transform.height;const F=d.sub(O),U=a.radToDeg(Math.atan2(F.y,F.x));w=(U>90?U-270:U+90)*(1-M)}return w+=this._rotation,w?`rotateZ(${w}deg)`:""}_update(d){a.window.cancelAnimationFrame(this._updateFrameId);const m=this._map;m&&(m.transform.renderWorldCopies&&(this._lngLat=op(this._lngLat,this._pos,m.transform)),this._pos=m.project(this._lngLat),d===!0?this._updateFrameId=a.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),m._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(m._showingGlobe()||m.getTerrain()||m.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(d){return this._offset=a.Point.convert(d),this._update(),this}_onMove(d){const m=this._map;if(!m)return;const w=this._pointerdownPos,E=this._positionDelta;if(w&&E){if(!this._isDragging){const M=this._clickTolerance||m._clickTolerance;if(d.point.dist(w)<M)return;this._isDragging=!0}this._pos=d.point.sub(E),this._lngLat=m.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const d=this._map;d&&(d.off("mousemove",this._onMove),d.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"}_addDragHandler(d){const m=this._map,w=this._pos;m&&w&&this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(w),this._pointerdownPos=d.point,this._state="pending",m.on("mousemove",this._onMove),m.on("touchmove",this._onMove),m.once("mouseup",this._onUp),m.once("touchend",this._onUp))}setDraggable(d){this._draggable=!!d;const m=this._map;return m&&(d?(m.on("mousedown",this._addDragHandler),m.on("touchstart",this._addDragHandler)):(m.off("mousedown",this._addDragHandler),m.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(d){return this._rotation=d||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(d){return this._rotationAlignment=d||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(d){return this._pitchAlignment=d||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(d){return this._occludedOpacity=d||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const E_={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},y7=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function j6(b=new a.Point(0,0),d="bottom"){if(typeof b=="number"){const m=Math.round(Math.sqrt(.5*Math.pow(b,2)));switch(d){case"top":return new a.Point(0,b);case"top-left":return new a.Point(m,m);case"top-right":return new a.Point(-m,m);case"bottom":return new a.Point(0,-b);case"bottom-left":return new a.Point(m,-m);case"bottom-right":return new a.Point(-m,-m);case"left":return new a.Point(b,0);case"right":return new a.Point(-b,0)}return new a.Point(0,0)}return b instanceof a.Point||Array.isArray(b)?a.Point.convert(b):a.Point.convert(b[d]||[0,0])}class A_{constructor(d){this.jumpTo(d)}getValue(d){if(d<=this._startTime)return this._start;if(d>=this._endTime)return this._end;const m=a.easeCubicInOut((d-this._startTime)/(this._endTime-this._startTime));return this._start*(1-m)+this._end*m}isEasing(d){return d>=this._startTime&&d<=this._endTime}jumpTo(d){this._startTime=-1/0,this._endTime=-1/0,this._start=d,this._end=d}easeTo(d,m,w){this._start=this.getValue(m),this._end=d,this._startTime=m,this._endTime=m+w}}const V6={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use  + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},U6={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0},v7={showCompass:!0,showZoom:!0,visualizePitch:!1};class _7{constructor(d,m,w=!1){this._clickTolerance=10,this.element=m,this.mouseRotate=new y_({clickTolerance:d.dragRotate._mouseRotate._clickTolerance}),this.map=d,w&&(this.mousePitch=new v_({clickTolerance:d.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),m.addEventListener("mousedown",this.mousedown),m.addEventListener("touchstart",this.touchstart,{passive:!1}),m.addEventListener("touchmove",this.touchmove),m.addEventListener("touchend",this.touchend),m.addEventListener("touchcancel",this.reset)}down(d,m){this.mouseRotate.mousedown(d,m),this.mousePitch&&this.mousePitch.mousedown(d,m),C()}move(d,m){const w=this.map,E=this.mouseRotate.mousemoveWindow(d,m),M=E&&E.bearingDelta;if(M&&w.setBearing(w.getBearing()+M),this.mousePitch){const O=this.mousePitch.mousemoveWindow(d,m),F=O&&O.pitchDelta;F&&w.setPitch(w.getPitch()+F)}}off(){const d=this.element;d.removeEventListener("mousedown",this.mousedown),d.removeEventListener("touchstart",this.touchstart,{passive:!1}),d.removeEventListener("touchmove",this.touchmove),d.removeEventListener("touchend",this.touchend),d.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){L(),a.window.removeEventListener("mousemove",this.mousemove),a.window.removeEventListener("mouseup",this.mouseup)}mousedown(d){this.down(a.extend({},d,{ctrlKey:!0,preventDefault:()=>d.preventDefault()}),ee(this.element,d)),a.window.addEventListener("mousemove",this.mousemove),a.window.addEventListener("mouseup",this.mouseup)}mousemove(d){this.move(d,ee(this.element,d))}mouseup(d){this.mouseRotate.mouseupWindow(d),this.mousePitch&&this.mousePitch.mouseupWindow(d),this.offTemp()}touchstart(d){d.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=re(this.element,d.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>d.preventDefault()},this._startPos))}touchmove(d){d.targetTouches.length!==1?this.reset():(this._lastPos=re(this.element,d.targetTouches)[0],this.move({preventDefault:()=>d.preventDefault()},this._lastPos))}touchend(d){d.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const T_={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},M_={maxWidth:100,unit:"metric"},P_={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},sp={version:a.version,supported:f,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:class extends I0{constructor(b){if(a.LivePerformanceUtils.mark(a.PerformanceMarkers.create),(b=a.extend({},U6,b)).minZoom!=null&&b.maxZoom!=null&&b.minZoom>b.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(b.minPitch!=null&&b.maxPitch!=null&&b.minPitch>b.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(b.minPitch!=null&&b.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(b.maxPitch!=null&&b.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(b.antialias&&a.isSafariWithAntialiasingBug(a.window)&&(b.antialias=!1,a.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new rp(b.minZoom,b.maxZoom,b.minPitch,b.maxPitch,b.renderWorldCopies),b),this._interactive=b.interactive,this._minTileCacheSize=b.minTileCacheSize,this._maxTileCacheSize=b.maxTileCacheSize,this._failIfMajorPerformanceCaveat=b.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=b.preserveDrawingBuffer,this._antialias=b.antialias,this._useWebGL2=b.useWebGL2,this._trackResize=b.trackResize,this._bearingSnap=b.bearingSnap,this._refreshExpiredTiles=b.refreshExpiredTiles,this._fadeDuration=b.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=b.crossSourceCollisions,this._collectResourceTiming=b.collectResourceTiming,this._optimizeForTerrain=b.optimizeForTerrain,this._language=this._parseLanguage(b.language),this._worldview=b.worldview,this._renderTaskQueue=new S_,this._domRenderTaskQueue=new S_,this._controls=[],this._markers=[],this._popups=[],this._mapId=a.uniqueId(),this._locale=a.extend({},V6,b.locale),this._clickTolerance=b.clickTolerance,this._cooperativeGestures=b.cooperativeGestures,this._performanceMetricsCollection=b.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new A_(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new a.RequestManager(b.transformRequest,b.accessToken,b.testMode),this._silenceAuthErrors=!!b.testMode,typeof b.container=="string"){if(this._container=a.window.document.getElementById(b.container),!this._container)throw new Error(`Container '${b.container}' not found.`)}else{if(!(b.container instanceof a.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=b.container}if(this._container.childNodes.length>0&&a.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),b.maxBounds&&this.setMaxBounds(b.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),a.window!==void 0&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1),a.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),a.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new ul(this,b),this._localFontFamily=b.localFontFamily,this._localIdeographFontFamily=b.localIdeographFontFamily,b.style&&this.setStyle(b.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),b.projection&&this.setProjection(b.projection),this._hash=b.hash&&new h_(typeof b.hash=="string"&&b.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:b.center,zoom:b.zoom,bearing:b.bearing,pitch:b.pitch}),b.bounds&&(this.resize(),this.fitBounds(b.bounds,a.extend({},b.fitBoundsOptions,{duration:0})))),this.resize(),b.attributionControl&&this.addControl(new or({customAttribution:b.customAttribution})),this._logoControl=new w_,this.addControl(this._logoControl,b.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",d=>{this._update(d.dataType==="style"),this.fire(new a.Event(`${d.dataType}data`,d))}),this.on("dataloading",d=>{this.fire(new a.Event(`${d.dataType}dataloading`,d))})}_getMapId(){return this._mapId}addControl(b,d){if(d===void 0&&(d=b.getDefaultPosition?b.getDefaultPosition():"top-right"),!b||!b.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const m=b.onAdd(this);this._controls.push(b);const w=this._controlPositions[d];return d.indexOf("bottom")!==-1?w.insertBefore(m,w.firstChild):w.appendChild(m),this}removeControl(b){if(!b||!b.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const d=this._controls.indexOf(b);return d>-1&&this._controls.splice(d,1),b.onRemove(this),this}hasControl(b){return this._controls.indexOf(b)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(b){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const d=!this._moving;return d&&this.fire(new a.Event("movestart",b)).fire(new a.Event("move",b)),this.fire(new a.Event("resize",b)),d&&this.fire(new a.Event("moveend",b)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(b){return this.transform.setMaxBounds(a.LngLatBounds.convert(b)),this._update()}setMinZoom(b){if((b=b??-2)>=-2&&b<=this.transform.maxZoom)return this.transform.minZoom=b,this._update(),this.getZoom()<b?this.setZoom(b):this.fire(new a.Event("zoomstart")).fire(new a.Event("zoom")).fire(new a.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(b){if((b=b??22)>=this.transform.minZoom)return this.transform.maxZoom=b,this._update(),this.getZoom()>b?this.setZoom(b):this.fire(new a.Event("zoomstart")).fire(new a.Event("zoom")).fire(new a.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(b){if((b=b??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(b>=0&&b<=this.transform.maxPitch)return this.transform.minPitch=b,this._update(),this.getPitch()<b?this.setPitch(b):this.fire(new a.Event("pitchstart")).fire(new a.Event("pitch")).fire(new a.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(b){if((b=b??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(b>=this.transform.minPitch)return this.transform.maxPitch=b,this._update(),this.getPitch()>b?this.setPitch(b):this.fire(new a.Event("pitchstart")).fire(new a.Event("pitch")).fire(new a.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(b){return this.transform.renderWorldCopies=b,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(b){return b==="auto"?a.window.navigator.language:Array.isArray(b)?b.length===0?void 0:b.map(d=>d==="auto"?a.window.navigator.language:d):b}setLanguage(b){const d=this._parseLanguage(b);if(!this.style||d===this._language)return this;this._language=d,this.style._reloadSources();for(const m of this._controls)m._setLanguage&&m._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(b){return this.style&&b!==this._worldview?(this._worldview=b,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(b){return this._lazyInitEmptyStyle(),b?typeof b=="string"&&(b={name:b}):b=null,this._useExplicitProjection=!!b,this._prioritizeAndUpdateProjection(b,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const b=this.transform,d=b.projection.name;let m;d==="globe"&&b.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX?(b.setMercatorFromTransition(),m=!0):d==="mercator"&&b.zoom<a.GLOBE_ZOOM_THRESHOLD_MAX&&(b.setProjection({name:"globe"}),m=!0),m&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(b,d){return this._updateProjection(b||d||{name:"mercator"})}_updateProjection(b){let d;if(d=b.name==="globe"&&this.transform.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(b),this.style.applyProjectionUpdate(),d){this.painter.clearBackgroundTiles();for(const m in this.style._sourceCaches)this.style._sourceCaches[m].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(b){return this.transform.locationPoint3D(a.LngLat.convert(b))}unproject(b){return this.transform.pointLocation3D(a.Point.convert(b))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(b,d,m){if(b==="mouseenter"||b==="mouseover"){let w=!1;const E=O=>{const F=d.filter(H=>this.getLayer(H)),U=F.length?this.queryRenderedFeatures(O.point,{layers:F}):[];U.length?w||(w=!0,m.call(this,new xa(b,this,O.originalEvent,{features:U}))):w=!1},M=()=>{w=!1};return{layers:new Set(d),listener:m,delegates:{mousemove:E,mouseout:M}}}if(b==="mouseleave"||b==="mouseout"){let w=!1;const E=O=>{const F=d.filter(U=>this.getLayer(U));(F.length?this.queryRenderedFeatures(O.point,{layers:F}):[]).length?w=!0:w&&(w=!1,m.call(this,new xa(b,this,O.originalEvent)))},M=O=>{w&&(w=!1,m.call(this,new xa(b,this,O.originalEvent)))};return{layers:new Set(d),listener:m,delegates:{mousemove:E,mouseout:M}}}{const w=E=>{const M=d.filter(F=>this.getLayer(F)),O=M.length?this.queryRenderedFeatures(E.point,{layers:M}):[];O.length&&(E.features=O,m.call(this,E),delete E.features)};return{layers:new Set(d),listener:m,delegates:{[b]:w}}}}on(b,d,m){if(m===void 0)return super.on(b,d);Array.isArray(d)||(d=[d]);const w=this._createDelegatedListener(b,d,m);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[b]=this._delegatedListeners[b]||[],this._delegatedListeners[b].push(w);for(const E in w.delegates)this.on(E,w.delegates[E]);return this}once(b,d,m){if(m===void 0)return super.once(b,d);Array.isArray(d)||(d=[d]);const w=this._createDelegatedListener(b,d,m);for(const E in w.delegates)this.once(E,w.delegates[E]);return this}off(b,d,m){if(m===void 0)return super.off(b,d);d=new Set(Array.isArray(d)?d:[d]);const w=(M,O)=>{if(M.size!==O.size)return!1;for(const F of M)if(!O.has(F))return!1;return!0},E=this._delegatedListeners?this._delegatedListeners[b]:void 0;return E&&(M=>{for(let O=0;O<M.length;O++){const F=M[O];if(F.listener===m&&w(F.layers,d)){for(const U in F.delegates)this.off(U,F.delegates[U]);return M.splice(O,1),this}}})(E),this}queryRenderedFeatures(b,d){return this.style?(d!==void 0||b===void 0||b instanceof a.Point||Array.isArray(b)||(d=b,b=void 0),this.style.queryRenderedFeatures(b=b||[[0,0],[this.transform.width,this.transform.height]],d=d||{},this.transform)):[]}querySourceFeatures(b,d){return this.style.querySourceFeatures(b,d)}isPointOnSurface(b){const{name:d}=this.transform.projection;return d!=="globe"&&d!=="mercator"&&a.warnOnce(`${d} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(a.Point.convert(b))}setStyle(b,d){return(d=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},d)).diff!==!1&&d.localIdeographFontFamily===this._localIdeographFontFamily&&d.localFontFamily===this._localFontFamily&&this.style&&b?(this._diffStyle(b,d),this):(this._localIdeographFontFamily=d.localIdeographFontFamily,this._localFontFamily=d.localFontFamily,this._updateStyle(b,d))}_getUIString(b){const d=this._locale[b];if(d==null)throw new Error(`Missing UI string '${b}'`);return d}_updateStyle(b,d){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),b&&(this.style=new ll(this,d||{}),this.style.setEventedParent(this,{style:this.style}),typeof b=="string"?this.style.loadURL(b):this.style.loadJSON(b)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new ll(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(b,d){if(typeof b=="string"){const m=this._requestManager.normalizeStyleURL(b),w=this._requestManager.transformRequest(m,a.ResourceType.Style);a.getJSON(w,(E,M)=>{E?this.fire(new a.ErrorEvent(E)):M&&this._updateDiff(M,d)})}else typeof b=="object"&&this._updateDiff(b,d)}_updateDiff(b,d){try{this.style.setState(b)&&this._update(!0)}catch(m){a.warnOnce(`Unable to perform style diff: ${m.message||m.error||m}.  Rebuilding the style from scratch.`),this._updateStyle(b,d)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(a.warnOnce("There is no style added to the map."),!1)}addSource(b,d){return this._lazyInitEmptyStyle(),this.style.addSource(b,d),this._update(!0)}isSourceLoaded(b){return!!this.style&&this.style._isSourceCacheLoaded(b)}areTilesLoaded(){const b=this.style&&this.style._sourceCaches;for(const d in b){const m=b[d]._tiles;for(const w in m){const E=m[w];if(E.state!=="loaded"&&E.state!=="errored")return!1}}return!0}addSourceType(b,d,m){this._lazyInitEmptyStyle(),this.style.addSourceType(b,d,m)}removeSource(b){return this.style.removeSource(b),this._updateTerrain(),this._update(!0)}getSource(b){return this.style.getSource(b)}addImage(b,d,{pixelRatio:m=1,sdf:w=!1,stretchX:E,stretchY:M,content:O}={}){if(this._lazyInitEmptyStyle(),d instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&d instanceof a.window.ImageBitmap){const{width:F,height:U,data:H}=a.exported.getImageData(d);this.style.addImage(b,{data:new a.RGBAImage({width:F,height:U},H),pixelRatio:m,stretchX:E,stretchY:M,content:O,sdf:w,version:0})}else if(d.width===void 0||d.height===void 0)this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:F,height:U}=d,H=d;this.style.addImage(b,{data:new a.RGBAImage({width:F,height:U},new Uint8Array(H.data)),pixelRatio:m,stretchX:E,stretchY:M,content:O,sdf:w,version:0,userImage:H}),H.onAdd&&H.onAdd(this,b)}}updateImage(b,d){const m=this.style.getImage(b);if(!m)return void this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const w=d instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&d instanceof a.window.ImageBitmap?a.exported.getImageData(d):d,{width:E,height:M}=w;E!==void 0&&M!==void 0?E===m.data.width&&M===m.data.height?(m.data.replace(w.data,!(d instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&d instanceof a.window.ImageBitmap)),this.style.updateImage(b,m)):this.fire(new a.ErrorEvent(new Error(`The width and height of the updated image (${E}, ${M})
                must be that same as the previous version of the image
                (${m.data.width}, ${m.data.height})`))):this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(b){return b?!!this.style.getImage(b):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(b){this.style.removeImage(b)}loadImage(b,d){a.getImage(this._requestManager.transformRequest(b,a.ResourceType.Image),(m,w)=>{d(m,w instanceof a.window.HTMLImageElement?a.exported.getImageData(w):w)})}listImages(){return this.style.listImages()}addLayer(b,d){return this._lazyInitEmptyStyle(),this.style.addLayer(b,d),this._update(!0)}moveLayer(b,d){return this.style.moveLayer(b,d),this._update(!0)}removeLayer(b){return this.style.removeLayer(b),this._update(!0)}getLayer(b){return this.style.getLayer(b)}setLayerZoomRange(b,d,m){return this.style.setLayerZoomRange(b,d,m),this._update(!0)}setFilter(b,d,m={}){return this.style.setFilter(b,d,m),this._update(!0)}getFilter(b){return this.style.getFilter(b)}setPaintProperty(b,d,m,w={}){return this.style.setPaintProperty(b,d,m,w),this._update(!0)}getPaintProperty(b,d){return this.style.getPaintProperty(b,d)}setLayoutProperty(b,d,m,w={}){return this.style.setLayoutProperty(b,d,m,w),this._update(!0)}getLayoutProperty(b,d){return this.style.getLayoutProperty(b,d)}setLight(b,d={}){return this._lazyInitEmptyStyle(),this.style.setLight(b,d),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(b){return this._lazyInitEmptyStyle(),!b&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(b),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(b){return this._lazyInitEmptyStyle(),this.style.setFog(b),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(b){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(a.LngLat.convert(b),this.transform):0}setFeatureState(b,d){return this.style.setFeatureState(b,d),this._update()}removeFeatureState(b,d){return this.style.removeFeatureState(b,d),this._update()}getFeatureState(b){return this.style.getFeatureState(b)}_updateContainerDimensions(){if(!this._container)return;const b=this._container.getBoundingClientRect().width||400,d=this._container.getBoundingClientRect().height||300;let m,w,E,M=this._container;for(;M&&(!w||!E);){const O=a.window.getComputedStyle(M).transform;O&&O!=="none"&&(m=O.match(/matrix.*\((.+)\)/)[1].split(", "),m[0]&&m[0]!=="0"&&m[0]!=="1"&&(w=m[0]),m[3]&&m[3]!=="0"&&m[3]!=="1"&&(E=m[3])),M=M.parentElement}this._containerWidth=w?Math.abs(b/w):b,this._containerHeight=E?Math.abs(d/E):d}_detectMissingCSS(){a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const b=this._container;b.classList.add("mapboxgl-map"),(this._missingCSSCanary=_("div","mapboxgl-canary",b)).style.visibility="hidden",this._detectMissingCSS();const d=this._canvasContainer=_("div","mapboxgl-canvas-container",b);this._interactive&&d.classList.add("mapboxgl-interactive"),this._canvas=_("canvas","mapboxgl-canvas",d),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const m=this._controlContainer=_("div","mapboxgl-control-container",b),w=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(E=>{w[E]=_("div",`mapboxgl-ctrl-${E}`,m)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(b,d){const m=a.exported.devicePixelRatio||1;this._canvas.width=m*Math.ceil(b),this._canvas.height=m*Math.ceil(d),this._canvas.style.width=`${b}px`,this._canvas.style.height=`${d}px`}_addMarker(b){this._markers.push(b)}_removeMarker(b){const d=this._markers.indexOf(b);d!==-1&&this._markers.splice(d,1)}_addPopup(b){this._popups.push(b)}_removePopup(b){const d=this._popups.indexOf(b);d!==-1&&this._popups.splice(d,1)}_setupPainter(){const b=a.extend({},f.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),d=this._useWebGL2&&this._canvas.getContext("webgl2",b),m=d||this._canvas.getContext("webgl",b)||this._canvas.getContext("experimental-webgl",b);m?(this._useWebGL2&&!d&&a.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),a.storeAuthState(m,!0),this.painter=new ep(m,this.transform,!!d),this.on("data",w=>{w.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),a.exported$1.testSupport(m)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(b){b.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:b}))}_contextRestored(b){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:b}))}_onMapScroll(b){if(b.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(b){return this.style?(this._styleDirty=this._styleDirty||b,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(b){return this._update(),this._renderTaskQueue.add(b)}_cancelRenderFrame(b){this._renderTaskQueue.remove(b)}_requestDomTask(b){!this.loaded()||this.loaded()&&!this.isMoving()?b():this._domRenderTaskQueue.add(b)}_render(b){let d;const m=this.painter.context.extTimerQuery,w=a.exported.now();if(this.listens("gpu-timing-frame")&&(d=m.createQueryEXT(),m.beginQueryEXT(m.TIME_ELAPSED_EXT,d)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],a.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],a.window.performance.now())),this._renderTaskQueue.run(b),this._domRenderTaskQueue.run(b),this._removed)return;this._updateProjectionTransition();const E=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const F=this.transform.zoom,U=this.transform.pitch,H=a.exported.now(),G=new a.EvaluationParameters(F,{now:H,fadeDuration:E,pitch:U,transition:this.style.getTransition()});this.style.update(G)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let M=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),M=this._updateAverageElevation(w),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):M=this._updateAverageElevation(w),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,E,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:E,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),d){const F=a.exported.now()-w;m.endQueryEXT(m.TIME_ELAPSED_EXT,d),setTimeout(()=>{const U=m.getQueryObjectEXT(d,m.QUERY_RESULT_EXT)/1e6;m.deleteQueryEXT(d),this.fire(new a.Event("gpu-timing-frame",{cpuTime:F,gpuTime:U})),a.window.performance.mark("frame-gpu",{startTime:w,detail:{gpuTime:U}})},50)}if(this.listens("gpu-timing-layer")){const F=this.painter.collectGpuTimers();setTimeout(()=>{const U=this.painter.queryGpuTimers(F);this.fire(new a.Event("gpu-timing-layer",{layerTimes:U}))},50)}if(this.listens("gpu-timing-deferred-render")){const F=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const U=this.painter.queryGpuTimeDeferredRender(F);this.fire(new a.Event("gpu-timing-deferred-render",{gpuTime:U}))},50)}const O=this._sourcesDirty||this._styleDirty||this._placementDirty||M;if(O||this._repaint)this.triggerRepaint();else{const F=!this.isMoving()&&this.loaded();if(F&&(M=this._updateAverageElevation(w,!0)),M)this.triggerRepaint();else if(this._triggerFrame(!1),F&&(this.fire(new a.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const U=this._calculateSpeedIndex();this.fire(new a.Event("speedindexcompleted",{speedIndex:U})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||O||(this._fullyLoaded=!0,a.LivePerformanceUtils.mark(a.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&a.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(b){for(const d of this._markers)b&&!this.getRenderWorldCopies()&&(d._lngLat=d._lngLat.wrap()),d._update();for(const d of this._popups)!b||this.getRenderWorldCopies()||d._trackPointer||(d._lngLat=d._lngLat.wrap()),d._update()}_updateAverageElevation(b,d=!1){const m=w=>(this.transform.averageElevation=w,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&m(0);if((d||b-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(b)){const w=this.transform.averageElevation;let E=this.transform.sampleAverageElevation(),M=!1;this.transform.elevation&&(M=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(E)?E=0:this._averageElevationLastSampledAt=b;const O=Math.abs(w-E);if(O>1){if(this._isInitialLoad||M)return this._averageElevation.jumpTo(E),m(E);this._averageElevation.easeTo(E,b,300)}else if(O>1e-4)return this._averageElevation.jumpTo(E),m(E)}return!!this._averageElevation.isEasing(b)&&m(this._averageElevation.getValue(b))}_authenticate(){a.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,b=>{if(b&&(b.message===a.AUTH_ERR_MSG||b.status===401)){const d=this.painter.context.gl;a.storeAuthState(d,!1),this._logoControl instanceof w_&&this._logoControl._updateLogo(),d&&d.clear(d.DEPTH_BUFFER_BIT|d.COLOR_BUFFER_BIT|d.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new a.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),a.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const b=this._isDragging();this.painter.updateTerrain(this.style,b)}_calculateSpeedIndex(){const b=this.painter.canvasCopy(),d=this.painter.getCanvasCopiesAndTimestamps();d.timeStamps.push(performance.now());const m=this.painter.context.gl,w=m.createFramebuffer();function E(M){m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,M,0);const O=new Uint8Array(m.drawingBufferWidth*m.drawingBufferHeight*4);return m.readPixels(0,0,m.drawingBufferWidth,m.drawingBufferHeight,m.RGBA,m.UNSIGNED_BYTE,O),O}return m.bindFramebuffer(m.FRAMEBUFFER,w),this._canvasPixelComparison(E(b),d.canvasCopies.map(E),d.timeStamps)}_canvasPixelComparison(b,d,m){let w=m[1]-m[0];const E=b.length/4;for(let M=0;M<d.length;M++){const O=d[M];let F=0;for(let U=0;U<O.length;U+=4)O[U]===b[U]&&O[U+1]===b[U+1]&&O[U+2]===b[U+2]&&O[U+3]===b[U+3]&&(F+=1);w+=(m[M+2]-m[M+1])*(1-F/E)}return w}remove(){this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),a.window!==void 0&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1),a.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const b=this.painter.context.gl.getExtension("WEBGL_lose_context");b&&b.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),a.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new a.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(b){this._renderNextFrame=this._renderNextFrame||b,this.style&&!this._frame&&(this._frame=a.exported.frame(d=>{const m=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,m&&this._render(d)}))}_preloadTiles(b){const d=this.style?Object.values(this.style._sourceCaches):[];return a.asyncAll(d,(m,w)=>m._preloadTiles(b,w),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(b){this._trackResize&&this.resize({originalEvent:b})._update()}_onVisibilityChange(){a.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(b){this._showTileBoundaries!==b&&(this._showTileBoundaries=b,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(b){this._showTerrainWireframe!==b&&(this._showTerrainWireframe=b,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(b){this._speedIndexTiming!==b&&(this._speedIndexTiming=b,this._update())}get showPadding(){return!!this._showPadding}set showPadding(b){this._showPadding!==b&&(this._showPadding=b,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(b){this._showCollisionBoxes!==b&&(this._showCollisionBoxes=b,b?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(b){this._showOverdrawInspector!==b&&(this._showOverdrawInspector=b,this._update())}get repaint(){return!!this._repaint}set repaint(b){this._repaint!==b&&(this._repaint=b,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(b){this._vertices=b,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(b){this._showTileAABBs!==b&&(this._showTileAABBs=b,b&&this._update())}_setCacheLimits(b,d){a.setCacheLimits(b,d)}get version(){return a.version}},NavigationControl:class{constructor(b){this.options=a.extend({},v7,b),this._container=_("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",d=>d.preventDefault()),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",d=>{this._map&&this._map.zoomIn({},{originalEvent:d})}),_("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",d=>{this._map&&this._map.zoomOut({},{originalEvent:d})}),_("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",d=>{const m=this._map;m&&(this.options.visualizePitch?m.resetNorthPitch({},{originalEvent:d}):m.resetNorth({},{originalEvent:d}))}),this._compassIcon=_("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const b=this._map;if(!b)return;const d=b.getZoom(),m=d===b.getMaxZoom(),w=d===b.getMinZoom();this._zoomInButton.disabled=m,this._zoomOutButton.disabled=w,this._zoomInButton.setAttribute("aria-disabled",m.toString()),this._zoomOutButton.setAttribute("aria-disabled",w.toString())}_rotateCompassArrow(){const b=this._map;if(!b)return;const d=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(b.transform.pitch*(Math.PI/180)),.5)}) rotateX(${b.transform.pitch}deg) rotateZ(${b.transform.angle*(180/Math.PI)}deg)`:`rotate(${b.transform.angle*(180/Math.PI)}deg)`;b._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=d)})}onAdd(b){return this._map=b,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),b.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&b.on("pitch",this._rotateCompassArrow),b.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new _7(b,this._compass,this.options.visualizePitch)),this._container}onRemove(){const b=this._map;b&&(this._container.remove(),this.options.showZoom&&b.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&b.off("pitch",this._rotateCompassArrow),b.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(b,d){const m=_("button",b,this._container);return m.type="button",m.addEventListener("click",d),m}_setButtonTitle(b,d){if(!this._map)return;const m=this._map._getUIString(`NavigationControl.${d}`);b.setAttribute("aria-label",m),b.firstElementChild&&b.firstElementChild.setAttribute("title",m)}},GeolocateControl:class extends a.Evented{constructor(b){super(),this.options=a.extend({geolocation:a.window.navigator.geolocation},T_,b),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=np(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(b){return this._map=b,this._container=_("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(b){const d=(m=!!this.options.geolocation)=>{this._supportsGeolocation=m,b(m)};this._supportsGeolocation!==void 0?b(this._supportsGeolocation):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(m=>d(m.state!=="denied")).catch(()=>d()):d()}_isOutOfMapMaxBounds(b){const d=this._map.getMaxBounds(),m=b.coords;return!!d&&(m.longitude<d.getWest()||m.longitude>d.getEast()||m.latitude<d.getSouth()||m.latitude>d.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(b){if(this._map){if(this._isOutOfMapMaxBounds(b))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",b)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=b,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(b),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(b),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",b)),this._finish()}}_updateCamera(b){const d=new a.LngLat(b.coords.longitude,b.coords.latitude),m=b.coords.accuracy,w=this._map.getBearing(),E=a.extend({bearing:w},this.options.fitBoundsOptions);this._map.fitBounds(d.toBounds(m),E,{geolocateSource:!0})}_updateMarker(b){if(b){const d=new a.LngLat(b.coords.longitude,b.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=b.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const b=this._map.transform,d=a.mercatorZfromAltitude(1,b._center.lat)*b.worldSize,m=Math.ceil(2*this._accuracy*d);this._circleElement.style.width=`${m}px`,this._circleElement.style.height=`${m}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(b){if(this._map){if(this.options.trackUserLocation)if(b.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(b.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",b)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(b){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",d=>d.preventDefault()),this._geolocateButton=_("button","mapboxgl-ctrl-geolocate",this._container),_("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",b===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=_("div","mapboxgl-user-location"),this._dotElement.appendChild(_("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(_("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new rr({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=_("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new rr({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new a.Event("trackuserlocationend")))})}}_onDeviceOrientation(b){this._userLocationDotMarker&&(b.webkitCompassHeading?this._heading=b.webkitCompassHeading:b.absolute===!0&&(this._heading=-1*b.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let b;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(b={maximumAge:6e5,timeout:0},this._noTimeout=!0):(b=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,b),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const b=()=>{a.window.addEventListener("ondeviceorientationabsolute"in a.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};a.window.DeviceMotionEvent!==void 0&&typeof a.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(d=>{d==="granted"&&b()}).catch(console.error):b()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),a.window.removeEventListener("deviceorientation",this._onDeviceOrientation),a.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:or,ScaleControl:class{constructor(b){this.options=a.extend({},M_,b),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),a.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const b=this.options.maxWidth||100,d=this._map,m=d._containerHeight/2,w=d._containerWidth/2-b/2,E=d.unproject([w,m]),M=d.unproject([w+b,m]),O=E.distanceTo(M);if(this.options.unit==="imperial"){const F=3.2808*O;F>5280?this._setScale(b,F/5280,"mile"):this._setScale(b,F,"foot")}else this.options.unit==="nautical"?this._setScale(b,O/1852,"nautical-mile"):O>=1e3?this._setScale(b,O/1e3,"kilometer"):this._setScale(b,O,"meter")}_setScale(b,d,m){this._map._requestDomTask(()=>{const w=function(M){const O=Math.pow(10,`${Math.floor(M)}`.length-1);let F=M/O;return F=F>=10?10:F>=5?5:F>=3?3:F>=2?2:F>=1?1:function(U){const H=Math.pow(10,Math.ceil(-Math.log(U)/Math.LN10));return Math.round(U*H)/H}(F),O*F}(d),E=w/d;this._container.innerHTML=this._isNumberFormatSupported&&m!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:m}).format(w):`${w}&nbsp;${P_[m]}`,this._container.style.width=b*E+"px"})}onAdd(b){return this._map=b,this._language=b.getLanguage(),this._container=_("div","mapboxgl-ctrl mapboxgl-ctrl-scale",b.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(b){this._language=b,this._update()}setUnit(b){this.options.unit=b,this._update()}},FullscreenControl:class{constructor(b){this._fullscreen=!1,b&&b.container&&(b.container instanceof a.window.HTMLElement?this._container=b.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in a.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(b){return this._map=b,this._container||(this._container=this._map.getContainer()),this._controlContainer=_("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!a.window.document.fullscreenEnabled&&!a.window.document.webkitFullscreenEnabled)}_setupUI(){const b=this._fullscreenButton=_("button","mapboxgl-ctrl-fullscreen",this._controlContainer);_("span","mapboxgl-ctrl-icon",b).setAttribute("aria-hidden","true"),b.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const b=this._getTitle();this._fullscreenButton.setAttribute("aria-label",b),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",b)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(a.window.document.fullscreenElement||a.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends a.Evented{constructor(b){super(),this.options=a.extend(Object.create(E_),b),a.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(b&&b.className?b.className.trim().split(/\s+/):[])}addTo(b){return this._map&&this.remove(),this._map=b,this.options.closeOnClick&&b.on("preclick",this._onClose),this.options.closeOnMove&&b.on("move",this._onClose),b.on("remove",this.remove),this._update(),b._addPopup(this),this._focusFirstElement(),this._trackPointer?(b.on("mousemove",this._onMouseEvent),b.on("mouseup",this._onMouseEvent),b._canvasContainer.classList.add("mapboxgl-track-pointer")):b.on("move",this._update),this.fire(new a.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const b=this._map;return b&&(b.off("move",this._update),b.off("move",this._onClose),b.off("preclick",this._onClose),b.off("click",this._onClose),b.off("remove",this.remove),b.off("mousemove",this._onMouseEvent),b.off("mouseup",this._onMouseEvent),b.off("drag",this._onMouseEvent),b._canvasContainer&&b._canvasContainer.classList.remove("mapboxgl-track-pointer"),b._removePopup(this),this._map=void 0),this.fire(new a.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(b){this._lngLat=a.LngLat.convert(b),this._pos=null,this._trackPointer=!1,this._update();const d=this._map;return d&&(d.on("move",this._update),d.off("mousemove",this._onMouseEvent),d._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const b=this._map;return b&&(b.off("move",this._update),b.on("mousemove",this._onMouseEvent),b.on("drag",this._onMouseEvent),b._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(b){return this.setDOMContent(a.window.document.createTextNode(b))}setHTML(b){const d=a.window.document.createDocumentFragment(),m=a.window.document.createElement("body");let w;for(m.innerHTML=b;w=m.firstChild,w;)d.appendChild(w);return this.setDOMContent(d)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(b){return this.options.maxWidth=b,this._update(),this}setDOMContent(b){let d=this._content;if(d)for(;d.hasChildNodes();)d.firstChild&&d.removeChild(d.firstChild);else d=this._content=_("div","mapboxgl-popup-content",this._container||void 0);if(d.appendChild(b),this.options.closeButton){const m=this._closeButton=_("button","mapboxgl-popup-close-button",d);m.type="button",m.setAttribute("aria-label","Close popup"),m.setAttribute("aria-hidden","true"),m.innerHTML="&#215;",m.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(b){return this._classList.add(b),this._updateClassList(),this}removeClassName(b){return this._classList.delete(b),this._updateClassList(),this}setOffset(b){return this.options.offset=b,this._update(),this}toggleClassName(b){let d;return this._classList.delete(b)?d=!1:(this._classList.add(b),d=!0),this._updateClassList(),d}_onMouseEvent(b){this._update(b.point)}_getAnchor(b){if(this.options.anchor)return this.options.anchor;const d=this._map,m=this._container,w=this._pos;if(!d||!m||!w)return"bottom";const E=m.offsetWidth,M=m.offsetHeight,O=w.x<E/2,F=w.x>d.transform.width-E/2;if(w.y+b<M)return O?"top-left":F?"top-right":"top";if(w.y>d.transform.height-M){if(O)return"bottom-left";if(F)return"bottom-right"}return O?"left":F?"right":"bottom"}_updateClassList(){const b=this._container;if(!b)return;const d=[...this._classList];d.push("mapboxgl-popup"),this._anchor&&d.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&d.push("mapboxgl-popup-track-pointer"),b.className=d.join(" ")}_update(b){const d=this._map,m=this._content;if(!d||!this._lngLat&&!this._trackPointer||!m)return;let w=this._container;if(w||(w=this._container=_("div","mapboxgl-popup",d.getContainer()),this._tip=_("div","mapboxgl-popup-tip",w),w.appendChild(m)),this.options.maxWidth&&w.style.maxWidth!==this.options.maxWidth&&(w.style.maxWidth=this.options.maxWidth),d.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=op(this._lngLat,this._pos,d.transform)),!this._trackPointer||b){const E=this._pos=this._trackPointer&&b?b:d.project(this._lngLat),M=j6(this.options.offset),O=this._anchor=this._getAnchor(M.y),F=j6(this.options.offset,O),U=E.add(F).round();d._requestDomTask(()=>{this._container&&O&&(this._container.style.transform=`${Cu[O]} translate(${U.x}px,${U.y}px)`)})}if(!this._marker&&d._showingGlobe()){const E=a.isLngLatBehindGlobe(d.transform,this._lngLat)?0:1;this._setOpacity(E)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const b=this._container.querySelector(y7);b&&b.focus()}_onClose(){this.remove()}_setOpacity(b){this._container&&(this._container.style.opacity=`${b}`),this._content&&(this._content.style.pointerEvents=b?"auto":"none")}},Marker:rr,Style:ll,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,FreeCameraOptions:A6,Evented:a.Evented,config:a.config,prewarm:function(){ol().acquire($o)},clearPrewarmedResources:function(){const b=bn;b&&(b.isPreloaded()&&b.numActive()===1?(b.release($o),bn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(b){a.config.ACCESS_TOKEN=b},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(b){a.config.API_URL=b},get workerCount(){return pn.workerCount},set workerCount(b){pn.workerCount=b},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(b){a.config.MAX_PARALLEL_IMAGE_REQUESTS=b},clearStorage(b){a.clearTileCache(b)},workerUrl:"",workerClass:null,setNow:a.exported.setNow,restoreNow:a.exported.restoreNow};return sp});var l=i;return l})})(Hle);var Yle=Hle.exports;const MB=Mc(Yle),aje=tZ({__proto__:null,default:MB},[Yle]);var KS="Collapsible",[oje,IUe]=nl(KS),[sje,PB]=oje(KS),Xle=R.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:s,onOpenChange:l,...a}=e,[p,f]=Uh({prop:n,defaultProp:i??!1,onChange:l,caller:KS});return B.jsx(sje,{scope:r,disabled:s,contentId:Ad(),open:p,onOpenToggle:R.useCallback(()=>f(g=>!g),[f]),children:B.jsx(on.div,{"data-state":IB(p),"data-disabled":s?"":void 0,...a,ref:t})})});Xle.displayName=KS;var Qle="CollapsibleTrigger",Jle=R.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,i=PB(Qle,r);return B.jsx(on.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":IB(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:t,onClick:Er(e.onClick,i.onOpenToggle)})});Jle.displayName=Qle;var kB="CollapsibleContent",ece=R.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=PB(kB,e.__scopeCollapsible);return B.jsx(zl,{present:r||i.open,children:({present:s})=>B.jsx(lje,{...n,ref:t,present:s})})});ece.displayName=kB;var lje=R.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:i,...s}=e,l=PB(kB,r),[a,p]=R.useState(n),f=R.useRef(null),g=ri(t,f),v=R.useRef(0),_=v.current,T=R.useRef(0),z=T.current,I=l.open||a,k=R.useRef(I),C=R.useRef(void 0);return R.useEffect(()=>{const L=requestAnimationFrame(()=>k.current=!1);return()=>cancelAnimationFrame(L)},[]),el(()=>{const L=f.current;if(L){C.current=C.current||{transitionDuration:L.style.transitionDuration,animationName:L.style.animationName},L.style.transitionDuration="0s",L.style.animationName="none";const N=L.getBoundingClientRect();v.current=N.height,T.current=N.width,k.current||(L.style.transitionDuration=C.current.transitionDuration,L.style.animationName=C.current.animationName),p(n)}},[l.open,n]),B.jsx(on.div,{"data-state":IB(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!I,...s,ref:g,style:{"--radix-collapsible-content-height":_?`${_}px`:void 0,"--radix-collapsible-content-width":z?`${z}px`:void 0,...e.style},children:I&&i})});function IB(e){return e?"open":"closed"}var cje=Xle;const uje=cje,dje=Jle,pje=ece;MB.accessToken="pk.eyJ1IjoiaGltYW5zaHUtcmF3YXQtNyIsImEiOiJjbTIxcmViNm0weGZnMmpxc2E0dmIwazdhIn0.0n9VXfbQP3k05uC86PMGDg";const hje="3cPa38rQWYLJ6iij1crMnCgzV3q42sR1ae42tWdGhjqs",YH={latitude:28.4996139,longitude:77.2457196,zoom:13,bearing:0,pitch:0},fje={id:"route",type:"line",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#F59E0B","line-width":4,"line-dasharray":[2,2]},source:"route"};function mje(){var Ht,_e,Me,we;const[e]=u2e(),t=e.get("nft"),{nfts:r,claimNFT:n,userLocation:i,watchUserLocation:s,updateNFTMint:l}=H4(),{toast:a}=T4(),p=l2(),{connection:f}=B9(),g=Iy(),{publicKey:v,connected:_,connecting:T}=g,[z,I]=R.useState(!1),[k,C]=R.useState(!1);R.useState(!1);const[L,N]=R.useState(!1),[$,ee]=R.useState(YH),[re,ne]=R.useState(null),[ie,me]=R.useState(!1),[Ze,et]=R.useState([]),[Ke,ye]=R.useState(null),[j,Z]=R.useState(null),[oe,le]=R.useState(0),[Q,ce]=R.useState(!1),Ee=R.useRef(null),fe=R.useRef(0),K=R.useRef(null),pe=r.find(be=>be.id===t);R.useEffect(()=>{s();const be=()=>{fe.current=(fe.current+1)%100,K.current=requestAnimationFrame(be)};return K.current=requestAnimationFrame(be),()=>{K.current&&cancelAnimationFrame(K.current)}},[]),R.useEffect(()=>{i&&!ie&&ee(be=>({...be,latitude:i.lat,longitude:i.lng}))},[i,ie]);const Et=R.useCallback(async(be,rt)=>{var pt;try{const Jt=await(await fetch(`https://api.mapbox.com/directions/v5/mapbox/walking/${be[0]},${be[1]};${rt[0]},${rt[1]}?steps=true&geometries=geojson&access_token=${MB.accessToken}`)).json();(pt=Jt.routes)!=null&&pt[0]&&(ne({type:"Feature",properties:{},geometry:{type:"LineString",coordinates:Jt.routes[0].geometry.coordinates}}),et(Jt.routes[0].legs[0].steps))}catch(Ct){console.error("Error fetching route:",Ct)}},[]);R.useEffect(()=>{pe&&i&&Et([i.lng,i.lat],[pe.location.lng,pe.location.lat])},[pe,i,Et]),R.useEffect(()=>{if(pe&&i){const be=Math.sqrt(Math.pow(i.lat-pe.location.lat,2)+Math.pow(i.lng-pe.location.lng,2));N(be<.002)}},[pe,i]);const zt=()=>{me(!0),ce(!0),i&&ee(be=>({...be,latitude:i.lat,longitude:i.lng,zoom:16,pitch:60,bearing:0}))},Ve=()=>{me(!1),ce(!1),ee(YH)},Be=async()=>{if(!f)return a({title:"Connection Error",description:"No connection to Solana network",variant:"destructive"}),null;if(!_)return a({title:"Wallet Not Connected",description:"Please connect your wallet first",variant:"destructive"}),null;try{const be=Xre(f.rpcEndpoint).use(_x.mplTokenMetadata()).use(_Fe(g)),rt=tS(be),{signature:pt}=await _x.createNft(be,{mint:rt,name:(pe==null?void 0:pe.name)||"India Gate NFT",symbol:"LNFT",uri:(pe==null?void 0:pe.imageUrl)||"https://raw.githubusercontent.com/himanshu-rawat77/NFT-Go-main/main/public/sample.json",sellerFeeBasisPoints:$te(0),isCollection:!1,collection:{key:Ec(hje),verified:!1}}).sendAndConfirm(be);await be.rpc.confirmTransaction(pt,{strategy:{type:"blockhash",...await be.rpc.getLatestBlockhash()}});const Ct=await _x.fetchDigitalAsset(be,rt.publicKey);return{success:!0,mintAddress:rt.publicKey,nft:Ct,signature:pt}}catch(be){return console.error("Error minting NFT:",be),{success:!1,error:be instanceof Error?be.message:"Failed to mint NFT"}}},ut=async()=>{var be,rt;if(!_&&!T){a({title:"Wallet Not Connected",description:"Please connect your wallet to claim NFTs",variant:"default"});return}I(!0),C(!0);try{const pt=await Be();if(pt!=null&&pt.mintAddress)pe&&(await n(pe),l(pe.id,pt.mintAddress.toString())),Z({success:!0,mintAddress:pt.mintAddress,nft:pt.nft||null,signature:pt.signature}),a({title:"NFT Claimed Successfully!",description:"Check your wallet for the NFT. It may take a few minutes to appear."}),ye(pt.mintAddress.toString());else throw new Error("No mint address returned")}catch(pt){console.error("Error in claim process:",pt),(be=pt.message)!=null&&be.includes("AccountNotFoundError")||(rt=pt.message)!=null&&rt.includes("No mint address returned")?(a({title:"NFT Likely Claimed Successfully",description:"The NFT may take a few minutes to appear in your wallet. Please check back later."}),pe&&await n(pe),Z({success:!0,mintAddress:"pending",nft:null,signature:null})):a({title:"Claim Failed",description:"Failed to claim and mint NFT",variant:"destructive"})}finally{I(!1),C(!1)}},bt=pe!=null&&pe.distance?Math.round(pe.distance*12):0;return i?B.jsxs("div",{className:"space-y-4",children:[B.jsxs(Gr.div,{className:"flex justify-between items-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[B.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"Map Explorer"}),B.jsxs("div",{className:"flex space-x-2",children:[_?pe&&L&&B.jsx(Xn,{onClick:ut,disabled:z||k,className:"gap-2",children:z?B.jsxs(B.Fragment,{children:[B.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Scanning..."]}):k?B.jsxs(B.Fragment,{children:[B.jsx("div",{className:"animate-pulse",children:B.jsx(Sm,{className:"h-4 w-4"})}),"Claiming..."]}):B.jsxs(B.Fragment,{children:[B.jsx($me,{className:"h-4 w-4"}),"Scan QR Code"]})}):B.jsx(G3e,{}),B.jsxs(jO,{children:[B.jsx(soe,{asChild:!0,children:B.jsx(Xn,{variant:"outline",size:"icon",className:"border-amber-200 text-amber-700 hover:bg-amber-50",children:B.jsx(Nm,{className:"h-4 w-4"})})}),B.jsxs(zS,{side:"bottom",className:"max-h-[50vh] overflow-auto",children:[B.jsxs(VO,{children:[B.jsx(UO,{className:"text-amber-800",children:"Directions"}),B.jsx(WO,{children:"Follow these directions to claim your NFT"})]}),pe?B.jsxs(Gr.div,{className:"py-4 space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsxs("div",{className:"flex items-center space-x-2",children:[B.jsx("div",{className:"h-10 w-10 rounded-full bg-amber-100 flex items-center justify-center",children:B.jsx(hx,{className:"h-5 w-5 text-amber-600"})}),B.jsxs("div",{children:[B.jsx("p",{className:"font-medium",children:pe.shopName}),B.jsx("p",{className:"text-sm text-gray-500",children:"Destination"})]})]}),B.jsxs("div",{className:"text-right",children:[B.jsxs("div",{className:"flex items-center text-amber-700",children:[B.jsx(Q5,{className:"h-4 w-4 mr-1"}),B.jsxs("span",{children:[bt," min"]})]}),B.jsxs("p",{className:"text-sm text-gray-500",children:[pe.distance," km"]})]})]}),Ze.length>0&&B.jsxs(uje,{open:Q,onOpenChange:ce,children:[B.jsx(dje,{asChild:!0,children:B.jsxs(Xn,{variant:"outline",className:"w-full justify-between border-amber-200 text-amber-700 hover:bg-amber-50",children:[B.jsx("span",{children:"Navigation Steps"}),B.jsx(p9,{className:`h-4 w-4 transition-transform ${Q?"rotate-180":""}`})]})}),B.jsx(pje,{className:"mt-2 space-y-2",children:Ze.map((be,rt)=>{var pt,Ct;return B.jsx("div",{className:`p-3 rounded-lg border ${oe===rt?"bg-amber-50 border-amber-200":"bg-white border-gray-100"}`,children:B.jsxs("div",{className:"flex items-start gap-3",children:[B.jsx("div",{className:"h-6 w-6 rounded-full bg-amber-100 flex items-center justify-center flex-shrink-0 mt-0.5",children:B.jsx("span",{className:"text-xs font-medium text-amber-800",children:rt+1})}),B.jsxs("div",{children:[B.jsx("p",{className:"text-sm font-medium",children:((pt=be.maneuver)==null?void 0:pt.instruction)||"Follow the route"}),B.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[B.jsx(hx,{className:"h-3 w-3 mr-1"}),B.jsxs("span",{children:[((Ct=be.distance)==null?void 0:Ct.toFixed(0))||0,"m"]})]})]})]})},rt)})})]})]}):B.jsx("div",{className:"py-6 text-center text-gray-500",children:"Select an NFT to view directions"})]})]})]})]}),B.jsxs(Gr.div,{className:"relative h-[calc(100vh-12rem)] rounded-xl overflow-hidden shadow-xl",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:[B.jsxs(eje,{...$,ref:Ee,onMove:be=>ee(be.viewState),mapStyle:"mapbox://styles/mapbox/streets-v12",style:{width:"100%",height:"100%"},children:[B.jsx(rje,{position:"top-right",trackUserLocation:!0,showUserHeading:!0,onGeolocate:be=>{ee(rt=>({...rt,latitude:be.coords.latitude,longitude:be.coords.longitude}))}}),B.jsx(tje,{position:"top-right"}),B.jsx(ZH,{latitude:i.lat,longitude:i.lng,anchor:"center",children:B.jsxs(Gr.div,{className:"relative",animate:{scale:[1,1.2,1]},transition:{repeat:Number.POSITIVE_INFINITY,duration:2,ease:"easeInOut"},children:[B.jsx("div",{className:"h-5 w-5 bg-blue-500 rounded-full border-2 border-white shadow-md"}),B.jsx("div",{className:"absolute h-12 w-12 bg-blue-500 rounded-full -top-3.5 -left-3.5 animate-ping opacity-20"})]})}),pe&&B.jsx(ZH,{latitude:pe.location.lat,longitude:pe.location.lng,anchor:"bottom",children:B.jsxs(Gr.div,{className:"flex flex-col items-center",animate:{y:[0,-5,0]},transition:{repeat:Number.POSITIVE_INFINITY,duration:2,ease:"easeInOut"},children:[B.jsx("div",{className:"bg-amber-500 h-8 w-8 rounded-full flex items-center justify-center text-white shadow-lg",children:B.jsx(Ed,{className:"h-4 w-4"})}),B.jsx("div",{className:"h-3 w-3 bg-amber-500 rotate-45 -mt-1.5 shadow-sm"})]})}),re&&B.jsx(ije,{type:"geojson",data:re,children:B.jsx(nje,{...fje})})]}),pe&&!L&&B.jsx("div",{className:"absolute top-4 left-4 right-4",children:B.jsx(jo,{className:"bg-white/90 backdrop-blur-sm p-3 shadow-lg border-none",children:B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsx("div",{className:"flex-1",children:ie?B.jsxs("div",{className:"space-y-2",children:[B.jsx("p",{className:"font-medium text-sm",children:((_e=(Ht=Ze[oe])==null?void 0:Ht.maneuver)==null?void 0:_e.instruction)||"Follow the route"}),B.jsxs("div",{className:"flex items-center text-xs text-amber-600",children:[B.jsx(hx,{className:"h-3 w-3 mr-1"}),B.jsxs("span",{children:[((we=(Me=Ze[oe])==null?void 0:Me.distance)==null?void 0:we.toFixed(0))||0,"m"]})]})]}):B.jsxs("p",{className:"font-medium text-sm",children:["Start navigation to ",pe.shopName]})}),B.jsx(Xn,{size:"sm",variant:ie?"outline":"default",onClick:()=>ie?Ve():zt(),className:ie?"border-red-200 text-red-600 hover:bg-red-50":"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600",children:ie?"Stop Navigation":"Start Navigation"})]})})}),L&&B.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:B.jsx(jo,{className:"bg-white/90 backdrop-blur-sm p-4 shadow-lg border-none",children:B.jsxs("div",{className:"flex items-center justify-between",children:[B.jsxs("div",{className:"flex items-center space-x-3",children:[B.jsx(Gr.div,{className:"h-10 w-10 bg-green-100 rounded-full flex items-center justify-center",animate:{scale:[1,1.1,1]},transition:{repeat:Number.POSITIVE_INFINITY,duration:1.5,ease:"easeInOut"},children:B.jsx(Sm,{className:"h-5 w-5 text-green-600"})}),B.jsxs("div",{children:[B.jsx("p",{className:"font-medium",children:"You've arrived!"}),B.jsx("p",{className:"text-sm text-gray-500",children:"Congratulations! You've reached your destination."})]})]}),B.jsx(Xn,{size:"sm",onClick:ut,disabled:z||k,className:"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600",children:"Claim NFT"})]})})}),B.jsx(Zv,{children:k&&B.jsx(Gr.div,{className:"absolute inset-0 bg-black/50 flex items-center justify-center backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:B.jsxs(Gr.div,{className:"bg-white rounded-lg p-8 max-w-sm w-full text-center space-y-4",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:30},children:[B.jsx("div",{className:"flex justify-center",children:B.jsxs("div",{className:"relative",children:[B.jsx(Gr.div,{className:"h-20 w-20 bg-gradient-to-br from-amber-400 to-orange-600 rounded-full flex items-center justify-center",animate:{scale:[1,1.2,1],rotate:[0,10,0,-10,0]},transition:{repeat:Number.POSITIVE_INFINITY,duration:3,ease:"easeInOut"},children:B.jsx(n5,{className:"h-10 w-10 text-white"})}),B.jsx(Gr.div,{className:"absolute -inset-3",animate:{rotate:[0,360]},transition:{repeat:Number.POSITIVE_INFINITY,duration:8,ease:"linear"},children:B.jsx("div",{className:"h-4 w-4 bg-white rounded-full absolute top-1/2 left-0 transform -translate-y-1/2"})})]})}),B.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"Claiming NFT"}),B.jsx("p",{className:"text-gray-500",children:"Please wait while we mint your NFT on the blockchain"}),B.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden",children:B.jsx(Gr.div,{className:"h-full bg-gradient-to-r from-amber-400 to-orange-500",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2}})})]})})})]}),(j==null?void 0:j.success)&&!k&&B.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center backdrop-blur-sm",children:B.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-sm w-full text-center space-y-4",children:[B.jsx("div",{className:"flex justify-center",children:B.jsx("div",{className:"h-20 w-20 bg-green-100 rounded-full flex items-center justify-center",children:B.jsx(Sm,{className:"h-10 w-10 text-green-600"})})}),B.jsx("h3",{className:"text-xl font-bold",children:"NFT Claimed Successfully!"}),B.jsx("p",{className:"text-gray-500",children:"Your NFT has been minted to your wallet"}),B.jsx("div",{className:"pt-2",children:B.jsxs(Xn,{onClick:()=>window.open(`https://explorer.solana.com/address/${j.mintAddress.toString()}/devnet`,"_blank"),className:"w-full flex items-center justify-center gap-2",children:[B.jsx(Lme,{className:"h-4 w-4"}),"View on Solana Explorer"]})}),B.jsx("div",{className:"pt-2",children:B.jsx(Xn,{variant:"outline",onClick:()=>{Z(null),p("/profile")},children:"Go to Profile"})})]})}),pe&&B.jsxs(Gr.div,{className:"bg-gradient-to-r from-amber-50 to-orange-50 p-4 rounded-lg shadow-inner",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:[B.jsx("h2",{className:"font-medium mb-2 text-amber-800",children:"NFT Location Information"}),B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsxs("div",{children:[B.jsxs("p",{className:"text-sm text-gray-700",children:[B.jsx("span",{className:"font-medium",children:"Location:"})," ",pe.shopName]}),B.jsxs("p",{className:"text-sm text-gray-700",children:[B.jsx("span",{className:"font-medium",children:"NFT:"})," ",pe.name]})]}),pe.distance&&B.jsxs("div",{className:"flex items-center text-amber-700 text-sm",children:[B.jsx(Ed,{className:"h-4 w-4 mr-1"}),B.jsxs("span",{children:[pe.distance," km away"]})]})]})]})]}):B.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:B.jsxs(Gr.div,{className:"text-center space-y-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[B.jsxs("div",{className:"relative mx-auto",children:[B.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-amber-500 border-t-transparent"}),B.jsx(Nm,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-5 w-5 text-amber-500"})]}),B.jsx("p",{className:"text-gray-500 font-medium",children:"Getting your location..."}),B.jsx("p",{className:"text-xs text-gray-400",children:"Please enable location services"})]})})}var CB="Progress",DB=100,[gje,CUe]=nl(CB),[yje,vje]=gje(CB),tce=R.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=_je,...l}=e;(i||i===0)&&!XH(i)&&console.error(bje(`${i}`,"Progress"));const a=XH(i)?i:DB;n!==null&&!QH(n,a)&&console.error(xje(`${n}`,"Progress"));const p=QH(n,a)?n:null,f=U8(p)?s(p,a):void 0;return B.jsx(yje,{scope:r,value:p,max:a,children:B.jsx(on.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":U8(p)?p:void 0,"aria-valuetext":f,role:"progressbar","data-state":ice(p,a),"data-value":p??void 0,"data-max":a,...l,ref:t})})});tce.displayName=CB;var rce="ProgressIndicator",nce=R.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=vje(rce,r);return B.jsx(on.div,{"data-state":ice(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});nce.displayName=rce;function _je(e,t){return`${Math.round(e/t*100)}%`}function ice(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function U8(e){return typeof e=="number"}function XH(e){return U8(e)&&!isNaN(e)&&e>0}function QH(e,t){return U8(e)&&!isNaN(e)&&e<=t&&e>=0}function bje(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DB}\`.`}function xje(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DB} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ace=tce,wje=nce;const oce=R.forwardRef(({className:e,value:t,...r},n)=>B.jsx(ace,{ref:n,className:yr("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:B.jsx(wje,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));oce.displayName=ace.displayName;var IM="rovingFocusGroup.onEntryFocus",Sje={bubbles:!1,cancelable:!0},e6="RovingFocusGroup",[EI,sce,Eje]=l9(e6),[Aje,qS]=nl(e6,[Eje]),[Tje,Mje]=Aje(e6),lce=R.forwardRef((e,t)=>B.jsx(EI.Provider,{scope:e.__scopeRovingFocusGroup,children:B.jsx(EI.Slot,{scope:e.__scopeRovingFocusGroup,children:B.jsx(Pje,{...e,ref:t})})}));lce.displayName=e6;var Pje=R.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:l,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:p,onEntryFocus:f,preventScrollOnEntryFocus:g=!1,...v}=e,_=R.useRef(null),T=ri(t,_),z=WS(s),[I,k]=Uh({prop:l,defaultProp:a??null,onChange:p,caller:e6}),[C,L]=R.useState(!1),N=Ds(f),$=sce(r),ee=R.useRef(!1),[re,ne]=R.useState(0);return R.useEffect(()=>{const ie=_.current;if(ie)return ie.addEventListener(IM,N),()=>ie.removeEventListener(IM,N)},[N]),B.jsx(Tje,{scope:r,orientation:n,dir:z,loop:i,currentTabStopId:I,onItemFocus:R.useCallback(ie=>k(ie),[k]),onItemShiftTab:R.useCallback(()=>L(!0),[]),onFocusableItemAdd:R.useCallback(()=>ne(ie=>ie+1),[]),onFocusableItemRemove:R.useCallback(()=>ne(ie=>ie-1),[]),children:B.jsx(on.div,{tabIndex:C||re===0?-1:0,"data-orientation":n,...v,ref:T,style:{outline:"none",...e.style},onMouseDown:Er(e.onMouseDown,()=>{ee.current=!0}),onFocus:Er(e.onFocus,ie=>{const me=!ee.current;if(ie.target===ie.currentTarget&&me&&!C){const Ze=new CustomEvent(IM,Sje);if(ie.currentTarget.dispatchEvent(Ze),!Ze.defaultPrevented){const et=$().filter(oe=>oe.focusable),Ke=et.find(oe=>oe.active),ye=et.find(oe=>oe.id===I),Z=[Ke,ye,...et].filter(Boolean).map(oe=>oe.ref.current);dce(Z,g)}}ee.current=!1}),onBlur:Er(e.onBlur,()=>L(!1))})})}),cce="RovingFocusGroupItem",uce=R.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:l,...a}=e,p=Ad(),f=s||p,g=Mje(cce,r),v=g.currentTabStopId===f,_=sce(r),{onFocusableItemAdd:T,onFocusableItemRemove:z,currentTabStopId:I}=g;return R.useEffect(()=>{if(n)return T(),()=>z()},[n,T,z]),B.jsx(EI.ItemSlot,{scope:r,id:f,focusable:n,active:i,children:B.jsx(on.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...a,ref:t,onMouseDown:Er(e.onMouseDown,k=>{n?g.onItemFocus(f):k.preventDefault()}),onFocus:Er(e.onFocus,()=>g.onItemFocus(f)),onKeyDown:Er(e.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){g.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const C=Cje(k,g.orientation,g.dir);if(C!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let N=_().filter($=>$.focusable).map($=>$.ref.current);if(C==="last")N.reverse();else if(C==="prev"||C==="next"){C==="prev"&&N.reverse();const $=N.indexOf(k.currentTarget);N=g.loop?Dje(N,$+1):N.slice($+1)}setTimeout(()=>dce(N))}}),children:typeof l=="function"?l({isCurrentTabStop:v,hasTabStop:I!=null}):l})})});uce.displayName=cce;var kje={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ije(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Cje(e,t,r){const n=Ije(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return kje[n]}function dce(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Dje(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var pce=lce,hce=uce,GS="Tabs",[zje,DUe]=nl(GS,[qS]),fce=qS(),[Rje,zB]=zje(GS),mce=R.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:l="horizontal",dir:a,activationMode:p="automatic",...f}=e,g=WS(a),[v,_]=Uh({prop:n,onChange:i,defaultProp:s??"",caller:GS});return B.jsx(Rje,{scope:r,baseId:Ad(),value:v,onValueChange:_,orientation:l,dir:g,activationMode:p,children:B.jsx(on.div,{dir:g,"data-orientation":l,...f,ref:t})})});mce.displayName=GS;var gce="TabsList",yce=R.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,s=zB(gce,r),l=fce(r);return B.jsx(pce,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:n,children:B.jsx(on.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});yce.displayName=gce;var vce="TabsTrigger",_ce=R.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=e,l=zB(vce,r),a=fce(r),p=wce(l.baseId,n),f=Sce(l.baseId,n),g=n===l.value;return B.jsx(hce,{asChild:!0,...a,focusable:!i,active:g,children:B.jsx(on.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":f,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:p,...s,ref:t,onMouseDown:Er(e.onMouseDown,v=>{!i&&v.button===0&&v.ctrlKey===!1?l.onValueChange(n):v.preventDefault()}),onKeyDown:Er(e.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&l.onValueChange(n)}),onFocus:Er(e.onFocus,()=>{const v=l.activationMode!=="manual";!g&&!i&&v&&l.onValueChange(n)})})})});_ce.displayName=vce;var bce="TabsContent",xce=R.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...l}=e,a=zB(bce,r),p=wce(a.baseId,n),f=Sce(a.baseId,n),g=n===a.value,v=R.useRef(g);return R.useEffect(()=>{const _=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(_)},[]),B.jsx(zl,{present:i||g,children:({present:_})=>B.jsx(on.div,{"data-state":g?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":p,hidden:!_,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:v.current?"0s":void 0},children:_&&s})})});xce.displayName=bce;function wce(e,t){return`${e}-trigger-${t}`}function Sce(e,t){return`${e}-content-${t}`}var Nje=mce,Ece=yce,Ace=_ce,Tce=xce;const RB=Nje,HS=R.forwardRef(({className:e,...t},r)=>B.jsx(Ece,{ref:r,className:yr("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));HS.displayName=Ece.displayName;const mc=R.forwardRef(({className:e,...t},r)=>B.jsx(Ace,{ref:r,className:yr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));mc.displayName=Ace.displayName;const yh=R.forwardRef(({className:e,...t},r)=>B.jsx(Tce,{ref:r,className:yr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));yh.displayName=Tce.displayName;function Lje(){const{tasks:e}=H4(),{toast:t}=T4(),[r,n]=R.useState("all"),[i,s]=R.useState([]),[l,a]=R.useState(null),p=e.filter(C=>C.type==="shop"),f=e.filter(C=>C.type==="platform"),g=e.filter(C=>C.type==="event"),v=r==="all"?e:e.filter(C=>C.type===r),_=C=>{a(C),setTimeout(()=>{s(L=>[...L,C]),a(null),t({title:"Reward Claimed!",description:"Your reward has been added to your account."})},1500)},T=C=>{switch(C){case"shop":return B.jsx(Nm,{className:"h-5 w-5"});case"platform":return B.jsx(LU,{className:"h-5 w-5"});case"event":return B.jsx(Xme,{className:"h-5 w-5"});default:return B.jsx(pd,{className:"h-5 w-5"})}},z=C=>{switch(C){case"shop":return"Shop Task";case"platform":return"Platform Challenge";case"event":return"Limited-Time Event";default:return"Task"}},I=C=>{switch(C){case"shop":return"bg-amber-100 text-amber-800 border-amber-200";case"platform":return"bg-purple-100 text-purple-800 border-purple-200";case"event":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},k=C=>C>=100?"bg-green-500":C>=50?"bg-amber-500":"bg-gray-300";return B.jsxs("div",{className:"space-y-6",children:[B.jsxs(Gr.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[B.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"Rewards Center"}),B.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-amber-50 to-orange-50 p-2 rounded-lg",children:[B.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-amber-400 to-orange-400 flex items-center justify-center",children:B.jsx(n5,{className:"h-5 w-5 text-white"})}),B.jsxs("div",{children:[B.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Your Points"}),B.jsx("p",{className:"text-xl font-bold text-amber-900",children:"120"})]})]})]}),B.jsx(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:B.jsxs(RB,{defaultValue:"all",value:r,onValueChange:n,children:[B.jsxs(HS,{className:"grid grid-cols-4 mb-4",children:[B.jsxs(mc,{value:"all",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-amber-500 data-[state=active]:to-orange-500 data-[state=active]:text-white",children:["All (",e.length,")"]}),B.jsxs(mc,{value:"shop",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-amber-500 data-[state=active]:to-orange-500 data-[state=active]:text-white",children:["Shops (",p.length,")"]}),B.jsxs(mc,{value:"platform",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-amber-500 data-[state=active]:to-orange-500 data-[state=active]:text-white",children:["Platform (",f.length,")"]}),B.jsxs(mc,{value:"event",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-amber-500 data-[state=active]:to-orange-500 data-[state=active]:text-white",children:["Events (",g.length,")"]})]}),B.jsxs(yh,{value:r,className:"space-y-4",children:[B.jsx(Zv,{children:v.map((C,L)=>{const N=C.progress>=100,$=i.includes(C.id),ee=N&&!$;return B.jsx(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:L*.05},children:B.jsx(jo,{className:`p-5 hover:shadow-md transition-all ${$?"bg-gray-50":""}`,children:B.jsxs("div",{className:"flex items-start gap-4",children:[B.jsx(Gr.div,{className:`p-3 rounded-full ${C.type==="shop"?"bg-amber-50":C.type==="platform"?"bg-purple-50":"bg-orange-50"}`,whileHover:{rotate:10},transition:{type:"spring",stiffness:400,damping:10},children:T(C.type)}),B.jsxs("div",{className:"flex-1 space-y-3",children:[B.jsxs("div",{className:"flex justify-between items-start",children:[B.jsxs("div",{children:[B.jsxs("h3",{className:`font-semibold text-lg ${$?"text-gray-500":""}`,children:[C.title,$&&B.jsxs("span",{className:"ml-2 inline-flex items-center text-green-600 text-sm",children:[B.jsx(Sm,{className:"h-3 w-3 mr-1"}),"Claimed"]})]}),B.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[B.jsx(Um,{className:I(C.type),children:z(C.type)}),B.jsx("span",{className:"text-xs text-gray-500",children:C.shopName})]})]}),C.expiresAt&&B.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[B.jsx(Q5,{className:"h-3 w-3 mr-1"}),"Expires:"," ",new Date(C.expiresAt).toLocaleDateString()]})]}),B.jsx("p",{className:`text-gray-600 text-sm ${$?"text-gray-400":""}`,children:C.description}),B.jsxs("div",{className:"space-y-1",children:[B.jsxs("div",{className:"flex justify-between text-sm",children:[B.jsx("span",{className:$?"text-gray-400":"",children:"Progress"}),B.jsxs("span",{className:$?"text-gray-400":"",children:[C.progress,"%"]})]}),B.jsx(oce,{value:C.progress,className:`h-2 ${$?"bg-gray-300":k(C.progress)}`})]}),B.jsxs("div",{className:"flex justify-between items-center pt-2",children:[B.jsxs("div",{className:`flex items-center gap-1 text-sm ${$?"text-gray-400":"text-amber-600"}`,children:[B.jsx(LU,{className:"h-4 w-4"}),B.jsxs("span",{children:["Reward: ",C.reward]})]}),B.jsx(Xn,{size:"sm",disabled:!ee||l===C.id,onClick:()=>_(C.id),className:`gap-1 ${$?"bg-gray-100 text-gray-400 hover:bg-gray-100":l===C.id?"bg-amber-500 hover:bg-amber-600":"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600"}`,children:l===C.id?B.jsxs(B.Fragment,{children:[B.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-white border-t-transparent rounded-full"}),"Claiming..."]}):$?B.jsxs(B.Fragment,{children:[B.jsx(Sm,{className:"h-3 w-3"}),"Claimed"]}):B.jsxs(B.Fragment,{children:[B.jsx(n5,{className:"h-3 w-3"}),"Claim Reward"]})})]})]})]})})},C.id)})}),v.length===0&&B.jsxs(Gr.div,{className:"text-center py-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[B.jsx("div",{className:"inline-flex rounded-full bg-amber-100 p-3 mb-4",children:B.jsx(pd,{className:"h-6 w-6 text-amber-600"})}),B.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No tasks found"}),B.jsxs("p",{className:"text-gray-500 max-w-md mx-auto mt-2",children:["There are no ",r==="all"?"":r," tasks available right now. Check back soon!"]})]})]})]})}),B.jsxs(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-5 shadow-inner",children:[B.jsxs("div",{className:"flex items-center justify-center mb-3",children:[B.jsx(n5,{className:"h-5 w-5 text-amber-600 mr-2"}),B.jsx("p",{className:"text-amber-800 font-medium",children:"Upcoming Rewards"})]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[B.jsx(jo,{className:"p-4 border-amber-200 bg-white/80",children:B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("div",{className:"h-10 w-10 rounded-full bg-amber-100 flex items-center justify-center",children:B.jsx(pd,{className:"h-5 w-5 text-amber-600"})}),B.jsxs("div",{children:[B.jsx("h4",{className:"font-medium",children:"250 Points"}),B.jsx("p",{className:"text-xs text-gray-500",children:"Free Coffee Voucher"})]})]})}),B.jsx(jo,{className:"p-4 border-amber-200 bg-white/80",children:B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("div",{className:"h-10 w-10 rounded-full bg-amber-100 flex items-center justify-center",children:B.jsx(pd,{className:"h-5 w-5 text-amber-600"})}),B.jsxs("div",{children:[B.jsx("h4",{className:"font-medium",children:"500 Points"}),B.jsx("p",{className:"text-xs text-gray-500",children:"Exclusive NFT Drop"})]})]})}),B.jsx(jo,{className:"p-4 border-amber-200 bg-white/80",children:B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("div",{className:"h-10 w-10 rounded-full bg-amber-100 flex items-center justify-center",children:B.jsx(pd,{className:"h-5 w-5 text-amber-600"})}),B.jsxs("div",{children:[B.jsx("h4",{className:"font-medium",children:"1000 Points"}),B.jsx("p",{className:"text-xs text-gray-500",children:"VIP Shop Access"})]})]})})]})]})]})}const Oje=[{id:"p1",name:"Premium NFT #1",description:"Exclusive digital collectible from Local Shop A with unique attributes and benefits.",price:"0.1 SOL",shopName:"Local Shop A",image:"https://images.unsplash.com/photo-1500673922987-e212871fec22?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",rarity:"Rare",attributes:["Animated","Limited Edition"]},{id:"p2",name:"Premium NFT #2",description:"Limited edition NFT from Local Shop B with special access to exclusive in-store benefits.",price:"0.2 SOL",shopName:"Local Shop B",image:"https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",rarity:"Epic",attributes:["Interactive","Unlocks Rewards"]},{id:"p3",name:"Legendary Collection",description:"A legendary NFT collection by Digital Gallery, featuring stunning artwork by renowned digital artists.",price:"0.5 SOL",shopName:"Digital Gallery",image:"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",rarity:"Legendary",attributes:["Artist Signature","3D Model","AR Experience"]}],Bje=[{id:"rp1",nftName:"Premium NFT #1",buyer:"User123",timeAgo:"5 minutes ago",price:"0.1 SOL"},{id:"rp2",nftName:"Legendary Collection",buyer:"NFTCollector",timeAgo:"2 hours ago",price:"0.5 SOL"}];function Fje(){const{toast:e}=T4(),[t,r]=R.useState("premium"),n=s=>{e({title:"Purchase Initiated",description:"This feature will be available in future updates"})},i=s=>{switch(s){case"Common":return"bg-gray-100 text-gray-800";case"Rare":return"bg-blue-100 text-blue-800";case"Epic":return"bg-purple-100 text-purple-800";case"Legendary":return"bg-amber-100 text-amber-800";default:return"bg-gray-100 text-gray-800"}};return B.jsxs("div",{className:"space-y-6",children:[B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Premium NFT Shop"}),B.jsxs(Xn,{variant:"outline",className:"gap-2",children:[B.jsx(Gme,{className:"h-4 w-4"}),"View All Shops"]})]}),B.jsxs(RB,{defaultValue:"premium",value:t,onValueChange:r,children:[B.jsxs(HS,{className:"grid grid-cols-3 mb-4",children:[B.jsx(mc,{value:"premium",children:"Premium NFTs"}),B.jsx(mc,{value:"trending",children:"Trending"}),B.jsx(mc,{value:"recent",children:"Recent Purchases"})]}),B.jsx(yh,{value:"premium",className:"space-y-6",children:B.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Oje.map(s=>B.jsxs(jo,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[B.jsx("div",{className:"h-48 bg-cover bg-center",style:{backgroundImage:`url(${s.image})`}}),B.jsxs("div",{className:"p-5",children:[B.jsxs("div",{className:"flex justify-between items-start mb-2",children:[B.jsx("h3",{className:"font-semibold text-lg",children:s.name}),B.jsx(Um,{className:i(s.rarity),children:s.rarity})]}),B.jsxs("p",{className:"text-gray-500 text-sm mb-2",children:["By: ",s.shopName]}),B.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:s.description}),B.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:s.attributes.map((l,a)=>B.jsx(Um,{variant:"outline",className:"bg-gray-50",children:l},a))}),B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsx("p",{className:"font-medium text-violet-700",children:s.price}),B.jsxs(Xn,{className:"gap-2",onClick:()=>n(s.id),children:[B.jsx(qme,{className:"h-4 w-4"}),"Purchase"]})]})]})]},s.id))})}),B.jsx(yh,{value:"trending",children:B.jsxs("div",{className:"rounded-lg border bg-gray-50 p-10 text-center",children:[B.jsx("div",{className:"inline-flex rounded-full bg-gray-100 p-3 mb-4",children:B.jsx(Zme,{className:"h-6 w-6 text-gray-400"})}),B.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Trending NFTs Coming Soon"}),B.jsx("p",{className:"text-gray-500 max-w-md mx-auto mt-2",children:"We're analyzing the most popular NFTs across local shops. Check back soon to discover trending collections!"})]})}),B.jsx(yh,{value:"recent",children:B.jsxs("div",{className:"space-y-4",children:[Bje.map(s=>B.jsx(jo,{className:"p-4",children:B.jsxs("div",{className:"flex items-center justify-between",children:[B.jsxs("div",{className:"flex items-center space-x-3",children:[B.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-violet-100 to-blue-100 flex items-center justify-center",children:B.jsx(Yme,{className:"h-5 w-5 text-violet-600"})}),B.jsxs("div",{children:[B.jsxs("p",{className:"font-medium",children:[s.buyer," purchased"]}),B.jsxs("p",{className:"text-sm text-gray-500",children:[s.nftName," for ",s.price]})]})]}),B.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[B.jsx(NU,{className:"h-3 w-3 mr-1"}),s.timeAgo]})]})},s.id)),B.jsx("div",{className:"text-center py-4",children:B.jsxs(Xn,{variant:"outline",className:"gap-2",children:[B.jsx(NU,{className:"h-4 w-4"}),"View All Activity"]})})]})})]}),B.jsxs("div",{className:"p-6 rounded-lg bg-gradient-to-r from-violet-50 to-indigo-50 border border-violet-100",children:[B.jsx("h2",{className:"text-xl font-semibold mb-3",children:"NFT Marketplace - Coming Soon"}),B.jsx("p",{className:"text-gray-700 mb-4",children:"We're working on a new marketplace where you can trade NFTs with other users, participate in auctions, and explore the secondary market for limited editions."}),B.jsx(Xn,{variant:"outline",className:"bg-white",children:"Join Waitlist"})]})]})}function jje(){return Jye.useSyncExternalStore(Vje,()=>!0,()=>!1)}function Vje(){return()=>{}}var NB="Avatar",[Uje,zUe]=nl(NB),[Wje,Mce]=Uje(NB),Pce=R.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[i,s]=R.useState("idle");return B.jsx(Wje,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:B.jsx(on.span,{...n,ref:t})})});Pce.displayName=NB;var kce="AvatarImage",Ice=R.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=e,l=Mce(kce,r),a=$je(n,s),p=Ds(f=>{i(f),l.onImageLoadingStatusChange(f)});return el(()=>{a!=="idle"&&p(a)},[a,p]),a==="loaded"?B.jsx(on.img,{...s,ref:t,src:n}):null});Ice.displayName=kce;var Cce="AvatarFallback",Dce=R.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...i}=e,s=Mce(Cce,r),[l,a]=R.useState(n===void 0);return R.useEffect(()=>{if(n!==void 0){const p=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(p)}},[n]),l&&s.imageLoadingStatus!=="loaded"?B.jsx(on.span,{...i,ref:t}):null});Dce.displayName=Cce;function JH(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function $je(e,{referrerPolicy:t,crossOrigin:r}){const n=jje(),i=R.useRef(null),s=(()=>n?(i.current||(i.current=new window.Image),i.current):null)(),[l,a]=R.useState(()=>JH(s,e));return el(()=>{a(JH(s,e))},[s,e]),el(()=>{const p=v=>()=>{a(v)};if(!s)return;const f=p("loaded"),g=p("error");return s.addEventListener("load",f),s.addEventListener("error",g),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",f),s.removeEventListener("error",g)}},[s,r,t]),l}var zce=Pce,Rce=Ice,Nce=Dce;const Lce=R.forwardRef(({className:e,...t},r)=>B.jsx(zce,{ref:r,className:yr("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Lce.displayName=zce.displayName;const Oce=R.forwardRef(({className:e,...t},r)=>B.jsx(Rce,{ref:r,className:yr("aspect-square h-full w-full",e),...t}));Oce.displayName=Rce.displayName;const Bce=R.forwardRef(({className:e,...t},r)=>B.jsx(Nce,{ref:r,className:yr("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Bce.displayName=Nce.displayName;var AI=["Enter"," "],Kje=["ArrowDown","PageUp","Home"],Fce=["ArrowUp","PageDown","End"],qje=[...Kje,...Fce],Gje={ltr:[...AI,"ArrowRight"],rtl:[...AI,"ArrowLeft"]},Hje={ltr:["ArrowLeft"],rtl:["ArrowRight"]},t6="Menu",[_4,Zje,Yje]=l9(t6),[r0,jce]=nl(t6,[Yje,g9,qS]),ZS=g9(),Vce=qS(),[Xje,n0]=r0(t6),[Qje,r6]=r0(t6),Uce=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:s,modal:l=!0}=e,a=ZS(t),[p,f]=R.useState(null),g=R.useRef(!1),v=Ds(s),_=WS(i);return R.useEffect(()=>{const T=()=>{g.current=!0,document.addEventListener("pointerdown",z,{capture:!0,once:!0}),document.addEventListener("pointermove",z,{capture:!0,once:!0})},z=()=>g.current=!1;return document.addEventListener("keydown",T,{capture:!0}),()=>{document.removeEventListener("keydown",T,{capture:!0}),document.removeEventListener("pointerdown",z,{capture:!0}),document.removeEventListener("pointermove",z,{capture:!0})}},[]),B.jsx(IQ,{...a,children:B.jsx(Xje,{scope:t,open:r,onOpenChange:v,content:p,onContentChange:f,children:B.jsx(Qje,{scope:t,onClose:R.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:g,dir:_,modal:l,children:n})})})};Uce.displayName=t6;var Jje="MenuAnchor",LB=R.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=ZS(r);return B.jsx(CQ,{...i,...n,ref:t})});LB.displayName=Jje;var OB="MenuPortal",[eVe,Wce]=r0(OB,{forceMount:void 0}),$ce=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,s=n0(OB,t);return B.jsx(eVe,{scope:t,forceMount:r,children:B.jsx(zl,{present:r||s.open,children:B.jsx(c9,{asChild:!0,container:i,children:n})})})};$ce.displayName=OB;var Pl="MenuContent",[tVe,BB]=r0(Pl),Kce=R.forwardRef((e,t)=>{const r=Wce(Pl,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,s=n0(Pl,e.__scopeMenu),l=r6(Pl,e.__scopeMenu);return B.jsx(_4.Provider,{scope:e.__scopeMenu,children:B.jsx(zl,{present:n||s.open,children:B.jsx(_4.Slot,{scope:e.__scopeMenu,children:l.modal?B.jsx(rVe,{...i,ref:t}):B.jsx(nVe,{...i,ref:t})})})})}),rVe=R.forwardRef((e,t)=>{const r=n0(Pl,e.__scopeMenu),n=R.useRef(null),i=ri(t,n);return R.useEffect(()=>{const s=n.current;if(s)return LO(s)},[]),B.jsx(FB,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Er(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),nVe=R.forwardRef((e,t)=>{const r=n0(Pl,e.__scopeMenu);return B.jsx(FB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),iVe=vy("MenuContent.ScrollLock"),FB=R.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:a,onEntryFocus:p,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:_,onDismiss:T,disableOutsideScroll:z,...I}=e,k=n0(Pl,r),C=r6(Pl,r),L=ZS(r),N=Vce(r),$=Zje(r),[ee,re]=R.useState(null),ne=R.useRef(null),ie=ri(t,ne,k.onContentChange),me=R.useRef(0),Ze=R.useRef(""),et=R.useRef(0),Ke=R.useRef(null),ye=R.useRef("right"),j=R.useRef(0),Z=z?Bae:R.Fragment,oe=z?{as:iVe,allowPinchZoom:!0}:void 0,le=ce=>{var Be,ut;const Ee=Ze.current+ce,fe=$().filter(bt=>!bt.disabled),K=document.activeElement,pe=(Be=fe.find(bt=>bt.ref.current===K))==null?void 0:Be.textValue,Et=fe.map(bt=>bt.textValue),zt=gVe(Et,Ee,pe),Ve=(ut=fe.find(bt=>bt.textValue===zt))==null?void 0:ut.ref.current;(function bt(Ht){Ze.current=Ht,window.clearTimeout(me.current),Ht!==""&&(me.current=window.setTimeout(()=>bt(""),1e3))})(Ee),Ve&&setTimeout(()=>Ve.focus())};R.useEffect(()=>()=>window.clearTimeout(me.current),[]),Tae();const Q=R.useCallback(ce=>{var fe,K;return ye.current===((fe=Ke.current)==null?void 0:fe.side)&&vVe(ce,(K=Ke.current)==null?void 0:K.area)},[]);return B.jsx(tVe,{scope:r,searchRef:Ze,onItemEnter:R.useCallback(ce=>{Q(ce)&&ce.preventDefault()},[Q]),onItemLeave:R.useCallback(ce=>{var Ee;Q(ce)||((Ee=ne.current)==null||Ee.focus(),re(null))},[Q]),onTriggerLeave:R.useCallback(ce=>{Q(ce)&&ce.preventDefault()},[Q]),pointerGraceTimerRef:et,onPointerGraceIntentChange:R.useCallback(ce=>{Ke.current=ce},[]),children:B.jsx(Z,{...oe,children:B.jsx(zO,{asChild:!0,trapped:i,onMountAutoFocus:Er(s,ce=>{var Ee;ce.preventDefault(),(Ee=ne.current)==null||Ee.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:B.jsx(M4,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:_,onDismiss:T,children:B.jsx(pce,{asChild:!0,...N,dir:C.dir,orientation:"vertical",loop:n,currentTabStopId:ee,onCurrentTabStopIdChange:re,onEntryFocus:Er(p,ce=>{C.isUsingKeyboardRef.current||ce.preventDefault()}),preventScrollOnEntryFocus:!0,children:B.jsx(DQ,{role:"menu","aria-orientation":"vertical","data-state":sue(k.open),"data-radix-menu-content":"",dir:C.dir,...L,...I,ref:ie,style:{outline:"none",...I.style},onKeyDown:Er(I.onKeyDown,ce=>{const fe=ce.target.closest("[data-radix-menu-content]")===ce.currentTarget,K=ce.ctrlKey||ce.altKey||ce.metaKey,pe=ce.key.length===1;fe&&(ce.key==="Tab"&&ce.preventDefault(),!K&&pe&&le(ce.key));const Et=ne.current;if(ce.target!==Et||!qje.includes(ce.key))return;ce.preventDefault();const Ve=$().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);Fce.includes(ce.key)&&Ve.reverse(),fVe(Ve)}),onBlur:Er(e.onBlur,ce=>{ce.currentTarget.contains(ce.target)||(window.clearTimeout(me.current),Ze.current="")}),onPointerMove:Er(e.onPointerMove,b4(ce=>{const Ee=ce.target,fe=j.current!==ce.clientX;if(ce.currentTarget.contains(Ee)&&fe){const K=ce.clientX>j.current?"right":"left";ye.current=K,j.current=ce.clientX}}))})})})})})})});Kce.displayName=Pl;var aVe="MenuGroup",jB=R.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return B.jsx(on.div,{role:"group",...n,ref:t})});jB.displayName=aVe;var oVe="MenuLabel",qce=R.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return B.jsx(on.div,{...n,ref:t})});qce.displayName=oVe;var W8="MenuItem",eZ="menu.itemSelect",YS=R.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,s=R.useRef(null),l=r6(W8,e.__scopeMenu),a=BB(W8,e.__scopeMenu),p=ri(t,s),f=R.useRef(!1),g=()=>{const v=s.current;if(!r&&v){const _=new CustomEvent(eZ,{bubbles:!0,cancelable:!0});v.addEventListener(eZ,T=>n==null?void 0:n(T),{once:!0}),wC(v,_),_.defaultPrevented?f.current=!1:l.onClose()}};return B.jsx(Gce,{...i,ref:p,disabled:r,onClick:Er(e.onClick,g),onPointerDown:v=>{var _;(_=e.onPointerDown)==null||_.call(e,v),f.current=!0},onPointerUp:Er(e.onPointerUp,v=>{var _;f.current||(_=v.currentTarget)==null||_.click()}),onKeyDown:Er(e.onKeyDown,v=>{const _=a.searchRef.current!=="";r||_&&v.key===" "||AI.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});YS.displayName=W8;var Gce=R.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=e,l=BB(W8,r),a=Vce(r),p=R.useRef(null),f=ri(t,p),[g,v]=R.useState(!1),[_,T]=R.useState("");return R.useEffect(()=>{const z=p.current;z&&T((z.textContent??"").trim())},[s.children]),B.jsx(_4.ItemSlot,{scope:r,disabled:n,textValue:i??_,children:B.jsx(hce,{asChild:!0,...a,focusable:!n,children:B.jsx(on.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:f,onPointerMove:Er(e.onPointerMove,b4(z=>{n?l.onItemLeave(z):(l.onItemEnter(z),z.defaultPrevented||z.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Er(e.onPointerLeave,b4(z=>l.onItemLeave(z))),onFocus:Er(e.onFocus,()=>v(!0)),onBlur:Er(e.onBlur,()=>v(!1))})})})}),sVe="MenuCheckboxItem",Hce=R.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return B.jsx(Jce,{scope:e.__scopeMenu,checked:r,children:B.jsx(YS,{role:"menuitemcheckbox","aria-checked":$8(r)?"mixed":r,...i,ref:t,"data-state":UB(r),onSelect:Er(i.onSelect,()=>n==null?void 0:n($8(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Hce.displayName=sVe;var Zce="MenuRadioGroup",[lVe,cVe]=r0(Zce,{value:void 0,onValueChange:()=>{}}),Yce=R.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,s=Ds(n);return B.jsx(lVe,{scope:e.__scopeMenu,value:r,onValueChange:s,children:B.jsx(jB,{...i,ref:t})})});Yce.displayName=Zce;var Xce="MenuRadioItem",Qce=R.forwardRef((e,t)=>{const{value:r,...n}=e,i=cVe(Xce,e.__scopeMenu),s=r===i.value;return B.jsx(Jce,{scope:e.__scopeMenu,checked:s,children:B.jsx(YS,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":UB(s),onSelect:Er(n.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,r)},{checkForDefaultPrevented:!1})})})});Qce.displayName=Xce;var VB="MenuItemIndicator",[Jce,uVe]=r0(VB,{checked:!1}),eue=R.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,s=uVe(VB,r);return B.jsx(zl,{present:n||$8(s.checked)||s.checked===!0,children:B.jsx(on.span,{...i,ref:t,"data-state":UB(s.checked)})})});eue.displayName=VB;var dVe="MenuSeparator",tue=R.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return B.jsx(on.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});tue.displayName=dVe;var pVe="MenuArrow",rue=R.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=ZS(r);return B.jsx(zQ,{...i,...n,ref:t})});rue.displayName=pVe;var hVe="MenuSub",[RUe,nue]=r0(hVe),rx="MenuSubTrigger",iue=R.forwardRef((e,t)=>{const r=n0(rx,e.__scopeMenu),n=r6(rx,e.__scopeMenu),i=nue(rx,e.__scopeMenu),s=BB(rx,e.__scopeMenu),l=R.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:p}=s,f={__scopeMenu:e.__scopeMenu},g=R.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return R.useEffect(()=>g,[g]),R.useEffect(()=>{const v=a.current;return()=>{window.clearTimeout(v),p(null)}},[a,p]),B.jsx(LB,{asChild:!0,...f,children:B.jsx(Gce,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":sue(r.open),...e,ref:xC(t,i.onTriggerChange),onClick:v=>{var _;(_=e.onClick)==null||_.call(e,v),!(e.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Er(e.onPointerMove,b4(v=>{s.onItemEnter(v),!v.defaultPrevented&&!e.disabled&&!r.open&&!l.current&&(s.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),g()},100))})),onPointerLeave:Er(e.onPointerLeave,b4(v=>{var T,z;g();const _=(T=r.content)==null?void 0:T.getBoundingClientRect();if(_){const I=(z=r.content)==null?void 0:z.dataset.side,k=I==="right",C=k?-5:5,L=_[k?"left":"right"],N=_[k?"right":"left"];s.onPointerGraceIntentChange({area:[{x:v.clientX+C,y:v.clientY},{x:L,y:_.top},{x:N,y:_.top},{x:N,y:_.bottom},{x:L,y:_.bottom}],side:I}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(v),v.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Er(e.onKeyDown,v=>{var T;const _=s.searchRef.current!=="";e.disabled||_&&v.key===" "||Gje[n.dir].includes(v.key)&&(r.onOpenChange(!0),(T=r.content)==null||T.focus(),v.preventDefault())})})})});iue.displayName=rx;var aue="MenuSubContent",oue=R.forwardRef((e,t)=>{const r=Wce(Pl,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,s=n0(Pl,e.__scopeMenu),l=r6(Pl,e.__scopeMenu),a=nue(aue,e.__scopeMenu),p=R.useRef(null),f=ri(t,p);return B.jsx(_4.Provider,{scope:e.__scopeMenu,children:B.jsx(zl,{present:n||s.open,children:B.jsx(_4.Slot,{scope:e.__scopeMenu,children:B.jsx(FB,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var v;l.isUsingKeyboardRef.current&&((v=p.current)==null||v.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Er(e.onFocusOutside,g=>{g.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Er(e.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:Er(e.onKeyDown,g=>{var T;const v=g.currentTarget.contains(g.target),_=Hje[l.dir].includes(g.key);v&&_&&(s.onOpenChange(!1),(T=a.trigger)==null||T.focus(),g.preventDefault())})})})})})});oue.displayName=aue;function sue(e){return e?"open":"closed"}function $8(e){return e==="indeterminate"}function UB(e){return $8(e)?"indeterminate":e?"checked":"unchecked"}function fVe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function mVe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function gVe(e,t,r){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let l=mVe(e,Math.max(s,0));i.length===1&&(l=l.filter(f=>f!==r));const p=l.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return p!==r?p:void 0}function yVe(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const a=t[s],p=t[l],f=a.x,g=a.y,v=p.x,_=p.y;g>n!=_>n&&r<(v-f)*(n-g)/(_-g)+f&&(i=!i)}return i}function vVe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return yVe(r,t)}function b4(e){return t=>t.pointerType==="mouse"?e(t):void 0}var _Ve=Uce,bVe=LB,xVe=$ce,wVe=Kce,SVe=jB,EVe=qce,AVe=YS,TVe=Hce,MVe=Yce,PVe=Qce,kVe=eue,IVe=tue,CVe=rue,DVe=iue,zVe=oue,XS="DropdownMenu",[RVe,NUe]=nl(XS,[jce]),ps=jce(),[NVe,lue]=RVe(XS),cue=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:l,modal:a=!0}=e,p=ps(t),f=R.useRef(null),[g,v]=Uh({prop:i,defaultProp:s??!1,onChange:l,caller:XS});return B.jsx(NVe,{scope:t,triggerId:Ad(),triggerRef:f,contentId:Ad(),open:g,onOpenChange:v,onOpenToggle:R.useCallback(()=>v(_=>!_),[v]),modal:a,children:B.jsx(_Ve,{...p,open:g,onOpenChange:v,dir:n,modal:a,children:r})})};cue.displayName=XS;var uue="DropdownMenuTrigger",due=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,s=lue(uue,r),l=ps(r);return B.jsx(bVe,{asChild:!0,...l,children:B.jsx(on.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:xC(t,s.triggerRef),onPointerDown:Er(e.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Er(e.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});due.displayName=uue;var LVe="DropdownMenuPortal",pue=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ps(t);return B.jsx(xVe,{...n,...r})};pue.displayName=LVe;var hue="DropdownMenuContent",fue=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=lue(hue,r),s=ps(r),l=R.useRef(!1);return B.jsx(wVe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:t,onCloseAutoFocus:Er(e.onCloseAutoFocus,a=>{var p;l.current||(p=i.triggerRef.current)==null||p.focus(),l.current=!1,a.preventDefault()}),onInteractOutside:Er(e.onInteractOutside,a=>{const p=a.detail.originalEvent,f=p.button===0&&p.ctrlKey===!0,g=p.button===2||f;(!i.modal||g)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fue.displayName=hue;var OVe="DropdownMenuGroup",BVe=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ps(r);return B.jsx(SVe,{...i,...n,ref:t})});BVe.displayName=OVe;var FVe="DropdownMenuLabel",mue=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ps(r);return B.jsx(EVe,{...i,...n,ref:t})});mue.displayName=FVe;var jVe="DropdownMenuItem",gue=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ps(r);return B.jsx(AVe,{...i,...n,ref:t})});gue.displayName=jVe;var VVe="DropdownMenuCheckboxItem",yue=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ps(r);return B.jsx(TVe,{...i,...n,ref:t})});yue.displayName=VVe;var UVe="DropdownMenuRadioGroup",WVe=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ps(r);return B.jsx(MVe,{...i,...n,ref:t})});WVe.displayName=UVe;var $Ve="DropdownMenuRadioItem",vue=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ps(r);return B.jsx(PVe,{...i,...n,ref:t})});vue.displayName=$Ve;var KVe="DropdownMenuItemIndicator",_ue=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ps(r);return B.jsx(kVe,{...i,...n,ref:t})});_ue.displayName=KVe;var qVe="DropdownMenuSeparator",bue=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ps(r);return B.jsx(IVe,{...i,...n,ref:t})});bue.displayName=qVe;var GVe="DropdownMenuArrow",HVe=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ps(r);return B.jsx(CVe,{...i,...n,ref:t})});HVe.displayName=GVe;var ZVe="DropdownMenuSubTrigger",xue=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ps(r);return B.jsx(DVe,{...i,...n,ref:t})});xue.displayName=ZVe;var YVe="DropdownMenuSubContent",wue=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ps(r);return B.jsx(zVe,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wue.displayName=YVe;var XVe=cue,QVe=due,JVe=pue,Sue=fue,Eue=mue,Aue=gue,Tue=yue,Mue=vue,Pue=_ue,kue=bue,Iue=xue,Cue=wue;const eUe=XVe,tUe=QVe,rUe=R.forwardRef(({className:e,inset:t,children:r,...n},i)=>B.jsxs(Iue,{ref:i,className:yr("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,B.jsx(zme,{className:"ml-auto h-4 w-4"})]}));rUe.displayName=Iue.displayName;const nUe=R.forwardRef(({className:e,...t},r)=>B.jsx(Cue,{ref:r,className:yr("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));nUe.displayName=Cue.displayName;const Due=R.forwardRef(({className:e,sideOffset:t=4,...r},n)=>B.jsx(JVe,{children:B.jsx(Sue,{ref:n,sideOffset:t,className:yr("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Due.displayName=Sue.displayName;const M5=R.forwardRef(({className:e,inset:t,...r},n)=>B.jsx(Aue,{ref:n,className:yr("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));M5.displayName=Aue.displayName;const iUe=R.forwardRef(({className:e,children:t,checked:r,...n},i)=>B.jsxs(Tue,{ref:i,className:yr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[B.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:B.jsx(Pue,{children:B.jsx(Sm,{className:"h-4 w-4"})})}),t]}));iUe.displayName=Tue.displayName;const aUe=R.forwardRef(({className:e,children:t,...r},n)=>B.jsxs(Mue,{ref:n,className:yr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[B.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:B.jsx(Pue,{children:B.jsx(Nme,{className:"h-2 w-2 fill-current"})})}),t]}));aUe.displayName=Mue.displayName;const oUe=R.forwardRef(({className:e,inset:t,...r},n)=>B.jsx(Eue,{ref:n,className:yr("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));oUe.displayName=Eue.displayName;const zue=R.forwardRef(({className:e,...t},r)=>B.jsx(kue,{ref:r,className:yr("-mx-1 my-1 h-px bg-muted",e),...t}));zue.displayName=kue.displayName;const sUe={common:"bg-gray-100 text-gray-800 border-gray-200",rare:"bg-blue-100 text-blue-800 border-blue-200",epic:"bg-purple-100 text-purple-800 border-purple-200",legendary:"bg-amber-100 text-amber-800 border-amber-200"};function lUe(){const{claimedNFTs:e}=H4(),[t,r]=R.useState("collection"),[n,i]=R.useState("grid"),[s,l]=R.useState(null),[a,p]=R.useState(!1),{connection:f}=B9(),{publicKey:g,connected:v}=Iy(),{toast:_}=T4(),{setVisible:T}=PD(),{connecting:z,disconnect:I}=Iy();R.useEffect(()=>{let $;const ee=async()=>{if(!f||!g){l(null);return}try{p(!0);const ie=await f.getBalance(g);l(ie/HW)}catch(ie){console.error("Error fetching balance:",ie),_({title:"Error",description:"Failed to fetch wallet balance",variant:"destructive"})}finally{p(!1)}};ee(),v&&($=setInterval(ee,3e4));let re;return(async()=>{f&&g&&(re=f.onAccountChange(g,ie=>{l(ie.lamports/HW)},"confirmed"))})(),()=>{$&&clearInterval($),re&&(f==null||f.removeAccountChangeListener(re))}},[f,g,v,_]);const k=$=>sUe[$]||"bg-gray-100 text-gray-800 border-gray-200",C=[...e].sort(($,ee)=>new Date(ee.claimedAt).getTime()-new Date($.claimedAt).getTime()),L=()=>{I().then(()=>{T(!0)})},N=$=>$?`${$.slice(0,4)}...${$.slice(-4)}`:"";return B.jsxs("div",{className:"space-y-6",children:[B.jsx(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:B.jsxs(jo,{className:"overflow-hidden border-none shadow-xl",children:[B.jsxs("div",{className:"relative",children:[B.jsx("div",{className:"h-32 bg-gradient-to-r from-gray-900 to-gray-800"}),B.jsxs("div",{className:"absolute -bottom-12 left-0 w-full px-6 flex justify-between",children:[B.jsxs(Lce,{className:"h-24 w-24 ring-4 ring-white shadow-xl",children:[B.jsx(Oce,{src:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=250&q=80"}),B.jsx(Bce,{className:"bg-gray-200",children:B.jsx(WX,{className:"h-10 w-10 text-gray-500"})})]}),B.jsxs("div",{className:"flex space-x-2 self-end mb-2",children:[v?B.jsxs(eUe,{children:[B.jsx(tUe,{asChild:!0,children:B.jsxs(Xn,{variant:"outline",size:"sm",className:"gap-1 bg-white/90 backdrop-blur-sm",children:[B.jsx(OU,{className:"h-4 w-4"}),B.jsx("span",{children:N(g==null?void 0:g.toString())}),B.jsx(p9,{className:"h-3 w-3 opacity-50"})]})}),B.jsxs(Due,{align:"end",className:"w-[200px]",children:[B.jsx(M5,{className:"text-sm",onClick:()=>{navigator.clipboard.writeText((g==null?void 0:g.toString())||""),_({title:"Address Copied",description:"Wallet address copied to clipboard"})},children:B.jsx("span",{className:"font-mono",children:N(g==null?void 0:g.toString())})}),B.jsx(zue,{}),B.jsxs(M5,{onClick:L,children:[B.jsx(Hme,{className:"h-4 w-4 mr-2"}),"Change Wallet"]}),B.jsxs(M5,{onClick:I,children:[B.jsx(Vme,{className:"h-4 w-4 mr-2"}),"Disconnect"]})]})]}):B.jsxs(Xn,{variant:"outline",size:"sm",className:"gap-1 bg-white/90 backdrop-blur-sm",onClick:()=>T(!0),disabled:z,children:[z?B.jsx(VX,{className:"h-4 w-4 animate-spin"}):B.jsx(OU,{className:"h-4 w-4"}),B.jsx("span",{children:z?"Connecting...":"Connect Wallet"})]}),B.jsxs(Xn,{variant:"outline",size:"sm",className:"gap-1 bg-white/90 backdrop-blur-sm",children:[B.jsx(UX,{className:"h-4 w-4"}),B.jsx("span",{className:"hidden sm:inline",children:"Share"})]})]})]})]}),B.jsx("div",{className:"pt-16 pb-6 px-6",children:B.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-4",children:[B.jsxs("div",{children:[B.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Alex Johnson"}),B.jsx("p",{className:"text-gray-500",children:"NFT Collector & Explorer"})]}),B.jsxs("div",{className:"flex gap-4 self-start sm:self-end",children:[B.jsxs("div",{className:"text-center",children:[B.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length}),B.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"NFTs"})]}),B.jsxs("div",{className:"text-center",children:[B.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"3"}),B.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Shops"})]}),B.jsxs("div",{className:"text-center",children:[B.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"120"}),B.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Points"})]})]})]})})]})}),B.jsx(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:B.jsxs(RB,{defaultValue:"collection",value:t,onValueChange:r,children:[B.jsxs("div",{className:"flex justify-between items-center mb-4",children:[B.jsxs(HS,{className:"grid grid-cols-3",children:[B.jsx(mc,{value:"collection",className:"data-[state=active]:bg-gray-900 data-[state=active]:text-white",children:"Collection"}),B.jsx(mc,{value:"activity",className:"data-[state=active]:bg-gray-900 data-[state=active]:text-white",children:"Activity"}),B.jsx(mc,{value:"rewards",className:"data-[state=active]:bg-gray-900 data-[state=active]:text-white",children:"Rewards"})]}),t==="collection"&&e.length>0&&B.jsxs("div",{className:"flex border rounded-md overflow-hidden",children:[B.jsx(Xn,{variant:"ghost",size:"icon",className:`h-8 w-8 rounded-none ${n==="grid"?"bg-gray-100":""}`,onClick:()=>i("grid"),children:B.jsx(Fme,{className:"h-4 w-4"})}),B.jsx(Xn,{variant:"ghost",size:"icon",className:`h-8 w-8 rounded-none ${n==="list"?"bg-gray-100":""}`,onClick:()=>i("list"),children:B.jsx(jme,{className:"h-4 w-4"})})]})]}),B.jsx(yh,{value:"collection",className:"space-y-6 mt-0",children:B.jsx(Zv,{mode:"wait",children:e.length>0?n==="grid"?B.jsx(Gr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(($,ee)=>B.jsx(Gr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ee*.05},children:B.jsxs(jo,{className:"overflow-hidden hover:shadow-md transition-all group",children:[B.jsxs("div",{className:"aspect-[4/3] bg-cover bg-center relative",style:{backgroundImage:$.imageUrl?`url(${$.imageUrl})`:""},children:[B.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-70 group-hover:opacity-100 transition-opacity"}),B.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 text-white",children:[B.jsx("h3",{className:"font-semibold",children:$.name}),B.jsxs("div",{className:"flex items-center text-white/80 text-xs",children:[B.jsx(Ed,{className:"h-3 w-3 mr-1"}),B.jsx("span",{children:$.shopName})]})]}),B.jsx("div",{className:"absolute top-2 right-2",children:B.jsx(Um,{className:k($.category),children:$.category})})]}),B.jsxs("div",{className:"p-3 flex justify-between items-center bg-gray-50",children:[B.jsxs("div",{className:"flex items-center text-gray-500 text-xs",children:[B.jsx(Q5,{className:"h-3 w-3 mr-1"}),B.jsx("span",{children:new Date($.claimedAt).toLocaleDateString()})]}),B.jsx(Xn,{variant:"ghost",size:"sm",className:"text-gray-700 hover:text-gray-900 hover:bg-gray-100 -mr-2",children:"View"})]})]})},$.id))},"grid"):B.jsx(Gr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-3",children:C.map(($,ee)=>B.jsx(Gr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:ee*.05},children:B.jsx(jo,{className:"overflow-hidden hover:shadow-md transition-all",children:B.jsxs("div",{className:"flex items-center p-3",children:[B.jsx("div",{className:"h-16 w-16 rounded-md bg-cover bg-center flex-shrink-0",style:{backgroundImage:$.imageUrl?`url(${$.imageUrl})`:""}}),B.jsx("div",{className:"ml-3 flex-1",children:B.jsxs("div",{className:"flex justify-between items-start",children:[B.jsxs("div",{children:[B.jsx("h3",{className:"font-semibold",children:$.name}),B.jsxs("div",{className:"flex items-center text-gray-500 text-xs",children:[B.jsx(Ed,{className:"h-3 w-3 mr-1"}),B.jsx("span",{children:$.shopName})]})]}),B.jsx(Um,{className:k($.category),children:$.category})]})}),B.jsxs("div",{className:"ml-3 flex items-center gap-3",children:[B.jsxs("div",{className:"text-right text-xs text-gray-500",children:[B.jsx(Q5,{className:"h-3 w-3 inline mr-1"}),new Date($.claimedAt).toLocaleDateString()]}),B.jsx(Xn,{variant:"ghost",size:"sm",className:"text-gray-700 hover:text-gray-900 hover:bg-gray-100",children:"View"})]})]})})},$.id))},"list"):B.jsxs(Gr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"rounded-lg border-2 border-dashed border-gray-200 p-10 text-center",children:[B.jsx("div",{className:"inline-flex rounded-full bg-gray-100 p-3 mb-4",children:B.jsx(pd,{className:"h-6 w-6 text-gray-400"})}),B.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No NFTs Claimed Yet"}),B.jsx("p",{className:"text-gray-500 max-w-md mx-auto mt-2",children:"Explore nearby shops and scan QR codes to claim exclusive NFTs"}),B.jsx(Xn,{className:"mt-4 bg-gray-900 hover:bg-gray-800",onClick:()=>window.location.href="/explore",children:"Explore NFTs"})]},"empty")})}),B.jsx(yh,{value:"activity",className:"mt-0",children:B.jsx(Zv,{children:C.length>0?B.jsx(Gr.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:C.map(($,ee)=>B.jsx(Gr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:ee*.05},children:B.jsx(jo,{className:"p-4 hover:shadow-md transition-all",children:B.jsxs("div",{className:"flex items-center space-x-3",children:[B.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:B.jsx(pd,{className:"h-5 w-5 text-green-600"})}),B.jsxs("div",{className:"flex-1",children:[B.jsxs("p",{className:"font-medium",children:["Claimed NFT: ",$.name]}),B.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[B.jsx(Ed,{className:"h-3 w-3 mr-1"}),B.jsx("span",{children:$.shopName})]})]}),B.jsx("div",{className:"text-right text-sm text-gray-500",children:new Date($.claimedAt).toLocaleDateString()})]})})},$.id))}):B.jsx(Gr.div,{className:"rounded-lg border-2 border-dashed border-gray-200 p-10 text-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:B.jsx("p",{className:"text-gray-500",children:"No activity yet"})})})}),B.jsx(yh,{value:"rewards",className:"mt-0",children:B.jsxs(Gr.div,{className:"rounded-lg border-2 border-dashed border-gray-200 p-10 text-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[B.jsx("div",{className:"inline-flex rounded-full bg-gray-100 p-3 mb-4",children:B.jsx(pd,{className:"h-6 w-6 text-gray-400"})}),B.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Rewards Coming Soon"}),B.jsx("p",{className:"text-gray-500 max-w-md mx-auto mt-2",children:"We're preparing exclusive rewards for collectors. Keep collecting NFTs to earn points!"}),B.jsxs("div",{className:"mt-6 max-w-md mx-auto",children:[B.jsx("div",{className:"bg-gray-100 rounded-full h-2 mb-2",children:B.jsx("div",{className:"bg-gray-900 h-2 rounded-full w-[35%]"})}),B.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[B.jsx("span",{children:"120 points"}),B.jsx("span",{children:"350 points needed for next reward"})]})]})]})})]})})]})}const cUe=()=>{const e=$h();return R.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),B.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:B.jsxs("div",{className:"text-center",children:[B.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),B.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),B.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},uUe=new Wye,dUe=()=>{const e=ik.Devnet,t=R.useMemo(()=>kee(e),[e]),r=R.useMemo(()=>[new n5e,new u5e],[e]);return B.jsx(Y4e,{endpoint:t,children:B.jsx(F3e,{wallets:r,autoConnect:!0,children:B.jsx(K3e,{children:B.jsx(rve,{client:uUe,children:B.jsx(UQ,{children:B.jsxs(VIe,{children:[B.jsx(k0e,{}),B.jsx(oge,{}),B.jsx(a2e,{children:B.jsxs(Xve,{children:[B.jsxs(Hc,{path:"/",element:B.jsx(YLe,{}),children:[B.jsx(Hc,{index:!0,element:B.jsx(Hve,{to:"/explore",replace:!0})}),B.jsx(Hc,{path:"explore",element:B.jsx(fFe,{})}),B.jsx(Hc,{path:"nft/:nftId",element:B.jsx(gFe,{})}),B.jsx(Hc,{path:"map",element:B.jsx(mje,{})}),B.jsx(Hc,{path:"rewards",element:B.jsx(Lje,{})}),B.jsx(Hc,{path:"shop",element:B.jsx(Fje,{})}),B.jsx(Hc,{path:"profile",element:B.jsx(lUe,{})})]}),B.jsx(Hc,{path:"*",element:B.jsx(cUe,{})})]})})]})})})})})})};window.Buffer=tn.Buffer;CM.createRoot(document.getElementById("root")).render(B.jsx(dt.StrictMode,{children:B.jsx(dUe,{})}));export{Ir as P,ns as S,wl as T,du as V,Ki as a,gd as b,Mc as g};
